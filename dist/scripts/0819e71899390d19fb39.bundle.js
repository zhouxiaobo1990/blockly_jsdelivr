(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{152:function(e,t,r){(function(e){function o(e,t){this._id=e,this._clearFn=t}var n="undefined"!=typeof e&&e||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;t.setTimeout=function(){return new o(a.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(153),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(52))},153:function(e,t,r){(function(e,t){(function(e){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return h[c]=o,y(c),c++}function o(e){delete h[e]}function n(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r);}}function a(e){if(m)setTimeout(a,0,e);else{var t=h[e];if(t){m=!0;try{n(t)}finally{o(e),m=!1}}}}function i(){y=function(e){t.nextTick(function(){a(e)})}}function d(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}function s(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),y=function(r){e.postMessage(t+r,"*")}}function l(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},y=function(t){e.port2.postMessage(t)}}function p(){var e=g.documentElement;y=function(t){var r=g.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}function u(){y=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var c=1,h={},m=!1,g=e.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(e),y;_=_&&_.setTimeout?_:e,"[object process]"==={}.toString.call(e.process)?i():d()?s():e.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?p():u(),_.setImmediate=r,_.clearImmediate=o}})("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(this,r(52),r(55))},154:function(e,t,r){(function(e,o){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(a){function d(e){throw new RangeError(w[e])}function i(e,t){for(var r=e.length,o=[];r--;)o[r]=t(e[r]);return o}function s(e,t){var r=e.split("@"),o="";1<r.length&&(o=r[0]+"@",e=r[1]),e=e.replace(D,".");var n=e.split("."),a=i(n,t).join(".");return o+a}function l(e){for(var t=[],r=0,o=e.length,n,a;r<o;)n=e.charCodeAt(r++),55296<=n&&56319>=n&&r<o?(a=e.charCodeAt(r++),56320==(64512&a)?t.push(((1023&n)<<10)+(1023&a)+65536):(t.push(n),r--)):t.push(n);return t}function p(e){return i(e,function(e){var t="";return 65535<e&&(e-=65536,t+=M(55296|1023&e>>>10),e=56320|1023&e),t+=M(e),t}).join("")}function u(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:T}function c(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,r){var o=0;for(e=r?N(e/A):e>>1,e+=N(e/t);e>L*v>>1;o+=T)e=N(e/L);return N(o+(L+1)*e/(e+I))}function m(e){var r=[],o=e.length,a=0,i=C,n=S,s,l,c,m,g,_,y,x,I,t;for(l=e.lastIndexOf(P),0>l&&(l=0),c=0;c<l;++c)128<=e.charCodeAt(c)&&d("not-basic"),r.push(e.charCodeAt(c));for(m=0<l?l+1:0;m<o;){for(g=a,_=1,y=T;;y+=T){if(m>=o&&d("invalid-input"),x=u(e.charCodeAt(m++)),(x>=T||x>N((b-a)/_))&&d("overflow"),a+=x*_,I=y<=n?E:y>=n+v?v:y-n,x<I)break;t=T-I,_>N(b/t)&&d("overflow"),_*=t}s=r.length+1,n=h(a-g,s,0==g),N(a/s)>b-i&&d("overflow"),i+=N(a/s),a%=s,r.splice(a++,0,i)}return p(r)}function g(e){var r=[],o,n,a,i,s,p,u,m,g,_,t,y,x,I,A;for(e=l(e),y=e.length,o=C,n=0,s=S,p=0;p<y;++p)t=e[p],128>t&&r.push(M(t));for(a=i=r.length,i&&r.push(P);a<y;){for(u=b,p=0;p<y;++p)t=e[p],t>=o&&t<u&&(u=t);for(x=a+1,u-o>N((b-n)/x)&&d("overflow"),n+=(u-o)*x,o=u,p=0;p<y;++p)if(t=e[p],t<o&&++n>b&&d("overflow"),t==o){for(m=n,g=T;;g+=T){if(_=g<=s?E:g>=s+v?v:g-s,m<_)break;A=m-_,I=T-_,r.push(M(c(_+A%I,0))),m=N(A/I)}r.push(M(c(m,0))),s=h(n,x,a==i),n=0,++a}++n,++o}return r.join("")}var _=t&&!t.nodeType&&t,y=e&&!e.nodeType&&e,x="object"==typeof o&&o;(x.global===x||x.window===x||x.self===x)&&(a=x);var b=2147483647,T=36,E=1,v=26,I=38,A=700,S=72,C=128,P="-",O=/^xn--/,R=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=T-E,N=Math.floor,M=String.fromCharCode,F;F={version:"1.4.1",ucs2:{decode:l,encode:p},decode:m,encode:g,toASCII:function(e){return s(e,function(e){return R.test(e)?"xn--"+g(e):e})},toUnicode:function(e){return s(e,function(e){return O.test(e)?m(e.slice(4).toLowerCase()):e})}},n=function(){return F}.call(t,r,t,e),!(n!==void 0&&(e.exports=n))})(this)}).call(this,r(155)(e),r(52))},155:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},156:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},157:function(e,t,r){"use strict";t.decode=t.parse=r(158),t.encode=t.stringify=r(159)},158:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,o,n,a){o=o||"&",n=n||"=";var d={};if("string"!=typeof e||0===e.length)return d;var s=/\+/g;e=e.split(o);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var p=e.length;0<l&&p>l&&(p=l);for(var u=0;u<p;++u){var i=e[u].replace(s,"%20"),c=i.indexOf(n),h,m,g,_;0<=c?(h=i.substr(0,c),m=i.substr(c+1)):(h=i,m=""),g=decodeURIComponent(h),_=decodeURIComponent(m),t(d,g)?r(d[g])?d[g].push(_):d[g]=[d[g],_]:d[g]=_}return d};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},159:function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],o));return r}var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}};e.exports=function(e,a,i,d){return a=a||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?t(n(e),function(n){var d=encodeURIComponent(r(n))+i;return o(e[n])?t(e[n],function(e){return d+encodeURIComponent(r(e))}).join(a):d+encodeURIComponent(r(e[n]))}).join(a):d?encodeURIComponent(r(d))+i+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},17:function(e,t,r){"use strict";var o=Math.max,n=Math.min;r.d(t,"a",function(){return s}),r.d(t,"b",function(){return l}),r.d(t,"c",function(){return i});var a=r(9);/*!
 * @pixi/ticker - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */a.b.TARGET_FPMS=.06;var i;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(i||(i={}));var d=function(){function e(e,t,r,o){void 0===t&&(t=null),void 0===r&&(r=0),void 0===o&&(o=!1),this.fn=e,this.context=t,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),s=function(){function e(){var e=this;this._head=new d(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/a.b.TARGET_FPMS,this.elapsedMS=1/a.b.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,r){return void 0===r&&(r=i.NORMAL),this._addListener(new d(e,t,r))},e.prototype.addOnce=function(e,t,r){return void 0===r&&(r=i.NORMAL),this._addListener(new d(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){void 0===e&&(e=performance.now());var t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=0|e-this._lastFrame;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*a.b.TARGET_FPMS;for(var o=this._head,n=o.next;n;)n=n.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=n(this.maxFPS,e),r=n(o(0,t)/1e3,a.b.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=o(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),l=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,i.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}()},181:function(e,t,r){"use strict";function o(e,t){function r(){this.constructor=e}T(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function n(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,o){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),i=[],d,r;try{for(;(void 0===o||0<o--)&&!(d=a.next()).done;)i.push(d.value)}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}return i}function i(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function d(e,t){if(e.closest)return e.closest(t);for(var r=e;r;){if(s(r,t))return r;r=r.parentElement}return null}function s(e,t){var r=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return r.call(e,t)}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function l(e){var t=e.key;if(O.has(t))return t;var r=D.get(e.keyCode);return r?r:P.UNKNOWN}/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function p(){return{bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""}}function u(e,t){for(var r=new Map,o=0,n;o<e;o++)if(n=t(o).trim(),!!n){var a=n[0].toLowerCase();r.has(a)||r.set(a,[]),r.get(a).push({text:n.toLowerCase(),index:o})}return r.forEach(function(e){e.sort(function(e,t){return e.index-t.index})}),r}function c(e,t){var r=e.nextChar,o=e.focusItemAtIndex,n=e.sortedIndexByFirstChar,a=e.focusedItemIndex,i=e.skipFocus,d=e.isItemAtIndexDisabled;clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout(function(){_(t)},C.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer+=r;var s;return s=1===t.typeaheadBuffer.length?h(n,a,d,t):m(n,d,t),-1===s||i||o(s),s}function h(e,t,r,o){var n=o.typeaheadBuffer[0],a=e.get(n);if(!a)return-1;if(n===o.currentFirstChar&&a[o.sortedIndexCursor].index===t){o.sortedIndexCursor=(o.sortedIndexCursor+1)%a.length;var i=a[o.sortedIndexCursor].index;if(!r(i))return i}o.currentFirstChar=n;var d=-1,s;for(s=0;s<a.length;s++)if(!r(a[s].index)){d=s;break}for(;s<a.length;s++)if(a[s].index>t&&!r(a[s].index)){d=s;break}return-1===d?-1:(o.sortedIndexCursor=d,a[o.sortedIndexCursor].index)}function m(e,t,r){var o=r.typeaheadBuffer[0],n=e.get(o);if(!n)return-1;var a=n[r.sortedIndexCursor];if(0===a.text.lastIndexOf(r.typeaheadBuffer,0)&&!t(a.index))return a.index;for(var i=(r.sortedIndexCursor+1)%n.length,d=-1;i!==r.sortedIndexCursor;){var s=n[i],l=0===s.text.lastIndexOf(r.typeaheadBuffer,0),p=!t(s.index);if(l&&p){d=i;break}i=(i+1)%n.length}return-1==d?-1:(r.sortedIndexCursor=d,n[r.sortedIndexCursor].index)}function g(e){return 0<e.typeaheadBuffer.length}function _(e){e.typeaheadBuffer=""}function y(e,t){var r=e.event,o=e.isTargetListItem,n=e.focusedItemIndex,a=e.focusItemAtIndex,i=e.sortedIndexByFirstChar,d=e.isItemAtIndexDisabled,s="ArrowLeft"===l(r),p="ArrowUp"===l(r),u="ArrowRight"===l(r),h="ArrowDown"===l(r),m="Home"===l(r),_="End"===l(r),y="Enter"===l(r),x="Spacebar"===l(r);if(s||p||u||h||m||_||y)return-1;var b=!x&&1===r.key.length;if(b){N(r);var T={focusItemAtIndex:a,focusedItemIndex:n,nextChar:r.key.toLowerCase(),sortedIndexByFirstChar:i,skipFocus:!1,isItemAtIndexDisabled:d};return c(T,t)}if(!x)return-1;o&&N(r);var E=o&&g(t);if(E){var T={focusItemAtIndex:a,focusedItemIndex:n,nextChar:" ",sortedIndexByFirstChar:i,skipFocus:!1,isItemAtIndexDisabled:d};return c(T,t)}return-1}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function x(e){return e instanceof Array}function b(e,t){if(void 0===t&&(t=!1),void 0===j||t){var r=e.document.createElement("div");j="transform"in r.style?"transform":"webkitTransform"}return j}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */r.d(t,"a",function(){return Q});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var T=function(e,t){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},T(e,t)},E=function(){return E=Object.assign||function(e){for(var t=1,r=arguments.length,o;t<r;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},E.apply(this,arguments)};var v=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),I=function(){function e(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];this.root=e,this.initialize.apply(this,i(r)),this.foundation=void 0===t?this.getDefaultFoundation():t,this.foundation.init(),this.initialSyncWithDOM()}return e.attachTo=function(t){return new e(t,new v({}))},e.prototype.initialize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e.prototype.getDefaultFoundation=function(){throw new Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class")},e.prototype.initialSyncWithDOM=function(){},e.prototype.destroy=function(){this.foundation.destroy()},e.prototype.listen=function(e,t,r){this.root.addEventListener(e,t,r)},e.prototype.unlisten=function(e,t,r){this.root.removeEventListener(e,t,r)},e.prototype.emit=function(e,t,r){void 0===r&&(r=!1);var o;"function"==typeof CustomEvent?o=new CustomEvent(e,{bubbles:r,detail:t}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,r,!1,t)),this.root.dispatchEvent(o)},e}(),A={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},S={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:"[role=\"checkbox\"][aria-checked=\"true\"]",ARIA_CHECKED_RADIO_SELECTOR:"[role=\"radio\"][aria-checked=\"true\"]",ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:"[role=\"checkbox\"]",ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:"input[type=\"checkbox\"], input[type=\"radio\"]",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+A.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+A.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+A.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+A.LIST_ITEM_CLASS+" a,\n    ."+A.LIST_ITEM_CLASS+" input[type=\"radio\"]:not(:disabled),\n    ."+A.LIST_ITEM_CLASS+" input[type=\"checkbox\"]:not(:disabled)\n  ",RADIO_SELECTOR:"input[type=\"radio\"]"},C={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300},P={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape"},O=new Set;/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */O.add(P.BACKSPACE),O.add(P.ENTER),O.add(P.SPACEBAR),O.add(P.PAGE_UP),O.add(P.PAGE_DOWN),O.add(P.END),O.add(P.HOME),O.add(P.ARROW_LEFT),O.add(P.ARROW_UP),O.add(P.ARROW_RIGHT),O.add(P.ARROW_DOWN),O.add(P.DELETE),O.add(P.ESCAPE);var R={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27},D=new Map;D.set(R.BACKSPACE,P.BACKSPACE),D.set(R.ENTER,P.ENTER),D.set(R.SPACEBAR,P.SPACEBAR),D.set(R.PAGE_UP,P.PAGE_UP),D.set(R.PAGE_DOWN,P.PAGE_DOWN),D.set(R.END,P.END),D.set(R.HOME,P.HOME),D.set(R.ARROW_LEFT,P.ARROW_LEFT),D.set(R.ARROW_UP,P.ARROW_UP),D.set(R.ARROW_RIGHT,P.ARROW_RIGHT),D.set(R.ARROW_DOWN,P.ARROW_DOWN),D.set(R.DELETE,P.DELETE),D.set(R.ESCAPE,P.ESCAPE);var w=new Set([P.PAGE_UP,P.PAGE_DOWN,P.END,P.HOME,P.ARROW_LEFT,P.ARROW_UP,P.ARROW_RIGHT,P.ARROW_DOWN]),L=["input","button","textarea","select"],N=function(e){var t=e.target;if(t){var r=(""+t.tagName).toLowerCase();-1===L.indexOf(r)&&e.preventDefault()}},M=function(e){function t(r){var o=e.call(this,E(E({},t.defaultAdapter),r))||this;return o.wrapFocus_=!1,o.isVertical_=!0,o.isSingleSelectionList_=!1,o.selectedIndex_=C.UNSET_INDEX,o.focusedItemIndex=C.UNSET_INDEX,o.useActivatedClass_=!1,o.ariaCurrentAttrValue_=null,o.isCheckboxList_=!1,o.isRadioList_=!1,o.hasTypeahead=!1,o.typeaheadState=p(),o.sortedIndexByFirstChar=new Map,o}return o(t,e),Object.defineProperty(t,"strings",{get:function(){return S},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return A},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return C},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!0,configurable:!0}),t.prototype.layout=function(){0===this.adapter.getListItemCount()||(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter.hasRadioAtIndex(0)&&(this.isRadioList_=!0),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.setWrapFocus=function(e){this.wrapFocus_=e},t.prototype.setVerticalOrientation=function(e){this.isVertical_=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList_=e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&g(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass_=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex_},t.prototype.setSelectedIndex=function(e){this.isIndexValid_(e)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(e):this.isRadioList_?this.setRadioAtIndex_(e):this.setSingleSelectionAtIndex_(e))},t.prototype.handleFocusIn=function(e,t){0<=t&&(this.focusedItemIndex=t,this.adapter.setTabIndexForListItemChildren(t,"0"))},t.prototype.handleFocusOut=function(e,t){var r=this;0<=t&&this.adapter.setTabIndexForListItemChildren(t,"-1"),setTimeout(function(){r.adapter.isFocusInsideList()||r.setTabindexToFirstSelectedItem_()},0)},t.prototype.handleKeydown=function(e,t,r){var o=this,n="ArrowLeft"===l(e),a="ArrowUp"===l(e),i="ArrowRight"===l(e),d="ArrowDown"===l(e),s="Home"===l(e),p="End"===l(e),u="Enter"===l(e),c="Spacebar"===l(e);if(this.adapter.isRootFocused()){if(a||p?(e.preventDefault(),this.focusLastElement()):(d||s)&&(e.preventDefault(),this.focusFirstElement()),this.hasTypeahead){var h={event:e,focusItemAtIndex:function(e){o.focusItemAtIndex(e)},focusedItemIndex:-1,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return o.adapter.listItemAtIndexHasClass(e,A.LIST_ITEM_DISABLED_CLASS)}};y(h,this.typeaheadState)}return}var m=this.adapter.getFocusedElementIndex();if(!(-1===m&&(m=r,0>m))){if(this.isVertical_&&d||!this.isVertical_&&i)N(e),this.focusNextElement(m);else if(this.isVertical_&&a||!this.isVertical_&&n)N(e),this.focusPrevElement(m);else if(s)N(e),this.focusFirstElement();else if(p)N(e),this.focusLastElement();else if((u||c)&&t){var g=e.target;if(g&&"A"===g.tagName&&u)return;if(N(e),this.adapter.listItemAtIndexHasClass(m,A.LIST_ITEM_DISABLED_CLASS))return;this.isTypeaheadInProgress()||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(m),this.adapter.notifyAction(m))}if(this.hasTypeahead){var h={event:e,focusItemAtIndex:function(e){o.focusItemAtIndex(e)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return o.adapter.listItemAtIndexHasClass(e,A.LIST_ITEM_DISABLED_CLASS)}};y(h,this.typeaheadState)}}},t.prototype.handleClick=function(e,t){e!==C.UNSET_INDEX&&(this.setTabindexAtIndex_(e),this.focusedItemIndex=e,this.adapter.listItemAtIndexHasClass(e,A.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(e,t),this.adapter.notifyAction(e)))},t.prototype.focusNextElement=function(e){var t=this.adapter.getListItemCount(),r=e+1;if(r>=t)if(this.wrapFocus_)r=0;else return e;return this.focusItemAtIndex(r),r},t.prototype.focusPrevElement=function(e){var t=e-1;if(0>t)if(this.wrapFocus_)t=this.adapter.getListItemCount()-1;else return e;return this.focusItemAtIndex(t),t},t.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},t.prototype.focusLastElement=function(){var e=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid_(e)&&(t?(this.adapter.removeClassForElementIndex(e,A.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,S.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,A.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,S.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex_=function(e){if(this.selectedIndex_!==e){var t=A.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(t=A.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==C.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex_,t),this.adapter.addClassForElementIndex(e,t),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e}},t.prototype.setAriaForSingleSelectionAtIndex_=function(e){this.selectedIndex_===C.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,S.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue_,r=t?S.ARIA_CURRENT:S.ARIA_SELECTED;this.selectedIndex_!==C.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,r,"false");var o=t?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,r,o)},t.prototype.setRadioAtIndex_=function(e){this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),this.selectedIndex_!==C.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,S.ARIA_CHECKED,"false"),this.adapter.setAttributeForElementIndex(e,S.ARIA_CHECKED,"true"),this.selectedIndex_=e},t.prototype.setCheckboxAtIndex_=function(e){for(var t=0,r;t<this.adapter.getListItemCount();t++)r=!1,0<=e.indexOf(t)&&(r=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(t,r),this.adapter.setAttributeForElementIndex(t,S.ARIA_CHECKED,r?"true":"false");this.selectedIndex_=e},t.prototype.setTabindexAtIndex_=function(e){this.focusedItemIndex===C.UNSET_INDEX&&0!==e?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):0<=this.focusedItemIndex&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},t.prototype.setTabindexToFirstSelectedItem_=function(){var e=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==C.UNSET_INDEX?e=this.selectedIndex_:x(this.selectedIndex_)&&0<this.selectedIndex_.length&&(e=this.selectedIndex_.reduce(function(e,t){return Math.min(e,t)}))),this.setTabindexAtIndex_(e)},t.prototype.isIndexValid_=function(e){var t=this;if(e instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some(function(e){return t.isIndexInRange_(e)})}if("number"==typeof e){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange_(e)}return!1},t.prototype.isIndexInRange_=function(e){var t=this.adapter.getListItemCount();return 0<=e&&e<t},t.prototype.setSelectedIndexOnAction_=function(e,t){void 0===t&&(t=!0),this.isCheckboxList_?this.toggleCheckboxAtIndex_(e,t):this.setSelectedIndex(e)},t.prototype.toggleCheckboxAtIndex_=function(e,t){var r=this.adapter.isCheckboxCheckedAtIndex(e);t&&(r=!r,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,r)),this.adapter.setAttributeForElementIndex(e,S.ARIA_CHECKED,r?"true":"false");var o=this.selectedIndex_===C.UNSET_INDEX?[]:this.selectedIndex_.slice();r?o.push(e):o=o.filter(function(t){return t!==e}),this.selectedIndex_=o},t.prototype.focusItemAtIndex=function(e){this.setTabindexAtIndex_(e),this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.typeaheadMatchItem=function(e,t,r){var o=this;void 0===r&&(r=!1);var n={focusItemAtIndex:function(e){o.focusItemAtIndex(e)},focusedItemIndex:t?t:this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:r,isItemAtIndexDisabled:function(e){return o.adapter.listItemAtIndexHasClass(e,A.LIST_ITEM_DISABLED_CLASS)}};return c(n,this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return u(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){_(this.typeaheadState)},t}(v),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"vertical",{set:function(e){this.foundation.setVerticalOrientation(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return[].slice.call(this.root.querySelectorAll("."+A.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{set:function(e){this.foundation.setWrapFocus(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.foundation.setHasTypeahead(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.foundation.setSingleSelection(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e)},enumerable:!0,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.handleClick_=this.handleClickEvent_.bind(this),this.handleKeydown_=this.handleKeydownEvent_.bind(this),this.focusInEventListener_=this.handleFocusInEvent_.bind(this),this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this),this.listen("keydown",this.handleKeydown_),this.listen("click",this.handleClick_),this.listen("focusin",this.focusInEventListener_),this.listen("focusout",this.focusOutEventListener_),this.layout(),this.initializeListType()},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("click",this.handleClick_),this.unlisten("focusin",this.focusInEventListener_),this.unlisten("focusout",this.focusOutEventListener_)},t.prototype.layout=function(){var e=this.root.getAttribute(S.ARIA_ORIENTATION);this.vertical=e!==S.ARIA_ORIENTATION_HORIZONTAL,[].slice.call(this.root.querySelectorAll(".mdc-list-item:not([tabindex])")).forEach(function(e){e.setAttribute("tabindex","-1")}),[].slice.call(this.root.querySelectorAll(S.FOCUSABLE_CHILD_ELEMENTS)).forEach(function(e){return e.setAttribute("tabindex","-1")}),this.foundation.layout()},t.prototype.getPrimaryText=function(e){var t=e.querySelector("."+A.LIST_ITEM_PRIMARY_TEXT_CLASS);if(t)return t.textContent||"";var r=e.querySelector("."+A.LIST_ITEM_TEXT_CLASS);return r&&r.textContent||""},t.prototype.initializeListType=function(){var e=this,t=this.root.querySelectorAll(S.ARIA_ROLE_CHECKBOX_SELECTOR),r=this.root.querySelector("\n      ."+A.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+A.LIST_ITEM_SELECTED_CLASS+"\n    "),o=this.root.querySelector(S.ARIA_CHECKED_RADIO_SELECTOR);if(t.length){var n=this.root.querySelectorAll(S.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=[].map.call(n,function(t){return e.listElements.indexOf(t)})}else r?(r.classList.contains(A.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(r)):o&&(this.selectedIndex=this.listElements.indexOf(o))},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.typeaheadMatchItem=function(e,t){return this.foundation.typeaheadMatchItem(e,t,!0)},t.prototype.getDefaultFoundation=function(){var e=this;return new M({addClassForElementIndex:function(t,r){var o=e.listElements[t];o&&o.classList.add(r)},focusItemAtIndex:function(t){var r=e.listElements[t];r&&r.focus()},getAttributeForElementIndex:function(t,r){return e.listElements[t].getAttribute(r)},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},getListItemCount:function(){return e.listElements.length},getPrimaryTextAtIndex:function(t){return e.getPrimaryText(e.listElements[t])},hasCheckboxAtIndex:function(t){var r=e.listElements[t];return!!r.querySelector(S.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(t){var r=e.listElements[t];return!!r.querySelector(S.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(t){var r=e.listElements[t],o=r.querySelector(S.CHECKBOX_SELECTOR);return o.checked},isFocusInsideList:function(){return e.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===e.root},listItemAtIndexHasClass:function(t,r){return e.listElements[t].classList.contains(r)},notifyAction:function(t){e.emit(S.ACTION_EVENT,{index:t},!0)},removeClassForElementIndex:function(t,r){var o=e.listElements[t];o&&o.classList.remove(r)},setAttributeForElementIndex:function(t,r,o){var n=e.listElements[t];n&&n.setAttribute(r,o)},setCheckedCheckboxOrRadioAtIndex:function(t,r){var o=e.listElements[t],n=o.querySelector(S.CHECKBOX_RADIO_SELECTOR);n.checked=r;var a=document.createEvent("Event");a.initEvent("change",!0,!0),n.dispatchEvent(a)},setTabIndexForListItemChildren:function(t,r){var o=e.listElements[t],n=[].slice.call(o.querySelectorAll(S.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX));n.forEach(function(e){return e.setAttribute("tabindex",r)})}})},t.prototype.getListItemIndex_=function(e){var t=e.target,r=d(t,"."+A.LIST_ITEM_CLASS+", ."+A.ROOT);return r&&s(r,"."+A.LIST_ITEM_CLASS)?this.listElements.indexOf(r):-1},t.prototype.handleFocusInEvent_=function(e){var t=this.getListItemIndex_(e);this.foundation.handleFocusIn(e,t)},t.prototype.handleFocusOutEvent_=function(e){var t=this.getListItemIndex_(e);this.foundation.handleFocusOut(e,t)},t.prototype.handleKeydownEvent_=function(e){var t=this.getListItemIndex_(e),r=e.target;this.foundation.handleKeydown(e,r.classList.contains(A.LIST_ITEM_CLASS),t)},t.prototype.handleClickEvent_=function(e){var t=this.getListItemIndex_(e),r=e.target,o=!s(r,S.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(t,o)},t}(I),B={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},U={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:"button:not(:disabled), [href]:not([aria-disabled=\"true\"]), input:not(:disabled), select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])"},k={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},H;/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"})(H||(H={}));var G;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"})(G||(G={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var X=function(e){function t(r){var o=e.call(this,E(E({},t.defaultAdapter),r))||this;return o.isSurfaceOpen=!1,o.isQuickOpen=!1,o.isHoistedElement=!1,o.isFixedPosition=!1,o.openAnimationEndTimerId=0,o.closeAnimationEndTimerId=0,o.animationRequestId=0,o.anchorCorner=G.TOP_START,o.originCorner=G.TOP_START,o.anchorMargin={top:0,right:0,bottom:0,left:0},o.position={x:0,y:0},o}return o(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return B},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return U},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return k},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return G},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,r=e.ROOT,o=e.OPEN;if(!this.adapter.hasClass(r))throw new Error(r+" class required in root element.");this.adapter.hasClass(o)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner^=H.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){e.adapter.addClass(t.cssClasses.OPEN),e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.openAnimationEndTimerId=setTimeout(function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()},k.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var r=this;void 0===e&&(e=!1),this.isSurfaceOpen&&(this.isQuickOpen?(this.isSurfaceOpen=!1,!e&&this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose()):(this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){r.adapter.removeClass(t.cssClasses.OPEN),r.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),r.closeAnimationEndTimerId=setTimeout(function(){r.closeAnimationEndTimerId=0,r.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),r.adapter.notifyClose()},k.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,!e&&this.maybeRestoreFocus()))},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode,r=e.key;("Escape"===r||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var r=this.getoriginCorner(),o=this.getMenuSurfaceMaxHeight(r),n=this.hasBit(r,H.BOTTOM)?"bottom":"top",a=this.hasBit(r,H.RIGHT)?"right":"left",i=this.getHorizontalOriginOffset(r),d=this.getVerticalOriginOffset(r),s=this.measurements,l=s.anchorSize,p=s.surfaceSize,u=(e={},e[a]=i,e[n]=d,e);l.width/p.width>k.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(a="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(u),this.adapter.setTransformOrigin(a+" "+n),this.adapter.setPosition(u),this.adapter.setMaxHeight(o?o+"px":""),this.hasBit(r,H.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),r=this.adapter.getWindowDimensions(),o=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:r.width-e.right,bottom:r.height-e.bottom,left:e.left},viewportSize:r,windowScroll:o}},t.prototype.getoriginCorner=function(){var e=this.originCorner,r=this.measurements,o=r.viewportDistance,n=r.anchorSize,a=r.surfaceSize,i=t.numbers.MARGIN_TO_EDGE,d=this.hasBit(this.anchorCorner,H.BOTTOM),s,l;d?(s=o.top-i+n.height+this.anchorMargin.bottom,l=o.bottom-i-this.anchorMargin.bottom):(s=o.top-i+this.anchorMargin.top,l=o.bottom-i+n.height-this.anchorMargin.top);var p=0<l-a.height;!p&&s>=l&&(e=this.setBit(e,H.BOTTOM));var u=this.adapter.isRtl(),c=this.hasBit(this.anchorCorner,H.FLIP_RTL),h=this.hasBit(this.anchorCorner,H.RIGHT),m=!1;m=u&&c?!h:h;var g,_;m?(g=o.left+n.width+this.anchorMargin.right,_=o.right-this.anchorMargin.right):(g=o.left+this.anchorMargin.left,_=o.right+n.width-this.anchorMargin.left);var y=0<g-a.width,x=0<_-a.width,b=this.hasBit(e,H.FLIP_RTL)&&this.hasBit(e,H.RIGHT);return x&&b&&u||!y&&b?e=this.unsetBit(e,H.RIGHT):(y&&m&&u||y&&!m&&h||!x&&g>=_)&&(e=this.setBit(e,H.RIGHT)),e},t.prototype.getMenuSurfaceMaxHeight=function(e){var r=this.measurements.viewportDistance,o=0,n=this.hasBit(e,H.BOTTOM),a=this.hasBit(this.anchorCorner,H.BOTTOM),i=t.numbers.MARGIN_TO_EDGE;return n?(o=r.top+this.anchorMargin.top-i,!a&&(o+=this.measurements.anchorSize.height)):(o=r.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-i,a&&(o-=this.measurements.anchorSize.height)),o},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,r=this.hasBit(e,H.RIGHT),o=this.hasBit(this.anchorCorner,H.RIGHT);if(r){var n=o?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?n-(this.measurements.viewportSize.width-this.measurements.bodySize.width):n}return o?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,r=this.hasBit(e,H.BOTTOM),o=this.hasBit(this.anchorCorner,H.BOTTOM),n=0;return n=r?o?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:o?t.height+this.anchorMargin.bottom:this.anchorMargin.top,n},t.prototype.adjustPositionForHoistedElement=function(e){var t=this.measurements,r=t.windowScroll,o=t.viewportDistance,a=Object.keys(e),i,d;try{for(var s=n(a),l=s.next();!l.done;l=s.next()){var p=l.value,u=e[p]||0;u+=o[p],this.isFixedPosition||("top"===p?u+=r.y:"bottom"===p?u-=r.y:"left"===p?u+=r.x:u-=r.x),e[p]=u}}catch(e){i={error:e}}finally{try{l&&!l.done&&(d=s.return)&&d.call(s)}finally{if(i)throw i.error}}},t.prototype.maybeRestoreFocus=function(){var e=this.adapter.isFocused(),t=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(e||t)&&this.adapter.restoreFocus()},t.prototype.hasBit=function(e,t){return!!(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(v),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){var e=this,t=this.root.parentElement;this.anchorElement=t&&t.classList.contains(B.ANCHOR)?t:null,this.root.classList.contains(B.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleBodyClick=function(t){e.foundation.handleBodyClick(t)},this.registerBodyClickListener=function(){document.body.addEventListener("click",e.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",e.handleBodyClick)},this.listen("keydown",this.handleKeydown),this.listen(U.OPENED_EVENT,this.registerBodyClickListener),this.listen(U.CLOSED_EVENT,this.deregisterBodyClickListener)},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(U.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(U.CLOSED_EVENT,this.deregisterBodyClickListener),e.prototype.destroy.call(this)},t.prototype.isOpen=function(){return this.foundation.isOpen()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=!1),this.foundation.close(e)},Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.foundation.setQuickOpen(e)},enumerable:!0,configurable:!0}),t.prototype.setIsHoisted=function(e){this.foundation.setIsHoisted(e)},t.prototype.setMenuSurfaceAnchorElement=function(e){this.anchorElement=e},t.prototype.setFixedPosition=function(e){e?this.root.classList.add(B.FIXED):this.root.classList.remove(B.FIXED),this.foundation.setFixedPosition(e)},t.prototype.setAbsolutePosition=function(e,t){this.foundation.setAbsolutePosition(e,t),this.setIsHoisted(!0)},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.foundation.setAnchorMargin(e)},t.prototype.getDefaultFoundation=function(){var e=this;return new X({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){return e.emit(X.strings.CLOSED_EVENT,{})},notifyOpen:function(){return e.emit(X.strings.OPENED_EVENT,{})},isElementInContainer:function(t){return e.root.contains(t)},isRtl:function(){return"rtl"===getComputedStyle(e.root).getPropertyValue("direction")},setTransformOrigin:function(t){var r=b(window)+"-origin";e.root.style.setProperty(r,t)},isFocused:function(){return document.activeElement===e.root},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},getInnerDimensions:function(){return{width:e.root.offsetWidth,height:e.root.offsetHeight}},getAnchorDimensions:function(){return e.anchorElement?e.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(t){var r=e.root;r.style.left="left"in t?t.left+"px":"",r.style.right="right"in t?t.right+"px":"",r.style.top="top"in t?t.top+"px":"",r.style.bottom="bottom"in t?t.bottom+"px":""},setMaxHeight:function(t){e.root.style.maxHeight=t}})},t}(I),V={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Y={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},W={FOCUS_ROOT_INDEX:-1},j,q;/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"})(q||(q={}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var K=function(e){function t(r){var o=e.call(this,E(E({},t.defaultAdapter),r))||this;return o.closeAnimationEndTimerId_=0,o.defaultFocusState_=q.LIST_ROOT,o}return o(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return V},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return W},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,r=e.keyCode;("Tab"===t||9===r)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,r=this.adapter.getElementIndex(e);0>r||(this.adapter.notifySelected({index:r}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var r=t.adapter.getElementIndex(e);0<=r&&t.adapter.isSelectableItemAtIndex(r)&&t.setSelectedIndex(r)},X.numbers.TRANSITION_CLOSE_DURATION))},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case q.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case q.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case q.NONE:break;default:this.adapter.focusListRoot();}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState_=e},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex_(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);0<=t&&(this.adapter.removeAttributeFromElementAtIndex(t,Y.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,V.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,V.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,Y.ARIA_CHECKED_ATTR,"true")},t.prototype.setEnabled=function(e,t){this.validatedIndex_(e),t?(this.adapter.removeClassFromElementAtIndex(e,A.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,Y.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,A.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,Y.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex_=function(e){var t=this.adapter.getMenuItemCount();if(!(0<=e&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(v),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t){void 0===e&&(e=function(e){return new z(e)}),void 0===t&&(t=function(e){return new F(e)}),this.menuSurfaceFactory_=e,this.listFactory_=t},t.prototype.initialSyncWithDOM=function(){var e=this;this.menuSurface_=this.menuSurfaceFactory_(this.root);var t=this.root.querySelector(Y.LIST_SELECTOR);t?(this.list_=this.listFactory_(t),this.list_.wrapFocus=!0):this.list_=null,this.handleKeydown_=function(t){return e.foundation.handleKeydown(t)},this.handleItemAction_=function(t){return e.foundation.handleItemAction(e.items[t.detail.index])},this.handleMenuSurfaceOpened_=function(){return e.foundation.handleMenuSurfaceOpened()},this.menuSurface_.listen(X.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.listen("keydown",this.handleKeydown_),this.listen(M.strings.ACTION_EVENT,this.handleItemAction_)},t.prototype.destroy=function(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(X.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.unlisten("keydown",this.handleKeydown_),this.unlisten(M.strings.ACTION_EVENT,this.handleItemAction_),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.menuSurface_.isOpen()},set:function(e){e?this.menuSurface_.open():this.menuSurface_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(e){this.list_&&(this.list_.wrapFocus=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.list_&&(this.list_.hasTypeahead=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return!!this.list_&&this.list_.typeaheadInProgress},enumerable:!0,configurable:!0}),t.prototype.typeaheadMatchItem=function(e,t){return this.list_?this.list_.typeaheadMatchItem(e,t):-1},t.prototype.layout=function(){this.list_&&this.list_.layout()},Object.defineProperty(t.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.menuSurface_.quickOpen=e},enumerable:!0,configurable:!0}),t.prototype.setDefaultFocusState=function(e){this.foundation.setDefaultFocusState(e)},t.prototype.setAnchorCorner=function(e){this.menuSurface_.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.menuSurface_.setAnchorMargin(e)},t.prototype.setSelectedIndex=function(e){this.foundation.setSelectedIndex(e)},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.getOptionByIndex=function(e){var t=this.items;return e<t.length?this.items[e]:null},t.prototype.getPrimaryTextAtIndex=function(e){var t=this.getOptionByIndex(e);return t&&this.list_?this.list_.getPrimaryText(t)||"":""},t.prototype.setFixedPosition=function(e){this.menuSurface_.setFixedPosition(e)},t.prototype.setIsHoisted=function(e){this.menuSurface_.setIsHoisted(e)},t.prototype.setAbsolutePosition=function(e,t){this.menuSurface_.setAbsolutePosition(e,t)},t.prototype.setAnchorElement=function(e){this.menuSurface_.anchorElement=e},t.prototype.getDefaultFoundation=function(){var e=this;return new K({addClassToElementAtIndex:function(t,r){var o=e.items;o[t].classList.add(r)},removeClassFromElementAtIndex:function(t,r){var o=e.items;o[t].classList.remove(r)},addAttributeToElementAtIndex:function(t,r,o){var n=e.items;n[t].setAttribute(r,o)},removeAttributeFromElementAtIndex:function(t,r){var o=e.items;o[t].removeAttribute(r)},elementContainsClass:function(e,t){return e.classList.contains(t)},closeSurface:function(t){return e.menuSurface_.close(t)},getElementIndex:function(t){return e.items.indexOf(t)},notifySelected:function(t){return e.emit(Y.SELECTED_EVENT,{index:t.index,item:e.items[t.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(t){return e.items[t].focus()},focusListRoot:function(){return e.root.querySelector(Y.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(t){return!!d(e.items[t],"."+V.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(t){var r=d(e.items[t],"."+V.MENU_SELECTION_GROUP),o=r.querySelector("."+V.MENU_SELECTED_LIST_ITEM);return o?e.items.indexOf(o):-1}})},t}(I);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */},2:function(e,t,r){"use strict";function o(e){var t;if(!L){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){(t=window.console).log.apply(t,["\n %c %c %c PixiJS "+N+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"])}else window.console&&window.console.log("PixiJS "+N+" - "+e+" - http://www.pixijs.com/");L=!0}}function n(){return"undefined"==typeof V&&(V=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:A.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),o=!!(r&&r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,o}catch(t){return!1}}()),V}function a(e,t){return void 0===t&&(t=[]),t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t}function i(e){var t=e.toString(16);return t="000000".substr(0,6-t.length)+t,"#"+t}function d(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function s(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])}function l(e,t){return M[t?1:0][e]}function p(e,t,r,o){return r=r||new Float32Array(4),o||void 0===o?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function u(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=255&e>>16,o=255&e>>8,n=255&e;return r=0|r*t+.5,o=0|o*t+.5,n=0|n*t+.5,(255*t<<24)+(r<<16)+(o<<8)+n}function c(e,t,r,o){return r=r||new Float32Array(4),r[0]=(255&e>>16)/255,r[1]=(255&e>>8)/255,r[2]=(255&e)/255,(o||void 0===o)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function h(e,t){void 0===t&&(t=null);var r=6*e;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var o=0,n=0;o<r;o+=6,n+=4)t[o+0]=n+0,t[o+1]=n+1,t[o+2]=n+2,t[o+3]=n+0,t[o+4]=n+2,t[o+5]=n+3;return t}function m(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function g(e){return!(e&e-1)&&!!e}function _(e){var t=(65535<e?1:0)<<4;e>>>=t;var r=(255<e?1:0)<<3;return e>>>=r,t|=r,r=(15<e?1:0)<<2,e>>>=r,t|=r,r=(3<e?1:0)<<1,e>>>=r,t|=r,t|e>>1}function y(e,t,r){var o=e.length,n;if(!(t>=o||0===r)){r=t+r>o?o-t:r;var a=o-r;for(n=t;n<a;++n)e[n]=e[n+r];e.length=a}}function x(e){return 0===e?0:0>e?-1:1}function b(){return++B}function T(e,t,r){if(void 0===r&&(r=3),!U[t]){var o=new Error().stack;"undefined"==typeof o?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(o=o.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(o),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(o))),U[t]=!0}}function E(e){var t=e.width,r=e.height,o=e.getContext("2d"),n=o.getImageData(0,0,t,r),a=n.data,d=a.length,s={top:null,left:null,right:null,bottom:null},l=null,p,i,u;for(p=0;p<d;p+=4)0!==a[p+3]&&(i=p/4%t,u=~~(p/4/t),null===s.top&&(s.top=u),null===s.left?s.left=i:i<s.left&&(s.left=i),null===s.right?s.right=i+1:s.right<i&&(s.right=i+1),null===s.bottom?s.bottom=u:s.bottom<u&&(s.bottom=u));return null!==s.top&&(t=s.right-s.left,r=s.bottom-s.top+1,l=o.getImageData(s.left,s.top,t,r)),{height:r,width:t,data:l}}function v(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,Y||(Y=document.createElement("a")),Y.href=e;var r=Object(R.parse)(Y.href),o=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&o&&r.protocol===t.protocol?"":"anonymous"}function I(e,t){var r=A.b.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t===void 0?1:t}r.d(t,"a",function(){return G}),r.d(t,"b",function(){return X}),r.d(t,"d",function(){return k}),r.d(t,"e",function(){return H}),r.d(t,"f",function(){return l}),r.d(t,"g",function(){return h}),r.d(t,"h",function(){return T}),r.d(t,"i",function(){return v}),r.d(t,"k",function(){return I}),r.d(t,"l",function(){return a}),r.d(t,"m",function(){return i}),r.d(t,"o",function(){return g}),r.d(t,"p",function(){return n}),r.d(t,"q",function(){return _}),r.d(t,"r",function(){return m}),r.d(t,"s",function(){return M}),r.d(t,"t",function(){return p}),r.d(t,"u",function(){return u}),r.d(t,"v",function(){return c}),r.d(t,"w",function(){return y}),r.d(t,"x",function(){return s}),r.d(t,"y",function(){return o}),r.d(t,"z",function(){return x}),r.d(t,"A",function(){return d}),r.d(t,"B",function(){return E}),r.d(t,"C",function(){return b});var A=r(9);r.d(t,"n",function(){return A.a});var S=r(62),C=r.n(S);r.d(t,"c",function(){return C.a});var P=r(63),O=r.n(P);r.d(t,"j",function(){return O.a});var R=r(57),D=r.n(R);r.d(t,"D",function(){return D.a});var w=r(3);/*!
 * @pixi/utils - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */A.b.RETINA_PREFIX=/@([0-9\.]+)x/,A.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var L=!1,N="5.3.2",M=function(){for(var e=[],t=[],r=0;32>r;r++)e[r]=r,t[r]=r;e[w.b.NORMAL_NPM]=w.b.NORMAL,e[w.b.ADD_NPM]=w.b.ADD,e[w.b.SCREEN_NPM]=w.b.SCREEN,t[w.b.NORMAL]=w.b.NORMAL_NPM,t[w.b.ADD]=w.b.ADD_NPM,t[w.b.SCREEN]=w.b.SCREEN_NPM;return[t,e]}(),F={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},B=0,U={},k={},H=Object.create(null),G=Object.create(null),X=function(){function e(e,t,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||A.b.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}(),z=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,V,Y},3:function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return i}),r.d(t,"c",function(){return a}),r.d(t,"d",function(){return g}),r.d(t,"e",function(){return d}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return s}),r.d(t,"h",function(){return _}),r.d(t,"i",function(){return x}),r.d(t,"j",function(){return h}),r.d(t,"k",function(){return b}),r.d(t,"l",function(){return y}),r.d(t,"m",function(){return n}),r.d(t,"n",function(){return u}),r.d(t,"o",function(){return l}),r.d(t,"p",function(){return p}),r.d(t,"q",function(){return c});/*!
 * @pixi/constants - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var o;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(o||(o={}));var n;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(n||(n={}));var a;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(a||(a={}));var i;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(i||(i={}));var d;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(d||(d={}));var s;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(s||(s={}));var l;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(l||(l={}));var p;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(p||(p={}));var u;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(u||(u={}));var c;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(c||(c={}));var h;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(h||(h={}));var m;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(m||(m={}));var g;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(g||(g={}));var _;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(_||(_={}));var y;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(y||(y={}));var x;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(x||(x={}));var b;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(b||(b={}))},31:function(e,t,r){"use strict";r.d(t,"a",function(){return o});/*!
 * @pixi/runner - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var o=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,r,o,n,a,d,s){if(8<arguments.length)throw new Error("max arguments reached");var l=this,p=l.name,u=l.items;this._aliasCount++;for(var c=0,i=u.length;c<i;c++)u[c][p](e,t,r,o,n,a,d,s);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(o.prototype,{dispatch:{value:o.prototype.emit},run:{value:o.prototype.emit}})},37:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var o=r(5),n=r(2),a=function(e){function t(t,r,o){void 0===t&&(t=16711680),void 0===r&&(r=0),void 0===o&&(o=.4),e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n"),this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=t,this.newColor=r,this.epsilon=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return r.originalColor.set=function(e){var t=this.uniforms.originalColor;"number"==typeof e?(Object(n.l)(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=Object(n.x)(t))},r.originalColor.get=function(){return this._originalColor},r.newColor.set=function(e){var t=this.uniforms.newColor;"number"==typeof e?(Object(n.l)(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=Object(n.x)(t))},r.newColor.get=function(){return this._newColor},r.epsilon.set=function(e){this.uniforms.epsilon=e},r.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,r),t}(o.i);/*!
 * @pixi/filter-color-replace - v3.1.0
 * Compiled Wed, 11 Mar 2020 20:38:18 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */},38:function(o,d){"use strict";function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(o,e){var r=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),r.push.apply(r,n)}return r}function p(t){for(var e=1,o;e<arguments.length;e++)o=null==arguments[e]?{}:arguments[e],e%2?l(Object(o),!0).forEach(function(e){s(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))});return t}function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(d,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(d)){var l=[],n=!0,t=!1,a;try{for(var i=d[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(l.push(s.value),!e||l.length!==e);n=!0);}catch(r){t=!0,a=r}finally{try{n||null==i.return||i.return()}finally{if(t)throw a}}return l}}(t,e)||function(t,o){if(t){if("string"==typeof t)return u(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,o):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(o,e){(null==e||e>o.length)&&(e=o.length);for(var r=0,n=Array(e);r<e;r++)n[r]=o[r];return n}function c(o){return new Promise(function(e,r){var n=new N;n.onload=function(){return e(n.result)},n.onerror=function(t){return r(t)},n.readAsDataURL(o)})}function h(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(n){for(var d=t.split(","),a=d[0].match(/:(.*?);/)[1],l=window.atob(d[1]),o=l.length,s=new Uint8Array(o);o--;)s[o]=l.charCodeAt(o);var p=new Blob([s],{type:a});p.name=e,p.lastModified=r,n(p)})}function m(o){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=function(t){return r(t)},n.src=o})}function g(t){var e=_(I(t.width,t.height),2),r=e[0];return e[1].drawImage(t,0,0,r.width,r.height),r}function x(r){return new Promise(function(e,d){var n=function(){try{return t=g(o),e([o,t])}catch(t){return d(t)}},i=function(){try{return c(r).then(function(t){try{return m(t).then(function(t){try{return o=t,n()}catch(t){return d(t)}},d)}catch(t){return d(t)}},d)}catch(t){return d(t)}},o,t;try{return createImageBitmap(r).then(function(t){try{return o=t,n()}catch(t){return i()}},i)}catch(t){i()}})}function b(d,e,l,n){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(p,i){function o(){return p(u)}var u;return"function"==typeof OffscreenCanvas&&d instanceof OffscreenCanvas?d.convertToBlob({type:e,quality:t}).then(function(t){try{return(u=t).name=l,u.lastModified=n,o.call(this)}catch(t){return i(t)}}.bind(this),i):h(d.toDataURL(e,t),l,n).then(function(t){try{return u=t,o.call(this)}catch(t){return i(t)}}.bind(this),i)})}function y(o){return new Promise(function(d,r){var e=new N;e.onload=function(r){var e=new DataView(r.target.result);if(65496!=e.getUint16(0,!1))return d(-2);for(var n=e.byteLength,t=2;t<n;){if(8>=e.getUint16(t+2,!1))return d(-1);var a=e.getUint16(t,!1);if(t+=2,65505==a){if(1165519206!=e.getUint32(t+=2,!1))return d(-1);var i=18761==e.getUint16(t+=6,!1);t+=e.getUint32(t+4,i);var o=e.getUint16(t,i);t+=2;for(var s=0;s<o;s++)if(274==e.getUint16(t+12*s,i))return d(e.getUint16(t+12*s+8,i))}else{if(65280!=(65280&a))break;t+=e.getUint16(t,!1)}}return d(-1)},e.onerror=function(t){return r(t)},e.readAsArrayBuffer(o)})}function T(d,e){var r=d.width,t=d.height,a=e.maxWidthOrHeight,i=d,o;if(isFinite(a)&&(r>a||t>a)){var n=_(I(r,t),2);i=n[0],o=n[1],r>t?(i.width=a,i.height=t/r*a):(i.width=r/t*a,i.height=a),o.drawImage(d,0,0,i.width,i.height),A(d)}return i}function E(d,e){var r=d.width,n=d.height,t=_(I(r,n),2),a=t[0],i=t[1];switch(4<e&&9>e?(a.width=n,a.height=r):(a.width=r,a.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r);}return i.drawImage(d,0,0,r,n),A(d),a}function I(o,e){var r,n;try{if(null===(n=(r=new OffscreenCanvas(o,e)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(t){n=(r=document.createElement("canvas")).getContext("2d")}return r.width=o,r.height=e,[r,n]}function A(t){t.width=0,t.height=0}function v(S,P){return new Promise(function(e,r){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5;n+=t,P.onProgress(R(n,100))}function a(t){n=R(Math.max(t,n),100),P.onProgress(n)}var n,C,o,s,c,u,l,O,m,L,N,d,p,i,h,v;return n=0,C=P.maxIteration||10,o=1024*(1024*P.maxSizeMB),t(),x(S).then(function(n){try{var x=_(n,2);return x[0],s=x[1],t(),c=T(s,P),t(),new Promise(function(e,r){function t(){return e(o)}var o;return(o=P.exifOrientation)?t.call(this):y(S).then(function(n){try{return o=n,t.call(this)}catch(t){return r(t)}}.bind(this),r)}).then(function(n){try{return P.exifOrientation=n,t(),M.then(function(y){try{return u=y?c:E(c,P.exifOrientation),t(),l=1,b(u,P.fileType||S.type,S.name,S.lastModified,l).then(function(y){try{{function x(){if(C--&&(p>o||p>N)){var e=_(I(s=m?.95*v.width:v.width,n=m?.95*v.height:v.height),2),s,n;return h=e[0],e[1].drawImage(v,0,0,s,n),"image/jpeg"===S.type&&(l*=.95),b(h,P.fileType||S.type,S.name,S.lastModified,l).then(function(t){try{return i=t,A(v),v=h,p=i.size,a(R(99,D(100*((d-p)/(d-o))))),x}catch(t){return r(t)}},r)}return[1]}function T(){return A(v),A(h),A(c),A(u),A(s),a(100),e(i)}if(O=y,t(),m=O.size>o,L=O.size>S.size,!m&&!L)return a(100),e(O);var n;return N=S.size,d=O.size,p=d,v=u,(n=function(t){for(;t;){if(t.then)return void t.then(n,r);try{if(t.pop){if(t.length)return t.pop()?T.call(this):t;t=x}else t=t.call(this)}catch(t){return r(t)}}}.bind(this))(x)}}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)})}function S(){return function(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}("\n    function imageCompression (){return (".concat(P,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(P.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(P.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(P.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(P.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(P.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(P.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(P.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(P.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(P.followExifOrientation,"\n    imageCompression.cleanupMemory = ").concat(P.cleanupMemory,"\n\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupMemory = imageCompression.cleanupMemory\n\n    getNewCanvasAndCtx = ").concat(I,"\n    \n    CustomFileReader = FileReader\n    \n    CustomFile = File\n    \n    function _slicedToArray(arr, n) { return arr }\n    \n    function _typeof(a) { return typeof a }\n\n    function compress (){return (").concat(v,").apply(null, arguments)}\n    "))}function C(){return function(t){return"function"==typeof t&&(t="(".concat(f,")()")),new Worker(URL.createObjectURL(new Blob([t])))}("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function P(a,e){return new Promise(function(r,n){function o(){try{d.name=a.name,d.lastModified=a.lastModified}catch(t){}return r(d)}var d,s,h;if(e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,s="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,void 0===e.onProgress&&(e.onProgress=function(){}),!(a instanceof Blob||a instanceof L))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(a.type))return n(new Error("The file given is not an image"));if(h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!s||"function"!=typeof Worker||h)return v(a,e).then(function(t){try{return d=t,o.call(this)}catch(t){return n(t)}}.bind(this),n);var u=function(){try{return o.call(this)}catch(t){return n(t)}}.bind(this),l=function(){try{return v(a,e).then(function(t){try{return d=t,u()}catch(t){return n(t)}},n)}catch(t){return n(t)}};try{return function(a,d){return new Promise(function(r,n){return new Promise(function(o){var s=F++;return i||(i=S()),B||(B=C()),B.addEventListener("message",function t(o){if(o.data.id===s){if(void 0!==o.data.progress)return void d.onProgress(o.data.progress);B.removeEventListener("message",t),o.data.error&&n(new Error(o.data.error)),r(o.data.file)}}),B.addEventListener("error",n),B.postMessage({file:a,id:s,imageCompressionLibUrl:i,options:p(p({},d),{},{onProgress:void 0})}),o()})})}(a,e).then(function(t){try{return d=t,u()}catch(t){return l()}},l)}catch(t){l()}})}var O=Number.isInteger,R=Math.min,D=Math.floor,w="undefined"!=typeof window,e=w&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),L=w&&(e&&e.getOriginalSymbol(window,"File")||File),N=w&&(e&&e.getOriginalSymbol(window,"FileReader")||FileReader),M=w&&new Promise(function(o,d){var e,r,t,a;return h("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(n){try{return x(e=n).then(function(n){try{return b(r=n[1],e.type,e.name,e.lastModified).then(function(e){try{return t=e,A(r),c(t).then(function(e){try{return m(e).then(function(e){try{return o(1===(a=e).width&&2===a.height)}catch(t){return d(t)}},d)}catch(t){return d(t)}},d)}catch(t){return d(t)}},d)}catch(t){return d(t)}},d)}catch(t){return d(t)}},d)});w&&(O=O||function(t){return"number"==typeof t&&isFinite(t)&&D(t)===t});var F=0,i,B;P.getDataUrlFromFile=c,P.getFilefromDataUrl=h,P.loadImage=m,P.drawImageInCanvas=g,P.drawFileInCanvas=x,P.canvasToFile=b,P.getExifOrientation=y,P.handleMaxWidthOrHeight=T,P.followExifOrientation=E,P.cleanupMemory=A,P.version="1.0.12",d.a=P},4:function(e,t,r){"use strict";var o=Math.sqrt,n=Math.abs,i=Math.atan2,a=Math.sin,d=Math.cos,s=Math.ceil,l=Math.PI,p=Math.max,u=Math.min,c=Math.floor;r.d(t,"a",function(){return x}),r.d(t,"b",function(){return g}),r.d(t,"c",function(){return b}),r.d(t,"d",function(){return A}),r.d(t,"e",function(){return I}),r.d(t,"f",function(){return h}),r.d(t,"g",function(){return v}),r.d(t,"h",function(){return T}),r.d(t,"i",function(){return m}),r.d(t,"j",function(){return y}),r.d(t,"k",function(){return E}),r.d(t,"l",function(){return _}),r.d(t,"m",function(){return N}),r.d(t,"n",function(){return L});/*!
 * @pixi/math - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var h=2*l,m=180/l,g=l/180,_;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(_||(_={}));var y=function(){function e(e,t,r,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=+e,this.y=+t,this.width=+r,this.height=+o,this.type=_.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(0>=this.width||0>=this.height)&&!!(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=p(this.x,e.x),r=u(this.x+this.width,e.x+e.width),o=p(this.y,e.y),n=u(this.y+this.height,e.y+e.height);return this.x=t,this.width=p(r-t,0),this.y=o,this.height=p(n-o,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var r=s((this.x+this.width-t)*e)/e,o=s((this.y+this.height-t)*e)/e;return this.x=c((this.x+t)*e)/e,this.y=c((this.y+t)*e)/e,this.width=r-this.x,this.height=o-this.y,this},e.prototype.enlarge=function(e){var t=u(this.x,e.x),r=p(this.x+this.width,e.x+e.width),o=u(this.y,e.y),n=p(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=o,this.height=n-o,this},e}(),x=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.radius=r,this.type=_.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var r=this.radius*this.radius,o=this.x-e,n=this.y-t;return o*=o,n*=n,o+n<=r},e.prototype.getBounds=function(){return new y(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),b=function(){function e(e,t,r,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===o&&(o=0),this.x=e,this.y=t,this.width=r,this.height=o,this.type=_.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var r=(e-this.x)/this.width,o=(t-this.y)/this.height;return r*=r,o*=o,1>=r+o},e.prototype.getBounds=function(){return new y(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),T=function(){function e(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var o=Array.isArray(t[0])?t[0]:t;if("number"!=typeof o[0]){for(var n=[],a=0,i=o.length;a<i;a++)n.push(o[a].x,o[a].y);o=n}this.points=o,this.type=_.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(e,t){for(var r=!1,o=this.points.length/2,n=0,a=o-1;n<o;a=n++){var i=this.points[2*n],d=this.points[2*n+1],s=this.points[2*a],l=this.points[2*a+1];d>t!=l>t&&e<(s-i)*((t-d)/(l-d))+i&&(r=!r)}return r},e}(),E=function(){function e(e,t,r,o,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===n&&(n=20),this.x=e,this.y=t,this.width=r,this.height=o,this.radius=n,this.type=_.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var r=e-(this.x+this.radius),o=t-(this.y+this.radius),n=this.radius*this.radius;if(r*r+o*o<=n)return!0;if(r=e-(this.x+this.width-this.radius),r*r+o*o<=n)return!0;if(o=t-(this.y+this.height-this.radius),r*r+o*o<=n)return!0;if(r=e-(this.x+this.radius),r*r+o*o<=n)return!0}return!1},e}(),v=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),I=function(){function e(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=0),this._x=r,this._y=o,this.cb=e,this.scope=t}return e.prototype.clone=function(t,r){return void 0===t&&(t=this.cb),void 0===r&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),A=function(){function e(e,t,r,o,n,a){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=o,this.tx=n,this.ty=a}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,o,n,a){return this.a=e,this.b=t,this.c=r,this.d=o,this.tx=n,this.ty=a,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new v;var r=e.x,o=e.y;return t.x=this.a*r+this.c*o+this.tx,t.y=this.b*r+this.d*o+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new v;var r=1/(this.a*this.d+this.c*-this.b),o=e.x,n=e.y;return t.x=this.d*r*o+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=d(e),r=a(e),o=this.a,n=this.c,i=this.tx;return this.a=o*t-this.b*r,this.b=o*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=i*t-this.ty*r,this.ty=i*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,o=this.c,n=this.d;return this.a=e.a*t+e.b*o,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*o,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*o+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,r,o,n,i,s,l,p){return this.a=d(s+p)*n,this.b=a(s+p)*n,this.c=-a(s-l)*i,this.d=d(s-l)*i,this.tx=e-(r*this.a+o*this.c),this.ty=t-(r*this.b+o*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,o=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=o*e.a+this.d*e.c,this.d=o*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,a=this.c,s=this.d,d=-i(-a,s),l=i(r,t),p=n(d+l);return 1e-5>p||1e-5>n(h-p)?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=l),e.scale.x=o(t*t+r*r),e.scale.y=o(a*a+s*s),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,o=this.d,a=this.tx,i=e*o-t*r;return this.a=o/i,this.b=-t/i,this.c=-r/i,this.d=e/i,this.tx=(r*this.ty-o*a)/i,this.ty=-(e*this.ty-t*a)/i,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),S=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],C=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],P=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],O=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],R=[],D=[],w=Math.sign;(function(){for(var e=0,t;16>e;e++){t=[],R.push(t);for(var r=0;16>r;r++)for(var o=w(S[e]*S[r]+P[e]*C[r]),n=w(C[e]*S[r]+O[e]*C[r]),a=w(S[e]*P[r]+P[e]*O[r]),i=w(C[e]*P[r]+O[e]*O[r]),d=0;16>d;d++)if(S[d]===o&&C[d]===n&&P[d]===a&&O[d]===i){t.push(d);break}}for(var e=0,s;16>e;e++)s=new A,s.set(S[e],C[e],P[e],O[e],0,0),D.push(s)})();var L={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return S[e]},uY:function(e){return C[e]},vX:function(e){return P[e]},vY:function(e){return O[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return R[e][t]},sub:function(e,t){return R[e][L.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){if(2*n(e)<=n(t))return 0<=t?L.S:L.N;return 2*n(t)<=n(e)?0<e?L.E:L.W:0<t?0<e?L.SE:L.SW:0<e?L.NE:L.NW},matrixAppendRotationInv:function(e,t,r,o){void 0===r&&(r=0),void 0===o&&(o=0);var n=D[L.inv(t)];n.tx=r,n.ty=o,e.append(n)}},N=function(){function e(){this.worldTransform=new A,this.localTransform=new A,this.position=new I(this.onChange,this,0,0),this.scale=new I(this.onChange,this,1,1),this.pivot=new I(this.onChange,this,0,0),this.skew=new I(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=d(this._rotation+this.skew.y),this._sx=a(this._rotation+this.skew.y),this._cy=-a(this._rotation-this.skew.x),this._sy=d(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,o=this.worldTransform;o.a=t.a*r.a+t.b*r.c,o.b=t.a*r.b+t.b*r.d,o.c=t.c*r.a+t.d*r.c,o.d=t.c*r.b+t.d*r.d,o.tx=t.tx*r.a+t.ty*r.c+r.tx,o.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}()},46:function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0,o;r<t.length;r++)o=t[r],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=function(){function e(t,o,n){void 0===o&&(o=!1),r(this,e),this._fn=t,this._once=o,this._thisArg=n,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),i=function(){function e(){r(this,e),this._head=this._tail=void 0}return n(e,[{key:"handlers",value:function(){var e=!(0>=arguments.length||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r}},{key:"has",value:function(e){if(!(e instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new a(e,!1,t))}},{key:"once",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new a(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();i.MiniSignalBinding=a,t["default"]=i,e.exports=t["default"]},5:function(e,t,r){"use strict";function o(e,t){if(!e)return null;var r="";if("string"==typeof e){var o=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);o&&(r=o[1].toLowerCase())}for(var n=B.length-1,a;0<=n;--n)if(a=B[n],a.test&&a.test(e,r))return new a(e,t);throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function n(e,t){function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new ae(new X(new W(e)))}function i(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}function d(e){if(4===e.BYTES_PER_ELEMENT){if(e instanceof Float32Array)return"Float32Array";return e instanceof Uint32Array?"Uint32Array":"Int32Array"}if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array";}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function s(e,t){for(var r=0,o=0,n={},a=0;a<e.length;a++)o+=t[a],r+=e[a].length;for(var i=new ArrayBuffer(4*r),s=null,l=0,a=0;a<e.length;a++){var p=t[a],u=e[a],c=d(u);n[c]||(n[c]=new ue[c](i)),s=n[c];for(var h=0;h<u.length;h++){var m=(0|h/p)*o+l,g=h%p;s[m+g]=u[h]}l+=p}return new Float32Array(i)}function l(e,t,r){var o=e.createShader(t);return e.shaderSource(o,r),e.compileShader(o),o}function p(e,t,r,o){var n=l(e,e.VERTEX_SHADER,t),a=l(e,e.FRAGMENT_SHADER,r),d=e.createProgram();if(e.attachShader(d,n),e.attachShader(d,a),o)for(var s in o)e.bindAttribLocation(d,o[s],s);return e.linkProgram(d),e.getProgramParameter(d,e.LINK_STATUS)||(!e.getShaderParameter(n,e.COMPILE_STATUS)&&(console.warn(t),console.error(e.getShaderInfoLog(n))),!e.getShaderParameter(a,e.COMPILE_STATUS)&&(console.warn(r),console.error(e.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(d,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(d)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(d)),e.deleteProgram(d),d=null),e.deleteShader(n),e.deleteShader(a),d}function u(e){for(var t=Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function c(e,t){return"float"===e?0:"vec2"===e?new Float32Array(2*t):"vec3"===e?new Float32Array(3*t):"vec4"===e?new Float32Array(4*t):"int"===e||"sampler2D"===e||"sampler2DArray"===e?0:"ivec2"===e?new Int32Array(2*t):"ivec3"===e?new Int32Array(3*t):"ivec4"===e?new Int32Array(4*t):"bool"!=e&&("bvec2"===e?u(2*t):"bvec3"===e?u(3*t):"bvec4"===e?u(4*t):"mat2"===e?new Float32Array([1,0,0,1]):"mat3"===e?new Float32Array([1,0,0,0,1,0,0,0,1]):"mat4"===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):null)}function h(){if(Ne===Le||Ne&&Ne.isContextLost()){var e=document.createElement("canvas"),t=void 0;D.b.PREFER_ENV>=w.f.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Ne=t}return Ne}function m(){if(!Mt){Mt=w.l.MEDIUM;var e=h();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Mt=t.precision?w.l.HIGH:w.l.MEDIUM}}return Mt}function g(e,t,r){if("precision"!==e.substring(0,9)){var o=t;return t===w.l.HIGH&&r!==w.l.HIGH&&(o=w.l.MEDIUM),"precision "+o+" float;\n"+e}return r!==w.l.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}function _(e){return Me[e]}function y(e,t){if(!Fe){var r=Object.keys(Be);Fe={};for(var o=0,n;o<r.length;++o)n=r[o],Fe[e[n]]=Be[n]}return Fe[t]}function x(e,t){var r=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var o in e.uniforms){var n=t[o];if(!n){e.uniforms[o].group&&r.push("\n                    renderer.shader.syncUniformGroup(uv[\""+o+"\"], syncData);\n                ");continue}for(var a=e.uniforms[o],i=!1,d=0;d<Ue.length;d++)if(Ue[d].test(n,a)){r.push(Ue[d].code(o,a)),i=!0;break}if(!i){var s=1===n.size?ke:He,l=s[n.type].replace("location","ud[\""+o+"\"].location");r.push("\n            cv = ud[\""+o+"\"].value;\n            v = uv[\""+o+"\"];\n            "+l+";")}}return new Function("ud","uv","renderer","syncData",r.join("\n"))}function b(e){for(var t="",r=0;r<e;++r)0<r&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function T(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER),o;o=Ge.replace(/%forloop%/gi,b(e)),t.shaderSource(r,o),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS);)e=0|e/2;return e}function E(){if("boolean"==typeof Ft)return Ft;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Ft=!0===e({a:"b"},"a","b")}catch(t){Ft=!1}return Ft}function v(e,t){return void 0===t&&(t=[]),t[w.b.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.ADD]=[e.ONE,e.ONE],t[w.b.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.NONE]=[0,0],t[w.b.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[w.b.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[w.b.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[w.b.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[w.b.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[w.b.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[w.b.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[w.b.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[w.b.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[w.b.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[w.b.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}function I(e){return Et.create(e)}var A=Math.atan2,S=Math.ceil,C=Math.PI,P=Math.round,O=Math.min,R=Math.floor;r.d(t,"a",function(){return Tt}),r.d(t,"b",function(){return re}),r.d(t,"c",function(){return X}),r.d(t,"d",function(){return At}),r.d(t,"e",function(){return Rt}),r.d(t,"f",function(){return Nt}),r.d(t,"g",function(){return St}),r.d(t,"h",function(){return pe}),r.d(t,"i",function(){return Je}),r.d(t,"j",function(){return fe}),r.d(t,"k",function(){return Ee}),r.d(t,"l",function(){return Ve}),r.d(t,"m",function(){return _e}),r.d(t,"n",function(){return ie}),r.d(t,"o",function(){return Et}),r.d(t,"p",function(){return Ye}),r.d(t,"q",function(){return Ze}),r.d(t,"r",function(){return ae}),r.d(t,"s",function(){return et}),r.d(t,"t",function(){return xe}),r.d(t,"u",function(){return I}),r.d(t,"v",function(){return It}),r.d(t,"w",function(){return vt}),r.d(t,"x",function(){return J});var D=r(9),w=r(3),L=r(2),N=r(31),M=r(17),F=r(4);/*!
 * @pixi/core - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */D.b.PREFER_ENV=L.n.any?w.f.WEBGL:w.f.WEBGL2,D.b.STRICT_TEXTURE_CACHE=!1;var B=[],U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},U(e,t)},k=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new N.a("setRealSize"),this.onUpdate=new N.a("update"),this.onError=new N.a("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(){return!1},e}(),H=function(e){function t(t,r){var o=this,n=r||{},a=n.width,i=n.height;if(!a||!i)throw new Error("BufferResource width or height invalid");return o=e.call(this,a,i)||this,o.data=t,o}return n(t,e),t.prototype.upload=function(e,t,r){var o=e.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===w.a.UNPACK),r.width===t.width&&r.height===t.height?o.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(r.width=t.width,r.height=t.height,o.texImage2D(t.target,0,r.internalFormat,t.width,t.height,0,t.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(k),G={scaleMode:w.n.NEAREST,format:w.g.RGBA,alphaMode:w.a.NPM},X=function(e){function t(t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=e.call(this)||this;r=r||{};var a=r.alphaMode,i=r.mipmap,d=r.anisotropicLevel,s=r.scaleMode,l=r.width,p=r.height,u=r.wrapMode,c=r.format,h=r.type,m=r.target,g=r.resolution,_=r.resourceOptions;return t&&!(t instanceof k)&&(t=o(t,_),t.internal=!0),n.width=l||0,n.height=p||0,n.resolution=g||D.b.RESOLUTION,n.mipmap=void 0===i?D.b.MIPMAP_TEXTURES:i,n.anisotropicLevel=void 0===d?D.b.ANISOTROPIC_LEVEL:d,n.wrapMode=u||D.b.WRAP_MODE,n.scaleMode=void 0===s?D.b.SCALE_MODE:s,n.format=c||w.g.RGBA,n.type=h||w.p.UNSIGNED_BYTE,n.target=m||w.o.TEXTURE_2D,n.alphaMode=void 0===a?w.a.UNPACK:a,void 0!==r.premultiplyAlpha&&(n.premultiplyAlpha=r.premultiplyAlpha),n.uid=Object(L.C)(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=0<l&&0<p,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(t),n}return n(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return S(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return S(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Object(L.o)(this.realWidth)&&Object(L.o)(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete L.a[this.cacheId],delete L.e[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,o){void 0===o&&(o=D.b.STRICT_TEXTURE_CACHE);var n="string"==typeof e,a=null;n?a=e:(!e._pixiId&&(e._pixiId="pixiid_"+Object(L.C)()),a=e._pixiId);var i=L.a[a];if(n&&o&&!i)throw new Error("The cacheId \""+a+"\" does not exist in BaseTextureCache.");return i||(i=new t(e,r),i.cacheId=a,t.addToCache(i,a)),i},t.fromBuffer=function(e,r,o,n){e=e||new Float32Array(4*(r*o));var a=new H(e,{width:r,height:o}),i=e instanceof Float32Array?w.p.FLOAT:w.p.UNSIGNED_BYTE;return new t(a,Object.assign(G,n||{width:r,height:o,type:i}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),L.a[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),L.a[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=L.a[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete L.a[e],t}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete L.a[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(L.c),z=function(e){function t(t,r){var o=this,n=r||{},a=n.width,d=n.height;o=e.call(this,a,d)||this,o.items=[],o.itemDirtyIds=[];for(var s=0,i;s<t;s++)i=new X,o.items.push(i),o.itemDirtyIds.push(-2);return o.length=t,o._load=null,o.baseTexture=null,o}return n(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof k?this.addResourceAt(e[r],r):this.addResourceAt(o(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(e){return e.resource}).filter(function(e){return e}),r=t.map(function(e){return e.load()});return this._load=Promise.all(r).then(function(){var t=e.items[0],r=t.realWidth,o=t.realHeight;return e.resize(r,o),Promise.resolve(e)}),this._load},t}(k),V=function(e){function t(t,r){var o=this,n=r||{},a=n.width,i=n.height,d,s;return Array.isArray(t)?(d=t,s=t.length):s=t,o=e.call(this,s,{width:a,height:i})||this,d&&o.initFromArray(d,r),o}return n(t,e),t.prototype.addBaseTextureAt=function(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=w.o.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,r){var o=this,n=o.length,a=o.itemDirtyIds,d=o.items,s=e.gl;0>r.dirtyId&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,n,0,t.format,t.type,null);for(var l=0,i;l<n;l++)i=d[l],a[l]<i.dirtyId&&(a[l]=i.dirtyId,i.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,l,i.resource.width,i.resource.height,1,t.format,t.type,i.resource.source));return!0},t}(z),Y=function(e){function t(t){var r=this,o=t,n=o.naturalWidth||o.videoWidth||o.width,a=o.naturalHeight||o.videoHeight||o.height;return r=e.call(this,n,a)||this,r.source=t,r.noSubImage=!1,r}return n(t,e),t.crossOrigin=function(e,t,r){void 0===r&&0!==t.indexOf("data:")?e.crossOrigin=Object(L.i)(t):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,t,r,o){var n=e.gl,a=t.realWidth,i=t.realHeight;return o=o||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===w.a.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||r.width!==a||r.height!==i?(r.width=a,r.height=i,n.texImage2D(t.target,0,t.format,t.format,t.type,o)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,t.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,o=t.naturalHeight||t.videoHeight||t.height;this.resize(r,o),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(k),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(Y),j=function(e){function t(r,o){var n=this,a=o||{},d=a.width,s=a.height,l=a.autoLoad,p=a.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=e.call(this,6,{width:d,height:s})||this;for(var u=0;u<t.SIDES;u++)n.items[u].target=w.o.TEXTURE_CUBE_MAP_POSITIVE_X+u;return n.linkBaseTexture=!1!==p,r&&n.initFromArray(r,o),!1!==l&&n.load(),n}return n(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=w.o.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length))e.target=w.o.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;else if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,r,o){for(var n=this.itemDirtyIds,a=0,i;a<t.SIDES;a++)i=this.items[a],n[a]<i.dirtyId&&(i.valid&&i.resource?(i.resource.upload(e,i,o),n[a]=i.dirtyId):-1>n[a]&&(e.gl.texImage2D(i.target,0,o.internalFormat,r.realWidth,r.realHeight,0,r.format,o.type,null),n[a]=-1));return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(z),q=function(e){function t(t,r){var o=this;if(r=r||{},!(t instanceof HTMLImageElement)){var n=new Image;Y.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}return o=e.call(this,t)||this,t.complete||!o._width||!o._height||(o._width=0,o._height=0),o.url=t.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(void 0===r.createBitmap?D.b.CREATE_IMAGE_BITMAP:r.createBitmap)&&!!window.createImageBitmap,o.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,void 0!==r.premultiplyAlpha&&(o.premultiplyAlpha=r.premultiplyAlpha),o.bitmap=null,o._load=null,!1!==r.autoLoad&&o.load(),o}return n(t,e),t.prototype.load=function(e){var t=this;return this._load?this._load:(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,r){var o=t.source;t.url=o.src;var n=function(){t.destroyed||(o.onload=null,o.onerror=null,t.resize(o.width,o.height),t._load=null,t.createBitmap?e(t.process()):e(t))};o.complete&&o.src?n():(o.onload=n,o.onerror=function(e){r(e),t.onError.emit(e)})}),this._load)},t.prototype.process=function(){var e=this,t=this.source;return null===this._process?null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===w.a.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this):this._process},t.prototype.upload=function(t,r,o){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,r,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,r,o,this.bitmap),!this.preserveBitmap){var n=!0,a=r._glTextures;for(var i in a){var d=a[i];if(d!==o&&d.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Y),K=function(e){function t(t,r){var o=this;return r=r||{},o=e.call(this,document.createElement("canvas"))||this,o._width=0,o._height=0,o.svg=t,o.scale=r.scale||1,o._overrideWidth=r.width,o._overrideHeight=r.height,o._resolve=null,o._crossorigin=r.crossorigin,o._load=null,!1!==r.autoLoad&&o.load(),o}return n(t,e),t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,t=new Image;Y.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var r=t.width,o=t.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),n=P(n),a=P(a);var i=e.source;i.width=n,i.height=a,i._pixiId="canvas_"+Object(L.C)(),i.getContext("2d").drawImage(t,0,0,r,o,0,0,n,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),o={};return r&&(o[r[1]]=P(parseFloat(r[3])),o[r[5]]=P(parseFloat(r[7]))),o},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&0===e.indexOf("data:image/svg+xml;base64")||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Y),Q=function(e){function t(r,o){var n=this;if(o=o||{},!(r instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var d=r[0].src||r[0];Y.crossOrigin(a,d,o.crossorigin);for(var s=0;s<r.length;++s){var i=document.createElement("source"),l=r[s],p=l.src,u=l.mime;p=p||r[s];var c=p.split("?").shift().toLowerCase(),h=c.substr(c.lastIndexOf(".")+1);u=u||t.MIME_TYPES[h]||"video/"+h,i.src=p,i.type=u,a.appendChild(i)}r=a}return n=e.call(this,r)||this,n.noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=o.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==o.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==o.autoLoad&&n.load(),n}return n(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var r=M.a.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=R(this._msToNextUpdate-r),(!this._updateFPS||0>=this._msToNextUpdate)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?R(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,t.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(M.a.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(M.a.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&M.a.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(M.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(M.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return e instanceof HTMLVideoElement||-1<t.TYPES.indexOf(r)},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Y),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(Y);B.push(q,Z,W,Q,K,H,j,V);var J={Resource:k,BaseImageResource:Y,INSTALLED:B,autoDetectResource:o,AbstractMultiResource:z,ArrayResource:V,BufferResource:H,CanvasResource:W,CubeResource:j,ImageResource:q,SVGResource:K,VideoResource:Q,ImageBitmapResource:Z},$=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.upload=function(e,t,r){var o=e.gl;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===w.a.UNPACK),r.width===t.width&&r.height===t.height?o.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(r.width=t.width,r.height=t.height,o.texImage2D(t.target,0,1===e.context.webGLVersion?o.DEPTH_COMPONENT:o.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(H),te=function(){function e(e,t){this.width=S(e||100),this.height=S(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new N.a("disposeFramebuffer"),this.multisample=w.k.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new X(null,{scaleMode:w.n.NEAREST,resolution:1,mipmap:w.j.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new X(new ee(null,{width:this.width,height:this.height}),{scaleMode:w.n.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:w.j.OFF,format:w.g.DEPTH_COMPONENT,type:w.p.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=S(e),t=S(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var o=this.colorTextures[r],n=o.resolution;o.setSize(e/n,t/n)}if(this.depthTexture){var n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),re=function(e){function t(t){var r=this;if("number"==typeof t){var o=arguments[0],n=arguments[1],a=arguments[2],i=arguments[3];t={width:o,height:n,scaleMode:a,resolution:i}}r=e.call(this,null,t)||this;var d=t||{},s=d.width,l=d.height;return r.mipmap=0,r.width=S(s)||100,r.height=S(l)||100,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new te(r.width*r.resolution,r.height*r.resolution).addColorTexture(0,r),r.maskStack=[],r.filterStack=[{}],r}return n(t,e),t.prototype.resize=function(e,t){e=S(e),t=S(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(X),oe=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var o=t.width,n=t.height;if(r){var a=e.width/2/o,i=e.height/2/n,d=e.x/o+a,s=e.y/n+i;r=F.n.add(r,F.n.NW),this.x0=d+a*F.n.uX(r),this.y0=s+i*F.n.uY(r),r=F.n.add(r,2),this.x1=d+a*F.n.uX(r),this.y1=s+i*F.n.uY(r),r=F.n.add(r,2),this.x2=d+a*F.n.uX(r),this.y2=s+i*F.n.uY(r),r=F.n.add(r,2),this.x3=d+a*F.n.uX(r),this.y3=s+i*F.n.uY(r)}else this.x0=e.x/o,this.y0=e.y/n,this.x1=(e.x+e.width)/o,this.y1=e.y/n,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/n,this.x3=e.x/o,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),ne=new oe,ae=function(e){function t(r,o,n,a,i,d){var s=e.call(this)||this;if(s.noFrame=!1,o||(s.noFrame=!0,o=new F.j(0,0,1,1)),r instanceof t&&(r=r.baseTexture),s.baseTexture=r,s._frame=o,s.trim=a,s.valid=!1,s._uvs=ne,s.uvMatrix=null,s.orig=n||o,s._rotate=+(i||0),!0===i)s._rotate=2;else if(0!=s._rotate%2)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return s.defaultAnchor=d?new F.g(d.x,d.y):new F.g(0,0),s._updateID=0,s.textureCacheIds=[],r.valid?s.noFrame?r.valid&&s.onBaseTextureUpdated(r):s.frame=o:r.once("loaded",s.onBaseTextureUpdated,s),s.noFrame&&r.on("update",s.onBaseTextureUpdated,s),s}return n(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture;r&&r.url&&L.e[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===ne&&(this._uvs=new oe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,o){void 0===r&&(r={}),void 0===o&&(o=D.b.STRICT_TEXTURE_CACHE);var n="string"==typeof e,a=null;n?a=e:(!e._pixiId&&(e._pixiId="pixiid_"+Object(L.C)()),a=e._pixiId);var i=L.e[a];if(n&&o&&!i)throw new Error("The cacheId \""+a+"\" does not exist in TextureCache.");return i||(!r.resolution&&(r.resolution=Object(L.k)(e)),i=new t(new X(e,r)),i.baseTexture.cacheId=a,X.addToCache(i.baseTexture,a),t.addToCache(i,a)),i},t.fromURL=function(e,r){var o=Object.assign({autoLoad:!1},null===r||void 0===r?void 0:r.resourceOptions),n=t.from(e,Object.assign({resourceOptions:o},r),!1),a=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):a.load().then(function(){return Promise.resolve(n)})},t.fromBuffer=function(e,r,o,n){return new t(X.fromBuffer(e,r,o,n))},t.fromLoader=function(e,r,o){var n=new q(e);n.url=r;var a=new X(n,{scaleMode:D.b.SCALE_MODE,resolution:Object(L.k)(r)}),i=new t(a);return o||(o=r),X.addToCache(i.baseTexture,o),t.addToCache(i,o),o!==r&&(X.addToCache(i.baseTexture,r),t.addToCache(i,r)),i},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),L.e[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),L.e[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=L.e[e];if(t){var r=t.textureCacheIds.indexOf(e);return-1<r&&t.textureCacheIds.splice(r,1),delete L.e[e],t}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)L.e[e.textureCacheIds[o]]===e&&delete L.e[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,o=e.width,n=e.height,a=t+o>this.baseTexture.width,i=r+n>this.baseTexture.height;if(a||i){var d=a&&i?"and":"or",s="X: "+t+" + "+o+" = "+(t+o)+" > "+this.baseTexture.width,l="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(s+" "+d+" "+l))}this.valid=o&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(L.c);ae.EMPTY=new ae(new X()),i(ae.EMPTY),i(ae.EMPTY.baseTexture),ae.WHITE=a(),i(ae.WHITE),i(ae.WHITE.baseTexture);var ie=function(e){function t(t,r){var o=this,n=null;if(!(t instanceof re)){var a=arguments[1],i=arguments[2],d=arguments[3],s=arguments[4];console.warn("Please use RenderTexture.create("+a+", "+i+") instead of the ctor directly."),n=arguments[0],r=null,t=new re({width:a,height:i,scaleMode:d,resolution:s})}return o=e.call(this,t,r)||this,o.legacyRenderer=n,o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return n(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0),e=S(e),t=S(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution===e||(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new re(e))},t}(ae),de=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var r=new re(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new ie(r)},e.prototype.getOptimalTexture=function(t,r,o){void 0===o&&(o=1);var n=e.SCREEN_KEY;t*=o,r*=o,this.enableFullScreen&&t===this._pixelsWidth&&r===this._pixelsHeight||(t=Object(L.r)(t),r=Object(L.r)(r),n=(65535&t)<<16|65535&r),this.texturePool[n]||(this.texturePool[n]=[]);var a=this.texturePool[n].pop();return a||(a=this.createTexture(t,r)),a.filterPoolKey=n,a.setResolution(o),a},e.prototype.getFilterTexture=function(e,t){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e,e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var o=0;o<r.length;o++)r[o].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var r=e.SCREEN_KEY,o=this.texturePool[r];if(this.enableFullScreen=0<t.width&&0<t.height,o)for(var n=0;n<o.length;n++)o[n].destroy(!0);this.texturePool[r]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),se=function(){function e(e,t,r,o,n,a,i){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===o&&(o=5126),this.buffer=e,this.size=t,this.normalized=r,this.type=o,this.stride=n,this.start=a,this.instance=i}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,o,n,a){return new e(t,r,o,n,a)},e}(),le=0,pe=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=le++,this.disposeRunner=new N.a("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),ue={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},ce={5126:4,5123:2,5121:1},he=0,me={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},fe=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=he++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new N.a("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,o,n,a,d,s){if(void 0===r&&(r=0),void 0===o&&(o=!1),void 0===s&&(s=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof pe||(t instanceof Array&&(t=new Float32Array(t)),t=new pe(t));var l=e.split("|");if(1<l.length){for(var p=0;p<l.length;p++)this.addAttribute(l[p],t,r,o,n);return this}var i=this.buffers.indexOf(t);return-1===i&&(this.buffers.push(t),i=this.buffers.length-1),this.attributes[e]=new se(i,r,o,n,a,d,s),this.instanced=this.instanced||s,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof pe||(e instanceof Array&&(e=new Uint16Array(e)),e=new pe(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e=[],t=[],r=new pe,o;for(o in this.attributes){var n=this.attributes[o],a=this.buffers[n.buffer];e.push(a.data),t.push(n.size*ce[n.type]/4),n.buffer=0}for(r.data=s(e,t),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e],r=this.buffers[t.buffer];return r.data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new pe(this.buffers[r].data.slice(0));for(var r in this.attributes){var o=this.attributes[r];t.attributes[r]=new se(o.buffer,o.size,o.normalized,o.type,o.stride,o.start,o.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var r=new e,o=[],n=[],a=[],s=0,i;s<t.length;s++){i=t[s];for(var l=0;l<i.buffers.length;l++)n[l]=n[l]||0,n[l]+=i.buffers[l].data.length,a[l]=0}for(var s=0;s<i.buffers.length;s++)o[s]=new me[d(i.buffers[s].data)](n[s]),r.buffers[s]=new pe(o[s]);for(var s=0;s<t.length;s++){i=t[s];for(var l=0;l<i.buffers.length;l++)o[l].set(i.buffers[l].data,a[l]),a[l]+=i.buffers[l].data.length}if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.index=!0;for(var p=0,u=0,c=0,h=0,s=0;s<i.buffers.length;s++)if(i.buffers[s]!==i.indexBuffer){h=s;break}for(var s in i.attributes){var m=i.attributes[s];(0|m.buffer)===h&&(u+=m.size*ce[m.type]/4)}for(var s=0,g;s<t.length;s++){g=t[s].indexBuffer.data;for(var l=0;l<g.length;l++)r.indexBuffer.data[l+c]+=p;p+=i.buffers[h].data.length/u,c+=g.length}}return r},e}(),ge=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return n(t,e),t}(fe),_e=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new pe(t.vertices),t.uvBuffer=new pe(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return n(t,e),t.prototype.map=function(e,t){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+t.width/e.width,this.uvs[3]=o,this.uvs[4]=r+t.width/e.width,this.uvs[5]=o+t.height/e.height,this.uvs[6]=r,this.uvs[7]=o+t.height/e.height,r=t.x,o=t.y,this.vertices[0]=r,this.vertices[1]=o,this.vertices[2]=r+t.width,this.vertices[3]=o,this.vertices[4]=r+t.width,this.vertices[5]=o+t.height,this.vertices[6]=r,this.vertices[7]=o+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(fe),ye=0,xe=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ye++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,r,o){this.uniforms[t]=new e(r,o)},e.from=function(t,r){return new e(t,r)},e}(),be=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new F.j,this.destinationFrame=new F.j,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Te=function(e){function t(t){var r=e.call(this,t)||this;return r.defaultFilterStack=[{}],r.texturePool=new de,r.texturePool.setScreenSize(t.view),r.statePool=[],r.quad=new ge,r.quadUv=new _e,r.tempRect=new F.j,r.activeState={},r.globalUniforms=new xe({outputFrame:r.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),r.forceClear=!1,r.useMaxPadding=!1,r}return n(t,e),t.prototype.push=function(e,t){for(var r=this.renderer,o=this.defaultFilterStack,n=this.statePool.pop()||new be,a=t[0].resolution,d=t[0].padding,s=t[0].autoFit,l=t[0].legacy,p=1,i;p<t.length;p++)i=t[p],a=O(a,i.resolution),d=this.useMaxPadding?Math.max(d,i.padding):d+i.padding,s=s||i.autoFit,l=l||i.legacy;1===o.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),o.push(n),n.resolution=a,n.legacy=l,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(d),s&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(a),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,a),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var u=this.tempRect;u.width=n.sourceFrame.width,u.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame,u),r.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),o=r.filters;this.activeState=r;var n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;var a=n.inputSize,d=n.inputPixel,s=n.inputClamp;if(a[0]=r.destinationFrame.width,a[1]=r.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],d[0]=a[0]*r.resolution,d[1]=a[1]*r.resolution,d[2]=1/d[0],d[3]=1/d[1],s[0]=.5*d[2],s[1]=.5*d[3],s[2]=r.sourceFrame.width*a[2]-.5*d[2],s[3]=r.sourceFrame.height*a[3]-.5*d[3],r.legacy){var l=n.filterArea;l[0]=r.destinationFrame.width,l[1]=r.destinationFrame.height,l[2]=r.sourceFrame.x,l[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var p=e[e.length-1];if(1<r.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===o.length)o[0].apply(this,r.renderTexture,p.renderTexture,w.d.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;var h=0;for(h=0;h<o.length-1;++h){o[h].apply(this,u,c,w.d.CLEAR,r);var i=u;u=c,c=i}o[h].apply(this,u,p.renderTexture,w.d.BLEND,r),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,t){if(void 0===t&&(t=w.d.CLEAR),e&&e.filterFrame){var r=this.tempRect;r.width=e.filterFrame.width,r.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,r)}else this.renderer.renderTexture.bind(e);"boolean"==typeof t&&(t=t?w.d.CLEAR:w.d.BLEND,Object(L.h)("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===w.d.CLEAR||t===w.d.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,t,r,o){var n=this.renderer;this.bindAndClear(r,o),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.state.set(e.state),n.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(w.e.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(w.e.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,o=r.sourceFrame,n=r.destinationFrame,a=t._texture.orig,i=e.set(n.width,0,0,n.height,o.x,o.y),d=t.worldTransform.copyTo(F.d.TEMP_MATRIX);return d.invert(),i.prepend(d),i.scale(1/a.width,1/a.height),i.translate(t.anchor.x,t.anchor.y),i},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,r){return void 0===r&&(r=1),this.texturePool.getOptimalTexture(e,t,r)},t.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return o.filterFrame=e.filterFrame,o},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}($),Ee=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(){},e}(),ve=function(e){function t(t){var r=e.call(this,t)||this;return r.emptyRenderer=new Ee(t),r.currentRenderer=r.emptyRenderer,r}return n(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,o=t-1;0<=o;--o)e[o]=r[o]||null,e[o]&&(e[o]._batchLocation=o)},t.prototype.boundArray=function(e,t,r,o){for(var n=e.elements,a=e.ids,d=e.count,s=0,l=0;l<d;l++){var i=n[l],p=i._batchLocation;if(0<=p&&p<o&&t[p]===i){a[l]=p;continue}for(;s<o;){var u=t[s];if(u&&u._batchEnabled===r&&u._batchLocation===s){s++;continue}a[l]=s,i._batchLocation=s,t[s]=i;break}}},t}($),Ie=0,Ae=function(e){function t(t){var r=e.call(this,t)||this;return r.webGLVersion=1,r.extensions={},r.supports={uint32Indices:!1},r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),t.view.addEventListener("webglcontextlost",r.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r}return n(t,e),Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ie++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ie++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var r;if(D.b.PREFER_ENV>=w.f.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}($),Se=function(){return function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=w.k.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}}(),Ce=new F.j,Pe=function(e){function t(t){var r=e.call(this,t)||this;return r.managedFramebuffers=[],r.unknownFramebuffer=new te(10,10),r.msaaSamples=null,r}return n(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new F.j,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;D.b.PREFER_ENV===w.f.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,t){var r=this.gl;if(e){var o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat===e.dirtyFormat?o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)):(o.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)));for(var n=0,a;n<e.colorTextures.length;n++)a=e.colorTextures[n],this.renderer.texture.unbind(a.parentTextureArray||a);e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,r,o){var n=this.viewport;(n.width!==r||n.height!==o||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=r,n.height=o,this.gl.viewport(e,t,r,o))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t,r,o,n){void 0===n&&(n=w.c.COLOR|w.c.DEPTH);var a=this.gl;a.clearColor(e,t,r,o),a.clear(n)},t.prototype.initFramebuffer=function(e){var t=this.gl,r=new Se(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var o=e.colorTextures,n=0;n<o.length;n++)this.renderer.texture.bind(o[n],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures,n=o.length;t.drawBuffers||(n=O(n,1)),1<r.multisample&&(r.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,r.msaaBuffer));for(var a=[],d=0;d<n;d++)if(!(0===d&&1<r.multisample)){var i=e.colorTextures[d],s=i.parentTextureArray||i;this.renderer.texture.bind(s,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+d,i.target,s._glTextures[this.CONTEXT_UID].texture,0),a.push(t.COLOR_ATTACHMENT0+d)}if(1<a.length&&t.drawBuffers(a),e.depthTexture){var l=this.writeDepthTexture;if(l){var p=e.depthTexture;this.renderer.texture.bind(p,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,0)}}!r.stencil&&(e.stencil||e.depth)&&(r.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),!e.depthTexture&&t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,r.stencil))},t.prototype.detectSamples=function(e){var t=this.msaaSamples,r=w.k.NONE;if(1>=e||null===t)return r;for(var o=0;o<t.length;o++)if(t[o]<=e){r=t[o];break}return 1===r&&(r=w.k.NONE),r},t.prototype.blit=function(e,t,r){var o=this,n=o.current,a=o.renderer,i=o.gl,d=o.CONTEXT_UID;if(2===a.context.webGLVersion&&n){var s=n.glFramebuffers[d];if(s){if(!e){if(1>=s.multisample)return;s.blitFramebuffer||(s.blitFramebuffer=new te(n.width,n.height),s.blitFramebuffer.addColorTexture(0,n.colorTextures[0])),e=s.blitFramebuffer,e.width=n.width,e.height=n.height}t||(t=Ce,t.width=n.width,t.height=n.height),r||(r=t);var l=t.width===r.width&&t.height===r.height;this.bind(e),i.bindFramebuffer(i.READ_FRAMEBUFFER,s.framebuffer),i.blitFramebuffer(t.x,t.y,t.width,t.height,r.x,r.y,r.width,r.height,i.COLOR_BUFFER_BIT,l?i.NEAREST:i.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],o=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);0<=n&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(o.deleteFramebuffer(r.framebuffer),r.stencil&&o.deleteRenderbuffer(r.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var r=e.width,o=e.height,n=this.gl,a=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,a),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,o),t.stencil=a,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,a)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new F.j},t}($),Oe=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),Re={5126:4,5123:2,5121:1},De=function(e){function t(t){var r=e.call(this,t)||this;return r._activeGeometry=null,r._activeVao=null,r.hasVao=!0,r.hasInstance=!0,r.canUseUInt32ElementIndex=!1,r.managedGeometries={},r.managedBuffers={},r}return n(t,e),t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!e.createVertexArray){var r=this.renderer.context.extensions.vertexArrayObject;D.b.PREFER_ENV===w.f.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=function(){return r.createVertexArrayOES()},e.bindVertexArray=function(e){return r.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return r.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(!e.vertexAttribDivisor){var o=e.getExtension("ANGLE_instanced_arrays");o?(e.vertexAttribDivisor=function(e,t){return o.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(t,r,n,a,i){return o.drawElementsInstancedANGLE(t,r,n,a,i)},e.drawArraysInstanced=function(e,t,r,n){return o.drawArraysInstancedANGLE(e,t,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,o=e.glVertexArrayObjects[this.CONTEXT_UID];o||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=o={});var n=o[t.program.id]||this.initGeometryVao(e,t.program);this._activeGeometry=e,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,r=0;r<e.buffers.length;r++){var o=e.buffers[r],n=o._glBuffers[this.CONTEXT_UID];if(o._updateID!==n.updateID){n.updateID=o._updateID;var a=o.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(a,n.buffer),this._boundBuffer=n,n.byteLength>=o.data.byteLength)t.bufferSubData(a,0,o.data);else{var i=o.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=o.data.byteLength,t.bufferData(a,o.data,i)}}}},t.prototype.checkCompatibility=function(e,t){var r=e.attributes,o=t.attributeData;for(var n in o)if(!r[n])throw new Error("shader and geometry incompatible, geometry missing the \""+n+"\" attribute")},t.prototype.getSignature=function(e,t){var r=e.attributes,o=t.attributeData,n=["g",e.id];for(var a in r)o[a]&&n.push(a);return n.join("-")},t.prototype.initGeometryVao=function(e,t){this.checkCompatibility(e,t);var r=this.gl,o=this.CONTEXT_UID,n=this.getSignature(e,t),a=e.glVertexArrayObjects[this.CONTEXT_UID],d=a[n];if(d)return a[t.id]=d,d;var s=e.buffers,l=e.attributes,p={},u={};for(var c in s)p[c]=0,u[c]=0;for(var c in l)!l[c].size&&t.attributeData[c]?l[c].size=t.attributeData[c].size:!l[c].size&&console.warn("PIXI Geometry attribute '"+c+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[l[c].buffer]+=l[c].size*Re[l[c].type];for(var c in l){var h=l[c],m=h.size;void 0===h.stride&&(p[h.buffer]===m*Re[h.type]?h.stride=0:h.stride=p[h.buffer]),void 0===h.start&&(h.start=u[h.buffer],u[h.buffer]+=m*Re[h.type])}d=r.createVertexArray(),r.bindVertexArray(d);for(var g=0,i;g<s.length;g++)i=s[g],i._glBuffers[o]||(i._glBuffers[o]=new Oe(r.createBuffer()),this.managedBuffers[i.id]=i,i.disposeRunner.add(this)),i._glBuffers[o].refCount++;return this.activateVao(e,t),this._activeVao=d,a[t.id]=d,a[n]=d,d},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],o=this.gl;e.disposeRunner.remove(this),r&&(!t&&o.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,n=e.buffers;if(e.disposeRunner.remove(this),!!r){for(var a=0,i;a<n.length;a++)i=n[a]._glBuffers[this.CONTEXT_UID],i.refCount--,0!==i.refCount||t||this.disposeBuffer(n[a],t);if(!t)for(var d in r)if("g"===d[0]){var s=r[d];this._activeVao===s&&this.unbind(),o.deleteVertexArray(s)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e);t=Object.keys(this.managedBuffers);for(var r=0;r<t.length;r++)this.disposeBuffer(this.managedBuffers[t[r]],e)},t.prototype.activateVao=function(e,t){var r=this.gl,o=this.CONTEXT_UID,n=e.buffers,a=e.attributes;e.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[o].buffer);var i=null;for(var d in a){var s=a[d],l=n[s.buffer],p=l._glBuffers[o];if(t.attributeData[d]){i!==p&&(r.bindBuffer(r.ARRAY_BUFFER,p.buffer),i=p);var u=t.attributeData[d].location;if(r.enableVertexAttribArray(u),r.vertexAttribPointer(u,s.size,s.type||r.FLOAT,s.normalized,s.stride,s.start),s.instance)if(this.hasInstance)r.vertexAttribDivisor(u,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,t,r,o){var n=this.gl,a=this._activeGeometry;if(a.indexBuffer){var i=a.indexBuffer.data.BYTES_PER_ELEMENT,d=2===i?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===i||4===i&&this.canUseUInt32ElementIndex?a.instanced?n.drawElementsInstanced(e,t||a.indexBuffer.data.length,d,(r||0)*i,o||1):n.drawElements(e,t||a.indexBuffer.data.length,d,(r||0)*i):console.warn("unsupported index buffer type: uint32")}else a.instanced?n.drawArraysInstanced(e,r,t||a.getSize(),o||1):n.drawArrays(e,r,t||a.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}($),we=function(){function e(e){void 0===e&&(e=null),this.type=w.i.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=w.i.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}(),Le={},Ne=Le,Me={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},Fe=null,Be={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Ue=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return"\n            if(uv[\""+e+"\"] !== ud[\""+e+"\"].value)\n            {\n                ud[\""+e+"\"].value = uv[\""+e+"\"]\n                gl.uniform1f(ud[\""+e+"\"].location, uv[\""+e+"\"])\n            }\n            "}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return"t = syncData.textureCount++;\n\n            renderer.texture.bind(uv[\""+e+"\"], t);\n\n            if(ud[\""+e+"\"].value !== t)\n            {\n                ud[\""+e+"\"].value = t;\n                gl.uniform1i(ud[\""+e+"\"].location, t);\n; // eslint-disable-line max-len\n            }"}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&t.a!==void 0},code:function(e){return"\n            gl.uniformMatrix3fv(ud[\""+e+"\"].location, false, uv[\""+e+"\"].toArray(true));\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&t.x!==void 0},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud[\""+e+"\"].location, v.x, v.y);\n                }"}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud[\""+e+"\"].location, v[0], v[1]);\n                }\n            "}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&t.width!==void 0},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud[\""+e+"\"].location, v.x, v.y, v.width, v.height)\n                }"}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud[\""+e+"\"].location, v[0], v[1], v[2], v[3])\n                }"}}],ke={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},He={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Ge="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}",Xe=0,ze={},Ve=function(){function e(t,r,o){void 0===o&&(o="pixi-shader"),this.id=Xe++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),ze[o]?(ze[o]++,o+="-"+ze[o]):ze[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=g(this.vertexSrc,D.b.PRECISION_VERTEX,w.l.HIGH),this.fragmentSrc=g(this.fragmentSrc,D.b.PRECISION_FRAGMENT,m())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(e,t){var r=h();if(r){var o=p(r,e,t);this.attributeData=this.getAttributeData(o,r),this.uniformData=this.getUniformData(o,r),r.deleteProgram(o)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(e,t){for(var r={},o=[],n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<n;a++){var i=t.getActiveAttrib(e,a),d=y(t,i.type),s={type:d,name:i.name,size:_(d),location:0};r[i.name]=s,o.push(s)}o.sort(function(e,t){return e.name>t.name?1:-1});for(var a=0;a<o.length;a++)o[a].location=a;return r},e.prototype.getUniformData=function(e,t){for(var r={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<o;n++){var a=t.getActiveUniform(e,n),i=a.name.replace(/\[.*?\]$/,""),d=a.name.match(/\[.*?\]$/),s=y(t,a.type);r[i]={type:s,size:a.size,isArray:d,value:c(s,a.size)}}return r},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,r,o){var n=t+r,a=L.d[n];return a||(L.d[n]=a=new e(t,r,o)),a},e}(),Ye=function(){function e(e,t){for(var r in this.program=e,this.uniformGroup=t?t instanceof xe?t:new xe(t):new xe({}),e.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var o=t.uniforms[r];if(o.group&&this.checkUniformExists(e,o))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,o){var n=Ve.from(t,r);return new e(n,o)},e}(),We=0,je=1,qe=2,Ke=3,Qe=4,Ze=function(){function e(){this.data=0,this.blendMode=w.b.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<We)},set:function(e){!!(this.data&1<<We)!==e&&(this.data^=1<<We)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<je)},set:function(e){!!(this.data&1<<je)!==e&&(this.data^=1<<je)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<qe)},set:function(e){!!(this.data&1<<qe)!==e&&(this.data^=1<<qe)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ke)},set:function(e){!!(this.data&1<<Ke)!==e&&(this.data^=1<<Ke)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Qe)},set:function(e){!!(this.data&1<<Qe)!==e&&(this.data^=1<<Qe)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==w.b.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),Je=function(e){function t(r,o,n){var a=this,i=Ve.from(r||t.defaultVertexSrc,o||t.defaultFragmentSrc);return a=e.call(this,i,n)||this,a.padding=0,a.resolution=D.b.FILTER_RESOLUTION,a.enabled=!0,a.autoFit=!0,a.legacy=!!a.program.attributeData.aTextureCoord,a.state=new Ze,a}return n(t,e),t.prototype.apply=function(e,t,r,o){e.applyFilter(this,t,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Ye),$e=new F.d,et=function(){function e(e,t){this._texture=e,this.mapCoord=new F.d,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"==typeof t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,o=0;o<e.length;o+=2){var n=e[o],a=e[o+1];t[o]=n*r.a+a*r.c+r.tx,t[o+1]=n*r.b+a*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var o=t.orig,n=t.trim;n&&($e.set(o.width/n.width,0,0,o.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append($e));var a=t.baseTexture,i=this.uClampFrame,d=this.clampMargin/a.resolution,s=this.clampOffset;return i[0]=(t._frame.x+d+s)/a.width,i[1]=(t._frame.y+d+s)/a.height,i[2]=(t._frame.x+t._frame.width-d+s)/a.width,i[3]=(t._frame.y+t._frame.height-d+s)/a.height,this.uClampOffset[0]=s/a.realWidth,this.uClampOffset[1]=s/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&0===t.rotate,!0},e}(),tt=function(e){function t(t){var r=this,o=new F.d;return r=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,t.renderable=!1,r.maskSprite=t,r.maskMatrix=o,r}return n(t,e),t.prototype.apply=function(e,t,r,o){var n=this.maskSprite,a=n._texture;a.valid&&(!a.uvMatrix&&(a.uvMatrix=new et(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,r,o))},t}(Je),rt=function(e){function t(t){var r=e.call(this,t)||this;return r.enableScissor=!1,r.alphaMaskPool=[],r.maskDataPool=[],r.maskStack=[],r.alphaMaskIndex=0,r}return n(t,e),t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){var r=t;if(!r.isMaskData){var o=this.maskDataPool.pop()||new we;o.pooled=!0,o.maskObject=t,r=o}switch(r.autoDetect&&this.detect(r),r.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),r._target=e,r.type){case w.i.SCISSOR:this.maskStack.push(r),this.renderer.scissor.push(r);break;case w.i.STENCIL:this.maskStack.push(r),this.renderer.stencil.push(r);break;case w.i.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r),this.maskStack.push(r);break;default:}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case w.i.SCISSOR:this.renderer.scissor.pop();break;case w.i.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case w.i.SPRITE:this.popSpriteMask();break;default:}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)return void(e.type=w.i.SPRITE);if(e.type=w.i.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var r=t.worldTransform,o=A(r.b,r.a),n=A(r.d,r.c);o=P(100*(o*(180/C))),n=P(100*(n*(180/C)))-o,o=(o%9e3+9e3)%9e3,n=(n%18e3+18e3)%18e3,0===o&&9e3===n&&(e.type=w.i.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,r=e._target,o=this.alphaMaskPool[this.alphaMaskIndex];o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new tt(t)]),o[0].resolution=this.renderer.resolution,o[0].maskSprite=t;var n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,o),r.filterArea=n,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}($),ot=function(e){function t(t){var r=e.call(this,t)||this;return r.maskStack=[],r.glConst=0,r}return n(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var o=this.getStackLength();o!==r&&(0===o?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}($),nt=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return n(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var r=e._scissorRect,o=t.getBounds(!0),n=this.renderer.gl;t.renderable=!1,r?o.fit(r):n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=o,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;0<this.getStackLength()?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,r=this.renderer.projection,o=r.transform,n=r.sourceFrame,a=r.destinationFrame,i=t?t.resolution:this.renderer.resolution,d=(e.x-n.x)*i+a.x,s=(e.y-n.y)*i+a.y,l=e.width*i,p=e.height*i;o&&(d+=o.tx*i,s+=o.ty*i),t||(s=this.renderer.height-p-s),this.renderer.gl.scissor(d,s,l,p)},t}(ot),at=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return n(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,this._getBitwiseMask()),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(ot),it=function(e){function t(t){var r=e.call(this,t)||this;return r.destinationFrame=null,r.sourceFrame=null,r.defaultFrame=null,r.projectionMatrix=new F.d,r.transform=null,r}return n(t,e),t.prototype.update=function(e,t,r,o){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,o),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,r,o){var n=this.projectionMatrix,a=o?-1:1;n.identity(),n.a=2*(1/t.width),n.d=a*(2*(1/t.height)),n.tx=-1-t.x*n.a,n.ty=-a-t.y*n.d},t.prototype.setTransform=function(){},t}($),dt=new F.j,st=new F.j,lt=new F.j,pt=function(e){function t(t){var r=e.call(this,t)||this;return r.clearColor=t._backgroundColorRgba,r.defaultMaskStack=[],r.current=null,r.sourceFrame=new F.j,r.destinationFrame=new F.j,r}return n(t,e),t.prototype.bind=function(e,t,r){void 0===e&&(e=null);var o=this.renderer;this.current=e;var n,a,i;e?(n=e.baseTexture,i=n.resolution,!t&&(dt.width=e.frame.width,dt.height=e.frame.height,t=dt),!r&&(st.x=e.frame.x,st.y=e.frame.y,st.width=t.width,st.height=t.height,r=st),a=n.framebuffer):(i=o.resolution,!t&&(dt.width=o.screen.width,dt.height=o.screen.height,t=dt),!r&&(r=dt,r.width=t.width,r.height=t.height)),lt.x=r.x*i,lt.y=r.y*i,lt.width=r.width*i,lt.height=r.height*i,this.renderer.framebuffer.bind(a,lt),this.renderer.projection.update(r,t,i,!a),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}($),ut=function(){return function(){}}(),ct=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),ht=0,mt={textureCount:0},ft=function(e){function t(t){var r=e.call(this,t)||this;return r.destroyed=!1,r.systemCheck(),r.gl=null,r.shader=null,r.program=null,r.cache={},r.id=ht++,r}return n(t,e),t.prototype.systemCheck=function(){if(!E())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,o=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(o.program)),t||(mt.textureCount=0,this.syncUniformGroup(e.uniformGroup,mt)),o},t.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var r=this.getglProgram();e.static&&e.dirtyId===r.uniformGroups[e.id]||(r.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},t.prototype.syncUniforms=function(e,t,r){var o=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);o(t.uniformData,e.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=x(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var r=e.uniforms,o=[];for(var n in r)o.push(n),t[n]&&o.push(t[n].type);return o.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,r=e.program,o={};for(var n in r.attributeData)o[n]=r.attributeData[n].location;var a=p(t,r.vertexSrc,r.fragmentSrc,o),i={};for(var n in r.uniformData){var d=r.uniformData[n];i[n]={location:t.getUniformLocation(a,n),value:c(d.type,d.size)}}var s=new ct(a,i);return r.glPrograms[this.renderer.CONTEXT_UID]=s,s},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}($),gt=function(e){function t(t){var r=e.call(this,t)||this;return r.gl=null,r.stateId=0,r.polygonOffset=0,r.blendMode=w.b.NONE,r._blendEq=!1,r.map=[],r.map[0]=r.setBlend,r.map[1]=r.setOffset,r.map[2]=r.setCullFace,r.map[3]=r.setDepthTest,r.map[4]=r.setFrontFace,r.checks=[],r.defaultState=new Ze,r.defaultState.blend=!0,r}return n(t,e),t.prototype.contextChange=function(e){this.gl=e,this.blendModes=v(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):!t&&-1!==r&&this.checks.splice(r,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},t}($),_t=function(e){function t(t){var r=e.call(this,t)||this;return r.count=0,r.checkCount=0,r.maxIdle=D.b.GC_MAX_IDLE,r.checkCountMax=D.b.GC_MAX_CHECK_COUNT,r.mode=D.b.GC_MODE,r}return n(t,e),t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode===w.h.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,o=0,n;o<t.length;o++)n=t[o],!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[o]=null,r=!0);if(r){for(var a=0,o=0;o<t.length;o++)null!==t[o]&&(t[a++]=t[o]);t.length=a}},t.prototype.unload=function(e){var t=this.renderer.texture,r;(null===(r=e._texture)||void 0===r?void 0:r.framebuffer)&&t.destroyTexture(e._texture);for(var o=e.children.length-1;0<=o;o--)this.unload(e.children[o])},t}($),yt=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}(),xt=function(e){function t(t){var r=e.call(this,t)||this;return r.boundTextures=[],r.currentLocation=-1,r.managedTextures=[],r._unknownBoundTextures=!1,r.unknownTexture=new X,r}return n(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var o=new yt(e.createTexture());e.bindTexture(e.TEXTURE_2D,o.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=o,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new yt(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var r=0;6>r;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if(e){if(e=e.castToBaseTexture(),e.parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var o=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,o.texture)),o.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this,r=t.gl,o=t.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<o.length;n++)o[n]===this.unknownTexture&&this.bind(null,n)}for(var n=0;n<o.length;n++)o[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[e.target].texture),o[n]=null)},t.prototype.initTexture=function(e){var t=new yt(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var r=this.renderer.gl;e.type===r.FLOAT&&e.format===r.RGBA&&(t.internalFormat=r.RGBA32F),e.type===w.p.HALF_FLOAT&&(t.type=r.HALF_FLOAT),t.type===r.HALF_FLOAT&&e.format===r.RGBA&&(t.internalFormat=r.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t));else{var o=e.realWidth,n=e.realHeight,a=r.gl;(t.width!==o||t.height!==n||0>t.dirtyId)&&(t.width=o,t.height=n,a.texImage2D(e.target,0,t.internalFormat,o,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var r=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var o=this.managedTextures.indexOf(e);-1!==o&&Object(L.w)(this.managedTextures,o,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){if(t.mipmap=!!(e.mipmap!==w.j.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&1<=e.mipmap,t.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:w.q.CLAMP,e.resource&&e.resource.style(this.renderer,e,t));else this.setStyle(e,t);t.dirtyStyleId=e.dirtyStyleId}},t.prototype.setStyle=function(e,t){var r=this.gl;if(t.mipmap&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===w.n.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&0<e.anisotropicLevel&&e.scaleMode===w.n.LINEAR){var n=O(e.anisotropicLevel,r.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,o.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===w.n.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===w.n.LINEAR?r.LINEAR:r.NEAREST)},t}($),bt=new F.d,Tt=function(e){function t(t,r){void 0===t&&(t=w.m.UNKNOWN);var o=e.call(this)||this;return r=Object.assign({},D.b.RENDER_OPTIONS,r),r.roundPixels&&(D.b.ROUND_PIXELS=r.roundPixels,Object(L.h)("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),o.options=r,o.type=t,o.screen=new F.j(0,0,r.width,r.height),o.view=r.view||document.createElement("canvas"),o.resolution=r.resolution||D.b.RESOLUTION,o.transparent=r.transparent,o.autoDensity=r.autoDensity||r.autoResize||!1,o.preserveDrawingBuffer=r.preserveDrawingBuffer,o.clearBeforeRender=r.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,0],o._backgroundColorString="#000000",o.backgroundColor=r.backgroundColor||o._backgroundColor,o._lastObjectRendered=null,o.plugins={},o}return n(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},t.prototype.generateTexture=function(e,t,r,o){o=o||e.getLocalBounds(null,!0),0===o.width&&(o.width=1),0===o.height&&(o.height=1);var n=ie.create({width:0|o.width,height:0|o.height,scaleMode:t,resolution:r});return bt.tx=-o.x,bt.ty=-o.y,this.render(e,n,!1,bt,!!e.parent),n},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=w.m.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Object(L.m)(e),Object(L.l)(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(L.c),Et=function(e){function t(r){var o=e.call(this,w.m.WEBGL,r)||this;return r=o.options,o.gl=null,o.CONTEXT_UID=0,o.runners={destroy:new N.a("destroy"),contextChange:new N.a("contextChange"),reset:new N.a("reset"),update:new N.a("update"),postrender:new N.a("postrender"),prerender:new N.a("prerender"),resize:new N.a("resize")},o.globalUniforms=new xe({projectionMatrix:new F.d},!0),o.addSystem(rt,"mask").addSystem(Ae,"context").addSystem(gt,"state").addSystem(ft,"shader").addSystem(xt,"texture").addSystem(De,"geometry").addSystem(Pe,"framebuffer").addSystem(nt,"scissor").addSystem(at,"stencil").addSystem(it,"projection").addSystem(_t,"textureGC").addSystem(Te,"filter").addSystem(pt,"renderTexture").addSystem(ve,"batch"),o.initPlugins(t.__plugins),r.context?o.context.initFromContext(r.context):o.context.initFromOptions({alpha:!!o.transparent,antialias:r.antialias,premultipliedAlpha:o.transparent&&"notMultiplied"!==o.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:o.options.powerPreference}),o.renderingToScreen=!0,Object(L.y)(2===o.context.webGLVersion?"WebGL 2":"WebGL 1"),o.resize(o.options.width,o.options.height),o}return n(t,e),t.create=function(e){if(Object(L.p)())return new t(e);throw new Error("WebGL unsupported in this browser, use \"pixi.js-legacy\" for fallback canvas2d support.")},t.prototype.addSystem=function(e,t){t||(t=e.name);var r=new e(this);if(this[t])throw new Error("Whoops! The name \""+t+"\" is already in use");for(var o in this[t]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,t,r,o,n){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(t||(this._lastObjectRendered=e),!n){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0===r?this.clearBeforeRender:r)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(t,r)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var o in this.runners.destroy.emit(),this.runners)this.runners[o].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,r){t.__plugins=t.__plugins||{},t.__plugins[e]=r},t}(Tt),vt="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",It="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",At=function(){return function(){this.texArray=null,this.blend=0,this.type=w.e.TRIANGLES,this.start=0,this.size=0,this.data=null}}(),St=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),Ct=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type");}},e}(),Pt=function(e){function t(t){var r=e.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Ze.for2d(),r.size=4*D.b.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return n(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;D.b.PREFER_ENV===w.f.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=O(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),D.b.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=T(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,o=this.size/4,n=R(o/this.MAX_TEXTURES)+1;e.length<o;)e.push(new At);for(;r.length<n;)r.push(new St);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this,r=e._bufferedTextures,o=e.MAX_TEXTURES,n=t._textureArrayPool,a=this.renderer.batch,d=this._tempBoundTextures,s=this.renderer.textureGC.count,l=++X._globalBatch,p=0,u=n[0],c=0;a.copyBoundTextures(d,o);for(var h=0,i;h<this._bufferSize;++h)(i=r[h],r[h]=null,i._batchEnabled!==l)&&(u.count>=o&&(a.boundArray(u,d,l,o),this.buildDrawCalls(u,c,h),c=h,u=n[++p],++l),i._batchEnabled=l,i.touched=s,u.elements[u.count++]=i);0<u.count&&(a.boundArray(u,d,l,o),this.buildDrawCalls(u,c,this._bufferSize),++p,++l);for(var h=0;h<d.length;h++)d[h]=null;X._globalBatch=l},t.prototype.buildDrawCalls=function(e,r,o){var n=this,a=n._bufferedElements,d=n._attributeBuffer,s=n._indexBuffer,l=n.vertexSize,p=t._drawCallPool,u=this._dcIndex,c=this._aIndex,h=this._iIndex,m=p[u];m.start=this._iIndex,m.texArray=e;for(var g=r;g<o;++g){var i=a[g],_=i._texture.baseTexture,y=L.s[_.alphaMode?1:0][i.blendMode];a[g]=null,r<g&&m.blend!==y&&(m.size=h-m.start,r=g,m=p[++u],m.texArray=e,m.start=h),this.packInterleavedGeometry(i,d,s,c,h),c+=i.vertexData.length/2*l,h+=i.indices.length,m.blend=y}r<o&&(m.size=h-m.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=h},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;D.b.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,o=r.gl,n=r.state,a=t._drawCallPool,d=null,s=0;s<e;s++){var i=a[s],l=i.texArray,p=i.type,u=i.size,c=i.start,h=i.blend;d!==l&&(d=l,this.bindAndClearTexArray(l)),this.state.blendMode=h,n.set(this.state),o.drawElements(p,u,o.UNSIGNED_SHORT,2*c)}},t.prototype.flush=function(){0===this._vertexCount||(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),D.b.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=Object(L.r)(S(e/8)),r=Object(L.q)(t),o=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[o];return n||(this._aBuffers[o]=n=new Ct(4*(o*this.vertexSize))),n},t.prototype.getIndexBuffer=function(e){var t=Object(L.r)(S(e/12)),r=Object(L.q)(t);this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var o=this._iBuffers[r];return o||(this._iBuffers[r]=o=new Uint16Array(12*t)),o},t.prototype.packInterleavedGeometry=function(e,t,r,o,n){for(var a=t.uint32View,d=t.float32View,s=o/this.vertexSize,l=e.uvs,p=e.indices,u=e.vertexData,c=e._texture.baseTexture._batchLocation,h=O(e.worldAlpha,1),m=1>h&&e._texture.baseTexture.alphaMode?Object(L.u)(e._tintRGB,h):e._tintRGB+(255*h<<24),g=0;g<u.length;g+=2)d[o++]=u[g],d[o++]=u[g+1],d[o++]=l[g],d[o++]=l[g+1],a[o++]=m,d[o++]=c;for(var g=0;g<p.length;g++)r[n++]=s+p[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Ee),Ot=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},0>t.indexOf("%count%"))throw new Error("Fragment template must contain \"%count%\".");if(0>t.indexOf("%forloop%"))throw new Error("Fragment template must contain \"%forloop%\".")}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=xe.from({uSamplers:t},!0);var o=this.fragTemplate;o=o.replace(/%count%/gi,""+e),o=o.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ve(this.vertexSrc,o)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new F.d,default:this.defaultGroupCache[e]};return new Ye(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)0<r&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n",t},e}(),Rt=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this)||this;return r._buffer=new pe(null,t,!1),r._indexBuffer=new pe(null,t,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,w.p.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,w.p.FLOAT).addAttribute("aColor",r._buffer,4,!0,w.p.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,w.p.FLOAT).addIndex(r._indexBuffer),r}return n(t,e),t}(fe),Dt="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",wt="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Lt=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Dt,fragment:wt,geometryClass:Rt,vertexSize:6},e),r=t.vertex,o=t.fragment,a=t.vertexSize,i=t.geometryClass;return function(e){function t(t){var n=e.call(this,t)||this;return n.shaderGenerator=new Ot(r,o),n.geometryClass=i,n.vertexSize=a,n}return n(t,e),t}(Pt)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Dt},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return wt},enumerable:!1,configurable:!0}),e}(),Nt=Lt.create(),Mt,Ft},57:function(e,t,r){"use strict";function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function n(e,t,r){if(e&&d.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}var a=r(154),d=r(156);t.parse=n,t.resolve=function(e,t){return n(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?n(e,!1,!0).resolveObject(t):t},t.format=function(e){return d.isString(e)&&(e=n(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var u=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),p=["'"].concat(l),c=["%","/","?",";","#"].concat(p),h=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(157);o.prototype.parse=function(e,t,r){if(!d.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),n=-1!==o&&o<e.indexOf("#")?"?":"#",T=e.split(n),E=/\\/g;T[0]=T[0].replace(E,"/"),e=T.join(n);var v=e;if(v=v.trim(),!r&&1===e.split("#").length){var I=s.exec(v);if(I)return this.path=v,this.href=v,this.pathname=I[1],I[2]?(this.search=I[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=u.exec(v);if(A){A=A[0];var S=A.toLowerCase();this.protocol=S,v=v.substr(A.length)}if(r||A||v.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===v.substr(0,2);C&&!(A&&y[A])&&(v=v.substr(2),this.slashes=!0)}if(!y[A]&&(C||A&&!x[A])){for(var P=-1,O=0,i;O<h.length;O++)i=v.indexOf(h[O]),-1!==i&&(-1===P||i<P)&&(P=i);var R,D;D=-1===P?v.lastIndexOf("@"):v.lastIndexOf("@",P),-1!==D&&(R=v.slice(0,D),v=v.slice(D+1),this.auth=decodeURIComponent(R)),P=-1;for(var O=0,i;O<c.length;O++)i=v.indexOf(c[O]),-1!==i&&(-1===P||i<P)&&(P=i);-1===P&&(P=v.length),this.host=v.slice(0,P),v=v.slice(P),this.parseHost(),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w)for(var L=this.hostname.split(/\./),O=0,N=L.length,l;O<N;O++)if(l=L[O],l&&!l.match(m)){for(var M="",F=0,B=l.length;F<B;F++)M+=127<l.charCodeAt(F)?"x":l[F];if(!M.match(m)){var U=L.slice(0,O),k=L.slice(O+1),H=l.match(g);H&&(U.push(H[1]),k.unshift(H[2])),k.length&&(v="/"+k.join(".")+v),this.hostname=U.join(".");break}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),w||(this.hostname=a.toASCII(this.hostname));var G=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+G,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!_[S])for(var O=0,N=p.length,z;O<N;O++)if(z=p[O],-1!==v.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),v=v.split(z).join(V)}var Y=v.indexOf("#");-1!==Y&&(this.hash=v.substr(Y),v=v.slice(0,Y));var W=v.indexOf("?");if(-1===W?t&&(this.search="",this.query={}):(this.search=v.substr(W),this.query=v.substr(W+1),t&&(this.query=b.parse(this.query)),v=v.slice(0,W)),v&&(this.pathname=v),x[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var G=this.pathname||"",j=this.search||"";this.path=G+j}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",o=this.hash||"",n=!1,a="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&!1!=n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):!n&&(n=""),o&&"#"!==o.charAt(0)&&(o="#"+o),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+n+r+i+o},o.prototype.resolve=function(e){return this.resolveObject(n(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(d.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0,l;a<n.length;a++)l=n[a],r[l]=this[l];if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0,h;c<u.length;c++)h=u[c],"protocol"!==h&&(r[h]=e[h]);return x[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!x[e.protocol]){for(var m=Object.keys(e),g=0,_;g<m.length;g++)_=m[g],r[_]=e[_];return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!y[e.protocol]){for(var b=(e.pathname||"").split("/");b.length&&!(e.host=b.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==b[0]&&b.unshift(""),2>b.length&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var T=r.pathname||"",p=r.search||"";r.path=T+p}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var s=r.pathname&&"/"===r.pathname.charAt(0),E=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=E||s||r.host&&e.pathname,I=v,A=r.pathname&&r.pathname.split("/")||[],b=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!x[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(""===A[0]?A[0]=r.host:A.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===b[0]?b[0]=e.host:b.unshift(e.host)),e.host=null),v=v&&(""===b[0]||""===A[0])),E)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,A=b;else if(b.length)A||(A=[]),A.pop(),A=A.concat(b),r.search=e.search,r.query=e.query;else if(!d.isNullOrUndefined(e.search)){if(S){r.hostname=r.host=A.shift();var C=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return r.search=e.search,r.query=e.query,d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!A.length)return r.pathname=null,r.path=r.search?"/"+r.search:null,r.href=r.format(),r;for(var P=A.slice(-1)[0],O=(r.host||e.host||1<A.length)&&("."===P||".."===P)||""===P,R=0,D=A.length;0<=D;D--)P=A[D],"."===P?A.splice(D,1):".."===P?(A.splice(D,1),R++):R&&(A.splice(D,1),R--);if(!v&&!I)for(;R--;R)A.unshift("..");v&&""!==A[0]&&(!A[0]||"/"!==A[0].charAt(0))&&A.unshift(""),O&&"/"!==A.join("/").substr(-1)&&A.push("");var i=""===A[0]||A[0]&&"/"===A[0].charAt(0);if(S){r.hostname=r.host=i?"":A.length?A.shift():"";var C=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return v=v||r.host&&A.length,v&&!i&&A.unshift(""),A.length?r.pathname=A.join("/"):(r.pathname=null,r.path=null),d.isNull(r.pathname)&&d.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},6:function(e,t,r){"use strict";function o(e,t){function r(){this.constructor=e}Ue(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function n(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}function a(e,t){function r(){this.constructor=e}qe(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function i(){}function d(e,t,r,o){var n=0,a=e.length;(function i(d){return d||n===a?void(r&&r(d)):void(o?setTimeout(function(){t(e[n++],i)},1):t(e[n++],i))})()}function s(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function l(e,t){function r(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(a.started=!0,null==e&&a.idle())return void setTimeout(function(){return a.drain()},1);var o={data:e,callback:"function"==typeof r?r:i};t?a._tasks.unshift(o):a._tasks.push(o),setTimeout(function(){return a.process()},1)}function o(e){return function(){n-=1,e.callback.apply(e,arguments),null!=arguments[0]&&a.error(arguments[0],e.data),n<=a.concurrency-a.buffer&&a.unsaturated(),a.idle()&&a.drain(),a.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,a={_tasks:[],concurrency:t,saturated:i,unsaturated:i,buffer:t/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(e,t){r(e,!1,t)},kill:function(){n=0,a.drain=i,a.started=!1,a._tasks=[]},unshift:function(e,t){r(e,!0,t)},process:function(){for(;!a.paused&&n<a.concurrency&&a._tasks.length;){var t=a._tasks.shift();0===a._tasks.length&&a.empty(),n+=1,n===a.concurrency&&a.saturated(),e(t.data,s(o(t)))}},length:function(){return a._tasks.length},running:function(){return n},idle:function(){return 0===a._tasks.length+n},pause:function(){!0===a.paused||(a.paused=!0)},resume:function(){if(!1!==a.paused){a.paused=!1;for(var e=1;e<=a.concurrency;e++)a.process()}}};return a}function p(e,t){for(var r=0,o;r<t.length;r++)o=t[r],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function u(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function c(){}function h(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function m(e){return e.toString().replace("object ","")}function g(e){for(var t="",r=0;r<e.length;){for(var o=[0,0,0],n=[0,0,0,0],a=0;a<o.length;++a)o[a]=r<e.length?255&e.charCodeAt(r++):0;n[0]=o[0]>>2,n[1]=(3&o[0])<<4|o[1]>>4,n[2]=(15&o[1])<<2|o[2]>>6,n[3]=63&o[2];var i=r-(e.length-1);switch(i){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64;break;default:}for(var d=0;d<n.length;++d)t+=_t.charAt(n[d])}return t}function _(e,t){function r(){this.constructor=e}vt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function y(e,t){function r(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function x(e,t){function r(){this.constructor=e}Ft(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function b(e,t,r){return e+(t-e)*r}function T(e,t,r,o,a,d,s){void 0===s&&(s=[]);for(var l=20,n=s,p=0,u=0,c=0,h=0,m=0,g=0,_=0,i=0;_<=l;++_)i=_/l,p=b(e,r,i),u=b(t,o,i),c=b(r,a,i),h=b(o,d,i),m=b(p,c,i),g=b(u,h,i),n.push(m,g);return n}function E(e,t,r,o,n,a,i,d){var s,l;i?(s=o,l=-r):(s=-o,l=r);var p=e-r*n+s,u=t-o*n+l,c=e+r*a+s,h=t+o*a+l;return d.push(p,u),d.push(c,h),2}function v(e,t,r,o,n,a,d,s){var l=r-e,p=o-t,u=ge(l,p),c=ge(n-e,a-t);s&&u<c?u+=2*be:!s&&u>c&&(c+=2*be);var h=u,m=c-u,g=fe(m),_=me(l*l+p*p),y=(15*g*me(_)/be>>0)+1,x=m/y;if(h+=x,s){d.push(e,t),d.push(r,o);for(var b=1,i=h;b<y;b++,i+=x)d.push(e,t),d.push(e+_e(i)*_,t+ye(i)*_);d.push(e,t),d.push(n,a)}else{d.push(r,o),d.push(e,t);for(var b=1,i=h;b<y;b++,i+=x)d.push(e+_e(i)*_,t+ye(i)*_),d.push(e,t);d.push(n,a),d.push(e,t)}return 2*y}function I(e,t){var r=e.shape,o=e.points||r.points.slice(),n=t.closePointEps;if(0!==o.length){var a=e.lineStyle,d=new Fe.g(o[0],o[1]),s=new Fe.g(o[o.length-2],o[o.length-1]),l=r.type!==Fe.l.POLY||r.closeStroke,p=fe(d.x-s.x)<n&&fe(d.y-s.y)<n;if(l){o=o.slice(),p&&(o.pop(),o.pop(),s.set(o[o.length-2],o[o.length-1]));var u=.5*(d.x+s.x),c=.5*(s.y+d.y);o.unshift(u,c),o.push(u,c)}var h=t.points,m=o.length/2,g=o.length,_=h.length/2,y=a.width/2,x=a.miterLimit*a.miterLimit,b=o[0],T=o[1],I=o[2],A=o[3],S=0,C=0,P=-(T-A),O=b-I,R=0,D=0,w=me(P*P+O*O);P/=w,O/=w,P*=y,O*=y;var L=a.alignment,N=2*(1-L),M=2*L;l||(a.cap===Lt.ROUND?g+=v(b-.5*(P*(N-M)),T-.5*(O*(N-M)),b-P*N,T-O*N,b+P*M,T+O*M,h,!0)+2:a.cap===Lt.SQUARE&&(g+=E(b,T,P,O,N,M,!0,h))),h.push(b-P*N,T-O*N),h.push(b+P*M,T+O*M);for(var F=1;F<m-1;++F){b=o[2*(F-1)],T=o[2*(F-1)+1],I=o[2*F],A=o[2*F+1],S=o[2*(F+1)],C=o[2*(F+1)+1],P=-(T-A),O=b-I,w=me(P*P+O*O),P/=w,O/=w,P*=y,O*=y,R=-(A-C),D=I-S,w=me(R*R+D*D),R/=w,D/=w,R*=y,D*=y;var i=I-b,B=T-A,U=I-S,k=C-A,H=B*U-k*i,G=0>H;if(.1>fe(H)){h.push(I-P*N,A-O*N),h.push(I+P*M,A+O*M);continue}var X=(-P+b)*(-O+A)-(-P+I)*(-O+T),z=(-R+S)*(-D+A)-(-R+I)*(-D+C),V=(i*z-U*X)/H,Y=(k*X-B*z)/H,W=(V-I)*(V-I)+(Y-A)*(Y-A),j=I+(V-I)*N,q=A+(Y-A)*N,K=I-(V-I)*M,Q=A-(Y-A)*M;a.join===wt.BEVEL||W/(y*y)>x?(G?(h.push(j,q),h.push(I+P*M,A+O*M),h.push(j,q),h.push(I+R*M,A+D*M)):(h.push(I-P*N,A-O*N),h.push(K,Q),h.push(I-R*N,A-D*N),h.push(K,Q)),g+=2):a.join===wt.ROUND?G?(h.push(j,q),h.push(I+P*M,A+O*M),g+=v(I,A,I+P*M,A+O*M,I+R*M,A+D*M,h,!0)+4,h.push(j,q),h.push(I+R*M,A+D*M)):(h.push(I-P*N,A-O*N),h.push(K,Q),g+=v(I,A,I-P*N,A-O*N,I-R*N,A-D*N,h,!1)+4,h.push(I-R*N,A-D*N),h.push(K,Q)):(h.push(j,q),h.push(K,Q))}b=o[2*(m-2)],T=o[2*(m-2)+1],I=o[2*(m-1)],A=o[2*(m-1)+1],P=-(T-A),O=b-I,w=me(P*P+O*O),P/=w,O/=w,P*=y,O*=y,h.push(I-P*N,A-O*N),h.push(I+P*M,A+O*M),l||(a.cap===Lt.ROUND?g+=v(I-.5*(P*(N-M)),A-.5*(O*(N-M)),I-P*N,A-O*N,I+P*M,A+O*M,h,!1)+2:a.cap===Lt.SQUARE&&(g+=E(I,A,P,O,N,M,!1,h)));for(var Z=t.indices,J=Nt.epsilon*Nt.epsilon,F=_;F<g+_-2;++F)(b=h[2*F],T=h[2*F+1],I=h[2*(F+1)],A=h[2*(F+1)+1],S=h[2*(F+2)],C=h[2*(F+2)+1],!(fe(b*(A-C)+I*(C-T)+S*(T-A))<J))&&Z.push(F,F+1,F+2)}}function A(e,t){var r=0,o=e.shape,n=e.points||o.points,a=o.type!==Fe.l.POLY||o.closeStroke;if(0!==n.length){var i=t.points,d=t.indices,s=n.length/2,l=i.length/2,p=l;for(i.push(n[0],n[1]),r=1;r<s;r++)i.push(n[2*r],n[2*r+1]),d.push(p,p+1),p++;a&&d.push(p,l)}}function S(e,t){e.lineStyle.native?A(e,t):I(e,t)}function C(e,t){function r(){this.constructor=e}or(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function P(e,t){function r(){this.constructor=e}dr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function O(e){return"number"==typeof e?Object(Ne.m)(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function R(e){if(!Array.isArray(e))return O(e);for(var t=0;t<e.length;++t)e[t]=O(e[t]);return e}function D(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function w(e,t,r){for(var o in r)e[o]=Array.isArray(t[o])?t[o].slice():t[o]}function L(e,t){function r(){this.constructor=e}_r(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function N(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var o=0;o<e._textures.length;o++)if(e._textures[o]instanceof rt.r){var n=e._textures[o].baseTexture;-1===t.indexOf(n)&&(t.push(n),r=!0)}return r}function M(e,t){if(e.baseTexture instanceof rt.c){var r=e.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function F(e,t){if(e._texture&&e._texture instanceof rt.r){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function B(e,t){return!!(t instanceof gr)&&(t.updateText(!0),!0)}function U(e,t){if(t instanceof cr){var r=t.toFontString();return hr.measureFont(r),!0}return!1}function k(e,t){if(e instanceof gr){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function H(e,t){return!!(e instanceof cr)&&(-1===t.indexOf(e)&&t.push(e),!0)}function G(e,t){return!!(t instanceof rt.c)&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function X(e,t){if(!(t instanceof rr))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var o=r.batches,n=0,a;n<o.length;n++)a=o[n].style.texture,a&&G(e,a.baseTexture);return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function z(e,t){return!!(e instanceof rr)&&(t.push(e),!0)}function V(e,t){function r(){this.constructor=e}Ir(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Y(e,t){function r(){this.constructor=e}Rr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function W(e,t){function r(){this.constructor=e}Br(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function j(e){for(var t=0;t<Gr.length;t++)if(Gr[t].test(e))return Gr[t];return null}function q(e,t,r,o,n,a){var d=r.fill;if(!Array.isArray(d))return d;if(1===d.length)return d[0];var s=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,p=xe(e.width/o)-s-2*l,u=xe(e.height/o)-s-2*l,c=d.slice(),h=r.fillGradientStops.slice(),m;if(!h.length)for(var g=c.length+1,_=1;_<g;++_)h.push(_/g);if(c.unshift(d[0]),h.unshift(0),c.push(d[d.length-1]),h.push(1),r.fillGradientType===lr.LINEAR_VERTICAL){m=t.createLinearGradient(p/2,l,p/2,u+l);for(var i=0,y=a.fontProperties.fontSize+r.strokeThickness,_=0,x;_<n.length;_++){x=a.lineHeight*_;for(var b=0,T;b<c.length;b++){T=0,T="number"==typeof h[b]?h[b]:b/c.length;var E=x/u+T*(y/u),v=ve(i,E);v=Ie(v,1),m.addColorStop(v,c[b]),i=v}}}else{m=t.createLinearGradient(l,u/2,p+l,u/2);for(var I=c.length+1,A=1,_=0,S;_<c.length;_++)S=void 0,S="number"==typeof h[_]?h[_]:A/I,m.addColorStop(S,c[_]),A++}return m}function K(e,t,r,o,n,a,i){var d=r.text,s=r.fontProperties;t.translate(o,n),t.scale(a,a);var l=i.strokeThickness/2,p=-(i.strokeThickness/2);t.font=i.toFontString(),t.lineWidth=i.strokeThickness,t.textBaseline=i.textBaseline,t.lineJoin=i.lineJoin,t.miterLimit=i.miterLimit,t.fillStyle=q(e,t,i,a,[d],r),t.strokeStyle=i.stroke,t.font=i.toFontString(),t.lineWidth=i.strokeThickness,t.textBaseline=i.textBaseline,t.lineJoin=i.lineJoin,t.miterLimit=i.miterLimit,t.fillStyle=q(e,t,i,a,[d],r),t.strokeStyle=i.stroke;var u=i.dropShadowColor,c=Object(Ne.l)("number"==typeof u?u:Object(Ne.A)(u));i.dropShadow?(t.shadowColor="rgba("+255*c[0]+","+255*c[1]+","+255*c[2]+","+i.dropShadowAlpha+")",t.shadowBlur=i.dropShadowBlur,t.shadowOffsetX=ye(i.dropShadowAngle)*i.dropShadowDistance,t.shadowOffsetY=_e(i.dropShadowAngle)*i.dropShadowDistance):(t.shadowColor="0",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),i.stroke&&i.strokeThickness&&t.strokeText(d,l,p+r.lineHeight-s.descent),i.fill&&t.fillText(d,l,p+r.lineHeight-s.descent),t.setTransform(),t.fillStyle="rgba(0, 0, 0, 0)"}function Q(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,o=e.length,n;r<o;r++)if(n=e[r],Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var a=n[0].charCodeAt(0),i=n[1].charCodeAt(0);if(i<a)throw new Error("[BitmapFont]: Invalid character range.");for(var d=a;d<=i;d++)t.push(String.fromCharCode(d))}else t.push.apply(t,n.split(""));if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function Z(e,t){function r(){this.constructor=e}jr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function J(e,t){function r(){this.constructor=e}Kr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function $(e,t){var r=xe(e/2),o=Qr,n="",a;a=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var d=0,i;d<e;d++)i=a.replace("%index%",d.toString()),i=i.replace("%sampleIndex%",d-(r-1)+".0"),n+=i,n+="\n";return o=o.replace("%blur%",n),o=o.replace("%size%",e.toString()),o}function ee(e){for(var t=Zr[e],r=t.length,o=Jr,n="",a=0,i,d;a<e;a++)d="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString()),i=a,a>=r&&(i=e-a-1),d=d.replace("%value%",t[i].toString()),n+=d,n+="\n";return o=o.replace("%blur%",n),o=o.replace("%size%",e.toString()),o}function te(e,t){function r(){this.constructor=e}xo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function re(e,t){function r(){this.constructor=e}To(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function oe(e,t){function r(){this.constructor=e}vo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function ne(e,t){function r(){this.constructor=e}Ao(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function ae(e,t){function r(){this.constructor=e}Oo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function ie(e,t){function r(){this.constructor=e}Uo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function de(e,t){function r(){this.constructor=e}Xo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function se(e){var t=document.createElement("canvas");t.width=6,t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,6,1),t}function le(){if("undefined"==typeof document)return!1;var e=se("#ff00ff"),t=se("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var o=r.getContext("2d");o.globalCompositeOperation="multiply",o.drawImage(e,0,0),o.drawImage(t,2,0);var n=o.getImageData(2,0,1,1);if(!n)return!1;var a=n.data;return 255===a[0]&&0===a[1]&&0===a[2]}function pe(e){return void 0===e&&(e=[]),le()?(e[Ct.b.NORMAL]="source-over",e[Ct.b.ADD]="lighter",e[Ct.b.MULTIPLY]="multiply",e[Ct.b.SCREEN]="screen",e[Ct.b.OVERLAY]="overlay",e[Ct.b.DARKEN]="darken",e[Ct.b.LIGHTEN]="lighten",e[Ct.b.COLOR_DODGE]="color-dodge",e[Ct.b.COLOR_BURN]="color-burn",e[Ct.b.HARD_LIGHT]="hard-light",e[Ct.b.SOFT_LIGHT]="soft-light",e[Ct.b.DIFFERENCE]="difference",e[Ct.b.EXCLUSION]="exclusion",e[Ct.b.HUE]="hue",e[Ct.b.SATURATION]="saturate",e[Ct.b.COLOR]="color",e[Ct.b.LUMINOSITY]="luminosity"):(e[Ct.b.NORMAL]="source-over",e[Ct.b.ADD]="lighter",e[Ct.b.MULTIPLY]="source-over",e[Ct.b.SCREEN]="source-over",e[Ct.b.OVERLAY]="source-over",e[Ct.b.DARKEN]="source-over",e[Ct.b.LIGHTEN]="source-over",e[Ct.b.COLOR_DODGE]="source-over",e[Ct.b.COLOR_BURN]="source-over",e[Ct.b.HARD_LIGHT]="source-over",e[Ct.b.SOFT_LIGHT]="source-over",e[Ct.b.DIFFERENCE]="source-over",e[Ct.b.EXCLUSION]="source-over",e[Ct.b.HUE]="source-over",e[Ct.b.SATURATION]="source-over",e[Ct.b.COLOR]="source-over",e[Ct.b.LUMINOSITY]="source-over"),e[Ct.b.NORMAL_NPM]=e[Ct.b.NORMAL],e[Ct.b.ADD_NPM]=e[Ct.b.ADD],e[Ct.b.SCREEN_NPM]=e[Ct.b.SCREEN],e[Ct.b.SRC_IN]="source-in",e[Ct.b.SRC_OUT]="source-out",e[Ct.b.SRC_ATOP]="source-atop",e[Ct.b.DST_OVER]="destination-over",e[Ct.b.DST_IN]="destination-in",e[Ct.b.DST_OUT]="destination-out",e[Ct.b.DST_ATOP]="destination-atop",e[Ct.b.XOR]="xor",e[Ct.b.SUBTRACT]="source-over",e}function ue(e,t){function r(){this.constructor=e}on(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function ce(e,t){var r=e;if(t instanceof rt.c){var o=t.source,n=0===o.width?r.canvas.width:Ie(r.canvas.width,o.width),a=0===o.height?r.canvas.height:Ie(r.canvas.height,o.height);return r.ctx.drawImage(o,0,0,n,a,0,0,r.canvas.width,r.canvas.height),!0}return!1}var he=Math.sign,me=Math.sqrt,fe=Math.abs,ge=Math.atan2,_e=Math.sin,ye=Math.cos,xe=Math.ceil,be=Math.PI,Te=Number.isInteger,Ee=Math.round,ve=Math.max,Ie=Math.min,Ae=Math.floor;r.d(t,"a",function(){return ot}),r.d(t,"b",function(){return rt.c}),r.d(t,"f",function(){return rt.n}),r.d(t,"i",function(){return rt.r}),r.d(t,"c",function(){return Ge}),r.d(t,"d",function(){return rr}),r.d(t,"e",function(){return Fe.j}),r.d(t,"g",function(){return ir}),r.d(t,"h",function(){return gr});var Se=r(68),Ce=r(69),Pe=r.n(Ce);window.Promise||(window.Promise=Se.Polyfill),Object.assign||(Object.assign=Pe.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(window.performance&&window.performance.now)){var Oe=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-Oe}}for(var Re=Date.now(),De=["ms","moz","webkit","o"],we=0,Le;we<De.length&&!window.requestAnimationFrame;++we)Le=De[we],window.requestAnimationFrame=window[Le+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Le+"CancelAnimationFrame"]||window[Le+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+Re-t;return 0>r&&(r=0),Re=t,window.setTimeout(function(){Re=Date.now(),e(performance.now())},r)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),he||(he=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1}),Te||(Te=function(e){return"number"==typeof e&&isFinite(e)&&Ae(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var Ne=r(2),Me=r(9),Fe=r(4);Me.b.SORTABLE_CHILDREN=!1;var Be=function(){function e(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Fe.j.EMPTY:(e=e||new Fe.j(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Ie(this.minX,e.x),this.maxX=ve(this.maxX,e.x),this.minY=Ie(this.minY,e.y),this.maxY=ve(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,o=this.maxX,n=this.maxY,a=e[0],i=e[1];t=a<t?a:t,r=i<r?i:r,o=a>o?a:o,n=i>n?i:n,a=e[2],i=e[3],t=a<t?a:t,r=i<r?i:r,o=a>o?a:o,n=i>n?i:n,a=e[4],i=e[5],t=a<t?a:t,r=i<r?i:r,o=a>o?a:o,n=i>n?i:n,a=e[6],i=e[7],t=a<t?a:t,r=i<r?i:r,o=a>o?a:o,n=i>n?i:n,this.minX=t,this.minY=r,this.maxX=o,this.maxY=n},e.prototype.addFrame=function(e,t,r,o,n){this.addFrameMatrix(e.worldTransform,t,r,o,n)},e.prototype.addFrameMatrix=function(e,t,r,o,n){var i=e.a,a=e.b,s=e.c,l=e.d,d=e.tx,p=e.ty,u=this.minX,c=this.minY,h=this.maxX,m=this.maxY,g=i*t+s*r+d,_=a*t+l*r+p;u=g<u?g:u,c=_<c?_:c,h=g>h?g:h,m=_>m?_:m,g=i*o+s*r+d,_=a*o+l*r+p,u=g<u?g:u,c=_<c?_:c,h=g>h?g:h,m=_>m?_:m,g=i*t+s*n+d,_=a*t+l*n+p,u=g<u?g:u,c=_<c?_:c,h=g>h?g:h,m=_>m?_:m,g=i*o+s*n+d,_=a*o+l*n+p,u=g<u?g:u,c=_<c?_:c,h=g>h?g:h,m=_>m?_:m,this.minX=u,this.minY=c,this.maxX=h,this.maxY=m},e.prototype.addVertexData=function(e,t,r){for(var o=this.minX,n=this.minY,a=this.maxX,d=this.maxY,s=t;s<r;s+=2){var i=e[s],l=e[s+1];o=i<o?i:o,n=l<n?l:n,a=i>a?i:a,d=l>d?l:d}this.minX=o,this.minY=n,this.maxX=a,this.maxY=d},e.prototype.addVertices=function(e,t,r,o){this.addVerticesMatrix(e.worldTransform,t,r,o)},e.prototype.addVerticesMatrix=function(e,t,r,o,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var l=e.a,a=e.b,p=e.c,u=e.d,d=e.tx,c=e.ty,h=this.minX,m=this.minY,g=this.maxX,_=this.maxY,b=r;b<o;b+=2){var i=t[b],T=t[b+1],E=l*i+p*T+d,x=u*T+a*i+c;h=Ie(h,E-n),g=ve(g,E+n),m=Ie(m,x-s),_=ve(_,x+s)}this.minX=h,this.minY=m,this.maxX=g,this.maxY=_},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,o=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>o?e.maxX:o,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,o=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&o<=a){var i=this.minX,d=this.minY,s=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=o<d?o:d,this.maxX=n>s?n:s,this.maxY=a>l?a:l}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,o=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&o<=a){var i=this.minX,d=this.minY,s=this.maxX,l=this.maxY;this.minX=r<i?r:i,this.minY=o<d?o:d,this.maxX=n>s?n:s,this.maxY=a>l?a:l}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,o,n,a){e-=n,t-=a,r+=n,o+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>o?this.maxY:o},e}(),Ue=function(e,t){return Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ue(e,t)},ke=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Fe.m,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Be,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return o(t,e),t.mixin=function(e){for(var r=Object.keys(e),o=0,n;o<r.length;++o)n=r[o],Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e,n))},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(!this._boundsRect&&(this._boundsRect=new Fe.j),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(!this._localBoundsRect&&(this._localBoundsRect=new Fe.j),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Be);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=o,this._bounds.updateID+=this._boundsID-n,a},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,o){return t&&(e=t.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,o,n,a,i,d,s){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===n&&(n=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===d&&(d=0),void 0===s&&(s=0),this.position.x=e,this.position.y=t,this.scale.x=r?r:1,this.scale.y=o?o:1,this.rotation=n,this.skew.x=a,this.skew.y=i,this.pivot.x=d,this.pivot.y=s,this},t.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new He),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Fe.i},set:function(e){this.transform.rotation=e*Fe.b},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!0,t.isMask=!1}if(this._mask=e,this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!1,t.isMask=!0}},enumerable:!1,configurable:!0}),t}(Ne.c),He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return o(t,e),t}(ke);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ke.prototype.displayObjectUpdateTransform=ke.prototype.updateTransform;var Ge=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=Me.b.SORTABLE_CHILDREN,t.sortDirty=!1,t}return o(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(1<t.length)for(var o=0;o<t.length;o++)this.addChild(t[o]);else{var n=t[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),o=this.getChildIndex(t);this.children[r]=t,this.children[o]=e,this.onChildrenChange(r<o?r:o)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);Object(Ne.w)(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(1<t.length)for(var o=0;o<t.length;o++)this.removeChild(t[o]);else{var n=t[0],a=this.children.indexOf(n);if(-1===a)return null;n.parent=null,n.transform._parentID=-1,Object(Ne.w)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),n.emit("removed",this),this.emit("childRemoved",n,this,a)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Object(Ne.w)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r=e,o=t,n=o-r,a;if(0<n&&n<=o){a=this.children.splice(r,n);for(var d=0;d<a.length;++d)a[d].parent=null,a[d].transform&&(a[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var d=0;d<a.length;++d)a[d].emit("removed",this),this.emit("childRemoved",a[d],this,d);return a}if(0==n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length,o;t<r;++t)o=this.children[t],o._lastSortedIndex=t,e||0===o.zIndex||(e=!0);e&&1<this.children.length&&this.children.sort(n),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,r;e<t;++e)r=this.children[e],r.visible&&r.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)if(t=this.children[e],t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.maskObject||t._mask;r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds);this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var o=e.prototype.getLocalBounds.call(this,t);if(!r)for(var n=0,a=this.children.length,i;n<a;++n)i=this.children[n],i.visible&&i.updateTransform();return o},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<t.length;o++)t[o].enabled&&this._enabledFilters.push(t[o]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}r&&e.mask.push(this,this._mask),this._render(e);for(var o=0,n=this.children.length;o<n;o++)this.children[o].render(e);e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof t?t:t&&t.children,o=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<o.length;++n)o[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e},enumerable:!1,configurable:!0}),t}(ke);Ge.prototype.containerUpdateTransform=Ge.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ke.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Xe=100,ze=2,Ve=1,Ye=function(){function e(e){this._hookDiv=null,(Ne.n.tablet||Ne.n.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Xe+"px",t.style.height=Xe+"px",t.style.position="absolute",t.style.top=0+"px",t.style.left=0+"px",t.style.zIndex=ze.toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=Ve+"px",t.style.height=Ve+"px",t.style.position="absolute",t.style.top=-1e3+"px",t.style.left=-1e3+"px",t.style.zIndex=2 .toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){var e=performance.now();if(!(Ne.n.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=this.renderer.resolution,o=t.width/this.renderer.width*r,n=t.height/this.renderer.height*r,a=this.div;a.style.left=t.left+"px",a.style.top=t.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var d=0,i;d<this.children.length;d++)if(i=this.children[d],i.renderId!==this.renderId)i._accessibleActive=!1,Object(Ne.w)(this.children,d,1),this.div.removeChild(i._accessibleDiv),this.pool.push(i._accessibleDiv),i._accessibleDiv=null,d--;else{a=i._accessibleDiv;var s=i.hitArea,l=i.worldTransform;i.hitArea?(a.style.left=(l.tx+s.x*l.a)*o+"px",a.style.top=(l.ty+s.y*l.d)*n+"px",a.style.width=s.width*l.a*o+"px",a.style.height=s.height*l.d*n+"px"):(s=i.getBounds(),this.capHitArea(s),a.style.left=s.x*o+"px",a.style.top=s.y*n+"px",a.style.width=s.width*o+"px",a.style.height=s.height*n+"px",a.title!==i.accessibleTitle&&null!==i.accessibleTitle&&(a.title=i.accessibleTitle),a.getAttribute("aria-label")!==i.accessibleHint&&null!==i.accessibleHint&&a.setAttribute("aria-label",i.accessibleHint)),(i.accessibleTitle!==a.title||i.tabIndex!==a.tabIndex)&&(a.title=i.accessibleTitle,a.tabIndex=i.tabIndex,this.debug&&this.updateDebugHTML(a))}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Xe+"px",t.style.height=Xe+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=ze.toString(),t.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}(),We=r(17),je=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Fe.g,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Te(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),qe=function(e,t){return qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},qe(e,t)},Ke=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Qe=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!=(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!=(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!=(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Ze=function(){function e(){this._tempPoint=new Fe.g}return e.prototype.recursiveFindHit=function(e,t,r,o,n){if(!t||!t.visible)return!1;var a=e.data.global;n=t.interactive||n;var d=!1,s=n,l=!0;if(t.hitArea?(o&&(t.worldTransform.applyInverse(a,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?d=!0:(o=!1,l=!1)),s=!1):t._mask&&o&&!(t._mask.containsPoint&&t._mask.containsPoint(a))&&(o=!1),l&&t.interactiveChildren&&t.children)for(var p=t.children,u=p.length-1;0<=u;u--){var i=p[u],c=this.recursiveFindHit(e,i,r,o,s);if(c){if(!i.parent)continue;s=!1,c&&(e.target&&(o=!1),d=!0)}}return n&&(o&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(a)&&(d=!0),t.interactive&&(d&&!e.target&&(e.target=t),r&&r(e,t,!!d))),d},e.prototype.findHit=function(e,t,r,o){this.recursiveFindHit(e,t,r,o,!1)},e}(),Je={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};/*!
 * @pixi/interaction - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ke.mixin(Je);var $e=1,et={target:null,data:{global:null}},tt=function(e){function t(t,r){var o=e.call(this)||this;return r=r||{},o.renderer=t,o.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,o.interactionFrequency=r.interactionFrequency||10,o.mouse=new je,o.mouse.identifier=$e,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[$e]=o.mouse,o.interactionDataPool=[],o.eventData=new Ke,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.tickerAdded=!1,o.mouseOverRenderer=!1,o.supportsTouchEvents="ontouchstart"in window,o.supportsPointerEvents=!!window.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.resolution=1,o.delayedEvents=[],o.search=new Ze,o._tempDisplayObject=new He,o._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return a(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return et.target=null,et.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(et,t,null,!0),et.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(We.a.system.add(this.tickerUpdate,this,We.c.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(We.a.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t);}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopPropagationHint&&e!==r.stopsPropagatingAt||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.delayDispatchEvent=function(e,t,r){this.delayedEvents.push({displayObject:e,eventString:t,eventData:r})},t.prototype.mapPositionToPoint=function(e,t,r){var o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;e.x=(t-o.left)*(this.interactionDOMElement.width/o.width)*n,e.y=(r-o.top)*(this.interactionDOMElement.height/o.height)*n},t.prototype.processInteractive=function(e,t,r,o){var n=this.search.findHit(e,t,r,o),a=this.delayedEvents;if(!a.length)return n;e.stopPropagationHint=!1;var d=a.length;this.delayedEvents=[];for(var s=0;s<d;s++){var i=a[s],l=i.displayObject,p=i.eventString,u=i.eventData;u.stopsPropagatingAt===l&&(u.stopPropagationHint=!0),this.dispatchEvent(l,p,u)}return n},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){var r=e.cancelable||!("cancelable"in e);r&&e.preventDefault()}for(var o=t.length,n=0;n<o;n++){var a=t[n],i=this.getInteractionDataForPointerId(a),d=this.configureInteractionEventForDOMEvent(this.eventData,a,i);if(d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",d),"touch"===a.pointerType)this.emit("touchstart",d);else if("mouse"===a.pointerType||"pen"===a.pointerType){var s=2===a.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var o=e.data,n=e.data.identifier;if(r)if(t.trackedPointers[n]||(t.trackedPointers[n]=new Qe(n)),this.dispatchEvent(t,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){for(var o=this.normalizeToPointerData(e),n=o.length,a=e.target===this.interactionDOMElement?"":"outside",d=0;d<n;d++){var i=o[d],s=this.getInteractionDataForPointerId(i),l=this.configureInteractionEventForDOMEvent(this.eventData,i,s);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,r,t||!a),this.emit(t?"pointercancel":"pointerup"+a,l),"mouse"===i.pointerType||"pen"===i.pointerType){var p=2===i.button;this.emit(p?"rightup"+a:"mouseup"+a,l)}else"touch"===i.pointerType&&(this.emit(t?"touchcancel":"touchend"+a,l),this.releaseInteractionDataForPointerId(i.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,o=e.data.identifier;void 0!==t.trackedPointers[o]&&(delete t.trackedPointers[o],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var o=e.data,n=e.data.identifier,a=t.trackedPointers[n],i="touch"===o.pointerType,d="mouse"===o.pointerType||"pen"===o.pointerType,s=!1;if(d){var l=2===o.button,p=Qe.FLAGS,u=l?p.RIGHT_DOWN:p.LEFT_DOWN,c=void 0!==a&&a.flags&u;r?(this.dispatchEvent(t,l?"rightup":"mouseup",e),c&&(this.dispatchEvent(t,l?"rightclick":"click",e),s=!0)):c&&this.dispatchEvent(t,l?"rightupoutside":"mouseupoutside",e),a&&(l?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),i&&this.dispatchEvent(t,"touchend",e),a&&((!d||s)&&this.dispatchEvent(t,"pointertap",e),i&&(this.dispatchEvent(t,"tap",e),a.over=!1))):a&&(this.dispatchEvent(t,"pointerupoutside",e),i&&this.dispatchEvent(t,"touchendoutside",e)),a&&a.none&&delete t.trackedPointers[n]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);("mouse"===t[0].pointerType||"pen"===t[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=t.length,o=0;o<r;o++){var n=t[o],a=this.getInteractionDataForPointerId(n),i=this.configureInteractionEventForDOMEvent(this.eventData,n,a);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",i),"touch"===n.pointerType&&this.emit("touchmove",i),("mouse"===n.pointerType||"pen"===n.pointerType)&&this.emit("mousemove",i)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var o=e.data,n="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,"pointermove",e),n&&this.dispatchEvent(t,"touchmove",e),a&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e),r=t[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,o);n.data.originalEvent=r,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var o=e.data,n=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,i=t.trackedPointers[n];r&&!i&&(i=t.trackedPointers[n]=new Qe(n)),void 0===i||(r&&this.mouseOverRenderer?(!i.over&&(i.over=!0,this.delayDispatchEvent(t,"pointerover",e),a&&this.delayDispatchEvent(t,"mouseover",e)),a&&null===this.cursor&&(this.cursor=t.cursor)):i.over&&(i.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),a&&this.dispatchEvent(t,"mouseout",e),i.none&&delete t.trackedPointers[n]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),r=t[0],o=this.getInteractionDataForPointerId(r),n=this.configureInteractionEventForDOMEvent(this.eventData,r,o);n.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",n)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,r;return t===$e||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[t]?r=this.activeInteractionData[t]:(r=this.interactionDataPool.pop()||new je,r.identifier=t,this.activeInteractionData[t]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,o=e.changedTouches.length,n;r<o;r++)n=e.changedTouches[r],"undefined"==typeof n.button&&(n.button=e.touches.length?1:0),"undefined"==typeof n.buttons&&(n.buttons=e.touches.length?1:0),"undefined"==typeof n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"==typeof n.width&&(n.width=n.radiusX||1),"undefined"==typeof n.height&&(n.height=n.radiusY||1),"undefined"==typeof n.tiltX&&(n.tiltX=0),"undefined"==typeof n.tiltY&&(n.tiltY=0),"undefined"==typeof n.pointerType&&(n.pointerType="touch"),"undefined"==typeof n.pointerId&&(n.pointerId=n.identifier||0),"undefined"==typeof n.pressure&&(n.pressure=n.force||.5),"undefined"==typeof n.twist&&(n.twist=0),"undefined"==typeof n.tangentialPressure&&(n.tangentialPressure=0),"undefined"==typeof n.layerX&&(n.layerX=n.offsetX=n.clientX),"undefined"==typeof n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n);else if(e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof window.PointerEvent))){var a=e;"undefined"==typeof a.isPrimary&&(a.isPrimary=!0),"undefined"==typeof a.width&&(a.width=1),"undefined"==typeof a.height&&(a.height=1),"undefined"==typeof a.tiltX&&(a.tiltX=0),"undefined"==typeof a.tiltY&&(a.tiltY=0),"undefined"==typeof a.pointerType&&(a.pointerType="mouse"),"undefined"==typeof a.pointerId&&(a.pointerId=$e),"undefined"==typeof a.pressure&&(a.pressure=.5),"undefined"==typeof a.twist&&(a.twist=0),"undefined"==typeof a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,t.push(a)}else t.push(e);return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Ne.c),rt=r(5),ot=function(){function e(t){var r=this;t=Object.assign({forceCanvas:!1},t),this.renderer=Object(rt.u)(t),this.stage=new Ge,e._plugins.forEach(function(e){e.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var o=this,n=e._plugins.slice(0);n.reverse(),n.forEach(function(e){e.destroy.call(o)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}();/*!
 * @pixi/app - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ot._plugins=[];var nt=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){t.cancelResize();var e,r;if(t._resizeTo===window)e=window.innerWidth,r=window.innerHeight;else{var o=t._resizeTo,n=o.clientWidth,a=o.clientHeight;e=n,r=a}t.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();ot.registerPlugin(nt);/*!
 * @pixi/extract - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var at=new Fe.j,it=4,dt=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,r){var o=new Image;return o.src=this.base64(e,t,r),o},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(t){var r=this.renderer,o=!1,n=!1,a,i,d;t&&(t instanceof rt.n?d=t:(d=this.renderer.generateTexture(t),n=!0)),d?(a=d.baseTexture.resolution,i=d.frame,o=!1,r.renderTexture.bind(d)):(a=this.renderer.resolution,o=!0,i=at,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var s=Ae(i.width*a+1e-4),l=Ae(i.height*a+1e-4),p=new Ne.b(s,l,1),u=new Uint8Array(it*s*l),c=r.gl;c.readPixels(i.x*a,i.y*a,s,l,c.RGBA,c.UNSIGNED_BYTE,u);var h=p.context.getImageData(0,0,s,l);if(e.arrayPostDivide(u,h.data),p.context.putImageData(h,0,0),o){var m=new Ne.b(p.width,p.height,1);m.context.scale(1,-1),m.context.drawImage(p.canvas,0,-l),p.destroy(),p=m}return n&&d.destroy(!0),p.canvas},e.prototype.pixels=function(t){var r=this.renderer,o=!1,n,a,i;t&&(t instanceof rt.n?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(n=i.baseTexture.resolution,a=i.frame,r.renderTexture.bind(i)):(n=r.resolution,a=at,a.width=r.width,a.height=r.height,r.renderTexture.bind(null));var d=a.width*n,s=a.height*n,l=new Uint8Array(it*d*s),p=r.gl;return p.readPixels(a.x*n,a.y*n,d,s,p.RGBA,p.UNSIGNED_BYTE,l),o&&i.destroy(!0),e.arrayPostDivide(l,l),l},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var r=0,o;r<e.length;r+=4)o=t[r+3]=e[r+3],0===o?(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2]):(t[r]=Ee(Ie(255*e[r]/o,255)),t[r+1]=Ee(Ie(255*e[r+1]/o,255)),t[r+2]=Ee(Ie(255*e[r+2]/o,255)))},e}(),st=r(61),lt=r.n(st),pt=r(46),ut=r.n(pt),ct={},ht=window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest),mt=null,ft=200,gt=function(){function e(t,r,o){if("string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");o=o||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===o.crossOrigin?"anonymous":o.crossOrigin,this.timeout=o.timeout||0,this.loadType=o.loadType||this._determineLoadType(),this.xhrType=o.xhrType,this.metadata=o.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=c,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ut.a,this.onProgress=new ut.a,this.onComplete=new ut.a,this.onAfterMiddleware=new ut.a}e.setExtensionLoadType=function(t,r){h(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){h(e._xhrTypeMap,t,r)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(r)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:ht&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},t._hasFlag=function(e){return 0!=(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort("Unsupported element: "+e);if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{var o=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(o)?o[0]:o))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var o=document.createElement("source");return o.src=t,o.type=r,o},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(m(e)+" Request failed. Status: "+e.status+", text: \""+e.statusText+"\"")},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(m(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(m(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,r="",o="undefined"==typeof t.status?ft:t.status;(""===t.responseType||"text"===t.responseType||"undefined"==typeof t.responseType)&&(r=t.responseText),o===0&&(0<r.length||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?o=ft:o===1223&&(o=204);var n=0|o/100;if(n!==2)return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var a=new DOMParser;this.data=a.parseFromString(r,"text/xml")}else{var i=document.createElement("div");i.innerHTML=r,this.data=i}this.type=e.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||r;this.complete()},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,mt||(mt=document.createElement("a")),mt.href=e,e=lt()(mt.href,{strictMode:!0});var r=!e.port&&""===t.port||e.port===t.port,o=e.protocol?e.protocol+":":"";return e.host===t.hostname&&r&&o===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var o=e.indexOf("?"),n=e.indexOf("#"),a=Ie(-1<o?o:e.length,-1<n?n:e.length);e=e.substring(0,a),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain";}},u(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();gt.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},gt.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},gt.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},gt.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},gt._loadTypeMap={gif:gt.LOAD_TYPE.IMAGE,png:gt.LOAD_TYPE.IMAGE,bmp:gt.LOAD_TYPE.IMAGE,jpg:gt.LOAD_TYPE.IMAGE,jpeg:gt.LOAD_TYPE.IMAGE,tif:gt.LOAD_TYPE.IMAGE,tiff:gt.LOAD_TYPE.IMAGE,webp:gt.LOAD_TYPE.IMAGE,tga:gt.LOAD_TYPE.IMAGE,svg:gt.LOAD_TYPE.IMAGE,"svg+xml":gt.LOAD_TYPE.IMAGE,mp3:gt.LOAD_TYPE.AUDIO,ogg:gt.LOAD_TYPE.AUDIO,wav:gt.LOAD_TYPE.AUDIO,mp4:gt.LOAD_TYPE.VIDEO,webm:gt.LOAD_TYPE.VIDEO},gt._xhrTypeMap={xhtml:gt.XHR_RESPONSE_TYPE.DOCUMENT,html:gt.XHR_RESPONSE_TYPE.DOCUMENT,htm:gt.XHR_RESPONSE_TYPE.DOCUMENT,xml:gt.XHR_RESPONSE_TYPE.DOCUMENT,tmx:gt.XHR_RESPONSE_TYPE.DOCUMENT,svg:gt.XHR_RESPONSE_TYPE.DOCUMENT,tsx:gt.XHR_RESPONSE_TYPE.DOCUMENT,gif:gt.XHR_RESPONSE_TYPE.BLOB,png:gt.XHR_RESPONSE_TYPE.BLOB,bmp:gt.XHR_RESPONSE_TYPE.BLOB,jpg:gt.XHR_RESPONSE_TYPE.BLOB,jpeg:gt.XHR_RESPONSE_TYPE.BLOB,tif:gt.XHR_RESPONSE_TYPE.BLOB,tiff:gt.XHR_RESPONSE_TYPE.BLOB,webp:gt.XHR_RESPONSE_TYPE.BLOB,tga:gt.XHR_RESPONSE_TYPE.BLOB,json:gt.XHR_RESPONSE_TYPE.JSON,text:gt.XHR_RESPONSE_TYPE.TEXT,txt:gt.XHR_RESPONSE_TYPE.TEXT,ttf:gt.XHR_RESPONSE_TYPE.BUFFER,otf:gt.XHR_RESPONSE_TYPE.BUFFER},gt.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",yt=window.URL||window.webkitURL,xt=100,bt=/(#[\w-]+)?$/,Tt=function(){function e(t,r){var o=this;void 0===t&&(t=""),void 0===r&&(r=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return o._loadResource(e,t)},this._queue=l(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ut.a,this.onError=new ut.a,this.onLoad=new ut.a,this.onStart=new ut.a,this.onComplete=new ut.a;for(var n=0;n<e._defaultBeforeMiddleware.length;++n)this.pre(e._defaultBeforeMiddleware[n]);for(var a=0;a<e._defaultAfterMiddleware.length;++a)this.use(e._defaultAfterMiddleware[a])}var t=e.prototype;return t.add=function(e,t,r,o){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(o=t||e.callback||e.onComplete,r=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(o=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(o=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error("Resource named \""+e+"\" already exists.");if(t=this._prepareUrl(t),this.resources[e]=new gt(e,t,r),"function"==typeof o&&this.resources[e].onAfterMiddleware.once(o),this.loading){for(var a=r.parentResource,i=[],d=0;d<a.children.length;++d)a.children[d].isComplete||i.push(a.children[d]);var s=a.progressChunk*(i.length+1),l=s/(i.length+2);a.children.push(this.resources[e]),a.progressChunk=l;for(var p=0;p<i.length;++p)i[p].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=xt/t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t=lt()(e,{strictMode:!0}),r;if(r=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var o=bt.exec(r)[0];r=r.substr(0,r.length-o.length),r+=-1===r.indexOf("?")?"?"+this.defaultQueryString:"&"+this.defaultQueryString,r+=o}return r},t._loadResource=function(e,t){var r=this;e._dequeue=t,d(this._beforeMiddleware,function(t,o){t.call(r,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=xt,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),d(this._afterMiddleware,function(r,o){r.call(t,e,o)},function(){e.onAfterMiddleware.dispatch(e),t.progress=Ie(xt,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()},!0)},u(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();Tt._defaultBeforeMiddleware=[],Tt._defaultAfterMiddleware=[],Tt.pre=function(e){return Tt._defaultBeforeMiddleware.push(e),Tt},Tt.use=function(e){return Tt._defaultAfterMiddleware.push(e),Tt};/*!
 * @pixi/loaders - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Et=gt,vt=function(e,t){return vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},vt(e,t)},It=function(){function e(){}return e.use=function(e,t){e.data&&e.type===gt.TYPE.IMAGE&&(e.texture=rt.r.fromLoader(e.data,e.url,e.name)),t()},e}(),At=function(e){function t(r,o){for(var n=e.call(this,r,o)||this,a=0;a<t._plugins.length;++a){var i=t._plugins[a],d=i.pre,s=i.use;d&&n.pre(d),s&&n.use(s)}return n._protected=!1,n}return _(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(Tt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */At.registerPlugin({use:{caching:function(e,t){var r=this;ct[e.url]?(e.data=ct[e.url],e.complete()):e.onComplete.once(function(){return ct[r.url]=r.data}),t()},parsing:function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===gt.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"==typeof e.data){var r=e.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return e.data=new Image,e.data.src="data:"+r+";base64,"+g(e.xhr.responseText),e.type=gt.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf("image")){var o=yt.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=o,e.type=gt.TYPE.IMAGE,void(e.data.onload=function(){yt.revokeObjectURL(o),e.data.onload=null,t()})}t()}}.parsing}),At.registerPlugin(It);var St=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?At.shared:new At},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Ct=r(3),Pt=function(e,t){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Pt(e,t)},Ot=function(e){function t(t,r,o,n){void 0===t&&(t=1500),void 0===o&&(o=16384),void 0===n&&(n=!1);var a=e.call(this)||this,i=16384;return o>i&&(o=i),a._properties=[!1,!0,!1,!1,!1],a._maxSize=t,a._batchSize=o,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=Ct.b.NORMAL,a.autoResize=n,a.roundPixels=!0,a.baseTexture=null,a.setProperties(r),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return y(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Object(Ne.l)(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid&&this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Ae(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Ge),Rt=function(){function e(e,t,r){this.geometry=new rt.j,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var o=0,n;o<e.length;++o)n=e[o],n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Ct.p.FLOAT,offset:n.offset},t[o]?this.dynamicProperties.push(n):this.staticProperties.push(n);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new rt.h(Object(Ne.g)(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0,o;r<this.dynamicProperties.length;++r)o=this.dynamicProperties[r],o.offset=t,t+=o.size,this.dynamicStride+=o.size;var n=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new rt.h(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var r=0,o;r<this.staticProperties.length;++r)o=this.staticProperties[r],o.offset=a,a+=o.size,this.staticStride+=o.size;var i=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(i),this.staticDataUint32=new Uint32Array(i),this.staticBuffer=new rt.h(this.staticData,!0,!1);for(var r=0,o;r<this.dynamicProperties.length;++r)o=this.dynamicProperties[r],e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===Ct.p.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset);for(var r=0,o;r<this.staticProperties.length;++r)o=this.staticProperties[r],e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===Ct.p.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var o=0,n;o<this.dynamicProperties.length;o++)n=this.dynamicProperties[o],n.uploadFunction(e,t,r,n.type===Ct.p.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset);this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,r){for(var o=0,n;o<this.staticProperties.length;o++)n=this.staticProperties[o],n.uploadFunction(e,t,r,n.type===Ct.p.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset);this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),Dt=function(e){function t(t){var r=e.call(this,t)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Fe.d,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ct.p.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=rt.p.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=rt.q.for2d(),r}return y(t,e),t.prototype.render=function(e){var t=e.children,r=e._maxSize,o=e._batchSize,n=this.renderer,a=t.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.state.blendMode=Object(Ne.f)(e.blendMode,s.alphaMode),n.state.set(this.state);var l=n.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Object(Ne.t)(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var u=!1,c=0,i=0,h;c<a;c+=o,i+=1){h=a-c,h>o&&(h=o),i>=d.length&&d.push(this._generateOneMoreBuffer(e));var m=d[i];m.uploadDynamic(t,c,h);var g=e._bufferUpdateIDs[i]||0;u=u||m._updateID<g,u&&(m._updateID=e._updateID,m.uploadStatic(t,c,h)),n.geometry.bind(m.geometry),l.drawElements(l.TRIANGLES,6*h,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],r=e._maxSize,o=e._batchSize,n=e._properties,a=0;a<r;a+=o)t.push(new Rt(this.properties,n,o));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,r=e._properties;return new Rt(this.properties,r,t)},t.prototype.uploadVertices=function(e,t,r,o,n,a){for(var d=0,s=0,l=0,p=0,u=0;u<r;++u){var i=e[t+u],c=i._texture,h=i.scale.x,m=i.scale.y,g=c.trim,_=c.orig;g?(s=g.x-i.anchor.x*_.width,d=s+g.width,p=g.y-i.anchor.y*_.height,l=p+g.height):(d=_.width*(1-i.anchor.x),s=_.width*-i.anchor.x,l=_.height*(1-i.anchor.y),p=_.height*-i.anchor.y),o[a]=s*h,o[a+1]=p*m,o[a+n]=d*h,o[a+n+1]=p*m,o[a+2*n]=d*h,o[a+2*n+1]=l*m,o[a+3*n]=s*h,o[a+3*n+1]=l*m,a+=4*n}},t.prototype.uploadPosition=function(e,t,r,o,n,a){for(var d=0,i;d<r;d++)i=e[t+d].position,o[a]=i.x,o[a+1]=i.y,o[a+n]=i.x,o[a+n+1]=i.y,o[a+2*n]=i.x,o[a+2*n+1]=i.y,o[a+3*n]=i.x,o[a+3*n+1]=i.y,a+=4*n},t.prototype.uploadRotation=function(e,t,r,o,n,a){for(var d=0,i;d<r;d++)i=e[t+d].rotation,o[a]=i,o[a+n]=i,o[a+2*n]=i,o[a+3*n]=i,a+=4*n},t.prototype.uploadUvs=function(e,t,r,o,n,a){for(var d=0,i;d<r;++d)i=e[t+d]._texture._uvs,i?(o[a]=i.x0,o[a+1]=i.y0,o[a+n]=i.x1,o[a+n+1]=i.y1,o[a+2*n]=i.x2,o[a+2*n+1]=i.y2,o[a+3*n]=i.x3,o[a+3*n+1]=i.y3,a+=4*n):(o[a]=0,o[a+1]=0,o[a+n]=0,o[a+n+1]=0,o[a+2*n]=0,o[a+2*n+1]=0,o[a+3*n]=0,o[a+3*n+1]=0,a+=4*n)},t.prototype.uploadTint=function(e,t,r,o,n,a){for(var d=0;d<r;++d){var i=e[t+d],s=0<i._texture.baseTexture.alphaMode,l=i.alpha,p=1>l&&s?Object(Ne.u)(i._tintRGB,l):i._tintRGB+(255*l<<24);o[a]=p,o[a+n]=p,o[a+2*n]=p,o[a+3*n]=p,a+=4*n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(rt.k),wt;/*!
 * @pixi/particles - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/graphics - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(wt||(wt={}));var Lt;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(Lt||(Lt={}));var Nt={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=xe(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Mt=function(){function e(){this.color=16777215,this.alpha=1,this.texture=rt.r.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=rt.r.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),Ft=function(e,t){return Ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ft(e,t)},Bt={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,o=e.holes,n=t.points,a=t.indices;if(6<=r.length){for(var d=[],s=0,i;s<o.length;s++)i=o[s],d.push(r.length/2),r=r.concat(i.points);var l=Object(Ne.j)(r,d,2);if(!l)return;for(var p=n.length/2,s=0;s<l.length;s+=3)a.push(l[s]+p),a.push(l[s+1]+p),a.push(l[s+2]+p);for(var s=0;s<r.length;s++)n.push(r[s])}}},Ut={build:function(e){var t=e.shape,r=e.points,o=t.x,n=t.y,a,d;if(r.length=0,e.type===Fe.l.CIRC)a=t.radius,d=t.radius;else{var s=e.shape;a=s.width,d=s.height}if(0!==a&&0!==d){var l=Ae(30*me(t.radius))||Ae(15*me(a+d));l/=2.3;for(var p=2*be/l,u=0;u<l-.5;u++)r.push(o+_e(-p*u)*a,n+ye(-p*u)*d);r.push(r[0],r[1])}},triangulate:function(e,t){var r=e.points,o=t.points,n=t.indices,a=o.length/2,d=a,s=e.shape,l=e.matrix,p=s.x,u=s.y;o.push(e.matrix?l.a*p+l.c*u+l.tx:p,e.matrix?l.b*p+l.d*u+l.ty:u);for(var c=0;c<r.length;c+=2)o.push(r[c],r[c+1]),n.push(a++,d,a)}},kt={build:function(e){var t=e.shape,r=t.x,o=t.y,n=t.width,a=t.height,i=e.points;i.length=0,i.push(r,o,r+n,o,r+n,o+a,r,o+a)},triangulate:function(e,t){var r=e.points,o=t.points,n=o.length/2;o.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Ht={build:function(e){var t=e.shape,r=e.points,o=t.x,n=t.y,a=t.width,i=t.height,d=ve(0,Ie(t.radius,Ie(a,i)/2));r.length=0,d?(T(o,n+d,o,n,o+d,n,r),T(o+a-d,n,o+a,n,o+a,n+d,r),T(o+a,n+i-d,o+a,n+i,o+a-d,n+i,r),T(o+d,n+i,o,n+i,o,n+i-d,r)):r.push(o,n,o+a,n,o+a,n+i,o,n+i)},triangulate:function(e,t){for(var r=e.points,o=t.points,n=t.indices,a=o.length/2,d=Object(Ne.j)(r,null,2),s=0,i=d.length;s<i;s+=3)n.push(d[s]+a),n.push(d[s+1]+a),n.push(d[s+2]+a);for(var s=0,i=r.length;s<i;s++)o.push(r[s],r[++s])}},Gt=function(e){function t(t,o,n,a,d,s){void 0===s&&(s=0);var l=this;d=d||a/2;for(var p=-1*be/2+s,u=2*n,c=Fe.f/u,h=[],m=0;m<u;m++){var i=m%2?d:a,r=m*c+p;h.push(t+i*ye(r),o+i*_e(r))}return l=e.call(this,h)||this,l}return x(t,e),t}(Fe.h),Xt=function(){function e(){}return e.curveTo=function(e,t,r,o,n,a){var i=a[a.length-2],d=a[a.length-1],s=d-t,l=i-e,p=o-t,u=r-e,c=fe(s*u-l*p);if(1e-8>c||0===n)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;var h=s*s+l*l,m=p*p+u*u,g=s*p+l*u,_=n*me(h)/c,y=n*me(m)/c,x=_*g/h,b=y*g/m,T=_*u+y*l,E=_*p+y*s,v=ge(s*(y+x)-E,l*(y+x)-T),I=ge(p*(_+b)-E,u*(_+b)-T);return{cx:T+e,cy:E+t,radius:n,startAngle:v,endAngle:I,anticlockwise:l*p>u*s}},e.arc=function(e,t,r,o,a,d,l,p,u){for(var h=l-d,m=Nt._segmentsCount(fe(h)*a,40*xe(fe(h)/Fe.f)),n=h/(2*m),g=ye(n),_=_e(n),y=m-1,x=0;x<=y;++x){var i=x+y%1/y*x,b=n+d+2*n*i,T=ye(b),c=-_e(b);u.push((g*T+_*c)*a+r,(g*-c+_*T)*a+o)}},e}(),zt=function(){function e(){}return e.curveLength=function(e,r,o,a,d,s,l,p){for(var u=10,n=0,c=0,t=0,h=0,m=0,g=0,_=0,b=0,x=0,y=0,T=0,E=e,v=r,I=1;I<=u;++I)c=I/u,t=c*c,h=t*c,m=1-c,g=m*m,_=g*m,b=_*e+3*g*c*o+3*m*t*d+h*l,x=_*r+3*g*c*a+3*m*t*s+h*p,y=E-b,T=v-x,E=b,v=x,n+=me(y*y+T*T);return n},e.curveTo=function(t,r,o,a,d,s,l){var p=l[l.length-2],u=l[l.length-1];l.length-=2;var c=Nt._segmentsCount(e.curveLength(p,u,t,r,o,a,d,s)),n=0,h=0,m=0,g=0,_=0;l.push(p,u);for(var y=1,i=0;y<=c;++y)i=y/c,n=1-i,h=n*n,m=h*n,g=i*i,_=g*i,l.push(m*p+3*h*i*t+3*n*g*o+_*d,m*u+3*h*i*r+3*n*g*a+_*s)},e}(),Vt=function(){function e(){}return e.curveLength=function(e,t,r,o,n,i){var d=e-2*r+n,l=t-2*o+i,p=2*r-2*e,u=2*o-2*t,h=4*(d*d+l*l),a=4*(d*p+l*u),m=p*p+u*u,c=2*me(h+a+m),s=me(h),g=2*h*s,_=2*me(m),y=a/s;return(g*c+s*a*(c-_)+(4*m*h-a*a)*Math.log((2*s+y+c)/(y+_)))/(4*g)},e.curveTo=function(t,r,o,a,d){for(var s=d[d.length-2],l=d[d.length-1],p=Nt._segmentsCount(e.curveLength(s,l,t,r,o,a)),n=0,u=0,c=1,i;c<=p;++c)i=c/p,n=s+(t-s)*i,u=l+(r-l)*i,d.push(n+(t+(o-t)*i-n)*i,u+(r+(a-r)*i-u)*i)},e}(),Yt=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Wt=(sr={},sr[Fe.l.POLY]=Bt,sr[Fe.l.CIRC]=Ut,sr[Fe.l.ELIP]=Ut,sr[Fe.l.RECT]=kt,sr[Fe.l.RREC]=Ht,sr),jt=[],qt=[],Kt=function(){function e(e,t,r,o){void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null),this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=o,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),Qt=new Fe.g,Zt=new Be,Jt=function(e){function t(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Be,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return x(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),qt.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0,t;e<this.batches.length;e++)t=this.batches[e],t.reset(),jt.push(t);this.batches.length=0},t.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,r,o){void 0===t&&(t=null),void 0===r&&(r=null),void 0===o&&(o=null);var n=new Kt(e,t,r,o);return this.graphicsData.push(n),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var r=new Kt(e,null,null,t),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,r=0,o;r<t.length;++r)if((o=t[r],!!o.fillStyle.visible)&&o.shape&&(o.matrix?o.matrix.applyInverse(e,Qt):Qt.copyFrom(e),o.shape.contains(Qt.x,Qt.y))){var n=!1;if(o.holes)for(var a=0,i;a<o.holes.length;a++)if(i=o.holes[a],i.shape.contains(Qt.x,Qt.y)){n=!0;break}if(!n)return!0}return!1},t.prototype.updateBatches=function(e){if(!this.graphicsData.length)return void(this.batchable=!0);if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,r=this.graphicsData,o=null,n=null;0<this.batches.length&&(o=this.batches[this.batches.length-1],n=o.style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var i=r[a],d=i.fillStyle,s=i.lineStyle,l=Wt[i.type];l.build(i),i.matrix&&this.transformPoints(i.points,i.matrix);for(var p=0,u;2>p;p++)if(u=0===p?d:s,!!u.visible){var c=u.texture.baseTexture,h=this.indices.length,m=this.points.length/2;c.wrapMode=Ct.q.REPEAT,0===p?this.processFill(i):this.processLine(i);var g=this.points.length/2-m;0!=g&&(o&&!this._compareStyles(n,u)&&(o.end(h,m),o=null),o||(o=jt.pop()||new Yt,o.begin(u,h,m),this.batches.push(o),n=u),this.addUvs(this.points,t,u.texture,m,g,u.matrix))}}var _=this.indices.length,y=this.points.length/2;if(o&&o.end(_,y),0===this.batches.length)return void(this.batchable=!0);if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{this.indicesUint16=65535<y&&e?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(e,t){return!!(e&&t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],o=r.fillStyle,n=r.lineStyle;if(o&&!o.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,r=e.length,o;t<r;t++){o=e[t];for(var n=0,a;n<o.size;n++)a=o.start+n,this.indicesUint16[a]-=o.attribStart}},t.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++rt.c._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),qt.push(this.drawCalls[t]);this.drawCalls.length=0;var r=this.colors,o=this.textureIds,n=qt.pop();n||(n=new rt.d,n.texArray=new rt.g),n.texArray.count=0,n.start=0,n.size=0,n.type=Ct.e.TRIANGLES;var a=0,i=null,d=0,s=!1,l=Ct.e.TRIANGLES,p=0;this.drawCalls.push(n);for(var t=0;t<this.batches.length;t++){var u=this.batches[t],c=8,h=u.style,m=h.texture.baseTexture;s!=!!h.native&&(s=!!h.native,l=s?Ct.e.LINES:Ct.e.TRIANGLES,i=null,a=c,e++),i!==m&&(i=m,m._batchEnabled!==e&&(a===c&&(e++,a=0,0<n.size&&(n=qt.pop(),!n&&(n=new rt.d,n.texArray=new rt.g),this.drawCalls.push(n)),n.start=p,n.size=0,n.texArray.count=0,n.type=l),m.touched=1,m._batchEnabled=e,m._batchLocation=a,m.wrapMode=10497,n.texArray.elements[n.texArray.count++]=m,a++)),n.size+=u.size,p+=u.size,d=m._batchLocation,this.addColors(r,h.color,h.alpha,u.attribSize),this.addTextureIds(o,d,u.attribSize)}rt.c._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,r=this.colors,o=this.textureIds,n=new ArrayBuffer(4*(3*e.length)),a=new Float32Array(n),d=new Uint32Array(n),s=0,l=0;l<e.length/2;l++)a[s++]=e[2*l],a[s++]=e[2*l+1],a[s++]=t[2*l],a[s++]=t[2*l+1],d[s++]=r[l],a[s++]=o[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){if(e.holes.length)this.processHoles(e.holes),Bt.triangulate(e,this);else{var t=Wt[e.type];t.triangulate(e,this)}},t.prototype.processLine=function(e){S(e,this);for(var t=0;t<e.holes.length;t++)S(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var r=e[t],o=Wt[r.type];o.build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Zt,r=Fe.d.IDENTITY;this._bounds.clear(),t.clear();for(var o=0;o<this.graphicsData.length;o++){var n=this.graphicsData[o],a=n.shape,i=n.type,d=n.lineStyle,s=n.matrix||Fe.d.IDENTITY,l=0;if(d&&d.visible){var p=d.alignment;l=d.width,l*=i===Fe.l.POLY?.5+fe(.5-p):ve(0,p)}if(r!==s&&(!t.isEmpty()&&(e.addBoundsMatrix(t,r),t.clear()),r=s),i===Fe.l.RECT||i===Fe.l.RREC){var u=a;t.addFramePad(u.x,u.y,u.x+u.width,u.y+u.height,l,l)}else if(i===Fe.l.CIRC){var c=a;t.addFramePad(c.x,c.y,c.x,c.y,c.radius+l,c.radius+l)}else if(i===Fe.l.ELIP){var h=a;t.addFramePad(h.x,h.y,h.x,h.y,h.width+l,h.height+l)}else{var m=a;e.addVerticesMatrix(r,m.points,0,m.points.length,l,l)}}t.isEmpty()||e.addBoundsMatrix(t,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var r=0;r<e.length/2;r++){var o=e[2*r],n=e[2*r+1];e[2*r]=t.a*o+t.c*n+t.tx,e[2*r+1]=t.b*o+t.d*n+t.ty}},t.prototype.addColors=function(e,t,r,o){for(var n=Object(Ne.u)((t>>16)+(65280&t)+((255&t)<<16),r);0<o--;)e.push(n)},t.prototype.addTextureIds=function(e,t,r){for(;0<r--;)e.push(t)},t.prototype.addUvs=function(e,t,r,o,n,a){void 0===a&&(a=null);for(var i=0,d=t.length,s=r.frame;i<n;){var l=e[2*(o+i)],p=e[2*(o+i)+1];if(a){var u=a.a*l+a.c*p+a.tx;p=a.b*l+a.d*p+a.ty,l=u}i++,t.push(l/s.width,p/s.height)}var c=r.baseTexture;(s.width<c.width||s.height<c.height)&&this.adjustUvs(t,r,d,n)},t.prototype.adjustUvs=function(e,t,r,o){for(var n=t.baseTexture,a=1e-6,d=r+2*o,s=t.frame,l=s.width/n.width,p=s.height/n.height,u=s.x/s.width,c=s.y/s.height,h=Ae(e[r]+a),m=Ae(e[r+1]+a),g=r+2;g<d;g+=2)h=Ie(h,Ae(e[g]+a)),m=Ie(m,Ae(e[g+1]+a));u-=h,c-=m;for(var g=r;g<d;g+=2)e[g]=(e[g]+u)*l,e[g+1]=(e[g+1]+c)*p},t.BATCHABLE_SIZE=100,t}(rt.e),$t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Lt.BUTT,t.join=wt.MITER,t.miterLimit=10,t}return x(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(Mt),er=new Float32Array(3),tr={},rr=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r._geometry=t||new Jt,r._geometry.refCount++,r.shader=null,r.state=rt.q.for2d(),r._fillStyle=new Mt,r._lineStyle=new $t,r._matrix=null,r._holeMode=!1,r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r.pluginName="batch",r._transformID=-1,r.tint=16777215,r.blendMode=Ct.b.NORMAL,r}return x(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0===t[2]?1:t[2],alignment:void 0===t[3]?.5:t[3],native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"==typeof e){Object(Ne.h)("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments,r=t[0],o=t[1],n=t[2],a=t[3],i=t[4],d=t[5],s=t[6];e={width:r,texture:o,color:n,alpha:a,matrix:i,alignment:d,native:s},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({width:0,texture:rt.r.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Lt.BUTT,join:wt.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var l=0<e.width&&0<e.alpha;return l?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:l},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;2<t&&(this.drawShape(this.currentPath),this.currentPath=new Fe.h,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Fe.h,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,o=r[r.length-2],n=r[r.length-1];return(o!==e||n!==t)&&r.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,r,o){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Vt.curveTo(e,t,r,o,n),this},t.prototype.bezierCurveTo=function(e,t,r,o,n,a){return this._initCurve(),zt.curveTo(e,t,r,o,n,a,this.currentPath.points),this},t.prototype.arcTo=function(e,t,r,o,n){this._initCurve(e,t);var a=this.currentPath.points,i=Xt.curveTo(e,t,r,o,n,a);if(i){var d=i.cx,s=i.cy,l=i.radius,p=i.startAngle,u=i.endAngle,c=i.anticlockwise;this.arc(d,s,l,p,u,c)}return this},t.prototype.arc=function(e,t,r,o,n,a){if(void 0===a&&(a=!1),o===n)return this;!a&&n<=o?n+=Fe.f:a&&o<=n&&(o+=Fe.f);var i=n-o;if(0==i)return this;var d=e+ye(o)*r,s=t+_e(o)*r,l=this._geometry.closePointEps,p=this.currentPath?this.currentPath.points:null;if(p){var u=fe(p[p.length-2]-d),c=fe(p[p.length-1]-s);if(u<l&&c<l);else p.push(d,s)}else this.moveTo(d,s),p=this.currentPath.points;return Xt.arc(d,s,e,t,r,o,n,a,p),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:rt.r.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof rt.r){Object(Ne.h)("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments,r=t[0],o=t[1],n=t[2],a=t[3];e={texture:r,color:o,alpha:n,matrix:a},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({texture:rt.r.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=0<e.alpha;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,r,o){return this.drawShape(new Fe.j(e,t,r,o))},t.prototype.drawRoundedRect=function(e,t,r,o,n){return this.drawShape(new Fe.k(e,t,r,o,n))},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new Fe.a(e,t,r))},t.prototype.drawEllipse=function(e,t,r,o){return this.drawShape(new Fe.c(e,t,r,o))},t.prototype.drawPolygon=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var o=!0,n=t[0],a;n.points?(o=n.closeStroke,a=n.points):Array.isArray(t[0])?a=t[0]:a=t;var i=new Fe.h(a);return i.closeStroke=o,this.drawShape(i),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,r,o,n,a){return void 0===a&&(a=0),this.drawPolygon(new Gt(e,t,r,o,n,a))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Fe.l.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,r=e.context.supports.uint32Indices;t.updateBatches(r),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var o=0;o<r;o++){var n=e.batches[o],a=n.style.color,i=new Float32Array(this.vertexData.buffer,2*(4*n.attribStart),2*n.attribSize),d=new Float32Array(e.uvsFloat32.buffer,2*(4*n.attribStart),2*n.attribSize),s=new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),l={vertexData:i,blendMode:t,indices:s,uvs:d,_batchRGB:Object(Ne.l)(a),_tintRGB:a,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[o]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,r=this.batches.length,o;t<r;t++)o=this.batches[t],o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),r=this._geometry,o=this.tint,n=this.worldAlpha,a=t.uniforms,d=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(255&o>>16)/255*n,a.tint[1]=(255&o>>8)/255*n,a.tint[2]=(255&o)/255*n,a.tint[3]=n,e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(var s=0,i=d.length;s<i;s++)this._renderDrawCallDirect(e,r.drawCalls[s])},t.prototype._renderDrawCallDirect=function(e,t){for(var r=t.texArray,o=t.type,n=t.size,a=t.start,i=r.count,d=0;d<i;d++)e.texture.bind(r.elements[d],d);e.geometry.draw(o,n,a)},t.prototype._resolveDirectShader=function(e){var t=this.shader,r=this.pluginName;if(!t){if(!tr[r]){for(var o=new Int32Array(16),n=0;16>n;n++)o[n]=n;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Fe.d,default:rt.t.from({uSamplers:o},!0)},i=e.plugins[r]._shader.program;tr[r]=new rt.p(i,a)}t=tr[r]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,r=t.minX,o=t.minY,n=t.maxX,a=t.maxY;this._bounds.addFrame(this.transform,r,o,n,a)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Object(Ne.l)(this.tint,er),t=0;t<this.batches.length;t++){var o=this.batches[t],n=o._batchRGB,a=255*(e[0]*n[0]),r=255*(e[1]*n[1]),i=255*(e[2]*n[2]),d=(a<<16)+(r<<8)+(0|i);o._tintRGB=(d>>16)+(65280&d)+((255&d)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,r=t.a,o=t.b,n=t.c,a=t.d,d=t.tx,s=t.ty,l=this._geometry.points,p=this.vertexData,u=0,c=0;c<l.length;c+=2){var i=l[c],h=l[c+1];p[u++]=r*i+n*h+d,p[u++]=a*h+o*i+s}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new Fe.g,t}(Ge),or=function(e,t){return or=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},or(e,t)},nr=new Fe.g,ar=new Uint16Array([0,1,2,0,2,3]),ir=function(e){function t(t){var r=e.call(this)||this;return r._anchor=new Fe.e(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=Ct.b.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||rt.r.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=ar,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Me.b.ROUND_PIXELS,r}return C(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Object(Ne.z)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Object(Ne.z)(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,r=t.a,o=t.b,n=t.c,a=t.d,d=t.tx,s=t.ty,l=this.vertexData,p=e.trim,u=e.orig,c=this._anchor,h=0,m=0,g=0,_=0;if(p?(m=p.x-c._x*u.width,h=m+p.width,_=p.y-c._y*u.height,g=_+p.height):(m=-c._x*u.width,h=m+u.width,_=-c._y*u.height,g=_+u.height),l[0]=r*m+n*_+d,l[1]=a*_+o*m+s,l[2]=r*h+n*_+d,l[3]=a*_+o*h+s,l[4]=r*h+n*g+d,l[5]=a*g+o*h+s,l[6]=r*m+n*g+d,l[7]=a*g+o*m+s,this._roundPixels)for(var y=Me.b.RESOLUTION,x=0;x<l.length;++x)l[x]=Ee((0|l[x]*y)/y)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,o=this._anchor,n=this.transform.worldTransform,i=n.a,a=n.b,s=n.c,l=n.d,d=n.tx,p=n.ty,u=-o._x*r.width,c=u+r.width,h=-o._y*r.height,m=h+r.height;t[0]=i*u+s*h+d,t[1]=l*h+a*u+p,t[2]=i*c+s*h+d,t[3]=l*h+a*c+p,t[4]=i*c+s*m+d,t[5]=l*m+a*c+p,t[6]=i*u+s*m+d,t[7]=l*m+a*u+p},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new Fe.j),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,nr);var t=this._texture.orig.width,r=this._texture.orig.height,o=-t*this.anchor.x,n=0;return!!(nr.x>=o&&nr.x<o+t&&(n=-r*this.anchor.y,nr.y>=n&&nr.y<n+r))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var r="boolean"==typeof t?t:t&&t.texture;if(r){var o="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!o)}this._texture=null},t.from=function(e,r){var o=e instanceof rt.r?e:rt.r.from(e,r);return new t(o)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return fe(this.scale.x)*this._texture.orig.width},set:function(e){var t=Object(Ne.z)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return fe(this.scale.y)*this._texture.orig.height},set:function(e){var t=Object(Ne.z)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture===e||(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||rt.r.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Ge),dr=function(e,t){return dr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},dr(e,t)},sr,lr;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/sprite - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/text - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(lr||(lr={}));var pr={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:be/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:lr.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},ur=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],cr=function(){function e(e){this.styleID=0,this.reset(),w(this,e,e)}return e.prototype.clone=function(){var t={};return w(t,this,pr),new e(t)},e.prototype.reset=function(){w(this,pr,pr)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=R(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=R(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){D(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=R(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1,o;0<=r;r--)o=t[r].trim(),!/([\"\'])[^\'\"]+\1/.test(o)&&0>ur.indexOf(o)&&(o="\""+o+"\""),t[r]=o;return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}(),hr=function(){function e(e,t,r,o,n,a,i,d,s){this.text=e,this.style=t,this.width=r,this.height=o,this.lines=n,this.lineWidths=a,this.lineHeight=i,this.maxLineWidth=d,this.fontProperties=s}return e.measureText=function(t,r,o,n){void 0===n&&(n=e._canvas),o=void 0===o||null===o?r.wordWrap:o;var a=r.toFontString(),d=e.measureFont(a);0===d.fontSize&&(d.fontSize=r.fontSize,d.ascent=r.fontSize);var s=n.getContext("2d");s.font=a;for(var l=o?e.wordWrap(t,r,n):t,p=l.split(/(?:\r\n|\r|\n)/),u=Array(p.length),c=0,h=0,i;h<p.length;h++)i=s.measureText(p[h]).width+(p[h].length-1)*r.letterSpacing,u[h]=i,c=ve(c,i);var m=c+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);var g=r.lineHeight||d.fontSize+r.strokeThickness,_=ve(g,d.fontSize+r.strokeThickness)+(p.length-1)*(g+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,m,_,p,u,g+r.leading,c,d)},e.wordWrap=function(t,r,o){void 0===o&&(o=e._canvas);for(var n=o.getContext("2d"),a=0,d="",s="",l={},p=r.letterSpacing,u=r.whiteSpace,c=e.collapseSpaces(u),h=e.collapseNewlines(u),m=!c,g=r.wordWrapWidth+p,_=e.tokenize(t),y=0,i;y<_.length;y++){if(i=_[y],e.isNewline(i)){if(!h){s+=e.addLine(d),m=!c,d="",a=0;continue}i=" "}if(c){var x=e.isBreakingSpace(i),b=e.isBreakingSpace(d[d.length-1]);if(x&&b)continue}var T=e.getFromCache(i,p,l,n);if(!(T>g))T+a>g&&(m=!1,s+=e.addLine(d),d="",a=0),(0<d.length||!e.isBreakingSpace(i)||m)&&(d+=i,a+=T);else if(""!==d&&(s+=e.addLine(d),d="",a=0),e.canBreakWords(i,r.breakWords))for(var E=e.wordWrapSplit(i),v=0;v<E.length;v++){for(var I=E[v],A=1;E[v+A];){var S=E[v+A],C=I[I.length-1];if(!e.canBreakChars(C,S,i,v,r.breakWords))I+=S;else break;A++}v+=I.length-1;var P=e.getFromCache(I,p,l,n);P+a>g&&(s+=e.addLine(d),m=!1,d="",a=0),d+=I,a+=P}else{0<d.length&&(s+=e.addLine(d),d="",a=0);var O=y===_.length-1;s+=e.addLine(i,!O),m=!1,d="",a=0}}return s+=e.addLine(d,!1),s},e.addLine=function(t,r){return void 0===r&&(r=!0),t=e.trimRight(t),t=r?t+"\n":t,t},e.getFromCache=function(e,t,r,o){var n=r[e];if(void 0===n){var a=e.length*t;n=o.measureText(e).width+a,r[e]=n}return n},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var r=t.length-1,o;0<=r&&(o=t[r],!!e.isBreakingSpace(o));r--)t=t.slice(0,-1);return t},e.isNewline=function(t){return"string"==typeof t&&0<=e._newlines.indexOf(t.charCodeAt(0))},e.isBreakingSpace=function(t){return"string"==typeof t&&0<=e._breakingSpaces.indexOf(t.charCodeAt(0))},e.tokenize=function(t){var r=[],o="";if("string"!=typeof t)return r;for(var n=0,a;n<t.length;n++){if(a=t[n],e.isBreakingSpace(a)||e.isNewline(a)){""!==o&&(r.push(o),o=""),r.push(a);continue}o+=a}return""!==o&&r.push(o),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},o=e._canvas,n=e._context;n.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,d=xe(n.measureText(a).width),s=xe(n.measureText(e.BASELINE_SYMBOL).width),l=2*s;s=0|s*e.BASELINE_MULTIPLIER,o.width=d,o.height=l,n.fillStyle="#f00",n.fillRect(0,0,d,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,s);var p=n.getImageData(0,0,d,l).data,u=p.length,c=4*d,h=0,i=0,m=!1;for(h=0;h<s;++h){for(var g=0;g<c;g+=4)if(255!==p[i+g]){m=!0;break}if(!m)i+=c;else break}for(r.ascent=s-h,i=u-c,m=!1,h=l;h>s;--h){for(var g=0;g<c;g+=4)if(255!==p[i+g]){m=!0;break}if(!m)i-=c;else break}return r.descent=h-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),mr=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();mr.width=mr.height=10,hr._canvas=mr,hr._context=mr.getContext("2d"),hr._fonts={},hr.METRICS_STRING="|\xC9q\xC5",hr.BASELINE_SYMBOL="M",hr.BASELINE_MULTIPLIER=1.4,hr._newlines=[10,13],hr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var fr={texture:!0,children:!1,baseTexture:!0},gr=function(e){function t(t,r,o){var n=this,a=!1;o||(o=document.createElement("canvas"),a=!0),o.width=3,o.height=3;var i=rt.r.from(o);return i.orig=new Fe.j,i.trim=new Fe.j,n=e.call(this,i)||this,n._ownCanvas=a,n.canvas=o,n.context=n.canvas.getContext("2d"),n._resolution=Me.b.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=r,n.localStyleID=-1,n}return P(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,o=hr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=o.width,a=o.height,d=o.lines,s=o.lineHeight,l=o.lineWidths,p=o.maxLineWidth,u=o.fontProperties;this.canvas.width=xe((ve(1,n)+2*t.padding)*this._resolution),this.canvas.height=xe((ve(1,a)+2*t.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;for(var c=t.dropShadow?2:1,h=0,i,m;h<c;++h){var g=t.dropShadow&&0===h,_=g?2*a:0,y=_*this.resolution;if(g){r.fillStyle="black",r.strokeStyle="black";var x=t.dropShadowColor,b=Object(Ne.l)("number"==typeof x?x:Object(Ne.A)(x));r.shadowColor="rgba("+255*b[0]+","+255*b[1]+","+255*b[2]+","+t.dropShadowAlpha+")",r.shadowBlur=t.dropShadowBlur,r.shadowOffsetX=ye(t.dropShadowAngle)*t.dropShadowDistance,r.shadowOffsetY=_e(t.dropShadowAngle)*t.dropShadowDistance+y}else r.fillStyle=this._generateFillStyle(t,d,o),r.strokeStyle=t.stroke,r.shadowColor="0",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;for(var T=0;T<d.length;T++)i=t.strokeThickness/2,m=t.strokeThickness/2+T*s+u.ascent,"right"===t.align?i+=p-l[T]:"center"===t.align&&(i+=(p-l[T])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[T],i+t.padding,m+t.padding-_,!0),t.fill&&this.drawLetterSpacing(d[T],i+t.padding,m+t.padding-_)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,r,o){void 0===o&&(o=!1);var n=this._style,a=n.letterSpacing;if(0===a)return void(o?this.context.strokeText(e,t,r):this.context.fillText(e,t,r));for(var d=t,s=Array.from?Array.from(e):e.split(""),l=this.context.measureText(e).width,p=0,u=0,i;u<s.length;++u)i=s[u],o?this.context.strokeText(i,d,r):this.context.fillText(i,d,r),p=this.context.measureText(e.substring(u+1)).width,d+=l-p+a,l=p},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=Object(Ne.B)(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,o=this._style,n=o.trim?0:o.padding,a=r.baseTexture;r.trim.width=r._frame.width=xe(e.width/this._resolution),r.trim.height=r._frame.height=xe(e.height/this._resolution),r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,r){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var n=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,d=xe(this.canvas.width/this._resolution)-n-2*a,s=xe(this.canvas.height/this._resolution)-n-2*a,l=o.slice(),p=e.fillGradientStops.slice(),u;if(!p.length)for(var c=l.length+1,h=1;h<c;++h)p.push(h/c);if(l.unshift(o[0]),p.unshift(0),l.push(o[o.length-1]),p.push(1),e.fillGradientType===lr.LINEAR_VERTICAL){u=this.context.createLinearGradient(d/2,a,d/2,s+a);for(var i=0,m=r.fontProperties.fontSize+e.strokeThickness,h=0,g;h<t.length;h++){g=r.lineHeight*h;for(var _=0,y;_<l.length;_++){y=0,y="number"==typeof p[_]?p[_]:_/l.length;var x=g/s+y*(m/s),b=ve(i,x);b=Ie(b,1),u.addColorStop(b,l[_]),i=b}}}else{u=this.context.createLinearGradient(a,s/2,d+a,s/2);for(var T=l.length+1,E=1,h=0,v;h<l.length;h++)v=void 0,v="number"==typeof p[h]?p[h]:E/T,u.addColorStop(v,l[h]),E++}return u},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},fr,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),fe(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=Object(Ne.z)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),fe(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=Object(Ne.z)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof cr?e:new cr(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=(null===e||void 0===e?"":e)+"",this._text===e||(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution===e||(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}(ir);Me.b.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _r=function(e,t){return _r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},_r(e,t)},yr=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}(),xr=function(){function e(e){var t=this;this.limiter=new yr(Me.b.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(k),this.registerFindHook(H),this.registerFindHook(N),this.registerFindHook(M),this.registerFindHook(F),this.registerUploadHook(B),this.registerUploadHook(U)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,We.a.system.addOnce(this.tick,this,We.c.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,o=this.uploadHooks.length;r<o;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var r=0,o=n.length;r<o;r++)n[r]()}else We.a.system.addOnce(this.tick,this,We.c.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Ge)for(var t=e.children.length-1;0<=t;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&We.a.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}(),br=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(z),r.registerUploadHook(G),r.registerUploadHook(X),r}return L(t,e),t}(xr),Tr=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),Er=function(){function e(e,t,r){void 0===r&&(r=null),this._texture=e instanceof rt.r?e:null,this.baseTexture=e instanceof rt.c?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var o=this.baseTexture.resource;this.resolution=this._updateResolution(r||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=Object(Ne.k)(e,null);return null===r&&(r=void 0===t?1:parseFloat(t)),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,o=e.BATCH_SIZE;r-t<o&&r<this._frameKeys.length;){var n=this._frameKeys[r],a=this._frames[n],i=a.frame;if(i){var d=null,s=null,l=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,p=new Fe.j(0,0,Ae(l.w)/this.resolution,Ae(l.h)/this.resolution);d=a.rotated?new Fe.j(Ae(i.x)/this.resolution,Ae(i.y)/this.resolution,Ae(i.h)/this.resolution,Ae(i.w)/this.resolution):new Fe.j(Ae(i.x)/this.resolution,Ae(i.y)/this.resolution,Ae(i.w)/this.resolution,Ae(i.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(s=new Fe.j(Ae(a.spriteSourceSize.x)/this.resolution,Ae(a.spriteSourceSize.y)/this.resolution,Ae(i.w)/this.resolution,Ae(i.h)/this.resolution)),this.textures[n]=new rt.r(this.baseTexture,d,p,s,a.rotated?2:0,a.anchor),rt.r.addToCache(this.textures[n],n)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0,o;r<e[t].length;r++)o=e[t][r],this.animations[t].push(this.textures[o])}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(e){var t;for(var r in void 0===e&&(e=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t?void 0:t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),vr=function(){function e(){}return e.use=function(t,r){var o=this,n=t.name+"_image";if(!t.data||t.type!==Et.TYPE.JSON||!t.data.frames||o.resources[n])return void r();var a={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},i=e.getResourcePath(t,o.baseUrl);o.add(n,i,a,function(e){if(e.error)return void r(e.error);var o=new Er(e.texture,t.data,t.url);o.parse(function(){t.spritesheet=o,t.textures=o.textures,r()})})},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:Ne.D.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),Ir=function(e,t){return Ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ir(e,t)},Ar=new Fe.g,Sr=function(e){function t(t,r,o){void 0===r&&(r=100),void 0===o&&(o=100);var n=e.call(this,t)||this;return n.tileTransform=new Fe.m,n._width=r,n._height=o,n.uvMatrix=t.uvMatrix||new rt.s(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return V(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,o)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new Fe.j),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ar);var t=this._width,r=this._height,o=-t*this.anchor._x;if(Ar.x>=o&&Ar.x<o+t){var n=-r*this.anchor._y;if(Ar.y>=n&&Ar.y<n+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return"number"==typeof r&&(Object(Ne.h)("5.3.0","TilingSprite.from use options instead of width and height args"),r={width:r,height:arguments[2]}),new t(rt.r.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(ir),Cr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Pr=new Fe.d,Or=function(e){function t(t){var r=e.call(this,t)||this,o={globals:r.renderer.globalUniforms};return r.shader=rt.p.from(Cr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",o),r.simpleShader=rt.p.from(Cr,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",o),r.quad=new rt.m,r.state=rt.q.for2d(),r}return V(t,e),t.prototype.render=function(e){var t=this.renderer,r=this.quad,o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(o=r.uvs,o[0]=o[6]=-e.anchor.x,o[1]=o[3]=-e.anchor.y,o[2]=o[4]=1-e.anchor.x,o[5]=o[7]=1-e.anchor.y),r.invalidate();var n=e._texture,a=n.baseTexture,i=e.tileTransform.localTransform,d=e.uvMatrix,s=a.isPowerOfTwo&&n.frame.width===a.width&&n.frame.height===a.height;s&&(a._glTextures[t.CONTEXT_UID]?s=a.wrapMode!==Ct.q.CLAMP:a.wrapMode===Ct.q.CLAMP&&(a.wrapMode=Ct.q.REPEAT));var l=s?this.simpleShader:this.shader,p=n.width,u=n.height,c=e._width,h=e._height;Pr.set(i.a*p/c,i.b*p/h,i.c*u/c,i.d*u/h,i.tx/c,i.ty/h),Pr.invert(),s?Pr.prepend(d.mapCoord):(l.uniforms.uMapCoord=d.mapCoord.toArray(!0),l.uniforms.uClampFrame=d.uClampFrame,l.uniforms.uClampOffset=d.uClampOffset),l.uniforms.uTransform=Pr.toArray(!0),l.uniforms.uColor=Object(Ne.v)(e.tint,e.worldAlpha,l.uniforms.uColor,a.alphaMode),l.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),l.uniforms.uSampler=n,t.shader.bind(l),t.geometry.bind(r),this.state.blendMode=Object(Ne.f)(e.blendMode,a.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(rt.k),Rr=function(e,t){return Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Rr(e,t)},Dr=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),wr=new Fe.g,Lr=new Fe.h,Nr=function(e){function t(t,r,o,n){void 0===n&&(n=Ct.e.TRIANGLES);var a=e.call(this)||this;return a.geometry=t,t.refCount++,a.shader=r,a.state=o||rt.q.for2d(),a.drawMode=n,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a.tint=16777215,a.blendMode=Ct.b.NORMAL,a._roundPixels=Me.b.ROUND_PIXELS,a.batchUvs=null,a}return Y(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ct.e.TRIANGLES&&r.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,o=r.a,n=r.b,a=r.c,s=r.d,d=r.tx,l=r.ty,p=this.vertexData,u=0;u<p.length/2;u++){var i=t[2*u],c=t[2*u+1];p[2*u]=o*i+a*c+d,p[2*u+1]=n*i+s*c+l}if(this._roundPixels)for(var h=Me.b.RESOLUTION,u=0;u<p.length;++u)p[u]=Ee((0|p[u]*h)/h);this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(!this.batchUvs&&(this.batchUvs=new Dr(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,wr);for(var t=this.geometry.getBuffer("aVertexPosition").data,r=Lr.points,o=this.geometry.getIndex().data,n=o.length,a=4===this.drawMode?3:1,d=0;d+2<n;d+=a){var i=2*o[d],s=2*o[d+1],l=2*o[d+2];if(r[0]=t[i],r[1]=t[i+1],r[2]=t[s],r[3]=t[s+1],r[4]=t[l],r[5]=t[l+1],Lr.contains(wr.x,wr.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Ge),Mr=function(e){function t(t,r){var o=this,n={uSampler:t,alpha:1,uTextureMatrix:Fe.d.IDENTITY,uColor:new Float32Array([1,1,1,1])};return r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),o=e.call(this,r.program||rt.l.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this,o._colorDirty=!1,o.uvMatrix=new rt.s(t),o.batchable=void 0===r.program,o.pluginName=r.pluginName,o.tint=r.tint,o.alpha=r.alpha,o}return Y(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e===this._alpha||(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e===this._tint||(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Object(Ne.v)(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(rt.p),Fr=function(e){function t(t,r,o){var n=e.call(this)||this,a=new rt.h(t),i=new rt.h(r,!0),d=new rt.h(o,!0,!0);return n.addAttribute("aVertexPosition",a,2,!1,Ct.p.FLOAT).addAttribute("aTextureCoord",i,2,!1,Ct.p.FLOAT).addIndex(d),n._updateId=-1,n}return Y(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(rt.j),Br=function(e,t){return Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Br(e,t)},Ur=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}(),kr=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var o in t){var n=t[o].match(/^[a-z]+/gm)[0],a=t[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),i={};for(var d in a){var s=a[d].split("="),l=s[0],p=s[1].replace(/"/gm,""),u=parseFloat(p),c=isNaN(u)?p:u;i[l]=c}r[n].push(i)}var h=new Ur;return r.info.forEach(function(e){return h.info.push({face:e.face,size:parseInt(e.size,10)})}),r.common.forEach(function(e){return h.common.push({lineHeight:parseInt(e.lineHeight,10)})}),r.page.forEach(function(e){return h.page.push({id:parseInt(e.id,10),file:e.file})}),r.char.forEach(function(e){return h.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),r.kerning.forEach(function(e){return h.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),h},e}(),Hr=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new Ur,r=e.getElementsByTagName("info"),o=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),s=0;s<r.length;s++)t.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(var s=0;s<o.length;s++)t.common.push({lineHeight:parseInt(o[s].getAttribute("lineHeight"),10)});for(var s=0;s<n.length;s++)t.page.push({id:parseInt(n[s].getAttribute("id"),10)||0,file:n[s].getAttribute("file")});for(var s=0,i;s<a.length;s++)i=a[s],t.char.push({id:parseInt(i.getAttribute("id"),10),page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xoffset:parseInt(i.getAttribute("xoffset"),10),yoffset:parseInt(i.getAttribute("yoffset"),10),xadvance:parseInt(i.getAttribute("xadvance"),10)});for(var s=0;s<d.length;s++)t.kerning.push({first:parseInt(d[s].getAttribute("first"),10),second:parseInt(d[s].getAttribute("second"),10),amount:parseInt(d[s].getAttribute("amount"),10)});return t},e}(),Gr=[kr,Hr],Xr=function(){function e(e,t){var r=e.info[0],o=e.common[0],n=e.page[0],a=Object(Ne.k)(n.file),d={};for(var s in this.font=r.face,this.size=r.size,this.lineHeight=o.lineHeight/a,this.chars={},this.pageTextures=d,e.page){var i=e.page[s],l=i.id,p=i.file;d[l]=t instanceof Array?t[s]:t[p]}for(var s in e.char){var u=e.char[s],l=u.id,c=u.page,h=e.char[s],m=h.x,g=h.y,_=h.width,y=h.height,x=h.xoffset,b=h.yoffset,T=h.xadvance;m/=a,g/=a,_/=a,y/=a,x/=a,b/=a,T/=a;var E=new Fe.j(m+d[c].frame.x/a,g+d[c].frame.y/a,_,y);this.chars[l]={xOffset:x,yOffset:b,xAdvance:T,kerning:{},texture:new rt.r(d[c].baseTexture,E),page:c}}for(var s in e.kerning){var v=e.kerning[s],I=v.first,A=v.second,S=v.amount;I/=a,A/=a,S/=a,this.chars[A]&&(this.chars[A].kerning[I]=S)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r){var o;if(t instanceof Ur)o=t;else{var n=j(t);if(!n)throw new Error("Unrecognized data format for font.");o=n.parse(t)}r instanceof rt.r&&(r=[r]);var a=new e(o,r);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,o){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,o),a=n.chars,d=n.padding,s=n.resolution,l=n.textureWidth,p=n.textureHeight,u=Q(a),c=r instanceof cr?r:new cr(r),h=new Ur;h.info[0]={face:c.fontFamily,size:c.fontSize},h.common[0]={lineHeight:c.fontSize};for(var m=0,g=0,_=0,y=[],x=0,i,b,T;x<u.length;x++){i||(i=document.createElement("canvas"),i.width=l,i.height=p,b=i.getContext("2d"),T=new rt.c(i,{resolution:s}),y.push(new rt.r(T)),h.page.push({id:y.length-1,file:""}));var E=hr.measureText(u[x],c,!1,i),v=E.width,I=xe(E.height),A=xe(("italic"===c.fontStyle?2:1)*v);if(g>=p-I*s){if(0===g)throw new Error("[BitmapFont] textureHeight "+p+"px is "+("too small for "+c.fontSize+"px fonts"));i=null,b=null,T=null,g=0,m=0,_=0;continue}if(_=ve(I+E.fontProperties.descent,_),A*s+m>=l){--x,g+=_*s,g=xe(g),m=0,_=0;continue}K(i,b,E,m,g,s,c);var S=E.text.charCodeAt(0);h.char[S]={id:S,page:y.length-1,x:m/s,y:g/s,width:A,height:I,xoffset:0,yoffset:0,xadvance:xe(v-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))},m+=(A+2*d)*s,m=xe(m)}var C=new e(h,y);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=C,C},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),zr=[],Vr=[],Yr=function(e){function t(r,o){void 0===o&&(o={});var n=e.call(this)||this;n._tint=16777215,o.font&&(Object(Ne.h)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),n._upgradeStyle(o));var a=Object.assign({},t.styleDefaults,o),i=a.align,d=a.tint,s=a.maxWidth,l=a.letterSpacing,p=a.fontName,u=a.fontSize;if(!Xr.available[p])throw new Error("Missing BitmapFont \""+p+"\"");return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=i,n._tint=d,n._fontName=p,n._fontSize=u||Xr.available[p].size,n._text=r,n._maxWidth=s,n._maxLineHeight=0,n._letterSpacing=l,n._anchor=new Fe.e(function(){n.dirty=!0},n,0,0),n.roundPixels=Me.b.ROUND_PIXELS,n.dirty=!0,n}return W(t,e),t.prototype.updateText=function(){for(var e=Xr.available[this._fontName],t=this._fontSize/e.size,r=new Fe.g,o=[],n=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",d=a.length,s=this._maxWidth*e.size/this._fontSize,l=null,p=0,u=0,c=0,h=-1,m=0,g=0,_=0,y=0,i;y<d;y++){var x=a.charCodeAt(y),b=a.charAt(y);if(/(?:\s)/.test(b)&&(h=y,m=p),"\r"===b||"\n"===b){n.push(p),u=ve(u,p),++c,++g,r.x=0,r.y+=e.lineHeight,l=null;continue}var T=e.chars[x];if(T){l&&T.kerning[l]&&(r.x+=T.kerning[l]);var E=Vr.pop()||{texture:rt.r.EMPTY,line:0,charCode:0,position:new Fe.g};E.texture=T.texture,E.line=c,E.charCode=x,E.position.x=r.x+T.xOffset+this._letterSpacing/2,E.position.y=r.y+T.yOffset,o.push(E),r.x+=T.xAdvance+this._letterSpacing,p=r.x,_=ve(_,T.yOffset+T.texture.height),l=x,-1!==h&&0<s&&r.x>s&&(++g,Object(Ne.w)(o,1+h-g,1+y-h),y=h,h=-1,n.push(m),u=ve(u,m),c++,r.x=0,r.y+=e.lineHeight,l=null)}}var v=a.charAt(a.length-1);"\r"!==v&&"\n"!==v&&(/(?:\s)/.test(v)&&(p=m),n.push(p),u=ve(u,p));for(var I=[],y=0,A;y<=c;y++)A=0,"right"===this._align?A=u-n[y]:"center"===this._align&&(A=(u-n[y])/2),I.push(A);for(var S=o.length,C={},P=[],O=this._activePagesMeshData,y=0;y<O.length;y++)zr.push(O[y]);for(var y=0;y<S;y++){var R=o[y].texture,D=R.baseTexture.uid;if(!C[D]){var w=zr.pop();if(!w){var L=new Fr,N=new Mr(rt.r.EMPTY),M=new Nr(L,N);w={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:M,vertices:null,uvs:null,indices:null}}w.index=0,w.indexCount=0,w.vertexCount=0,w.uvsCount=0,w.total=0,w.mesh.texture=new rt.r(R.baseTexture),w.mesh.tint=this._tint,P.push(w),C[D]=w}C[D].total++}for(var y=0;y<O.length;y++)-1===P.indexOf(O[y])&&this.removeChild(O[y].mesh);for(var y=0;y<P.length;y++)P[y].mesh.parent!==this&&this.addChild(P[y].mesh);for(var y in this._activePagesMeshData=P,C){var w=C[y],F=w.total;(!((null===(i=w.indices)||void 0===i?void 0:i.length)>6*F)||w.vertices.length<2*Nr.BATCHABLE_SIZE)&&(w.vertices=new Float32Array(8*F),w.uvs=new Float32Array(8*F),w.indices=new Uint16Array(6*F)),w.mesh.size=6*F}for(var y=0;y<S;y++){var b=o[y],B=(b.position.x+I[b.line])*t,U=b.position.y*t,R=b.texture,k=C[R.baseTexture.uid],H=R.frame,G=R._uvs,X=k.index++;k.indices[6*X+0]=0+4*X,k.indices[6*X+1]=1+4*X,k.indices[6*X+2]=2+4*X,k.indices[6*X+3]=0+4*X,k.indices[6*X+4]=2+4*X,k.indices[6*X+5]=3+4*X,k.vertices[8*X+0]=B,k.vertices[8*X+1]=U,k.vertices[8*X+2]=B+H.width*t,k.vertices[8*X+3]=U,k.vertices[8*X+4]=B+H.width*t,k.vertices[8*X+5]=U+H.height*t,k.vertices[8*X+6]=B,k.vertices[8*X+7]=U+H.height*t,k.uvs[8*X+0]=G.x0,k.uvs[8*X+1]=G.y0,k.uvs[8*X+2]=G.x1,k.uvs[8*X+3]=G.y1,k.uvs[8*X+4]=G.x2,k.uvs[8*X+5]=G.y2,k.uvs[8*X+6]=G.x3,k.uvs[8*X+7]=G.y3}for(var y in this._textWidth=u*t,this._textHeight=(r.y+e.lineHeight)*t,C){var w=C[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var z=0,V=this._textWidth*this.anchor.x,Y=this._textHeight*this.anchor.y,W=0;W<w.total;W++)w.vertices[z++]-=V,w.vertices[z++]-=Y,w.vertices[z++]-=V,w.vertices[z++]-=Y,w.vertices[z++]-=V,w.vertices[z++]-=Y,w.vertices[z++]-=V,w.vertices[z++]-=Y;this._maxLineHeight=_*t;var j=w.mesh.geometry.getBuffer("aVertexPosition"),q=w.mesh.geometry.getBuffer("aTextureCoord"),K=w.mesh.geometry.getIndex();j.data=w.vertices,q.data=w.uvs,K.data=w.indices,j.update(),q.update(),K.update()}for(var y=0;y<o.length;y++)Vr.push(o[y])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Xr.available[e])throw new Error("Missing BitmapFont \""+e+"\"");this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=(null===e||void 0===e?"":e)+"",this._text===e||(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),2<=t.length&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.registerFont=function(e,t){return Object(Ne.h)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Xr.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return Object(Ne.h)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Xr.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Ge),Wr=function(){function e(){}return e.add=function(){Et.setExtensionXhrType("fnt",Et.XHR_RESPONSE_TYPE.DOCUMENT)},e.use=function(t,r){var o=j(t.data);if(!o)return void r();for(var n=e.getBaseUrl(this,t),a=o.parse(t.data),d={},s=function(e){d[e.metadata.pageFile]=e.texture,Object.keys(d).length===a.page.length&&(t.bitmapFont=Xr.install(a,d),r())},l=0;l<a.page.length;++l){var i=a.page[l].file,p=n+i,u=!1;for(var c in this.resources){var h=this.resources[c];if(h.url===p){h.metadata.pageFile=i,h.texture?s(h):h.onAfterMiddleware.add(s),u=!0;break}}if(!u){var m={crossOrigin:t.crossOrigin,loadType:Et.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:i},t.metadata.imageMetadata),parentResource:t};this.add(p,m,s)}}},e.getBaseUrl=function(t,r){var o=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===o&&(o=""),t.baseUrl&&o&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(o+="/")),o=o.replace(t.baseUrl,""),o&&"/"!==o.charAt(o.length-1)&&(o+="/"),o},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),jr=function(e,t){return jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},jr(e,t)},qr=function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,rt.w,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=t,r}return Z(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(rt.i),Kr=function(e,t){return Kr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Kr(e,t)},Qr="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",Zr={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Jr="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}",$r;/*!
 * @pixi/spritesheet - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/sprite-tiling - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/mesh - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/text-bitmap - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-alpha - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-blur - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})($r||($r={}));var eo;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(eo||(eo={}));var to;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(to||(to={}));var ro;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(ro||(ro={}));var oo;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(oo||(oo={}));var no;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(no||(no={}));var ao;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ao||(ao={}));var io;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(io||(io={}));var so;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(so||(so={}));var lo;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(lo||(lo={}));var po;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(po||(po={}));var uo;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(uo||(uo={}));var co;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(co||(co={}));var ho;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(ho||(ho={}));var mo;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(mo||(mo={}));var fo;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(fo||(fo={}));var go;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(go||(go={}));var _o=function(e){function t(t,r,o,n,a){void 0===r&&(r=8),void 0===o&&(o=4),void 0===n&&(n=Me.b.RESOLUTION),void 0===a&&(a=5);var i=this,d=$(a,t),s=ee(a);return i=e.call(this,d,s)||this,i.horizontal=t,i.resolution=n,i._quality=0,i.quality=o,i.blur=r,i}return J(t,e),t.prototype.apply=function(e,t,r,o){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/t.width):1/r.height*(r.height/t.height):this.horizontal?1/e.renderer.width*(e.renderer.width/t.width):1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,o);else{var n=e.getFilterTexture(),a=e.renderer,d=t,s=n;this.state.blend=!1,e.applyFilter(this,d,s,co.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(d,co.BLIT),this.uniforms.uSampler=s;var i=s;s=d,d=i,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,s,r,o),e.returnFilterTexture(n)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*fe(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(rt.i),yo=function(e){function t(t,r,o,n){void 0===t&&(t=8),void 0===r&&(r=4),void 0===o&&(o=Me.b.RESOLUTION),void 0===n&&(n=5);var a=e.call(this)||this;return a.blurXFilter=new _o(!0,t,r,o,n),a.blurYFilter=new _o(!1,t,r,o,n),a.resolution=o,a.quality=r,a.blur=t,a.repeatEdgePixels=!1,a}return J(t,e),t.prototype.apply=function(e,t,r,o){var n=fe(this.blurXFilter.strength),a=fe(this.blurYFilter.strength);if(n&&a){var i=e.getFilterTexture();this.blurXFilter.apply(e,t,i,co.CLEAR),this.blurYFilter.apply(e,i,r,o),e.returnFilterTexture(i)}else a?this.blurYFilter.apply(e,t,r,o):this.blurXFilter.apply(e,t,r,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*ve(fe(this.blurXFilter.strength),fe(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(rt.i),xo=function(e,t){return xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},xo(e,t)},bo=function(e){function t(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=e.call(this,rt.v,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this,t.alpha=1,t}return te(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*be;var r=ye(e),o=_e(e),n=1/3,a=me(n);this._loadMatrix([r+(1-r)*n,n*(1-r)-a*o,n*(1-r)+a*o,0,0,n*(1-r)+a*o,r+n*(1-r),n*(1-r)-a*o,0,0,n*(1-r)-a*o,n*(1-r)+a*o,r+n*(1-r),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-.5*(r-1);this._loadMatrix([r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0],t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var r=2*e/3+1,o=-.5*(r-1);this._loadMatrix([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,o,n){e=e||.2,t=t||.15,r=r||16770432,o=o||3375104;var a=(255&r>>16)/255,i=(255&r>>8)/255,d=(255&r)/255,s=(255&o>>16)/255,l=(255&o>>8)/255,p=(255&o)/255,u=[.3,.59,.11,0,0,a,i,d,e,0,s,l,p,t,0,a-s,i-l,d-p,0,0];this._loadMatrix(u,n)},t.prototype.night=function(e,t){e=e||.1;var r=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(rt.i);/*!
 * @pixi/filter-color-matrix - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */bo.prototype.grayscale=bo.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var To=function(e,t){return To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},To(e,t)},Eo=function(e){function t(t,r){var o=this,n=new Fe.d;return t.renderable=!1,o=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,o.maskSprite=t,o.maskMatrix=n,(null===r||void 0===r)&&(r=20),o.scale=new Fe.g(r,r),o}return re(t,e),t.prototype.apply=function(e,t,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,a=me(n.a*n.a+n.b*n.b),i=me(n.c*n.c+n.d*n.d);0!==a&&0!==i&&(this.uniforms.rotation[0]=n.a/a,this.uniforms.rotation[1]=n.b/a,this.uniforms.rotation[2]=n.c/i,this.uniforms.rotation[3]=n.d/i),e.applyFilter(this,t,r,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(rt.i),vo=function(e,t){return vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},vo(e,t)},Io=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n","varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n")||this}return oe(t,e),t}(rt.i),Ao=function(e,t){return Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ao(e,t)},So=function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=Math.random());var o=e.call(this,rt.v,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return o.noise=t,o.seed=r,o}return ne(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(rt.i),Co=new Fe.d;/*!
 * @pixi/filter-fxaa - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-noise - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/mixin-cache-as-bitmap - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ke.prototype._cacheAsBitmap=!1,ke.prototype._cacheData=null;var Po=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();Object.defineProperties(ke.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new Po),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),ke.prototype._renderCached=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},ke.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters){var o=this.filters[0].padding;r.pad(o)}r.ceil(Me.b.RESOLUTION);var n=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),i=e.projection.transform,d=rt.n.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Object(Ne.C)();this._cacheData.textureCacheId=s,rt.c.addToCache(d.baseTexture,s),rt.r.addToCache(d,s);var l=this.transform.localTransform.copyTo(Co).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,d,!0,l,!1),e.projection.transform=i,e.renderTexture.bind(n,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var p=new ir(d);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=t,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},ke.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},ke.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var o=e.context,n=e._projTransform;t.ceil(Me.b.RESOLUTION);var a=rt.n.create({width:t.width,height:t.height}),i="cacheAsBitmap_"+Object(Ne.C)();this._cacheData.textureCacheId=i,rt.c.addToCache(a.baseTexture,i),rt.r.addToCache(a,i);var d=Co;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=t.x,d.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,a,!0,d,!1),e.context=o,e._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var s=new ir(a);s.transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(t.x/t.width),s.anchor.y=-(t.y/t.height),s.alpha=r,s._bounds=this._bounds,this._cacheData.sprite=s,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=s.containsPoint.bind(s)}},ke.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ke.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ke.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,rt.c.removeFromCache(this._cacheData.textureCacheId),rt.r.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ke.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},ke.prototype.name=null,Ge.prototype.getChildByName=function(e,t){for(var r=0,o=this.children.length;r<o;r++)if(this.children[r].name===e)return this.children[r];if(t)for(var r=0,o=this.children.length,n;r<o;r++)if(n=this.children[r],!!n.getChildByName){var a=this.children[r].getChildByName(e,!0);if(a)return a}return null},ke.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Fe.g),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oo=function(e,t){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Oo(e,t)},Ro=function(e){function t(t,r,o,n){void 0===t&&(t=100),void 0===r&&(r=100),void 0===o&&(o=10),void 0===n&&(n=10);var a=e.call(this)||this;return a.segWidth=o,a.segHeight=n,a.width=t,a.height=r,a.build(),a}return ae(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],r=[],o=[],n=this.segWidth-1,a=this.segHeight-1,d=this.width/n,s=this.height/a,l=0;l<e;l++){var i=l%this.segWidth,p=0|l/this.segWidth;t.push(i*d,p*s),r.push(i/n,p/a)}for(var l=0;l<n*a;l++){var u=l%n,c=0|l/n,h=c*this.segWidth+u,m=c*this.segWidth+u+1,g=(c+1)*this.segWidth+u,_=(c+1)*this.segWidth+u+1;o.push(h,m,g,m,_,g)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Fr),Do=function(e){function t(t,r,o){void 0===t&&(t=200),void 0===o&&(o=0);var n=e.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=t,n.textureScale=o,n.build(),n}return ae(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(1>e.length)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var n=r.data,a=o.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var d=0,s=e[0],l=this._width*this.textureScale,p=e.length,u=0,i;u<p;u++){if(i=4*u,0<this.textureScale){var c=s.x-e[u].x,h=s.y-e[u].y,m=me(c*c+h*h);s=e[u],d+=m/l}else d=u/(p-1);n[i]=d,n[i+1]=0,n[i+2]=d,n[i+3]=1}for(var g=0,u=0,i;u<p-1;u++)i=2*u,a[g++]=i,a[g++]=i+1,a[g++]=i+2,a[g++]=i+2,a[g++]=i+1,a[g++]=i+3;r.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(1>e.length)){for(var t=e[0],r=0,o=0,n=this.buffers[0].data,a=e.length,d=0,i;d<a;d++){var s=e[d],l=4*d;i=d<e.length-1?e[d+1]:s,o=-(i.x-t.x),r=i.y-t.y;var p=me(r*r+o*o),u=0<this.textureScale?this.textureScale*this._width/2:this._width/2;r/=p,o/=p,r*=u,o*=u,n[l]=s.x+r,n[l+1]=s.y+o,n[l+2]=s.x-r,n[l+3]=s.y-o,t=s}this.buffers[0].update()}},t.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},t}(Fr),wo=function(e){function t(t,r,o){void 0===o&&(o=0);var n=this,a=new Do(t.height,r,o),i=new Mr(t);return 0<o&&(t.baseTexture.wrapMode=Ct.q.REPEAT),n=e.call(this,a,i)||this,n.autoUpdate=!0,n}return ae(t,e),t.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,t)},t}(Nr),Lo=function(e){function t(t,r,o){var n=this,a=new Ro(t.width,t.height,r,o),i=new Mr(rt.r.WHITE);return n=e.call(this,a,i)||this,n.texture=t,n}return ae(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture===e||(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t}(Nr),No=function(e){function t(t,r,o,n,a){void 0===t&&(t=rt.r.EMPTY);var i=this,d=new Fr(r,o,n);d.getBuffer("aVertexPosition").static=!1;var s=new Mr(t);return i=e.call(this,d,s,null,a)||this,i.autoUpdate=!0,i}return ae(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Nr),Mo=10,Fo=function(e){function t(t,r,o,n,a){void 0===r&&(r=Mo),void 0===o&&(o=Mo),void 0===n&&(n=Mo),void 0===a&&(a=Mo);var i=e.call(this,rt.r.WHITE,4,4)||this;return i._origWidth=t.orig.width,i._origHeight=t.orig.height,i._width=i._origWidth,i._height=i._origHeight,i._leftWidth=r,i._rightWidth=n,i._topHeight=o,i._bottomHeight=a,i.texture=t,i}return ae(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,o=this._height>r?1:this._height/r,n=Ie(t,o);return n},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,o=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=o*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(Lo),Bo=r(31),Uo=function(e,t){return Uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Uo(e,t)},ko=function(e){function t(t,r){void 0===r&&(r=!0);var o=e.call(this,t[0]instanceof rt.r?t[0]:t[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=r,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=t,o}return ie(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(We.a.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(We.a.shared.add(this.update,this,We.c.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=1e3*(t/60);0>o;)this._currentTime--,o+=this._durations[this.currentFrame];var n=he(this.animationSpeed*e);for(this._currentTime=Ae(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<r?this.onLoop():0>this.animationSpeed&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame===e||(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var r=[],o=0;o<e.length;++o)r.push(rt.r.from(e[o]));return new t(r)},t.fromImages=function(e){for(var r=[],o=0;o<e.length;++o)r.push(rt.r.from(e[o]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof rt.r)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Ae(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(We.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(We.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(ir),Ho=function(e,t){return Ho=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ho(e,t)},Go="5.0.0";/*!
 * @pixi/sprite-animated - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * pixi.js - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */rt.o.registerPlugin("accessibility",Ye),rt.o.registerPlugin("extract",dt),rt.o.registerPlugin("interaction",tt),rt.o.registerPlugin("particle",Dt),rt.o.registerPlugin("prepare",br),rt.o.registerPlugin("batch",rt.f),rt.o.registerPlugin("tilingSprite",Or),At.registerPlugin(Wr),At.registerPlugin(vr),ot.registerPlugin(We.b),ot.registerPlugin(St);var Xo=function(e,t){return Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Xo(e,t)},zo=function(){function e(e){this.renderer=e,this._foundShapes=[]}return e.prototype.pushMask=function(e){var t=this.renderer,r=e.maskObject||e;t.context.save();var o=this._foundShapes;if(this.recursiveFindShapes(r,o),0<o.length){var n=t.context;n.beginPath();for(var a=0;a<o.length;a++){var i=o[a],d=i.transform.worldTransform;this.renderer.setContextTransform(d),this.renderGraphicsShape(i)}o.length=0,n.clip()}},e.prototype.recursiveFindShapes=function(e,t){e.geometry&&e.geometry.graphicsData&&t.push(e);var r=e.children;if(r)for(var o=0;o<r.length;o++)this.recursiveFindShapes(r[o],t)},e.prototype.renderGraphicsShape=function(e){e.finishPoly();var t=this.renderer.context,r=e.geometry.graphicsData,o=r.length;if(0!==o)for(var n=0;n<o;n++){var a=r[n],i=a.shape;if(i.type===Fe.l.POLY){var d=i.points;t.moveTo(d[0],d[1]);for(var s=1;s<d.length/2;s++)t.lineTo(d[2*s],d[2*s+1]);d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&t.closePath()}else if(i.type===Fe.l.RECT)t.rect(i.x,i.y,i.width,i.height),t.closePath();else if(i.type===Fe.l.CIRC)t.arc(i.x,i.y,i.radius,0,2*be),t.closePath();else if(i.type===Fe.l.ELIP){var l=2*i.width,p=2*i.height,u=i.x-l/2,c=i.y-p/2,h=.5522848,m=l/2*h,g=p/2*h,_=u+l,y=c+p,x=u+l/2,b=c+p/2;t.moveTo(u,b),t.bezierCurveTo(u,b-g,x-m,c,x,c),t.bezierCurveTo(x+m,c,_,b-g,_,b),t.bezierCurveTo(_,b+g,x+m,y,x,y),t.bezierCurveTo(x-m,y,u,b+g,u,b),t.closePath()}else if(i.type===Fe.l.RREC){var T=i.x,E=i.y,v=i.width,I=i.height,A=i.radius,S=0|Ie(v,I)/2;A=A>S?S:A,t.moveTo(T,E+A),t.lineTo(T,E+I-A),t.quadraticCurveTo(T,E+I,T+A,E+I),t.lineTo(T+v-A,E+I),t.quadraticCurveTo(T+v,E+I,T+v,E+I-A),t.lineTo(T+v,E+A),t.quadraticCurveTo(T+v,E,T+v-A,E),t.lineTo(T+A,E),t.quadraticCurveTo(T,E,T,E+A),t.closePath()}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}(),Vo=new Fe.d,Yo=function(e){function t(r){var o=e.call(this,Ct.m.CANVAS,r)||this;if(o.rootContext=o.view.getContext("2d",{alpha:o.transparent}),o.context=o.rootContext,o.refresh=!0,o.maskManager=new zo(o),o.smoothProperty="imageSmoothingEnabled",!o.rootContext.imageSmoothingEnabled){var n=o.rootContext;n.webkitImageSmoothingEnabled?o.smoothProperty="webkitImageSmoothingEnabled":n.mozImageSmoothingEnabled?o.smoothProperty="mozImageSmoothingEnabled":n.oImageSmoothingEnabled?o.smoothProperty="oImageSmoothingEnabled":n.msImageSmoothingEnabled&&(o.smoothProperty="msImageSmoothingEnabled")}return o.initPlugins(t.__plugins),o.blendModes=pe(),o._activeBlendMode=null,o._outerBlend=!1,o._projTransform=null,o.renderingToScreen=!1,Object(Ne.y)("Canvas"),o.resize(o.options.width,o.options.height),o}return de(t,e),t.prototype.render=function(e,t,r,o,n){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var a=this.resolution;t?(t=t.castToBaseTexture(),!t._canvasRenderTarget&&(t._canvasRenderTarget=new Ne.b(t.width,t.height,t.resolution),t.resource=new rt.x.CanvasResource(t._canvasRenderTarget.canvas),t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var i=this.context;if(this._projTransform=o||null,t||(this._lastObjectRendered=e),!n){var d=e.enableTempParent();e.updateTransform(),e.disableTempParent(d)}if(i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=1,this._activeBlendMode=Ct.b.NORMAL,this._outerBlend=!1,i.globalCompositeOperation=this.blendModes[Ct.b.NORMAL],void 0===r?this.clearBeforeRender:r)if(this.renderingToScreen)this.transparent?i.clearRect(0,0,this.width,this.height):(i.fillStyle=this._backgroundColorString,i.fillRect(0,0,this.width,this.height));else{t=t,t._canvasRenderTarget.clear();var s=t.clearColor;0<s[3]&&(i.fillStyle=Object(Ne.m)(Object(Ne.x)(s)),i.fillRect(0,0,t.realWidth,t.realHeight))}var l=this.context;this.context=i,e.renderCanvas(this),this.context=l,i.restore(),this.resolution=a,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,t,r){var o=e,n=this._projTransform,a=this.resolution;r=r||a,n&&(o=Vo,o.copyFrom(e),o.prepend(n)),t?this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,0|o.tx*a,0|o.ty*a):this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a,o.ty*a)},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e,t){var r=e===Ct.b.SRC_IN||e===Ct.b.SRC_OUT||e===Ct.b.DST_IN||e===Ct.b.DST_ATOP;!t&&r&&(e=Ct.b.NORMAL),this._activeBlendMode===e||(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=Me.b.SCALE_MODE===Ct.n.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,r){t.__plugins=t.__plugins||{},t.__plugins[e]=r},t}(rt.a),Wo={canvas:null,getTintedCanvas:function(e,t){var r=e.texture;t=Wo.roundColor(t);var o="#"+("00000"+(0|t).toString(16)).substr(-6);r.tintCache=r.tintCache||{};var n=r.tintCache[o],a;if(n){if(n.tintId===r._updateID)return r.tintCache[o];a=r.tintCache[o]}else a=document.createElement("canvas");if(Wo.tintMethod(r,t,a),a.tintId=r._updateID,Wo.convertTintToImage){var i=new Image;i.src=a.toDataURL(),r.tintCache[o]=i}else r.tintCache[o]=a;return a},getTintedPattern:function(e,t){t=Wo.roundColor(t);var r="#"+("00000"+(0|t).toString(16)).substr(-6);e.patternCache=e.patternCache||{};var o=e.patternCache[r];return o&&o.tintId===e._updateID?o:(Wo.canvas||(Wo.canvas=document.createElement("canvas")),Wo.tintMethod(e,t,Wo.canvas),o=Wo.canvas.getContext("2d").createPattern(Wo.canvas,"repeat"),o.tintId=e._updateID,e.patternCache[r]=o,o)},tintWithMultiply:function(e,t,r){var o=r.getContext("2d"),n=e._frame.clone(),a=e.baseTexture.resolution;n.x*=a,n.y*=a,n.width*=a,n.height*=a,r.width=xe(n.width),r.height=xe(n.height),o.save(),o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="multiply";var i=e.baseTexture.getDrawableSource();o.drawImage(i,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.globalCompositeOperation="destination-atop",o.drawImage(i,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.restore()},tintWithOverlay:function(e,t,r){var o=r.getContext("2d"),n=e._frame.clone(),a=e.baseTexture.resolution;n.x*=a,n.y*=a,n.width*=a,n.height*=a,r.width=xe(n.width),r.height=xe(n.height),o.save(),o.globalCompositeOperation="copy",o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="destination-atop",o.drawImage(e.baseTexture.getDrawableSource(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.restore()},tintWithPerPixel:function(e,t,o){var n=o.getContext("2d"),a=e._frame.clone(),d=e.baseTexture.resolution;a.x*=d,a.y*=d,a.width*=d,a.height*=d,o.width=xe(a.width),o.height=xe(a.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.getDrawableSource(),a.x,a.y,a.width,a.height,0,0,a.width,a.height),n.restore();for(var s=Object(Ne.l)(t),l=s[0],r=s[1],p=s[2],u=n.getImageData(0,0,a.width,a.height),c=u.data,h=0;h<c.length;h+=4)c[h+0]*=l,c[h+1]*=r,c[h+2]*=p;n.putImageData(u,0,0)},roundColor:function(e){var t=Wo.cacheStepsPerColorChannel,r=Object(Ne.l)(e);return r[0]=Ie(255,r[0]/t*t),r[1]=Ie(255,r[1]/t*t),r[2]=Ie(255,r[2]/t*t),Object(Ne.x)(r)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:le(),tintMethod:null};/*!
 * @pixi/canvas-renderer - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-renderer is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Wo.tintMethod=Wo.canUseMultiply?Wo.tintWithMultiply:Wo.tintWithPerPixel;var jo=rt.o.create;rt.o.create=function(e){var t=e&&e.forceCanvas;if(!t)try{return jo(e)}catch(e){}return new Yo(e)},rt.c.prototype.getDrawableSource=function(){var e=this.resource;return e?e.bitmap||e.source:null},rt.b.prototype._canvasRenderTarget=null,rt.r.prototype.patternCache=null,rt.r.prototype.tintCache=null;/*!
 * @pixi/canvas-mesh - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var qo=function(){function e(e){this._cachedTint=16777215,this._tintedCanvas=null,this.renderer=e}return e.prototype.render=function(e){var t=this.renderer,r=e.worldTransform;t.context.globalAlpha=e.worldAlpha,t.setBlendMode(e.blendMode),t.setContextTransform(r,e.roundPixels),e.drawMode===Ct.e.TRIANGLES?this._renderTriangles(e):this._renderTriangleMesh(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.geometry.buffers[0].data.length,r=0,o;r<t-2;r++)o=2*r,this._renderDrawTriangle(e,o,o+2,o+4)},e.prototype._renderTriangles=function(e){for(var t=e.geometry.getIndex().data,r=t.length,o=0;o<r;o+=3){var n=2*t[o],a=2*t[o+1],i=2*t[o+2];this._renderDrawTriangle(e,n,a,i)}},e.prototype._renderDrawTriangle=function(e,t,r,o){var n=this.renderer.context,a=e.geometry.buffers[0].data,i=e.uvs,d=e.texture;if(d.valid){var s=16777215!==e.tint,l=d.baseTexture,p=l.width,u=l.height;s&&this._cachedTint!==e.tint&&(this._cachedTint=e.tint,this._tintedCanvas=Wo.getTintedCanvas(e,e.tint));var c=s?this._tintedCanvas:l.getDrawableSource(),h=i[t]*l.width,m=i[r]*l.width,g=i[o]*l.width,_=i[t+1]*l.height,y=i[r+1]*l.height,x=i[o+1]*l.height,b=a[t],T=a[r],E=a[o],v=a[t+1],I=a[r+1],A=a[o+1],S=e.canvasPadding/this.renderer.resolution;if(0<S){var C=S/fe(e.worldTransform.a),P=S/fe(e.worldTransform.d),O=(b+T+E)/3,R=(v+I+A)/3,D=b-O,w=v-R,L=me(D*D+w*w);b=O+D/L*(L+C),v=R+w/L*(L+P),D=T-O,w=I-R,L=me(D*D+w*w),T=O+D/L*(L+C),I=R+w/L*(L+P),D=E-O,w=A-R,L=me(D*D+w*w),E=O+D/L*(L+C),A=R+w/L*(L+P)}n.save(),n.beginPath(),n.moveTo(b,v),n.lineTo(T,I),n.lineTo(E,A),n.closePath(),n.clip();var N=h*y+_*g+m*x-y*g-_*m-h*x,M=b*y+_*E+T*x-y*E-_*T-b*x,F=h*T+b*g+m*E-T*g-b*m-h*E,B=h*y*E+_*T*g+b*m*x-b*y*g-_*m*E-h*T*x,U=v*y+_*A+I*x-y*A-_*I-v*x,k=h*I+v*g+m*A-I*g-v*m-h*A,H=h*y*A+_*I*g+v*m*x-v*y*g-_*m*A-h*I*x;n.transform(M/N,U/N,F/N,k/N,B/N,H/N),n.drawImage(c,0,0,p*l.resolution,u*l.resolution,0,0,p,u),n.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,r=e.geometry.getBuffer("aVertexPosition").data,o=r.length/2;t.beginPath();for(var n=1;n<o-2;++n){var a=2*n,i=r[a],d=r[a+1],s=r[a+2],l=r[a+3],p=r[a+4],u=r[a+5];t.moveTo(i,d),t.lineTo(s,l),t.lineTo(p,u)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();Me.b.MESH_CANVAS_PADDING=0,Mr.prototype._renderCanvas=function(e,t){e.plugins.mesh.render(t)},Fo.prototype._cachedTint=16777215,Fo.prototype._tintedCanvas=null,Fo.prototype._canvasUvs=null,Fo.prototype._renderCanvas=function(e){var t=e.context,r=this.worldTransform,o=16777215!==this.tint,n=this.texture;if(n.valid){o&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Wo.getTintedCanvas(this,this.tint));var a=o?this._tintedCanvas:n.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var d=this.vertices,s=this._canvasUvs,l=o?0:n.frame.x,p=o?0:n.frame.y,u=l+n.frame.width,c=p+n.frame.height;s[0]=l,s[1]=l+this._leftWidth,s[2]=u-this._rightWidth,s[3]=u,s[4]=p,s[5]=p+this._topHeight,s[6]=c-this._bottomHeight,s[7]=c;for(var h=0;8>h;h++)s[h]*=n.baseTexture.resolution;t.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.setContextTransform(r,this.roundPixels);for(var i=0;3>i;i++)for(var m=0;3>m;m++){var g=2*m+8*i,_=ve(1,s[m+1]-s[m]),y=ve(1,s[i+5]-s[i+4]),x=ve(1,d[g+10]-d[g]),b=ve(1,d[g+11]-d[g+1]);t.drawImage(a,s[m],s[i+4],_,y,d[g],d[g+1],x,b)}}};var Ko=!1;Nr.prototype._renderCanvas=function(e){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(e,this):!Ko&&(Ko=!0,window.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Nr.prototype._canvasPadding=null,Object.defineProperty(Nr.prototype,"canvasPadding",{get:function(){return null===this._canvasPadding?Me.b.MESH_CANVAS_PADDING:this._canvasPadding},set:function(e){this._canvasPadding=e}}),No.prototype._renderCanvas=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)},wo.prototype._renderCanvas=function(e){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)};/*!
 * @pixi/canvas-graphics - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qo=function(){function e(e){this.renderer=e,this._svgMatrix=null,this._tempMatrix=new Fe.d}return e.prototype._calcCanvasStyle=function(e,t){var r;return e.texture?e.texture.valid?(r=Wo.getTintedPattern(e.texture,t),this.setPatternTransform(r,e.matrix||Fe.d.IDENTITY)):r="#808080":r="#"+("00000"+(0|t).toString(16)).substr(-6),r},e.prototype.render=function(e){var t=this.renderer,r=t.context,o=e.worldAlpha,n=e.transform.worldTransform;t.setContextTransform(n),t.setBlendMode(e.blendMode);for(var a=e.geometry.graphicsData,d=(255&e.tint>>16)/255,s=(255&e.tint>>8)/255,l=(255&e.tint)/255,p=0,i,u;p<a.length;p++){var c=a[p],m=c.shape,g=c.fillStyle,_=c.lineStyle,b=0|c.fillStyle.color,T=0|c.lineStyle.color;if(c.matrix&&t.setContextTransform(n.copyTo(this._tempMatrix).append(c.matrix)),g.visible){i=this._calcCanvasStyle(g,(255*((255&b>>16)/255*d)<<16)+(255*((255&b>>8)/255*s)<<8)+255*((255&b)/255*l))}if(_.visible){u=this._calcCanvasStyle(_,(255*((255&T>>16)/255*d)<<16)+(255*((255&T>>8)/255*s)<<8)+255*((255&T)/255*l))}if(r.lineWidth=_.width,r.lineCap=_.cap,r.lineJoin=_.join,r.miterLimit=_.miterLimit,c.type===Fe.l.POLY){r.beginPath();var E=m,v=E.points,I=c.holes,A=void 0,S=void 0,C=void 0,P=void 0;r.moveTo(v[0],v[1]);for(var O=2;O<v.length;O+=2)r.lineTo(v[O],v[O+1]);if(E.closeStroke&&r.closePath(),0<I.length){A=0,C=v[0],P=v[1];for(var O=2;O+2<v.length;O+=2)A+=(v[O]-C)*(v[O+3]-P)-(v[O+2]-C)*(v[O+1]-P);for(var R=0;R<I.length;R++)if(v=I[R].shape.points,!!v){S=0,C=v[0],P=v[1];for(var O=2;O+2<v.length;O+=2)S+=(v[O]-C)*(v[O+3]-P)-(v[O+2]-C)*(v[O+1]-P);if(0>S*A){r.moveTo(v[0],v[1]);for(var O=2;O<v.length;O+=2)r.lineTo(v[O],v[O+1])}else{r.moveTo(v[v.length-2],v[v.length-1]);for(var O=v.length-4;0<=O;O-=2)r.lineTo(v[O],v[O+1])}I[R].shape.closeStroke&&r.closePath()}}g.visible&&(r.globalAlpha=g.alpha*o,r.fillStyle=i,r.fill()),_.visible&&(r.globalAlpha=_.alpha*o,r.strokeStyle=u,r.stroke())}else if(c.type===Fe.l.RECT){var E=m;g.visible&&(r.globalAlpha=g.alpha*o,r.fillStyle=i,r.fillRect(E.x,E.y,E.width,E.height)),_.visible&&(r.globalAlpha=_.alpha*o,r.strokeStyle=u,r.strokeRect(E.x,E.y,E.width,E.height))}else if(c.type===Fe.l.CIRC){var E=m;r.beginPath(),r.arc(E.x,E.y,E.radius,0,2*be),r.closePath(),g.visible&&(r.globalAlpha=g.alpha*o,r.fillStyle=i,r.fill()),_.visible&&(r.globalAlpha=_.alpha*o,r.strokeStyle=u,r.stroke())}else if(c.type===Fe.l.ELIP){var E=m,D=2*E.width,w=2*E.height,h=E.x-D/2,x=E.y-w/2;r.beginPath();var y=.5522848,L=D/2*y,N=w/2*y,M=h+D,F=x+w,B=h+D/2,U=x+w/2;r.moveTo(h,U),r.bezierCurveTo(h,U-N,B-L,x,B,x),r.bezierCurveTo(B+L,x,M,U-N,M,U),r.bezierCurveTo(M,U+N,B+L,F,B,F),r.bezierCurveTo(B-L,F,h,U+N,h,U),r.closePath(),g.visible&&(r.globalAlpha=g.alpha*o,r.fillStyle=i,r.fill()),_.visible&&(r.globalAlpha=_.alpha*o,r.strokeStyle=u,r.stroke())}else if(c.type===Fe.l.RREC){var E=m,k=E.x,H=E.y,G=E.width,X=E.height,z=E.radius,V=0|Ie(G,X)/2;z=z>V?V:z,r.beginPath(),r.moveTo(k,H+z),r.lineTo(k,H+X-z),r.quadraticCurveTo(k,H+X,k+z,H+X),r.lineTo(k+G-z,H+X),r.quadraticCurveTo(k+G,H+X,k+G,H+X-z),r.lineTo(k+G,H+z),r.quadraticCurveTo(k+G,H,k+G-z,H),r.lineTo(k+z,H),r.quadraticCurveTo(k,H,k,H+z),r.closePath(),g.visible&&(r.globalAlpha=g.alpha*o,r.fillStyle=i,r.fill()),_.visible&&(r.globalAlpha=_.alpha*o,r.strokeStyle=u,r.stroke())}}},e.prototype.setPatternTransform=function(e,t){if(!1!==this._svgMatrix){if(!this._svgMatrix){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r&&r.createSVGMatrix&&(this._svgMatrix=r.createSVGMatrix()),!this._svgMatrix||!e.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=t.a,this._svgMatrix.b=t.b,this._svgMatrix.c=t.c,this._svgMatrix.d=t.d,this._svgMatrix.e=t.tx,this._svgMatrix.f=t.ty,e.setTransform(this._svgMatrix.inverse())}},e.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},e}(),Zo=new Fe.d,Jo;rr.prototype.generateCanvasTexture=function(e,t){void 0===t&&(t=1);var r=this.getLocalBounds(),o=rt.n.create({width:r.width,height:r.height,scaleMode:e,resolution:t});Jo||(Jo=new Yo),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Zo),Zo.invert(),Zo.tx-=r.x,Zo.ty-=r.y,Jo.render(this,o,!0,Zo);var n=rt.r.from(o.baseTexture._canvasRenderTarget.canvas,{scaleMode:e});return n.baseTexture.setResolution(t),n},rr.prototype.cachedGraphicsData=[],rr.prototype._renderCanvas=function(e){!0===this.isMask||(this.finishPoly(),e.plugins.graphics.render(this))};/*!
 * @pixi/canvas-sprite - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $o=new Fe.d,en=function(){function e(e){this.renderer=e}return e.prototype.render=function(e){var t=e._texture,r=this.renderer,o=r.context,n=t._frame.width,a=t._frame.height,i=e.transform.worldTransform,d=0,s=0,l=t.baseTexture.getDrawableSource();if(!(0>=t.orig.width)&&!(0>=t.orig.height)&&t.valid&&l&&t.valid){r.setBlendMode(e.blendMode,!0),r.context.globalAlpha=e.worldAlpha;var p=t.baseTexture.scaleMode===Ct.n.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==p&&(o[r.smoothProperty]=p),t.trim?(d=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,s=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(d=(.5-e.anchor.x)*t.orig.width,s=(.5-e.anchor.y)*t.orig.height),t.rotate&&(i.copyTo($o),i=$o,Fe.n.matrixAppendRotationInv(i,t.rotate,d,s),d=0,s=0),d-=n/2,s-=a/2,r.setContextTransform(i,e.roundPixels,1),e.roundPixels&&(d|=0,s|=0);var u=t.baseTexture.resolution,c=r._outerBlend;c&&(o.save(),o.beginPath(),o.rect(d*r.resolution,s*r.resolution,n*r.resolution,a*r.resolution),o.clip()),16777215===e.tint?o.drawImage(l,t._frame.x*u,t._frame.y*u,Ae(n*u),Ae(a*u),Ae(d*r.resolution),Ae(s*r.resolution),Ae(n*r.resolution),Ae(a*r.resolution)):((e._cachedTint!==e.tint||e._tintedCanvas.tintId!==e._texture._updateID)&&(e._cachedTint=e.tint,e._tintedCanvas=Wo.getTintedCanvas(e,e.tint)),o.drawImage(e._tintedCanvas,0,0,Ae(n*u),Ae(a*u),Ae(d*r.resolution),Ae(s*r.resolution),Ae(n*r.resolution),Ae(a*r.resolution))),c&&o.restore(),r.setBlendMode(Ct.b.NORMAL)}},e.prototype.destroy=function(){this.renderer=null},e}();ir.prototype._tintedCanvas=null,ir.prototype._renderCanvas=function(e){e.plugins.sprite.render(this)};/*!
 * @pixi/canvas-extract - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tn=new Fe.j,rn=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,r){var o=new Image;return o.src=this.base64(e,t,r),o},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(e){var t=this.renderer,r,o,n,a;e&&(e instanceof rt.n?a=e:a=t.generateTexture(e)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,n=a.frame):(r=t.rootContext,o=t.resolution,n=tn,n.width=this.renderer.width,n.height=this.renderer.height);var i=Ae(n.width*o+1e-4),d=Ae(n.height*o+1e-4),s=new Ne.b(i,d,1),l=r.getImageData(n.x*o,n.y*o,i,d);return s.context.putImageData(l,0,0),s.canvas},e.prototype.pixels=function(e){var t=this.renderer,r,o,n,a;return e&&(e instanceof rt.n?a=e:a=t.generateTexture(e)),a?(r=a.baseTexture._canvasRenderTarget.context,o=a.baseTexture._canvasRenderTarget.resolution,n=a.frame):(r=t.rootContext,n=tn,n.width=t.width,n.height=t.height),r.getImageData(0,0,n.width*o,n.height*o).data},e.prototype.destroy=function(){this.renderer=null},e}();Object.defineProperty(Yo.prototype,"extract",{get:function(){return Object(Ne.h)("v5.3.0","CanvasRenderer#extract is deprecated, use CanvasRenderer#plugins.extract"),this.plugins.extract}});/*!
 * @pixi/canvas-prepare - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/canvas-prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var on=function(e,t){return on=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},on(e,t)},nn=16,an=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=nn,r.canvas.height=nn,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(ce),r}return ue(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(xr);Sr.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.valid){var r=e.context,o=this.worldTransform,n=t.baseTexture,a=n.getDrawableSource(),i=n.resolution,d=this.tilePosition.x/this.tileScale.x%t._frame.width*i,s=this.tilePosition.y/this.tileScale.y%t._frame.height*i;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new Ne.b(t._frame.width,t._frame.height,i);16777215===this.tint?l.context.drawImage(a,-t._frame.x*i,-t._frame.y*i):(this._tintedCanvas=Wo.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.setContextTransform(o),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/i,this.tileScale.y/i);var p=this.anchor.x*-this._width,u=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(d,s),r.fillRect(-d+p,-s+u,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i)):(r.translate(d+p,s+u),r.fillRect(-d,-s,this._width/this.tileScale.x*i,this._height/this.tileScale.y*i))}},Ot.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,o=!0,n=0,a=0,d=0,s=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0,i;l<this.children.length;++l)if((i=this.children[l],!!i.visible)&&i._texture.valid){var p=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*be))o&&(e.setContextTransform(r,!1,1),o=!1),n=i.anchor.x*(-p.width*i.scale.x)+i.position.x+.5,a=i.anchor.y*(-p.height*i.scale.y)+i.position.y+.5,d=p.width*i.scale.x,s=p.height*i.scale.y;else{o||(o=!0),i.displayObjectUpdateTransform();var u=i.worldTransform;e.setContextTransform(u,this.roundPixels,1),n=i.anchor.x*-p.width+.5,a=i.anchor.y*-p.height+.5,d=p.width,s=p.height}var c=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.getDrawableSource(),p.x*c,p.y*c,p.width*c,p.height*c,n*e.resolution,a*e.resolution,d*e.resolution,s*e.resolution)}}},Ge.prototype._renderCanvas=function(){},Ge.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},ke.prototype.renderCanvas=function(){},gr.prototype._renderCanvas=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),ir.prototype._renderCanvas.call(this,e)},Yo.registerPlugin("accessibility",Ye),Yo.registerPlugin("extract",rn),Yo.registerPlugin("graphics",Qo),Yo.registerPlugin("interaction",tt),Yo.registerPlugin("mesh",qo),Yo.registerPlugin("prepare",an),Yo.registerPlugin("sprite",en)},61:function(e){"use strict";e.exports=function(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},o=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},a=14;a--;)n[r.key[a]]=o[a]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,o){t&&(n[r.q.name][t]=o)}),n}},62:function(e){"use strict";function t(){}function r(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,o,n,a){if("function"!=typeof o)throw new TypeError("The listener must be a function");var i=new r(o,n||e,a),s=d?d+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],i]:e._events[s].push(i):(e._events[s]=i,e._eventsCount++),e}function n(e,r){0==--e._eventsCount?e._events=new t:delete e._events[r]}function a(){this._events=new t,this._eventsCount=0}var i=Object.prototype.hasOwnProperty,d="~";Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(d=!1)),a.prototype.eventNames=function(){var e=[],t,r;if(0===this._eventsCount)return e;for(r in t=this._events)i.call(t,r)&&e.push(d?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},a.prototype.listeners=function(e){var t=d?d+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,n=r.length,a=Array(n);o<n;o++)a[o]=r[o].fn;return a},a.prototype.listenerCount=function(e){var t=d?d+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,n,a){var s=d?d+e:e;if(!this._events[s])return!1;var l=this._events[s],p=arguments.length,u,c;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,o),!0;case 5:return l.fn.call(l.context,t,r,o,n),!0;case 6:return l.fn.call(l.context,t,r,o,n,a),!0;}for(c=1,u=Array(p-1);c<p;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var i=l.length,h;for(c=0;c<i;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,o);break;default:if(!u)for(h=1,u=Array(p-1);h<p;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u);}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,r,o){var a=d?d+e:e;if(!this._events[a])return this;if(!t)return n(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||n(this,a);else{for(var l=0,i=[],p=s.length;l<p;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&i.push(s[l]);i.length?this._events[a]=1===i.length?i[0]:i:n(this,a)}return this},a.prototype.removeAllListeners=function(e){var r;return e?(r=d?d+e:e,this._events[r]&&n(this,r)):(this._events=new t,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,a.EventEmitter=a,e.exports=a},63:function(e){"use strict";function t(e,t,o){o=o||2;var a=t&&t.length,d=a?t[0]*o:e.length,s=r(e,0,d,o,!0),p=[];if(!s||s.next===s.prev)return p;var u,c,h,m,g,_,y;if(a&&(s=l(e,t,s,o)),e.length>80*o){u=h=e[0],c=m=e[1];for(var x=o;x<d;x+=o)g=e[x],_=e[x+1],g<u&&(u=g),_<c&&(c=_),g>h&&(h=g),_>m&&(m=_);y=M(h-u,m-c),y=0===y?0:1/y}return n(s,p,o,u,c,y),p}function r(e,t,r,o,n){var a,i;if(n===0<L(e,t,r,o))for(a=t;a<r;a+=o)i=R(a,e[a],e[a+1],i);else for(a=r-o;a>=t;a-=o)i=R(a,e[a],e[a+1],i);return i&&v(i,i.next)&&(D(i),i=i.next),i}function o(e,t){if(!e)return e;t||(t=e);var r=e,o;do if(o=!1,!r.steiner&&(v(r,r.next)||0===E(r.prev,r,r.next))){if(D(r),r=t=r.prev,r===r.next)break;o=!0}else r=r.next;while(o||r!==t);return t}function n(e,t,r,l,p,u,c){if(e){!c&&u&&m(e,l,p,u);for(var h=e,g,_;e.prev!==e.next;){if(g=e.prev,_=e.next,u?i(e,l,p,u):a(e)){t.push(g.i/r),t.push(e.i/r),t.push(_.i/r),D(e),e=_.next,h=_.next;continue}if(e=_,e===h){c?1===c?(e=d(o(e),t,r),n(e,t,r,l,p,u,2)):2==c&&s(e,t,r,l,p,u):n(o(e),t,r,l,p,u,1);break}}}}function a(e){var t=e.prev,r=e,o=e.next;if(0<=E(t,r,o))return!1;for(var n=e.next.next;n!==e.prev;){if(x(t.x,t.y,r.x,r.y,o.x,o.y,n.x,n.y)&&0<=E(n.prev,n,n.next))return!1;n=n.next}return!0}function i(e,t,r,o){var i=e.prev,a=e,d=e.next;if(0<=E(i,a,d))return!1;for(var s=i.x<a.x?i.x<d.x?i.x:d.x:a.x<d.x?a.x:d.x,l=i.y<a.y?i.y<d.y?i.y:d.y:a.y<d.y?a.y:d.y,u=i.x>a.x?i.x>d.x?i.x:d.x:a.x>d.x?a.x:d.x,c=i.y>a.y?i.y>d.y?i.y:d.y:a.y>d.y?a.y:d.y,h=_(s,l,t,r,o),m=_(u,c,t,r,o),g=e.prevZ,p=e.nextZ;g&&g.z>=h&&p&&p.z<=m;){if(g!==e.prev&&g!==e.next&&x(i.x,i.y,a.x,a.y,d.x,d.y,g.x,g.y)&&0<=E(g.prev,g,g.next))return!1;if(g=g.prevZ,p!==e.prev&&p!==e.next&&x(i.x,i.y,a.x,a.y,d.x,d.y,p.x,p.y)&&0<=E(p.prev,p,p.next))return!1;p=p.nextZ}for(;g&&g.z>=h;){if(g!==e.prev&&g!==e.next&&x(i.x,i.y,a.x,a.y,d.x,d.y,g.x,g.y)&&0<=E(g.prev,g,g.next))return!1;g=g.prevZ}for(;p&&p.z<=m;){if(p!==e.prev&&p!==e.next&&x(i.x,i.y,a.x,a.y,d.x,d.y,p.x,p.y)&&0<=E(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function d(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;!v(i,a)&&I(i,n,n.next,a)&&C(i,a)&&C(a,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(a.i/r),D(n),D(n.next),n=e=a),n=n.next}while(n!==e);return o(n)}function s(e,t,r,i,d,s){var l=e;do{for(var a=l.next.next;a!==l.prev;){if(l.i!==a.i&&T(l,a)){var p=O(l,a);return l=o(l,l.next),p=o(p,p.next),n(l,t,r,i,d,s),void n(p,t,r,i,d,s)}a=a.next}l=l.next}while(l!==e)}function l(e,t,n,a){var d=[],s,i,l,c,h;for(s=0,i=t.length;s<i;s++)l=t[s]*a,c=s<i-1?t[s+1]*a:e.length,h=r(e,l,c,a,!1),h===h.next&&(h.steiner=!0),d.push(y(h));for(d.sort(p),s=0;s<d.length;s++)u(d[s],n),n=o(n,n.next);return n}function p(e,t){return e.x-t.x}function u(e,t){if(t=c(e,t),t){var r=O(t,e);o(t,t.next),o(r,r.next)}}function c(e,t){var r=t,o=e.x,n=e.y,a=-Infinity,i;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var d=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(d<=o&&d>a){if(a=d,d===o){if(n===r.y)return r;if(n===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(o===a)return i;var s=i,l=i.x,p=i.y,u=Infinity,c;r=i;do o>=r.x&&r.x>=l&&o!==r.x&&x(n<p?o:a,n,l,p,n<p?a:o,n,r.x,r.y)&&(c=N(n-r.y)/(o-r.x),C(r,e)&&(c<u||c===u&&(r.x>i.x||r.x===i.x&&h(i,r)))&&(i=r,u=c)),r=r.next;while(r!==s);return i}function h(e,t){return 0>E(e.prev,e,t.prev)&&0>E(t.next,e,e.next)}function m(e,t,r,o){var n=e;do null===n.z&&(n.z=_(n.x,n.y,t,r,o)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,g(n)}function g(t){var r=1,o,n,a,i,e,d,s,l;do{for(n=t,t=null,e=null,d=0;n;){for(d++,a=n,s=0,o=0;o<r&&(s++,a=a.nextZ,!!a);o++);for(l=r;0<s||0<l&&a;)0!==s&&(0===l||!a||n.z<=a.z)?(i=n,n=n.nextZ,s--):(i=a,a=a.nextZ,l--),e?e.nextZ=i:t=i,i.prevZ=e,e=i;n=a}e.nextZ=null,r*=2}while(1<d);return t}function _(e,t,r,o,n){return e=32767*(e-r)*n,t=32767*(t-o)*n,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function y(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function x(e,t,r,o,n,a,i,d){return 0<=(n-i)*(t-d)-(e-i)*(a-d)&&0<=(e-i)*(o-d)-(r-i)*(t-d)&&0<=(r-i)*(a-d)-(n-i)*(o-d)}function T(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!S(e,t)&&(C(e,t)&&C(t,e)&&P(e,t)&&(E(e.prev,e,t.prev)||E(e,t.prev,t))||v(e,t)&&0<E(e.prev,e,e.next)&&0<E(t.prev,t,t.next))}function E(e,t,o){return(t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function I(e,t,r,o){var n=A(E(e,t,r)),a=A(E(e,t,o)),i=A(E(r,o,e)),d=A(E(r,o,t));return!(n===a||i===d)||!!(0===n&&b(e,r,t))||!!(0===a&&b(e,o,t))||!!(0===i&&b(r,e,o))||!!(0===d&&b(r,t,o))}function b(e,t,o){return t.x<=M(e.x,o.x)&&t.x>=F(e.x,o.x)&&t.y<=M(e.y,o.y)&&t.y>=F(e.y,o.y)}function A(e){return 0<e?1:0>e?-1:0}function S(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&I(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function C(e,t){return 0>E(e.prev,e,e.next)?0<=E(e,t,e.next)&&0<=E(e,e.prev,t):0>E(e,t,e.prev)||0>E(e,e.next,t)}function P(e,t){var r=e,o=!1,n=(e.x+t.x)/2,a=(e.y+t.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(o=!o),r=r.next;while(r!==e);return o}function O(e,t){var r=new w(e.i,e.x,e.y),o=new w(t.i,t.x,t.y),n=e.next,a=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,o.next=r,r.prev=o,a.next=o,o.prev=a,o}function R(e,t,r,o){var n=new w(e,t,r);return o?(n.next=o.next,n.prev=o,o.next.prev=n,o.next=n):(n.prev=n,n.next=n),n}function D(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function w(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function L(e,t,r,o){for(var n=0,a=t,i=r-o;a<r;a+=o)n+=(e[i]-e[a])*(e[a+1]+e[i+1]),i=a;return n}var N=Math.abs,M=Math.max,F=Math.min;e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,o){var n=t&&t.length,d=n?t[0]*r:e.length,s=N(L(e,0,d,r));if(n)for(var l=0,i=t.length;l<i;l++){var p=t[l]*r,u=l<i-1?t[l+1]*r:e.length;s-=N(L(e,p,u,r))}var h=0;for(l=0;l<o.length;l+=3){var m=o[l]*r,a=o[l+1]*r,g=o[l+2]*r;h+=N((e[m]-e[g])*(e[a+1]-e[m+1])-(e[m]-e[a])*(e[g+1]-e[m+1]))}return 0===s&&0===h?0:N((h-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},o=0,n=0;n<e.length;n++){for(var a=0;a<e[n].length;a++)for(var i=0;i<t;i++)r.vertices.push(e[n][a][i]);0<n&&(o+=e[n-1].length,r.holes.push(o))}return r}},68:function(e,t,r){(function(o,n){var a;(function(o){function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(){for(var e=0;e<P.length;e++)P[e][0](P[e][1]);P=[],O=!1}function s(e,t){P.push([e,t]),O||(O=!0,C(d,0))}function l(e,t){function r(e){c(t,e)}function o(e){m(t,e)}try{e(r,o)}catch(t){o(t)}}function p(e){var t=e.owner,r=t.state_,o=t.data_,n=e[r],a=e.then;if("function"==typeof n){r=I;try{o=n(o)}catch(t){m(a,t)}}u(a,o)||(r===I&&c(a,o),r===A&&m(a,o))}function u(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,function(o){r||(r=!0,e===o?h(t,o):c(t,o))},function(e){r||(r=!0,m(t,e))}),!0}}catch(o){return r||m(t,o),!0}return!1}function c(e,t){e!==t&&u(e,t)||h(e,t)}function h(e,t){e.state_===E&&(e.state_=v,e.data_=t,s(_,e))}function m(e,t){e.state_===E&&(e.state_=v,e.data_=t,s(y,e))}function g(e){var t=e.then_;e.then_=void 0;for(var r=0;r<t.length;r++)p(t[r])}function _(e){e.state_=I,g(e)}function y(e){e.state_=A,g(e)}function x(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof x)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],l(e,this)}var b=o.Promise,T=b&&"resolve"in b&&"reject"in b&&"all"in b&&"race"in b&&function(){var e;return new b(function(t){e=t}),"function"==typeof e}();t?(t.Promise=T?b:x,t.Polyfill=x):(a=function(){return T?b:x}.call(t,r,t,e),!(a!==void 0&&(e.exports=a)));var E="pending",v="sealed",I="fulfilled",A="rejected",S=function(){},C="undefined"==typeof n?setTimeout:n,P=[],O;x.prototype={constructor:x,state_:E,then_:null,data_:void 0,then:function(e,t){var r={owner:this,then:new this.constructor(S),fulfilled:e,rejected:t};return this.state_===I||this.state_===A?s(p,r):this.then_.push(r),r.then},catch:function(e){return this.then(null,e)}},x.all=function(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to Promise.all().");return new t(function(t,r){function o(e){return a++,function(r){n[e]=r,--a||t(n)}}for(var n=[],a=0,d=0,i;d<e.length;d++)i=e[d],i&&"function"==typeof i.then?i.then(o(d),r):n[d]=i;a||t(n)})},x.race=function(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to Promise.race().");return new t(function(t,r){for(var o=0,n;o<e.length;o++)n=e[o],n&&"function"==typeof n.then?n.then(t,r):t(n)})},x.resolve=function(e){var t=this;return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},x.reject=function(e){var t=this;return new t(function(t,r){r(e)})}})("undefined"==typeof window?"undefined"==typeof o?"undefined"==typeof self?this:self:o:window)}).call(this,r(52),r(152).setImmediate)},69:function(e){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;10>r;r++)t["_"+String.fromCharCode(r)]=r;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var n={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var a=t(e),d=1,s,l;d<arguments.length;d++){for(var p in s=Object(arguments[d]),s)o.call(s,p)&&(a[p]=s[p]);if(r){l=r(s);for(var u=0;u<l.length;u++)n.call(s,l[u])&&(a[l[u]]=s[l[u]])}}return a}},9:function(e,t,r){"use strict";function o(e){return function(t){return t.test(e)}}/*!
 * @pixi/settings - v5.3.2
 * Compiled Mon, 27 Jul 2020 16:20:05 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */r.d(t,"a",function(){return T}),r.d(t,"b",function(){return E});var n=/iPhone/i,a=/iPod/i,i=/iPad/i,d=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,p=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,u=/Silk/i,c=/Windows Phone/i,h=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,x=/Mobile(?:.+)Firefox\b/i,b=function(e){return"undefined"!=typeof e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream},T=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,T=r.split("[FBAN");"undefined"!=typeof T[1]&&(r=T[0]),T=r.split("Twitter"),"undefined"!=typeof T[1]&&(r=T[0]);var E=o(r),v={apple:{phone:E(n)&&!E(c),ipod:E(a),tablet:!E(n)&&(E(i)||b(t))&&!E(c),universal:E(d),device:(E(n)||E(a)||E(i)||E(d)||b(t))&&!E(c)},amazon:{phone:E(p),tablet:!E(p)&&E(u),device:E(p)||E(u)},android:{phone:!E(c)&&E(p)||!E(c)&&E(s),tablet:!E(c)&&!E(p)&&!E(s)&&(E(u)||E(l)),device:!E(c)&&(E(p)||E(u)||E(s)||E(l))||E(/\bokhttp\b/i)},windows:{phone:E(c),tablet:E(h),device:E(c)||E(h)},other:{blackberry:E(m),blackberry10:E(g),opera:E(_),firefox:E(x),chrome:E(y),device:E(m)||E(g)||E(_)||E(x)||E(y)},any:!1,phone:!1,tablet:!1};return v.any=v.apple.device||v.android.device||v.windows.device||v.other.device,v.phone=v.apple.phone||v.android.phone||v.windows.phone,v.tablet=v.apple.tablet||v.android.tablet||v.windows.tablet,v}(window.navigator),E={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(T.tablet||T.phone){if(T.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var o=parseInt(r[1],10);11>o&&(t=!1)}}if(T.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var o=parseInt(r[1],10);7>o&&(t=!1)}}}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:T.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:function(){return!T.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}}}]);