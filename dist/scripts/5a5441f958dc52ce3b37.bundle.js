(function(e){function t(t){for(var r=t[0],n=t[1],a=t[2],d=0,c=[],p,u;d<r.length;d++)u=r[d],Object.prototype.hasOwnProperty.call(s,u)&&s[u]&&c.push(s[u][0]),s[u]=0;for(p in n)Object.prototype.hasOwnProperty.call(n,p)&&(e[p]=n[p]);for(i&&i(t);c.length;)c.shift()();return l.push.apply(l,a||[]),o()}function o(){for(var e=0,t;e<l.length;e++){for(var o=l[e],i=!0,r=1,a;r<o.length;r++)a=o[r],0!==s[a]&&(i=!1);i&&(l.splice(e--,1),t=n(n.s=o[0]))}return t}function r(e){return n.p+"scripts/"+{21:"7ac3f4cc79b36f110965"}[e]+".bundle.js"}function n(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var a={},s={6:0},l=[];n.e=function(e){var t=[],o=s[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,i){o=s[e]=[t,i]});t.push(o[2]=i);var a=document.createElement("script"),l;a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.src=r(e);var d=new Error;l=function(t){a.onerror=a.onload=null,clearTimeout(c);var o=s[e];if(0!==o){if(o){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,o[1](d)}s[e]=void 0}};var c=setTimeout(function(){l({type:"timeout",target:a})},12e4);a.onerror=a.onload=l,document.head.appendChild(a)}return Promise.all(t)},n.m=e,n.c=a,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://cdn.jsdelivr.net/gh/zhouxiaobo1990/blockly_jsdelivr@0.0.6/dist/",n.oe=function(e){throw console.error(e),e};var d=window.webpackJsonp=window.webpackJsonp||[],c=d.push.bind(d);d.push=t,d=d.slice();for(var p=0;p<d.length;p++)t(d[p]);var i=c;return l.push([202,0,1]),o()})([function(e,t,o){var i,r,n;(function(a,s){r=[o(109)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e})},function(e,t,o){"use strict";o.d(t,"c",function(){return r}),o.d(t,"a",function(){return i}),o.d(t,"b",function(){return n});/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var i={LIST_ITEM_ACTIVATED_CLASS:"mdc-list-item--activated",LIST_ITEM_CLASS:"mdc-list-item",LIST_ITEM_DISABLED_CLASS:"mdc-list-item--disabled",LIST_ITEM_SELECTED_CLASS:"mdc-list-item--selected",LIST_ITEM_TEXT_CLASS:"mdc-list-item__text",LIST_ITEM_PRIMARY_TEXT_CLASS:"mdc-list-item__primary-text",ROOT:"mdc-list"},r={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:"[role=\"checkbox\"][aria-checked=\"true\"]",ARIA_CHECKED_RADIO_SELECTOR:"[role=\"radio\"][aria-checked=\"true\"]",ARIA_CURRENT:"aria-current",ARIA_DISABLED:"aria-disabled",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:"[role=\"checkbox\"]",ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:"input[type=\"checkbox\"], input[type=\"radio\"]",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+i.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+i.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+i.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+i.LIST_ITEM_CLASS+" a,\n    ."+i.LIST_ITEM_CLASS+" input[type=\"radio\"]:not(:disabled),\n    ."+i.LIST_ITEM_CLASS+" input[type=\"checkbox\"]:not(:disabled)\n  ",RADIO_SELECTOR:"input[type=\"radio\"]"},n={UNSET_INDEX:-1,TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS:300}},,function(e,t,o){"use strict";function i(e,t){if(h.has(e))return!0;let o=T.get(e);return!!o&&o+1e3*t>new Date().getTime()}function r(e,t){if(!e.endsWith("Environment"))throw"Environment name \""+e+"\" is invalid!";if(v.get(e))throw"Environment name \""+e+"\" is redefined!";v.set(e,t)}function n(t){return I+t}function a(e){let t=e.name+"_optional_fields";d.a.Blocks[t]={fields_:e.optionalFields,init:function(){this.appendDummyInput().appendField("\u66F4\u591A\u9009\u9879\uFF1A");for(let e of this.fields_)this.appendDummyInput().appendField(e.description).appendField(new d.a.FieldCheckbox(!1),e.name).setAlign(d.a.ALIGN_RIGHT)}};let o={selectedOptions_:new Set,fields_:e.optionalFields,insertBefore_:e.insertBefore,mutatorBlockName_:t,mutationToDom:function(){let e=d.a.utils.xml.createElement("mutation");for(let t of this.fields_)this.selectedOptions_.has(t.name)&&e.setAttribute(t.name,1);return e},domToMutation:function(e){this.selectedOptions_=new Set;for(let t of this.fields_)e.getAttribute(t.name)&&this.selectedOptions_.add(t.name);this.updateShape_()},decompose:function(e){let t=e.newBlock(this.mutatorBlockName_);t.setColour(this.getColour());for(let o of this.selectedOptions_)t.setFieldValue("TRUE",o);return t.initSvg(),t},compose:function(e){this.selectedOptions_=new Set;for(let t of this.fields_)"TRUE"==e.getFieldValue(t.name)&&this.selectedOptions_.add(t.name);this.updateShape_()},updateShape_:function(){let e=[];for(let t of this.fields_){if(!this.selectedOptions_.has(t.name))this.getInput(t.name)&&this.removeInput(t.name),this.getInput("_DUMMY_TAIL_"+t.name)&&this.removeInput("_DUMMY_TAIL_"+t.name);else if(!this.getInput(t.name))if("Number"==t.type||"Colour"==t.type){let e="Number"==t.type?"math_number":"colour_picker";let o=this.workspace.newBlock(e);o.setShadow(!0),o.initSvg(),o.render();let i;i="Number"==t.type?"NUM":"COLOUR",o.setFieldValue(t.defaultValue,i);let r=this.appendValueInput(t.name).setCheck(t.type);if(t.message){let e=d.a.utils.tokenizeInterpolation(t.message);"number"!=typeof e[0]&&r.appendField(e[0].trim()),r.setAlign(d.a.ALIGN_RIGHT).connection.connect(o.outputConnection),"number"!=typeof e[e.length-1]&&this.appendDummyInput("_DUMMY_TAIL_"+t.name).appendField(e[e.length-1].trim()).setAlign(d.a.ALIGN_RIGHT)}else r.appendField(t.description).setAlign(d.a.ALIGN_RIGHT).connection.connect(o.outputConnection)}else if("Dummy"==t.type)this.appendDummyInput(t.name).appendField(t.message?t.message:t.description).setAlign(d.a.ALIGN_RIGHT);else throw"unsupported field type: "+t.type;this.getInput(t.name)&&(e.push(t.name),this.getInput("_DUMMY_TAIL_"+t.name)&&e.push("_DUMMY_TAIL_"+t.name))}for(let t=e.length-1;0<=t;--t)t==e.length-1?this.insertBefore_&&this.moveInputBefore(e[t],this.insertBefore_):this.moveInputBefore(e[t],e[t+1])}};d.a.Extensions.registerMutator(e.name,o,null,[])}function s(e){let t={dropdownFieldName_:e.dropdownFieldName,dropdownFieldValue_:null,updateBlockFunc_:e.updateBlockFunc,mutationToDom:function(){var e=d.a.utils.xml.createElement("mutation");return this.dropdownFieldValue_&&e.setAttribute(this.dropdownFieldName_,this.dropdownFieldValue_),e},domToMutation:function(e){this.update_(e.getAttribute(this.dropdownFieldName_))},update_:function(e){this.updateBlockFunc_(this,e),this.dropdownFieldValue_=e}};d.a.Extensions.registerMutator(e.name,t,function(){this.getField(this.dropdownFieldName_).setValidator(function(e){this.getSourceBlock().update_(e)}),this.update_(null)})}o.d(t,"d",function(){return r}),o.d(t,"c",function(){return S}),o.d(t,"b",function(){return R}),o.d(t,"e",function(){return a}),o.d(t,"a",function(){return C});var l=o(0),d=o.n(l),c=o(28),p=o.n(c),u=o(29),_=o(16),g=o(14),m=o.n(g),h=new Set,T=new Map;document.addEventListener("keydown",function(t){h.add(m()(m()(t)))}),document.addEventListener("keyup",function(t){let e=m()(m()(t));h.delete(e),T.set(e,new Date().getTime())});var b=o(10),E=o(7),y=o(4);d.a.setLocale(u),d.a.Msg.CUSTOM_HUE=355,d.a.Msg.CUSTOM_INPUT_HUE=45,d.a.Msg.LISTS_GET_INDEX_TAIL="",d.a.Msg.LISTS_GET_SUBLIST_TAIL="",d.a.Msg.PROCEDURES_DEFNORETURN_DO="",d.a.Msg.TEXT_GET_SUBSTRING_TAIL="",d.a.Msg.LISTS_GET_INDEX_FROM_START="\u7B2C#",d.a.Msg.ORDINAL_NUMBER_SUFFIX="\u4E2A",d.a.Msg.TEXT_CHARAT_FROM_START="\u83B7\u53D6\u5B57\u7B26\u7B2C#",d.a.Msg.TEXT_CHARAT_FROM_END="\u83B7\u53D6\u5B57\u7B26\u5012\u6570\u7B2C#",d.a.Msg.TEXT_CHARAT_FIRST="\u5BFB\u627E\u7B2C\u4E00\u4E2A\u5B57\u7B26",d.a.Msg.TEXT_CHARAT_LAST="\u5BFB\u627E\u6700\u540E\u4E00\u4E2A\u5B57\u7B26",d.a.Msg.TEXT_CHARAT_RANDOM="\u5BFB\u627E\u968F\u673A\u7684\u5B57\u7B26",d.a.Msg.TEXT_LENGTH_TOOLTIP="\u8FD4\u56DE\u7ED9\u5B9A\u6587\u672C\u7684\u5B57\u7B26\u6570\uFF08\u5305\u62EC\u7A7A\u683C\uFF09\u3002",d.a.Msg.TEXT_CHARAT_TAIL="",d.a.Msg.PROCEDURES_DEFRETURN_TITLE="\u51FD\u6570\uFF1A",d.a.Msg.PROCEDURES_DEFNORETURN_TITLE="\u51FD\u6570\uFF1A",d.a.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\u53D8\u91CF\uFF1A",d.a.Msg.PROCEDURES_BEFORE_PARAMS="\uFF0C\u53D8\u91CF\uFF1A",d.a.Msg.CONTROLS_FOR_TITLE="\u53D8\u91CF %1 \u4ECE %2 \u6570\u5230 %3 \u6BCF\u6B21\u53D8\u5316 %4",d.a.Msg.LISTS_GET_INDEX_RANDOM="\u968F\u673A\u4E00\u4E2A",d.a.Msg.LISTS_GET_SUBLIST_END_LAST="\u5230\u6700\u540E\u4E00\u4E2A",d.a.Msg.LISTS_GET_SUBLIST_END_FROM_START="\u5230\u7B2C#",d.a.Msg.LISTS_GET_SUBLIST_START_FROM_END="\u83B7\u53D6\u5B50\u5217\u8868\u4ECE\u5012\u6570\u7B2C#",d.a.Msg.LISTS_GET_SUBLIST_START_FROM_START="\u83B7\u53D6\u5B50\u5217\u8868\u4ECE\u7B2C#",d.a.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\u53D6\u5F97\u5B50\u4E32\u81EA\u5B57\u7B26\u5012\u6570\u7B2C#",d.a.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\u53D6\u5F97\u5B50\u4E32\u81EA\u5B57\u7B26\u7B2C#",d.a.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\u5230\u5B57\u7B26\u5012\u6570\u7B2C#",d.a.Msg.TEXT_GET_SUBSTRING_END_FROM_START="\u5230\u5B57\u7B26\u7B2C#",d.a.Msg.COLOUR_RGB_TOOLTIP="\u901A\u8FC7\u6307\u5B9A\u7EA2\u8272\u3001\u7EFF\u8272\u548C\u84DD\u8272\u7684\u91CF\u521B\u5EFA\u4E00\u79CD\u989C\u8272\u3002\u6240\u6709\u7684\u503C\u5FC5\u987B\u57280\u548C255\u4E4B\u95F4\u3002";var v=new Map;const S={INITIAL:1,PAUSED:2,RUNNING:3,STOPPED:4},R="blocklyEnvironment",I="__custom_exception__:";class x{static init(){d.a.JavaScript.addReservedWords(R),d.a.defineBlocksWithJsonArray([{type:"custom_wait_seconds",message0:"\u7B49\u5F85 %1 \u79D2",args0:[{type:"input_value",name:"SECONDS",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_HUE}"},{type:"custom_angle",message0:"%1",args0:[{type:"field_angle",name:"ANGLE"}],output:"Number",colour:"%{BKY_CUSTOM_HUE}"},{type:"custom_input",message0:"\u8981\u6C42\u8F93\u5165 %1 \uFF0C\u63D0\u793A\u4E3A %2",args0:[{type:"field_dropdown",name:"TYPE",options:[["\u6587\u672C","String"],["\u6570\u503C","Number"]]},{type:"input_value",name:"HINT"}],mutator:"custom_input_mutator",colour:"%{BKY_CUSTOM_INPUT_HUE}"},{type:"custom_select",message0:"\u8981\u6C42\u505A %1 \uFF0C\u6807\u9898\u4E3A %2",args0:[{type:"field_dropdown",name:"MULTI",options:[["\u5355\u9879\u9009\u62E9","selectSingle"],["\u591A\u9879\u9009\u62E9","selectMulti"]],align:"RIGHT"},{type:"input_value",name:"TITLE",align:"RIGHT"}],message1:"\u9009\u9879\u5217\u8868 %1",args1:[{type:"input_value",name:"OPTIONS",check:"Array",align:"RIGHT"}],inputsInline:!1,mutator:"custom_select_mutator",colour:"%{BKY_CUSTOM_INPUT_HUE}"},{type:"custom_is_key_down",inputsInline:!0,message0:"\u6309\u952E %1",args0:[{type:"field_dropdown",name:"KEY_CODE",options:[["\u21B5","13"],["\u7A7A\u683C","32"],["\u2190","37"],["\u2191","38"],["\u2192","39"],["\u2193","40"]]}],message1:"\u662F\u5426\u88AB\u6309\u4E0B %1",args1:[{type:"input_dummy",name:"INPUT_TAIL"}],output:"Boolean",mutator:"custom_is_key_down_mutator",colour:"%{BKY_CUSTOM_INPUT_HUE}"}]),s({name:"custom_input_mutator",dropdownFieldName:"TYPE",updateBlockFunc:function(e,t){t?e.setOutput(!0,t):e.setOutput(!0,"String")}}),s({name:"custom_select_mutator",dropdownFieldName:"MULTI",updateBlockFunc:function(e,t){e.removeInput("INPUT_TAIL",!0),"selectMulti"==t?(e.appendDummyInput("INPUT_TAIL").appendField("\u8FD4\u56DE\u5217\u8868\uFF0C\u8868\u793A\u88AB\u9009\u4E86\u54EA\u51E0\u4E2A\u9879").setAlign(d.a.ALIGN_RIGHT),e.setOutput(!0,"Array")):(e.appendDummyInput("INPUT_TAIL").appendField("\u8FD4\u56DE\u88AB\u9009\u4E86\u7B2C\u51E0\u4E2A\u9879").setAlign(d.a.ALIGN_RIGHT),e.setOutput(!0,"Number"))}}),a({name:"custom_is_key_down_mutator",optionalFields:[{name:"SECONDS",description:"\u67E5\u770B\u6700\u8FD1\u7684\u4E00\u6BB5\u65F6\u95F4\u5185",message:"\u5728\u6700\u8FD1\u7684 %1 \u79D2\u5185",type:"Number",defaultValue:"1"}],insertBefore:"INPUT_TAIL"}),d.a.JavaScript.custom_wait_seconds=function(e){let t=d.a.JavaScript.valueToCode(e,"SECONDS",d.a.JavaScript.ORDER_NONE)||"0";return R+".waitForSeconds("+t+");\n"},d.a.JavaScript.custom_angle=function(e){let t=+e.getFieldValue("ANGLE"),o=0<=t?d.a.JavaScript.ORDER_ATOMIC:d.a.JavaScript.ORDER_UNARY_NEGATION;return[t,o]},d.a.JavaScript.custom_input=function(e){let t=d.a.JavaScript.valueToCode(e,"HINT",d.a.JavaScript.ORDER_NONE)||"\"\"",o=R+".throwExtension("+R+".input("+t+"))";var i="Number"==e.getFieldValue("TYPE");return i&&(o="Number("+o+")"),[o,d.a.JavaScript.ORDER_FUNCTION_CALL]},d.a.JavaScript.custom_select=function(e){let t=d.a.JavaScript.valueToCode(e,"TITLE",d.a.JavaScript.ORDER_COMMA)||"0",o=d.a.JavaScript.valueToCode(e,"OPTIONS",d.a.JavaScript.ORDER_COMMA)||"0",i=R+".throwExtension("+R+"."+e.getFieldValue("MULTI")+"(JSON.stringify({ title: "+t+", selectOptions: "+o+"})))";return"selectMulti"==e.getFieldValue("MULTI")&&(i="JSON.parse("+i+")"),[i,d.a.JavaScript.ORDER_MEMBER]},d.a.JavaScript.custom_is_key_down=function(e){let t=d.a.JavaScript.valueToCode(e,"SECONDS",d.a.JavaScript.ORDER_COMMA)||"0";return[R+".isKeyDown("+e.getFieldValue("KEY_CODE")+", "+t+")",d.a.JavaScript.ORDER_MEMBER]},d.a.JavaScript.colour_rgb=function(e){var t=d.a.JavaScript.valueToCode(e,"RED",d.a.JavaScript.ORDER_COMMA)||0,o=d.a.JavaScript.valueToCode(e,"GREEN",d.a.JavaScript.ORDER_COMMA)||0,i=d.a.JavaScript.valueToCode(e,"BLUE",d.a.JavaScript.ORDER_COMMA)||0,r=d.a.JavaScript.provideFunction_(R+"_colourRgb",["function "+d.a.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(Math.round(r)), 255), 0);","  g = Math.max(Math.min(Number(Math.round(g)), 255), 0);","  b = Math.max(Math.min(Number(Math.round(b)), 255), 0);","  r = ('0' + r.toString(16)).slice(-2);","  g = ('0' + g.toString(16)).slice(-2);","  b = ('0' + b.toString(16)).slice(-2);","  return '#' + r + g + b;","}"]);return[r+"("+t+", "+o+", "+i+")",d.a.JavaScript.ORDER_FUNCTION_CALL]}}constructor(e){this.options=e,this.cost=0,this.updateState(S.PAUSED),d.a.JavaScript.STATEMENT_PREFIX=R+".highlightBlock(%1);\n",d.a.JavaScript.STATEMENT_SUFFIX=R+".logVariables();\n",d.a.JavaScript.init(e.blocklyWorkspace),this.variables=d.a.Variables.allUsedVarModels(e.blocklyWorkspace);let t="  if ("+R+".skipVariableLogging()) return;\n";e.variableTable&&(0<e.variableTable.environmentVariables.length&&e.variableTable.environmentVariables.forEach((e,o)=>{t+="  if ("+R+".variableLoggingEnabled("+o+", "+b.b.ENVIRONMENT+")) {\n    "+R+".logVariable("+o+", "+b.b.ENVIRONMENT+", JSON.stringify("+e.symbol+"));\n  }\n"}),this.variables.forEach((e,o)=>{t+="  if ("+R+".variableLoggingEnabled("+o+", "+b.b.CUSTOM+")) {\n    "+R+".logVariable("+o+", "+b.b.CUSTOM+", JSON.stringify("+d.a.JavaScript.variableDB_.getName(e.name,d.a.VARIABLE_CATEGORY_NAME)+"));\n  }\n"})),this.codes=R+".logVariables = function() {\n"+t+"}\n\n"+(e.codesPrefix||"")+d.a.JavaScript.workspaceToCode(e.blocklyWorkspace),this.interpreter=new p.a(this.codes,this.initApi.bind(this)),d.a.JavaScript.STATEMENT_PREFIX="",d.a.JavaScript.STATEMENT_SUFFIX=""}updateState(e){this.state=e,this.options.stateUpdateListener&&this.options.stateUpdateListener(e)}initApi(e,t){let o=e.nativeToPseudo({});e.setProperty(t,R,o);let r=e.createNativeFunction(function(e){e=(e||"")+"",this.options.blocklyWorkspace.highlightBlock(e),this.highlightPause=!0}.bind(this));e.setProperty(o,"highlightBlock",r),r=e.createNativeFunction(function(e){this.cost+=e}.bind(this)),e.setProperty(o,"reportCost",r),r=e.createNativeFunction(function(){return!!this.options.variableTable&&this.options.variableTable.skipVariableLogging()}.bind(this)),e.setProperty(o,"skipVariableLogging",r),r=e.createNativeFunction(function(e,t){return!!this.options.variableTable&&this.options.variableTable.variableLoggingEnabled(e,t)}.bind(this)),e.setProperty(o,"variableLoggingEnabled",r),r=e.createNativeFunction(function(e,t,o){this.options.variableTable&&this.options.variableTable.logVariable(e,t,o)}.bind(this)),e.setProperty(o,"logVariable",r),r=e.createNativeFunction(function(e){if(!e||!e.startsWith||!e.startsWith(I))return e;throw e.substring(I.length)}.bind(this)),e.setProperty(o,"throwExtension",r),r=e.createAsyncFunction(function(e,t){setTimeout(t,1e3*e)}),e.setProperty(o,"waitForSeconds",r),r=e.createAsyncFunction(async function(e,t){let o;try{o=await E.b({title:e})}catch(t){o=n(t)}t(o)}),e.setProperty(o,"input",r),r=e.createAsyncFunction(async function(e,t){let o;try{let t=JSON.parse(e);y.c(t.selectOptions),o=(await E.c(t))+1}catch(t){o=n(t)}t(o)}),e.setProperty(o,"selectSingle",r),r=e.createAsyncFunction(async function(e,t){let o;try{let t=JSON.parse(e);y.c(t.selectOptions),t.multiSelect=!0,o=await E.c(t);for(let e=0;e<o.length;++e)++o[e];o=JSON.stringify(o)}catch(t){o=n(t)}t(o)}),e.setProperty(o,"selectMulti",r),r=e.createNativeFunction(function(e,t){return i(e,t)}.bind(this)),e.setProperty(o,"isKeyDown",r);for(let[i,r]of v){let t=e.nativeToPseudo({});e.setProperty(o,i,t),r(e,t)}}step(){this.state!=S.PAUSED||this.step_()}step_(){this.highlightPause=!1;do{try{if(!this.interpreter.step())return this.stop_(),this.options.blocklyWorkspace.highlightBlock(null),this.logToConsole("\u7A0B\u5E8F\u8FD0\u884C\u6210\u529F\uFF01"),void this.logToSnackbar("\u7A0B\u5E8F\u8FD0\u884C\u6210\u529F\uFF01")}catch(t){return this.logToConsole("\u7A0B\u5E8F\u51FA\u9519\uFF01"),t.stack?this.logToConsole(t.stack):this.logToConsole(t),this.stop_(),void this.logToSnackbar("\u7A0B\u5E8F\u51FA\u9519\uFF01\u5177\u4F53\u539F\u56E0\u8BF7\u67E5\u770B\u65E5\u5FD7\u3002")}if(this.isWaitingForAsyncOperation())break}while(!this.highlightPause)}run(){if(this.state==S.PAUSED){this.updateState(S.RUNNING);let e={};this.runningContext=e,setTimeout(function(e){this.run_(e)}.bind(this,e),10)}}run_(e){for(let t=this.cost+this.options.runningOptions.costPerRound*(.5+Math.random());this.cost<t;++this.cost){if(this.runningContext!=e||this.state!=S.RUNNING)return;if(this.isWaitingForAsyncOperation())break;this.step_()}setTimeout(this.run_.bind(this,e),this.options.runningOptions.delay)}pause(){this.state!=S.RUNNING||this.updateState(S.PAUSED)}stop(){this.state==S.STOPPED||(this.stop_(),this.logToConsole("\u7A0B\u5E8F\u7EC8\u6B62\uFF01"))}stop_(){this.updateState(S.STOPPED)}logToConsole(e){this.options.consoleLogListener&&this.options.consoleLogListener(e)}logToSnackbar(e){this.options.snackbarLogListener&&this.options.snackbarLogListener(e)}isWaitingForAsyncOperation(){return this.interpreter.paused_}setRunningOptions(e){this.options.runningOptions=e}}x.init();class C{constructor(e){this.options=e,this.blocklyWorkspace=d.a.inject(e.blocklyId,{toolbox:e.toolbox,readOnly:e.readOnly,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2},move:{scrollbars:!0,drag:!0,wheel:!1},media:_.a("blockly_media/"),sounds:!1,trashcan:!0}),this.blocklyWorkspace.addChangeListener(function(e){e instanceof d.a.Events.Ui||this.interpreter&&(this.interpreter.logToSnackbar("\u4EE3\u7801\u88AB\u4FEE\u6539\uFF0C\u7A0B\u5E8F\u5373\u5C06\u88AB\u7EC8\u6B62\uFF01"),this.interpreter.stop())}.bind(this))}reset(){this.blocklyWorkspace.clear()}step(){this.handleNewExecution_(),this.interpreter.step()}pause(){this.interpreter&&this.interpreter.pause()}run(e){this.handleNewExecution_(),this.interpreter.run(e)}stop(){this.interpreter&&(this.interpreter.logToSnackbar("\u7A0B\u5E8F\u7EC8\u6B62\uFF01"),this.interpreter.stop())}setRunningOptions(e){this.options.runningOptions=e,this.interpreter&&this.interpreter.setRunningOptions(e)}generateJavaScript(){let e=new x({blocklyWorkspace:this.blocklyWorkspace,codesPrefix:this.options.codesPrefix,variableTable:this.options.variableTable});return e.codes}handleNewExecution_(){this.interpreter||(this.options.stateUpdateListener&&this.options.stateUpdateListener(S.INITIAL),this.interpreter=new x({blocklyWorkspace:this.blocklyWorkspace,codesPrefix:this.options.codesPrefix,consoleLogListener:function(e){if(this.options.logArea){let t=document.createElement("span");t.innerText=e+"\n",this.options.logArea.appendChild(t),this.options.logArea.scrollIntoView(!1)}else console.log("Log: ",e)}.bind(this),snackbarLogListener:function(e){this.options.snackbar?(this.options.snackbar.labelText=e+"",this.options.snackbar.open()):console.log("Snackbar: ",e)}.bind(this),variableTable:this.options.variableTable,stateUpdateListener:function(e){e==S.STOPPED&&(this.interpreter=null),this.options.stateUpdateListener&&this.options.stateUpdateListener(e)}.bind(this),runningOptions:this.options.runningOptions}),this.options.logArea&&(this.options.logArea.textContent=""),this.options.snackbar&&this.options.snackbar.close(),this.options.variableTable&&this.options.variableTable.init(this.interpreter.variables))}}},function(e,t,o){"use strict";function i(e){if(!s.test(e))throw"\u8FD9\u4E0D\u662F\u989C\u8272\uFF1A"+e}function r(e){if(!Array.isArray(e))throw"\u8FD9\u4E0D\u662F\u5217\u8868\uFF1A"+e}function n(e){return parseInt("0x"+e.substring(1))}function a(e){return e%=360,0>e&&(e+=360),e}o.d(t,"d",function(){return i}),o.d(t,"c",function(){return r}),o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a});const s=/^#[0-9a-fA-F]{6}$/},function(e,t,o){"use strict";function i(e){return new Promise((t,o)=>{let i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=o,i.readAsDataURL(e)})}async function r(e){let t={xmlCodes:new XMLSerializer().serializeToString(e),blobs:[]};for(let o of d){let e=l.get(o);t.blobs.push({url:o,blob:e.blob,tag:e.tag,payload:e.payload})}for(let o of t.blobs)o.blobDataUrl=await i(o.blob),delete o.blob;return JSON.stringify(t)}async function n(e){return await s(JSON.parse(e))}async function a(e){u=e}async function s(e){for(let[t,o]of l){let e=c.get(o.tag);if(!e)throw"BlobManager not found: "+tag;e.blobRemoveListener_&&e.blobRemoveListener_(t,o.payload),URL.revokeObjectURL(t)}d=[],l.clear();let t=new DOMParser().parseFromString(e.xmlCodes,"application/xml").documentElement,o=new Map;if(t.hasChildNodes()){let e=t.childNodes,o=[];for(let t of e)"shadow"==t.nodeName&&(console.log("Remove top level shadow dom:"),console.log(t),o.push(t));for(let e of o)t.removeChild(e)}for(let t of e.blobs){let e=await(await fetch(t.blobDataUrl)).blob(),i=c.get(t.tag).createBlob(e,t.payload);o.set(t.url,i)}let i=t.getElementsByTagName("field");for(let t of i)if(t.attributes&&t.attributes.name&&"BLOB_URL"==t.attributes.name.value){let e=o.get(t.textContent);e&&(t.textContent=e)}return t}o.d(t,"a",function(){return p}),o.d(t,"e",function(){return r}),o.d(t,"c",function(){return n}),o.d(t,"d",function(){return a}),o.d(t,"b",function(){return s});var l=new Map,d=[],c=new Map;class p{constructor(e,t){return c.has(e)?void console.log("Blob Manager tag is already used: "+e):void(this.tag_=e,this.blobAddListener_=t.blobAddListener,this.blobRemoveListener_=t.blobRemoveListener,c.set(e,this))}getBlobUrls(){let e=[];for(let[t,o]of l)o.tag==this.tag_&&e.push(t);return e}createBlob(e,t){let o=URL.createObjectURL(e);return d.push(o),l.set(o,{blob:e,payload:t,tag:this.tag_}),this.blobAddListener_&&this.blobAddListener_(o,t),o}removeBlob(e){if(u&&u(e))return void alert("\u8BE5\u8D44\u6E90\u6B63\u5728\u88AB\u4F7F\u7528\uFF0C\u65E0\u6CD5\u5220\u9664\uFF01");let t=l.get(e);return t?void(this.blobRemoveListener_&&this.blobRemoveListener_(e,t.payload),d=d.filter((t)=>t!=e),l.delete(e),URL.revokeObjectURL(e)):void console.log("Blob URL does not exist: "+e)}}var u},,function(e,t,o){"use strict";function i(e){return new Promise((t)=>setTimeout(t,e))}async function r(e){for(;!e();)await i(50)}function n(){document.getElementById("actionDialog").innerHTML=c.a,m=new p.a(document.querySelector("#actionDialog .mdc-dialog")),m.scrimClickAction="",m.escapeKeyAction="",m.listen("MDCDialog:closed",function(t){h=t.detail.action})}async function a(e){await r(function(){return null==h}),s(),document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__title").innerText=e.title;let t=document.createElement("ul");t.classList.add("mdc-list"),document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__content").appendChild(t);for(let o of e.selectOptions){let i=document.createElement("li");i.classList.add("mdc-list-item"),i.innerHTML=e.multiSelect?`
        <span class="mdc-list-item__ripple"></span>
        <div class="mdc-checkbox">
          <input
            class="mdc-checkbox__native-control"
            type="checkbox"
          />
          <div class="mdc-checkbox__background">
            <svg class="mdc-checkbox__checkmark"
                 viewBox="0 0 24 24">
              <path class="mdc-checkbox__checkmark-path"
                    fill="none"
                    d="M1.73,12.91 8.1,19.28 22.79,4.59"/>
            </svg>
            <div class="mdc-checkbox__mixedmark"></div>
          </div>
        </div>
        <label></label>
      `:`
        <span class="mdc-list-item__ripple"></span>
        <div class="mdc-radio">
          <input
            name="actionDialogRadioGroup"
            class="mdc-radio__native-control"
            type="radio"
          />
          <div class="mdc-radio__background">
            <div class="mdc-radio__outer-circle"></div>
            <div class="mdc-radio__inner-circle"></div>
          </div>
        </div>
        <label></label>
      `;let r=g()("actionDialog-");i.querySelector("label").innerText=o,i.querySelector("label").htmlFor=r,i.querySelector("input").id=r,t.appendChild(i)}if(T=new u.a(document.querySelector("#actionDialog .mdc-list")),document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__actions button").style.visibility=e.allowCancel?"visible":"hidden",!e.multiSelect){let o=e.defaultSelectedIndex||0;t.children[o].querySelector(".mdc-radio input").checked=!0}if(h="pending",m.open(),await r(function(){return"pending"!=h}),"accept"==h){h=null;let o=t.querySelectorAll("input"),r=e.multiSelect?[]:null;return o.forEach((t,o)=>{t.checked&&(e.multiSelect?r.push(o):r=o)}),r}return h=null,null}function s(){document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__content").innerHTML="",T&&T.destroy()}async function l(e){if(await r(function(){return null==h}),s(),document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__title").innerText=e.title,document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__content").innerHTML=`
    <label class="mdc-text-field mdc-text-field--filled mdc-text-field--no-label mdc-text-field--fullwidth">
      <span class="mdc-text-field__ripple"></span>
      <input class="mdc-text-field__input" type="text">
      <span class="mdc-line-ripple"></span>
    </label>
  `,document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__actions button").style.visibility=e.allowCancel?"visible":"hidden",h="pending",m.open(),await r(function(){return"pending"!=h}),"accept"==h){h=null;let e=document.querySelector("#actionDialog .mdc-dialog .mdc-dialog__content input");return e.value}return h=null,null}o.d(t,"a",function(){return n}),o.d(t,"c",function(){return a}),o.d(t,"b",function(){return l});var d=o(32),c=o.n(d),p=o(219),u=o(37),_=o(33),g=o.n(_),m,h,T},,,function(e,t,o){"use strict";o.d(t,"b",function(){return l}),o.d(t,"a",function(){return d});var i=o(31),r=o.n(i),n=o(119),a=o.n(n),s=o(7);const l={ENVIRONMENT:1,CUSTOM:2};class d{constructor(e){this.environmentVariables=e,this.environmentVariableValueSpan_=Array(e.length),this.customVariableNames_=[],this.customVariableValueSpan_=[],this.numWatched_=0,this.container_=document.getElementById("blocklyVariableTable"),this.container_.innerHTML=r.a,this.selectedVariablesDiv_=document.getElementById("varialeTableSelectedVariables"),document.getElementById("AddVariablesToWatchButton").onclick=async function(){let e={title:"\u6DFB\u52A0\u9700\u8981\u89C2\u6D4B\u7684\u53D8\u91CF\uFF08\u53EF\u80FD\u5F71\u54CD\u8FD0\u884C\u901F\u5EA6\uFF09",multiSelect:!0,selectOptions:[],allowCancel:!0},t=[];this.environmentVariables.forEach((o,i)=>{this.isVariableSelected_(i,l.ENVIRONMENT)||(e.selectOptions.push(this.getVariableName_(i,l.ENVIRONMENT)),t.push({index:i,type:l.ENVIRONMENT}))}),this.customVariableNames_.forEach((o,i)=>{this.isVariableSelected_(i,l.CUSTOM)||(e.selectOptions.push(this.getVariableName_(i,l.CUSTOM)),t.push({index:i,type:l.CUSTOM}))});let o=await s.c(e);if(o)for(let e of o){let o=t[e];this.watchVariable_(o.index,o.type)}}.bind(this)}skipVariableLogging(){return 0==this.numWatched_}variableLoggingEnabled(e,t){let o;return o=t==l.ENVIRONMENT?this.environmentVariableValueSpan_[e]:this.customVariableValueSpan_[e],null!=o}logVariable(e,t,o){let i;i=t==l.ENVIRONMENT?this.environmentVariableValueSpan_[e]:this.customVariableValueSpan_[e],i&&("undefined"==typeof o||null===o?i.innerText="null":i.innerText=o)}isVariableSelected_(e,t){return t==l.ENVIRONMENT?null!=this.environmentVariableValueSpan_[e]:null!=this.customVariableValueSpan_[e]}getVariableName_(e,t){return t==l.ENVIRONMENT?"[\u73AF\u5883\u53D8\u91CF]"+this.environmentVariables[e].name:this.customVariableNames_[e]}unwatchVariable_(e,t){if(!this.isVariableSelected_(e,t))return;--this.numWatched_;let o;t==l.ENVIRONMENT?(o=this.environmentVariableValueSpan_[e],this.environmentVariableValueSpan_[e]=null):(o=this.customVariableValueSpan_[e],this.customVariableValueSpan_[e]=null),this.selectedVariablesDiv_.removeChild(o.parentNode)}watchVariable_(e,t){if(!this.isVariableSelected_(e,t)){++this.numWatched_;let o=document.createElement("div");o.classList.add("variableWrapper");let i=document.createElement("span");i.classList.add("unselectVariable"),i.innerHTML="<i class=\"material-icons\">cancel</i>",o.appendChild(i);let r=document.createElement("span");r.classList.add("variableName"),r.innerText=this.getVariableName_(e,t),o.appendChild(r);let n=document.createElement("span");n.classList.add("variableValue"),o.appendChild(n),t==l.ENVIRONMENT?this.environmentVariableValueSpan_[e]=n:this.customVariableValueSpan_[e]=n,this.selectedVariablesDiv_.appendChild(o),i.onclick=function(e,t){this.unwatchVariable_(e,t)}.bind(this,e,t)}}init(e){let t=[];for(let o of e)t.push(o.name);let o=Array(t.length);this.customVariableNames_.forEach((e,r)=>{let i=this.customVariableValueSpan_[r];if(i){let n=t.findIndex((t)=>t==e);-1==n?this.unwatchVariable_(r,l.CUSTOM):o[n]=i}}),this.customVariableNames_=t,this.customVariableValueSpan_=o}}},function(t,e,o){(function(o){var i,r,n;(function(o,a){r=[],i=a,n="function"==typeof i?i.apply(e,r):i,!(n!==void 0&&(t.exports=n))})(this,function(){"use strict";function r(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function n(t,o,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){i(n.response,o,r)},n.onerror=function(){console.error("could not download file")},n.send()}function s(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function l(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,i=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,o){var r=c.URL||c.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?l(i):s(i.href)?n(e,t,o):l(i,i.target="_blank")):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4E4),setTimeout(function(){l(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,o){if(t=t||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(r(e,o),t);else if(s(e))n(e,t,o);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){l(a)})}}:function(t,o,r,s){if(s=s||open("","_blank"),s&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return n(t,o,r);var e="application/octet-stream"===t.type,d=/constructor/i.test(c.HTMLElement)||c.safari,p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||e&&d)&&"object"==typeof FileReader){var i=new FileReader;i.onloadend=function(){var e=i.result;e=p?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},i.readAsDataURL(t)}else{var u=c.URL||c.webkitURL,_=u.createObjectURL(t);s?s.location=_:location.href=_,s=null,setTimeout(function(){u.revokeObjectURL(_)},4E4)}});c.saveAs=i.saveAs=i,t.exports=i})}).call(this,o(13))},function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),n=function(){function e(t,i,r){void 0===i&&(i=!1),o(this,e),this._fn=t,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return r(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),a=function(){function e(){o(this,e),this._head=this._tail=void 0}return r(e,[{key:"handlers",value:function(){var e=!(0>=arguments.length||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var o=[];t;)o.push(t),t=t._next;return o}},{key:"has",value:function(e){if(!(e instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new n(e,!1,t))}},{key:"once",value:function(e){var t=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new n(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner===this?(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this):this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();a.MiniSignalBinding=n,t["default"]=a,e.exports=t["default"]},function(e){var t=function(){return this}();try{t=t||new Function("return this")()}catch(o){"object"==typeof window&&(t=window)}e.exports=t},function(e,t){function o(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return i[e];var o=e+"",a=r[o.toLowerCase()];if(a)return a;var a=n[o.toLowerCase()];return a?a:1===o.length?o.charCodeAt(0):void 0}o.isEventKey=function(e,t){if(e&&"object"==typeof e){var o=e.which||e.keyCode||e.charCode;if(null===o||o===void 0)return!1;if("string"==typeof t){var i=r[t.toLowerCase()];if(i)return i===o;var i=n[t.toLowerCase()];if(i)return i===o}else if("number"==typeof t)return t===o;return!1}},t=e.exports=o;var r=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91/*!
 * Programatically add the following
 */};for(a=97;123>a;a++)r[String.fromCharCode(a)]=a-32;for(var a=48;58>a;a++)r[a-48]=a;for(a=1;13>a;a++)r["f"+a]=a+111;for(a=0;10>a;a++)r["numpad "+a]=a+96;var i=t.names=t.title={};for(a in r)i[r[a]]=a;for(var s in n)r[s]=n[s]},function(e,t,o){var i,r,n;(function(a,s){r=[o(110)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e.setLocale=function(t){e.Msg=e.Msg||{},Object.keys(t).forEach(function(o){e.Msg[o]=t[o]})},e})},function(e,t,o){"use strict";function i(e){let t=o.p;return t.startsWith("//")||t.startsWith("http://")||t.startsWith("https://")?t+e:r.join(o.p,e)}o.d(t,"a",function(){return i});var r=o(30),n=o.n(r)},function(e,t,o){"use strict";function i(e){var t=e.key;if(h.has(t))return t;var o=b.get(e.keyCode);return o?o:m.UNKNOWN}/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function r(){return{bufferClearTimeout:0,currentFirstChar:"",sortedIndexCursor:0,typeaheadBuffer:""}}function n(e,t){for(var o=new Map,r=0,n;r<e;r++)if(n=t(r).trim(),!!n){var a=n[0].toLowerCase();o.has(a)||o.set(a,[]),o.get(a).push({text:n.toLowerCase(),index:r})}return o.forEach(function(e){e.sort(function(e,t){return e.index-t.index})}),o}function a(e,t){var o=e.nextChar,i=e.focusItemAtIndex,r=e.sortedIndexByFirstChar,n=e.focusedItemIndex,a=e.skipFocus,d=e.isItemAtIndexDisabled;clearTimeout(t.bufferClearTimeout),t.bufferClearTimeout=setTimeout(function(){c(t)},y.b.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS),t.typeaheadBuffer+=o;var p;return p=1===t.typeaheadBuffer.length?s(r,n,d,t):l(r,d,t),-1===p||a||i(p),p}function s(e,t,o,i){var r=i.typeaheadBuffer[0],n=e.get(r);if(!n)return-1;if(r===i.currentFirstChar&&n[i.sortedIndexCursor].index===t){i.sortedIndexCursor=(i.sortedIndexCursor+1)%n.length;var a=n[i.sortedIndexCursor].index;if(!o(a))return a}i.currentFirstChar=r;var s=-1,l;for(l=0;l<n.length;l++)if(!o(n[l].index)){s=l;break}for(;l<n.length;l++)if(n[l].index>t&&!o(n[l].index)){s=l;break}return-1===s?-1:(i.sortedIndexCursor=s,n[i.sortedIndexCursor].index)}function l(e,t,o){var i=o.typeaheadBuffer[0],r=e.get(i);if(!r)return-1;var n=r[o.sortedIndexCursor];if(0===n.text.lastIndexOf(o.typeaheadBuffer,0)&&!t(n.index))return n.index;for(var a=(o.sortedIndexCursor+1)%r.length,s=-1;a!==o.sortedIndexCursor;){var l=r[a],d=0===l.text.lastIndexOf(o.typeaheadBuffer,0),c=!t(l.index);if(d&&c){s=a;break}a=(a+1)%r.length}return-1==s?-1:(o.sortedIndexCursor=s,r[o.sortedIndexCursor].index)}function d(e){return 0<e.typeaheadBuffer.length}function c(e){e.typeaheadBuffer=""}function p(e,t){var o=e.event,r=e.isTargetListItem,n=e.focusedItemIndex,s=e.focusItemAtIndex,l=e.sortedIndexByFirstChar,c=e.isItemAtIndexDisabled,p="ArrowLeft"===i(o),u="ArrowUp"===i(o),_="ArrowRight"===i(o),g="ArrowDown"===i(o),m="Home"===i(o),h="End"===i(o),T="Enter"===i(o),b="Spacebar"===i(o);if(p||u||_||g||m||h||T)return-1;var E=!b&&1===o.key.length;if(E){S(o);var y={focusItemAtIndex:s,focusedItemIndex:n,nextChar:o.key.toLowerCase(),sortedIndexByFirstChar:l,skipFocus:!1,isItemAtIndexDisabled:c};return a(y,t)}if(!b)return-1;r&&S(o);var v=r&&d(t);if(v){var y={focusItemAtIndex:s,focusedItemIndex:n,nextChar:" ",sortedIndexByFirstChar:l,skipFocus:!1,isItemAtIndexDisabled:c};return a(y,t)}return-1}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function u(e){return e instanceof Array}o.d(t,"a",function(){return R});var _=o(2),g=o(8),m={UNKNOWN:"Unknown",BACKSPACE:"Backspace",ENTER:"Enter",SPACEBAR:"Spacebar",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",END:"End",HOME:"Home",ARROW_LEFT:"ArrowLeft",ARROW_UP:"ArrowUp",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",DELETE:"Delete",ESCAPE:"Escape"},h=new Set;/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */h.add(m.BACKSPACE),h.add(m.ENTER),h.add(m.SPACEBAR),h.add(m.PAGE_UP),h.add(m.PAGE_DOWN),h.add(m.END),h.add(m.HOME),h.add(m.ARROW_LEFT),h.add(m.ARROW_UP),h.add(m.ARROW_RIGHT),h.add(m.ARROW_DOWN),h.add(m.DELETE),h.add(m.ESCAPE);var T={BACKSPACE:8,ENTER:13,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,DELETE:46,ESCAPE:27},b=new Map;b.set(T.BACKSPACE,m.BACKSPACE),b.set(T.ENTER,m.ENTER),b.set(T.SPACEBAR,m.SPACEBAR),b.set(T.PAGE_UP,m.PAGE_UP),b.set(T.PAGE_DOWN,m.PAGE_DOWN),b.set(T.END,m.END),b.set(T.HOME,m.HOME),b.set(T.ARROW_LEFT,m.ARROW_LEFT),b.set(T.ARROW_UP,m.ARROW_UP),b.set(T.ARROW_RIGHT,m.ARROW_RIGHT),b.set(T.ARROW_DOWN,m.ARROW_DOWN),b.set(T.DELETE,m.DELETE),b.set(T.ESCAPE,m.ESCAPE);var E=new Set([m.PAGE_UP,m.PAGE_DOWN,m.END,m.HOME,m.ARROW_LEFT,m.ARROW_UP,m.ARROW_RIGHT,m.ARROW_DOWN]),y=o(1),v=["input","button","textarea","select"],S=function(e){var t=e.target;if(t){var o=(""+t.tagName).toLowerCase();-1===v.indexOf(o)&&e.preventDefault()}},R=function(e){function t(o){var i=e.call(this,Object(_.a)(Object(_.a)({},t.defaultAdapter),o))||this;return i.wrapFocus_=!1,i.isVertical_=!0,i.isSingleSelectionList_=!1,i.selectedIndex_=y.b.UNSET_INDEX,i.focusedItemIndex=y.b.UNSET_INDEX,i.useActivatedClass_=!1,i.ariaCurrentAttrValue_=null,i.isCheckboxList_=!1,i.isRadioList_=!1,i.hasTypeahead=!1,i.typeaheadState=r(),i.sortedIndexByFirstChar=new Map,i}return Object(_.b)(t,e),Object.defineProperty(t,"strings",{get:function(){return y.c},enumerable:!0,configurable:!0}),Object.defineProperty(t,"cssClasses",{get:function(){return y.a},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return y.b},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},listItemAtIndexHasClass:function(){return!1},notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){},getPrimaryTextAtIndex:function(){return""}}},enumerable:!0,configurable:!0}),t.prototype.layout=function(){0===this.adapter.getListItemCount()||(this.adapter.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter.hasRadioAtIndex(0)&&(this.isRadioList_=!0),this.hasTypeahead&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex()))},t.prototype.setWrapFocus=function(e){this.wrapFocus_=e},t.prototype.setVerticalOrientation=function(e){this.isVertical_=e},t.prototype.setSingleSelection=function(e){this.isSingleSelectionList_=e},t.prototype.setHasTypeahead=function(e){this.hasTypeahead=e,e&&(this.sortedIndexByFirstChar=this.typeaheadInitSortedIndex())},t.prototype.isTypeaheadInProgress=function(){return this.hasTypeahead&&d(this.typeaheadState)},t.prototype.setUseActivatedClass=function(e){this.useActivatedClass_=e},t.prototype.getSelectedIndex=function(){return this.selectedIndex_},t.prototype.setSelectedIndex=function(e){this.isIndexValid_(e)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(e):this.isRadioList_?this.setRadioAtIndex_(e):this.setSingleSelectionAtIndex_(e))},t.prototype.handleFocusIn=function(e,t){0<=t&&(this.focusedItemIndex=t,this.adapter.setTabIndexForListItemChildren(t,"0"))},t.prototype.handleFocusOut=function(e,t){var o=this;0<=t&&this.adapter.setTabIndexForListItemChildren(t,"-1"),setTimeout(function(){o.adapter.isFocusInsideList()||o.setTabindexToFirstSelectedItem_()},0)},t.prototype.handleKeydown=function(e,t,o){var r=this,n="ArrowLeft"===i(e),a="ArrowUp"===i(e),s="ArrowRight"===i(e),l="ArrowDown"===i(e),d="Home"===i(e),c="End"===i(e),u="Enter"===i(e),_="Spacebar"===i(e);if(this.adapter.isRootFocused()){if(a||c?(e.preventDefault(),this.focusLastElement()):(l||d)&&(e.preventDefault(),this.focusFirstElement()),this.hasTypeahead){var g={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:-1,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.adapter.listItemAtIndexHasClass(e,y.a.LIST_ITEM_DISABLED_CLASS)}};p(g,this.typeaheadState)}return}var m=this.adapter.getFocusedElementIndex();if(!(-1===m&&(m=o,0>m))){if(this.isVertical_&&l||!this.isVertical_&&s)S(e),this.focusNextElement(m);else if(this.isVertical_&&a||!this.isVertical_&&n)S(e),this.focusPrevElement(m);else if(d)S(e),this.focusFirstElement();else if(c)S(e),this.focusLastElement();else if((u||_)&&t){var h=e.target;if(h&&"A"===h.tagName&&u)return;if(S(e),this.adapter.listItemAtIndexHasClass(m,y.a.LIST_ITEM_DISABLED_CLASS))return;this.isTypeaheadInProgress()||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(m),this.adapter.notifyAction(m))}if(this.hasTypeahead){var g={event:e,focusItemAtIndex:function(e){r.focusItemAtIndex(e)},focusedItemIndex:this.focusedItemIndex,isTargetListItem:t,sortedIndexByFirstChar:this.sortedIndexByFirstChar,isItemAtIndexDisabled:function(e){return r.adapter.listItemAtIndexHasClass(e,y.a.LIST_ITEM_DISABLED_CLASS)}};p(g,this.typeaheadState)}}},t.prototype.handleClick=function(e,t){e!==y.b.UNSET_INDEX&&(this.setTabindexAtIndex_(e),this.focusedItemIndex=e,this.adapter.listItemAtIndexHasClass(e,y.a.LIST_ITEM_DISABLED_CLASS)||(this.isSelectableList_()&&this.setSelectedIndexOnAction_(e,t),this.adapter.notifyAction(e)))},t.prototype.focusNextElement=function(e){var t=this.adapter.getListItemCount(),o=e+1;if(o>=t)if(this.wrapFocus_)o=0;else return e;return this.focusItemAtIndex(o),o},t.prototype.focusPrevElement=function(e){var t=e-1;if(0>t)if(this.wrapFocus_)t=this.adapter.getListItemCount()-1;else return e;return this.focusItemAtIndex(t),t},t.prototype.focusFirstElement=function(){return this.focusItemAtIndex(0),0},t.prototype.focusLastElement=function(){var e=this.adapter.getListItemCount()-1;return this.focusItemAtIndex(e),e},t.prototype.setEnabled=function(e,t){this.isIndexValid_(e)&&(t?(this.adapter.removeClassForElementIndex(e,y.a.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,y.c.ARIA_DISABLED,"false")):(this.adapter.addClassForElementIndex(e,y.a.LIST_ITEM_DISABLED_CLASS),this.adapter.setAttributeForElementIndex(e,y.c.ARIA_DISABLED,"true")))},t.prototype.setSingleSelectionAtIndex_=function(e){if(this.selectedIndex_!==e){var t=y.a.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(t=y.a.LIST_ITEM_ACTIVATED_CLASS),this.selectedIndex_!==y.b.UNSET_INDEX&&this.adapter.removeClassForElementIndex(this.selectedIndex_,t),this.adapter.addClassForElementIndex(e,t),this.setAriaForSingleSelectionAtIndex_(e),this.selectedIndex_=e}},t.prototype.setAriaForSingleSelectionAtIndex_=function(e){this.selectedIndex_===y.b.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter.getAttributeForElementIndex(e,y.c.ARIA_CURRENT));var t=null!==this.ariaCurrentAttrValue_,o=t?y.c.ARIA_CURRENT:y.c.ARIA_SELECTED;this.selectedIndex_!==y.b.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,o,"false");var i=t?this.ariaCurrentAttrValue_:"true";this.adapter.setAttributeForElementIndex(e,o,i)},t.prototype.setRadioAtIndex_=function(e){this.adapter.setCheckedCheckboxOrRadioAtIndex(e,!0),this.selectedIndex_!==y.b.UNSET_INDEX&&this.adapter.setAttributeForElementIndex(this.selectedIndex_,y.c.ARIA_CHECKED,"false"),this.adapter.setAttributeForElementIndex(e,y.c.ARIA_CHECKED,"true"),this.selectedIndex_=e},t.prototype.setCheckboxAtIndex_=function(e){for(var t=0,o;t<this.adapter.getListItemCount();t++)o=!1,0<=e.indexOf(t)&&(o=!0),this.adapter.setCheckedCheckboxOrRadioAtIndex(t,o),this.adapter.setAttributeForElementIndex(t,y.c.ARIA_CHECKED,o?"true":"false");this.selectedIndex_=e},t.prototype.setTabindexAtIndex_=function(e){this.focusedItemIndex===y.b.UNSET_INDEX&&0!==e?this.adapter.setAttributeForElementIndex(0,"tabindex","-1"):0<=this.focusedItemIndex&&this.focusedItemIndex!==e&&this.adapter.setAttributeForElementIndex(this.focusedItemIndex,"tabindex","-1"),this.adapter.setAttributeForElementIndex(e,"tabindex","0")},t.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||this.isRadioList_},t.prototype.setTabindexToFirstSelectedItem_=function(){var e=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==y.b.UNSET_INDEX?e=this.selectedIndex_:u(this.selectedIndex_)&&0<this.selectedIndex_.length&&(e=this.selectedIndex_.reduce(function(e,t){return Math.min(e,t)}))),this.setTabindexAtIndex_(e)},t.prototype.isIndexValid_=function(e){var t=this;if(e instanceof Array){if(!this.isCheckboxList_)throw new Error("MDCListFoundation: Array of index is only supported for checkbox based list");return 0===e.length||e.some(function(e){return t.isIndexInRange_(e)})}if("number"==typeof e){if(this.isCheckboxList_)throw new Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+e);return this.isIndexInRange_(e)}return!1},t.prototype.isIndexInRange_=function(e){var t=this.adapter.getListItemCount();return 0<=e&&e<t},t.prototype.setSelectedIndexOnAction_=function(e,t){void 0===t&&(t=!0),this.isCheckboxList_?this.toggleCheckboxAtIndex_(e,t):this.setSelectedIndex(e)},t.prototype.toggleCheckboxAtIndex_=function(e,t){var o=this.adapter.isCheckboxCheckedAtIndex(e);t&&(o=!o,this.adapter.setCheckedCheckboxOrRadioAtIndex(e,o)),this.adapter.setAttributeForElementIndex(e,y.c.ARIA_CHECKED,o?"true":"false");var i=this.selectedIndex_===y.b.UNSET_INDEX?[]:this.selectedIndex_.slice();o?i.push(e):i=i.filter(function(t){return t!==e}),this.selectedIndex_=i},t.prototype.focusItemAtIndex=function(e){this.setTabindexAtIndex_(e),this.adapter.focusItemAtIndex(e),this.focusedItemIndex=e},t.prototype.typeaheadMatchItem=function(e,t,o){var i=this;void 0===o&&(o=!1);var r={focusItemAtIndex:function(e){i.focusItemAtIndex(e)},focusedItemIndex:t?t:this.focusedItemIndex,nextChar:e,sortedIndexByFirstChar:this.sortedIndexByFirstChar,skipFocus:o,isItemAtIndexDisabled:function(e){return i.adapter.listItemAtIndexHasClass(e,y.a.LIST_ITEM_DISABLED_CLASS)}};return a(r,this.typeaheadState)},t.prototype.typeaheadInitSortedIndex=function(){return n(this.adapter.getListItemCount(),this.adapter.getPrimaryTextAtIndex)},t.prototype.clearTypeaheadBuffer=function(){c(this.typeaheadState)},t}(g.a);/**
 * @license
 * Copyright 2020 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */},function(e,t,o){"use strict";function i(e,t){void 0===t&&(t=e);var o=e.getAttribute("aria-live"),i=t.textContent.trim();i&&o&&(e.setAttribute("aria-live","off"),t.textContent="",t.innerHTML="<span style=\"display: inline-block; width: 0; height: 1px;\">&nbsp;</span>",t.setAttribute(te,i),setTimeout(function(){e.setAttribute("aria-live",o),t.removeAttribute(te),t.textContent=i},ee))}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function r(e){for(let t of ve)t.classList.remove("selected");e==ye.SLOW?(ve[0].classList.add("selected"),he.setRunningOptions({delay:50,costPerRound:1})):e==ye.NORMAL?(ve[1].classList.add("selected"),he.setRunningOptions({delay:0,costPerRound:30})):e==ye.FAST&&(ve[2].classList.add("selected"),he.setRunningOptions({delay:0,costPerRound:4e3}))}function n(){let e=new URLSearchParams(window.location.search);return e.has("showSolution")}function a(){let e=new URLSearchParams(window.location.search);return e.has("showDemo")}function s(){let e=new URLSearchParams(window.location.search);return e.get("showWork")}async function l(e){fe=e;let t=ge.a,o=n();if(o&&(document.title+="[\u7B54\u6848]",!t))return void(window.location.href="../pages/authorization.html");let i=!o&&a();if(i){document.title+="[\u793A\u4F8B]",document.getElementById("maximizeOutputButton").click(),document.getElementById("blocklyWorkspace").style.visibility="hidden";let e=document.querySelectorAll(".navbar .subnav");for(let t of e)t.classList.contains("unremovable")||t.parentNode.removeChild(t)}let l=s(),d=new ce(document.getElementById("blocklySnackbar")),c={blocklyId:"blocklyWorkspace",runningOptions:{delay:0,numRounds:1},toolbox:i?null:e.toolbox,printListener:e.printListener,codesPrefix:e.codesPrefix,stateUpdateListener:function(t){t==_.c.RUNNING?(Se.onclick=function(){he.pause()},Se.querySelector(".mdc-button__label").innerText="\u6682\u505C",Se.querySelector(".material-icons").innerText="pause",Re.disabled="disabled",Ie.disabled="",me=!0):(me=!1,Se.onclick=function(){he.run()},Se.querySelector(".mdc-button__label").innerText="\u8FD0\u884C",Se.querySelector(".material-icons").innerText="play_arrow",t==_.c.STOPPED?(Se.disabled="disabled",Re.disabled="disabled",Ie.disabled="disabled",setTimeout(function(){Se.disabled="",Re.disabled=""},1e3)):(Re.disabled="",Ie.disabled="")),e.stateUpdateListener&&e.stateUpdateListener(t)}.bind(this),logArea:document.getElementById("blocklyLogArea"),snackbar:d,variableTable:new U.a(e.environmentVariables?e.environmentVariables:[])};he=new _.a(c),e.runningSpeed?r(e.runningSpeed):r(ye.NORMAL);let p=new ue.a(document.getElementById("helpDialog")),u=document.getElementById("showHelpDialogButton");if(o||i||!document.getElementById("helpDialogContents").innerHTML)u.style.display="none";else if(p.open(),u.onclick=function(){p.open()}.bind(this),e.fetchSolution){let e=document.getElementById("helpDialogShowDemoButton");if(e.style.visibility="visible",e.onclick=function(){let e=new URL(window.location);e.searchParams.set("showDemo",1),window.open(e,"_blank")},t){let e=document.getElementById("helpDialogShowSolutionButton");e.style.visibility="visible",e.onclick=function(){let e=new URL(window.location);e.searchParams.set("showSolution",1),window.open(e,"_blank")}}}const g=new pe.a(document.querySelector(".mdc-tab-bar"));g.listen("MDCTabBar:activated",function(t){document.querySelector(".tabs__content-container .tabs__content.active").classList.remove("active");let e=t.detail.index,o=document.querySelectorAll(".tabs__content-container .tabs__content")[e].classList.add("active")});var m;if(window.onresize=function(){clearTimeout(m),m=setTimeout(function(){fe.layoutChangeListener&&fe.layoutChangeListener(),w.a.svgResize(he.blocklyWorkspace)},500)},!o&&!i){let t=localStorage.getItem("blockly/json/"+Te);try{if(t){let e=await F.c(t);w.a.Xml.domToWorkspace(e,he.blocklyWorkspace)}else if(e.fetchInitial){let t=await e.fetchInitial(),o=await F.b(t);w.a.Xml.domToWorkspace(o,he.blocklyWorkspace)}}catch(t){console.log(t)}setInterval(async function(){let e=await F.e(w.a.Xml.workspaceToDom(he.blocklyWorkspace));localStorage.setItem("blockly/json/"+Te,e)},6e4)}else try{let t=l?await(await fetch(_e.a("works/"+l+".json"))).json():await e.fetchSolution();let o=await F.b(t);w.a.Xml.domToWorkspace(o,he.blocklyWorkspace)}catch(t){console.log(t)}F.d(function(e){let t=w.a.Xml.workspaceToDom(he.blocklyWorkspace),o=t.getElementsByTagName("field");for(let t of o)if(t.attributes&&t.attributes.name&&"BLOB_URL"==t.attributes.name.value&&t.textContent==e)return!0;return!1}),H.a(),document.body.removeChild(document.getElementById("loading"))}o.d(t,"c",function(){return me}),o.d(t,"d",function(){return Te}),o.d(t,"a",function(){return ye}),o.d(t,"b",function(){return l});var d=o(45),c=o(47),p=o(27),u=o.n(p),_=o(3),g="undefined"==typeof window?null:window,m=null===g,h=m?void 0:g.document,T="addEventListener",E="removeEventListener",y="getBoundingClientRect",b="_a",v="_b",S="_c",R="horizontal",I=function(){return!1},x=m?"calc":["","-webkit-","-moz-","-o-"].filter(function(e){var t=h.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length}).shift()+"calc",C=function(e){return"string"==typeof e||e instanceof String},O=function(e){if(C(e)){var t=h.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},k=function(e,t,o){var i=e[t];return void 0===i?o:i},A=function(e,t,o,i){if(t){if("end"===i)return 0;if("center"===i)return e/2}else if(o){if("start"===i)return 0;if("center"===i)return e/2}return e},N=function(e,t){var o=h.createElement("div");return o.className="gutter gutter-"+t,o},L=function(e,t,o){var i={};return i[e]=C(t)?t:x+"("+t+"% - "+o+"px)",i},D=function(e,t){var o;return o={},o[e]=t+"px",o},M=function(e,t){function o(e,t,o,r){var i=ee(C,t,o,r);Object.keys(i).forEach(function(t){e.style[t]=i[t]})}function r(e,t,o){var i=te(C,t,o);Object.keys(i).forEach(function(t){e.style[t]=i[t]})}function i(){return F.map(function(e){return e.size})}function n(t){return"touches"in t?t.touches[0][M]:t[M]}function s(e){var t=F[this.a],i=F[this.b],r=t.size+i.size;t.size=e/this.size*r,i.size=r-e/this.size*r,o(t.element,t.size,this[v],t.i),o(i.element,i.size,this[S],i.i)}function l(o){var e=F[this.a],r=F[this.b],a;this.dragging&&(a=n(o)-this.start+(this[v]-this.dragOffset),1<q&&(a=Math.round(a/q)*q),a<=e.minSize+K+this[v]?a=e.minSize+this[v]:a>=this.size-(r.minSize+K+this[S])&&(a=this.size-(r.minSize+this[S])),s.call(this,a),k(t,"onDrag",I)(i()))}function d(){var e=F[this.a].element,t=F[this.b].element,o=e[y](),i=t[y]();this.size=o[C]+i[C]+this[v]+this[S],this.start=o[P],this.end=o[w]}function a(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var o=e[B];return 0===o?null:(o-=Z===R?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),o)}function c(e){var t=a(H);if(null===t)return e;if(X.reduce(function(e,t){return e+t},0)>t)return e;var o=0,r=[],i=e.map(function(n,a){var i=t*n/100,s=A(j,0===a,a===e.length-1,J),l=X[a]+s;return i<l?(o+=l-i,r.push(0),l):(r.push(i-l),i)});return 0===o?e:i.map(function(e,n){var i=e;if(0<o&&0<r[n]-o){var a=Math.min(o,r[n]-o);o-=a,i=e-a}return 100*(i/t)})}function p(){var e=this,o=F[e.a].element,r=F[e.b].element;e.dragging&&k(t,"onDragEnd",I)(i()),e.dragging=!1,g[E]("mouseup",e.stop),g[E]("touchend",e.stop),g[E]("touchcancel",e.stop),g[E]("mousemove",e.move),g[E]("touchmove",e.move),e.stop=null,e.move=null,o[E]("selectstart",I),o[E]("dragstart",I),r[E]("selectstart",I),r[E]("dragstart",I),o.style.userSelect="",o.style.webkitUserSelect="",o.style.MozUserSelect="",o.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",h.body.style.cursor=""}function u(o){if(!("button"in o&&0!==o.button)){var e=this,r=F[e.a].element,a=F[e.b].element;e.dragging||k(t,"onDragStart",I)(i()),o.preventDefault(),e.dragging=!0,e.move=l.bind(e),e.stop=p.bind(e),g[T]("mouseup",e.stop),g[T]("touchend",e.stop),g[T]("touchcancel",e.stop),g[T]("mousemove",e.move),g[T]("touchmove",e.move),r[T]("selectstart",I),r[T]("dragstart",I),a[T]("selectstart",I),a[T]("dragstart",I),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",a.style.userSelect="none",a.style.webkitUserSelect="none",a.style.MozUserSelect="none",a.style.pointerEvents="none",e.gutter.style.cursor=Q,e.parent.style.cursor=Q,h.body.style.cursor=Q,d.call(e),e.dragOffset=n(o)-e.end}}function _(e){var t=e.i===oe.length,o=t?oe[e.i-1]:oe[e.i];d.call(o);var i=t?o.size-e.minSize-o[S]:e.minSize+o[v];s.call(o,i)}if(void 0===t&&(t={}),m)return{};var x=e,C,M,P,w,B,F;Array.from&&(x=Array.from(x));var U=O(x[0]),H=U.parentNode,G=getComputedStyle?getComputedStyle(H):null,V=G?G.flexDirection:null,z=k(t,"sizes")||x.map(function(){return 100/x.length}),W=k(t,"minSize",100),X=Array.isArray(W)?W:x.map(function(){return W}),Y=k(t,"expandToMin",!1),j=k(t,"gutterSize",10),J=k(t,"gutterAlign","center"),K=k(t,"snapOffset",30),q=k(t,"dragInterval",1),Z=k(t,"direction",R),Q=k(t,"cursor",Z===R?"col-resize":"row-resize"),$=k(t,"gutter",N),ee=k(t,"elementStyle",L),te=k(t,"gutterStyle",D);Z===R?(C="width",M="clientX",P="left",w="right",B="clientWidth"):"vertical"===Z&&(C="height",M="clientY",P="top",w="bottom",B="clientHeight"),z=c(z);var oe=[];return F=x.map(function(e,t){var n={element:O(e),size:z[t],minSize:X[t],i:t},a;if(0<t&&(a={a:t-1,b:t,dragging:!1,direction:Z,parent:H},a[v]=A(j,0==t-1,!1,J),a[S]=A(j,!1,t==x.length-1,J),"row-reverse"===V||"column-reverse"===V)){var s=a.a;a.a=a.b,a.b=s}if(0<t){var l=$(t,Z,n.element);r(l,j,t),a[b]=u.bind(a),l[T]("mousedown",a[b]),l[T]("touchstart",a[b]),H.insertBefore(l,n.element),a.gutter=l}return o(n.element,n.size,A(j,0===t,t===x.length-1,J),t),0<t&&oe.push(a),n}),F.forEach(function(e){var t=e.element[y]()[C];t<e.minSize&&(Y?_(e):e.minSize=t)}),{setSizes:function(e){var t=c(e);t.forEach(function(e,r){if(0<r){var i=oe[r-1],n=F[i.a],a=F[i.b];n.size=t[r-1],a.size=e,o(n.element,n.size,i[v],n.i),o(a.element,a.size,i[S],a.i)}})},getSizes:i,collapse:function(e){_(F[e])},destroy:function(e,t){oe.forEach(function(o){if(!0===t?(o.gutter[E]("mousedown",o[b]),o.gutter[E]("touchstart",o[b])):o.parent.removeChild(o.gutter),!0!==e){var i=ee(C,o.a.size,o[v]);Object.keys(i).forEach(function(e){F[o.a].element.style[e]="",F[o.b].element.style[e]=""})}})},parent:H,pairs:oe}},P=o(0),w=o.n(P),B=o(11),F=o(5),U=o(10),H=o(7),G=o(2),V=o(9),z=o(6),W={CLOSING:"mdc-snackbar--closing",OPEN:"mdc-snackbar--open",OPENING:"mdc-snackbar--opening"},X={ACTION_SELECTOR:".mdc-snackbar__action",ARIA_LIVE_LABEL_TEXT_ATTR:"data-mdc-snackbar-label-text",CLOSED_EVENT:"MDCSnackbar:closed",CLOSING_EVENT:"MDCSnackbar:closing",DISMISS_SELECTOR:".mdc-snackbar__dismiss",LABEL_SELECTOR:".mdc-snackbar__label",OPENED_EVENT:"MDCSnackbar:opened",OPENING_EVENT:"MDCSnackbar:opening",REASON_ACTION:"action",REASON_DISMISS:"dismiss",SURFACE_SELECTOR:".mdc-snackbar__surface"},Y={DEFAULT_AUTO_DISMISS_TIMEOUT_MS:5e3,INDETERMINATE:-1,MAX_AUTO_DISMISS_TIMEOUT_MS:1e4,MIN_AUTO_DISMISS_TIMEOUT_MS:4e3,SNACKBAR_ANIMATION_CLOSE_TIME_MS:75,SNACKBAR_ANIMATION_OPEN_TIME_MS:150,ARIA_LIVE_DELAY_MS:1e3},j=o(8),J=W.OPENING,K=W.OPEN,q=W.CLOSING,Z=X.REASON_ACTION,Q=X.REASON_DISMISS,$=function(e){function t(o){var i=e.call(this,Object(G.a)(Object(G.a)({},t.defaultAdapter),o))||this;return i.isOpen_=!1,i.animationFrame_=0,i.animationTimer_=0,i.autoDismissTimer_=0,i.autoDismissTimeoutMs_=Y.DEFAULT_AUTO_DISMISS_TIMEOUT_MS,i.closeOnEscape_=!0,i}return Object(G.b)(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return W},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return X},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Y},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},announce:function(){},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},removeClass:function(){}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.clearAutoDismissTimer_(),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,clearTimeout(this.animationTimer_),this.animationTimer_=0,this.adapter.removeClass(J),this.adapter.removeClass(K),this.adapter.removeClass(q)},t.prototype.open=function(){var e=this;this.clearAutoDismissTimer_(),this.isOpen_=!0,this.adapter.notifyOpening(),this.adapter.removeClass(q),this.adapter.addClass(J),this.adapter.announce(),this.runNextAnimationFrame_(function(){e.adapter.addClass(K),e.animationTimer_=setTimeout(function(){var t=e.getTimeoutMs();e.handleAnimationTimerEnd_(),e.adapter.notifyOpened(),t!==Y.INDETERMINATE&&(e.autoDismissTimer_=setTimeout(function(){e.close(Q)},t))},Y.SNACKBAR_ANIMATION_OPEN_TIME_MS)})},t.prototype.close=function(e){var t=this;void 0===e&&(e=""),this.isOpen_&&(cancelAnimationFrame(this.animationFrame_),this.animationFrame_=0,this.clearAutoDismissTimer_(),this.isOpen_=!1,this.adapter.notifyClosing(e),this.adapter.addClass(W.CLOSING),this.adapter.removeClass(W.OPEN),this.adapter.removeClass(W.OPENING),clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout(function(){t.handleAnimationTimerEnd_(),t.adapter.notifyClosed(e)},Y.SNACKBAR_ANIMATION_CLOSE_TIME_MS))},t.prototype.isOpen=function(){return this.isOpen_},t.prototype.getTimeoutMs=function(){return this.autoDismissTimeoutMs_},t.prototype.setTimeoutMs=function(e){var t=Y.MIN_AUTO_DISMISS_TIMEOUT_MS,o=Y.MAX_AUTO_DISMISS_TIMEOUT_MS,i=Y.INDETERMINATE;if(e===Y.INDETERMINATE||e<=o&&e>=t)this.autoDismissTimeoutMs_=e;else throw new Error("\n        timeoutMs must be an integer in the range "+t+"\u2013"+o+"\n        (or "+i+" to disable), but got '"+e+"'")},t.prototype.getCloseOnEscape=function(){return this.closeOnEscape_},t.prototype.setCloseOnEscape=function(e){this.closeOnEscape_=e},t.prototype.handleKeyDown=function(e){var t="Escape"===e.key||27===e.keyCode;t&&this.getCloseOnEscape()&&this.close(Q)},t.prototype.handleActionButtonClick=function(){this.close(Z)},t.prototype.handleActionIconClick=function(){this.close(Q)},t.prototype.clearAutoDismissTimer_=function(){clearTimeout(this.autoDismissTimer_),this.autoDismissTimer_=0},t.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0,this.adapter.removeClass(W.OPENING),this.adapter.removeClass(W.CLOSING)},t.prototype.runNextAnimationFrame_=function(e){var t=this;cancelAnimationFrame(this.animationFrame_),this.animationFrame_=requestAnimationFrame(function(){t.animationFrame_=0,clearTimeout(t.animationTimer_),t.animationTimer_=setTimeout(e,0)})},t}(j.a),ee=Y.ARIA_LIVE_DELAY_MS,te=X.ARIA_LIVE_LABEL_TEXT_ATTR,oe=X.SURFACE_SELECTOR,ie=X.LABEL_SELECTOR,re=X.ACTION_SELECTOR,ne=X.DISMISS_SELECTOR,ae=X.OPENING_EVENT,se=X.OPENED_EVENT,le=X.CLOSING_EVENT,de=X.CLOSED_EVENT,ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(G.b)(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e){void 0===e&&(e=function(){return i}),this.announce_=e()},t.prototype.initialSyncWithDOM=function(){var e=this;this.surfaceEl_=this.root.querySelector(oe),this.labelEl_=this.root.querySelector(ie),this.actionEl_=this.root.querySelector(re),this.handleKeyDown_=function(t){return e.foundation.handleKeyDown(t)},this.handleSurfaceClick_=function(t){var o=t.target;e.isActionButton_(o)?e.foundation.handleActionButtonClick(t):e.isActionIcon_(o)&&e.foundation.handleActionIconClick(t)},this.registerKeyDownHandler_(this.handleKeyDown_),this.registerSurfaceClickHandler_(this.handleSurfaceClick_)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.deregisterKeyDownHandler_(this.handleKeyDown_),this.deregisterSurfaceClickHandler_(this.handleSurfaceClick_)},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=""),this.foundation.close(e)},t.prototype.getDefaultFoundation=function(){var e=this;return new $({addClass:function(t){return e.root.classList.add(t)},announce:function(){return e.announce_(e.labelEl_)},notifyClosed:function(t){return e.emit(de,t?{reason:t}:{})},notifyClosing:function(t){return e.emit(le,t?{reason:t}:{})},notifyOpened:function(){return e.emit(se,{})},notifyOpening:function(){return e.emit(ae,{})},removeClass:function(t){return e.root.classList.remove(t)}})},Object.defineProperty(t.prototype,"timeoutMs",{get:function(){return this.foundation.getTimeoutMs()},set:function(e){this.foundation.setTimeoutMs(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnEscape",{get:function(){return this.foundation.getCloseOnEscape()},set:function(e){this.foundation.setCloseOnEscape(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.foundation.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelText",{get:function(){return this.labelEl_.textContent},set:function(e){this.labelEl_.textContent=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionButtonText",{get:function(){return this.actionEl_.textContent},set:function(e){this.actionEl_.textContent=e},enumerable:!0,configurable:!0}),t.prototype.registerKeyDownHandler_=function(e){this.listen("keydown",e)},t.prototype.deregisterKeyDownHandler_=function(e){this.unlisten("keydown",e)},t.prototype.registerSurfaceClickHandler_=function(e){this.surfaceEl_.addEventListener("click",e)},t.prototype.deregisterSurfaceClickHandler_=function(e){this.surfaceEl_.removeEventListener("click",e)},t.prototype.isActionButton_=function(e){return!!Object(z.a)(e,re)},t.prototype.isActionIcon_=function(e){return!!Object(z.a)(e,ne)},t}(V.a),pe=o(218),ue=o(219),_e=o(16),ge=o(25);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */document.getElementById("realContents").innerHTML=u.a;var me=!1,he={};const Te=document.title;var fe={};const be=M(["#blocklyWorkspaceContainer","#blocklyConsole"],{sizes:[50,50],minSize:[0,0],onDragEnd:function(){w.a.svgResize(he.blocklyWorkspace),fe.layoutChangeListener&&fe.layoutChangeListener()}}),Ee=M(["#blocklyOutput","#blocklyDevloperTools"],{sizes:[80,20],minSize:[0,0],direction:"vertical",onDragEnd:function(){fe.layoutChangeListener&&fe.layoutChangeListener()}});document.getElementById("downloadAsJsonButton").onclick=async function(){try{let e=await F.e(w.a.Xml.workspaceToDom(he.blocklyWorkspace)),t=new Blob([e],{type:"application/json;charset=utf-8"});B.saveAs(t,Te+".json")}catch(t){console.log(t),alert("\u4E0B\u8F7D\u5931\u8D25\uFF01")}},document.getElementById("uploadJsonFileInput").addEventListener("change",function(){if(0!=this.files.length){const e=new FileReader;e.onload=async function(t){try{he.blocklyWorkspace.clear();let e=await F.c(t.target.result);w.a.Xml.domToWorkspace(e,he.blocklyWorkspace)}catch(t){console.log(t),alert("\u4E0A\u4F20\u5931\u8D25\uFF01")}},e.readAsText(this.files[0])}},!1),document.getElementById("uploadJsonButton").onclick=function(){document.getElementById("uploadJsonFileInput").click()},document.getElementById("countBlocksButton").onclick=function(){alert("\u4E00\u5171"+he.blocklyWorkspace.getAllBlocks().length+"\u4E2A\u5757\uFF01")},document.getElementById("resetWorkspaceButton").onclick=function(){confirm("\u8BE5\u64CD\u4F5C\u4F1A\u5220\u9664\u5F53\u524D\u4EE3\u7801\uFF0C\u8BF7\u786E\u8BA4\uFF01")&&he.reset()},document.getElementById("resetLayoutButton").onclick=function(){be.setSizes([50,50]),Ee.setSizes([80,20]),fe.layoutChangeListener&&fe.layoutChangeListener(),w.a.svgResize(he.blocklyWorkspace)},document.getElementById("maximizeOutputButton").onclick=function(){be.setSizes([0,100]),Ee.setSizes([100,0]),fe.layoutChangeListener&&fe.layoutChangeListener()};const ye={SLOW:1,NORMAL:2,FAST:3};var ve=document.getElementById("speedButtons").children;ve[0].onclick=r.bind(void 0,ye.SLOW),ve[1].onclick=r.bind(void 0,ye.NORMAL),ve[2].onclick=r.bind(void 0,ye.FAST);var Se=document.getElementById("runOrPauseButton");Se.onclick=function(){he.run()};var Re=document.getElementById("stepButton");Re.onclick=function(){he.step()};var Ie=document.getElementById("stopButton");Ie.onclick=function(){he.stop()},document.getElementById("downloadAsJavaScriptButton").onclick=function(){var e=w.a.JavaScript.workspaceToCode(he.blocklyWorkspace),t=new Blob([e],{type:"text/plain;charset=utf-8"});B.saveAs(t,Te+".js")},document.getElementById("downloadAsXmlButton").onclick=function(){let e=w.a.Xml.domToPrettyText(w.a.Xml.workspaceToDom(he.blocklyWorkspace)),t=new Blob([e],{type:"text/plain;charset=utf-8"});B.saveAs(t,Te+".xml")},document.getElementById("downloadAsExtendedJavaScriptButton").onclick=function(){var e=he.generateJavaScript(),t=new Blob([e],{type:"text/plain;charset=utf-8"});B.saveAs(t,Te+".js")},document.getElementById("saveToLocalStorageButton").onclick=async function(){let e=await F.e(w.a.Xml.workspaceToDom(he.blocklyWorkspace));localStorage.setItem("blockly/json/"+Te,e),alert("\u5DF2\u4FDD\u5B58\uFF01")},document.getElementById("clearLocalStorageButton").onclick=function(){localStorage.clear(),alert("\u7F13\u5B58\u5DF2\u6E05\u7A7A\uFF01")}},,,function(e,t,o){var i=Math.atan2,r=Math.cos,s=Math.sin,p=Math.PI,n=Math.pow,l=Math.abs,u=Math.max,_=Math.sqrt,m=Math.floor,g=Math.round,T=Math.min;(function(o){var a,d,c;(function(o,i){d=[],a=i,c="function"==typeof a?a.apply(t,d):a,!(c!==void 0&&(e.exports=c))})(this,function(){"use strict";var t=Math.SQRT1_2,E=Math.acos,e=Math.atan,y={constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return y.CONNECTING_SNAP_RADIUS=y.SNAP_RADIUS,y.CURRENT_CONNECTION_PREFERENCE=8,y.BUMP_DELAY=250,y.BUMP_RANDOMNESS=10,y.COLLAPSE_CHARS=30,y.LONGPRESS=750,y.SOUND_LIMIT=100,y.DRAG_STACK=!0,y.HSV_SATURATION=.45,y.HSV_VALUE=.65,y.SPRITE={width:96,height:124,url:"sprites.png"},y.INPUT_VALUE=1,y.OUTPUT_VALUE=2,y.NEXT_STATEMENT=3,y.PREVIOUS_STATEMENT=4,y.DUMMY_INPUT=5,y.ALIGN_LEFT=-1,y.ALIGN_CENTRE=0,y.ALIGN_RIGHT=1,y.DRAG_NONE=0,y.DRAG_STICKY=1,y.DRAG_BEGIN=1,y.DRAG_FREE=2,y.OPPOSITE_TYPE=[],y.OPPOSITE_TYPE[y.INPUT_VALUE]=y.OUTPUT_VALUE,y.OPPOSITE_TYPE[y.OUTPUT_VALUE]=y.INPUT_VALUE,y.OPPOSITE_TYPE[y.NEXT_STATEMENT]=y.PREVIOUS_STATEMENT,y.OPPOSITE_TYPE[y.PREVIOUS_STATEMENT]=y.NEXT_STATEMENT,y.TOOLBOX_AT_TOP=0,y.TOOLBOX_AT_BOTTOM=1,y.TOOLBOX_AT_LEFT=2,y.TOOLBOX_AT_RIGHT=3,y.DELETE_AREA_NONE=null,y.DELETE_AREA_TRASH=1,y.DELETE_AREA_TOOLBOX=2,y.VARIABLE_CATEGORY_NAME="VARIABLE",y.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",y.PROCEDURE_CATEGORY_NAME="PROCEDURE",y.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",y.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",y.utils={},y.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof o?o:this}(),y.Msg={},y.utils.global.Blockly||(y.utils.global.Blockly={}),y.utils.global.Blockly.Msg||(y.utils.global.Blockly.Msg=y.Msg),y.utils.colour={},y.utils.colour.parse=function(e){e=(e+"").toLowerCase().trim();var t=y.utils.colour.names[e];if(t)return t;if(t="0x"==e.substring(0,2)?"#"+e.substring(2):e,t="#"==t[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var o=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return o&&(e=+o[1],t=+o[2],o=+o[3],0<=e&&256>e&&0<=t&&256>t&&0<=o&&256>o)?y.utils.colour.rgbToHex(e,t,o):null},y.utils.colour.rgbToHex=function(e,t,o){return t=e<<16|t<<8|o,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},y.utils.colour.hexToRgb=function(e){return(e=y.utils.colour.parse(e),!e)?[0,0,0]:(e=parseInt(e.substr(1),16),[e>>16,255&e>>8,255&e])},y.utils.colour.hsvToHex=function(t,o,i){var r=0,n=0,e=0;if(0==o)e=n=r=i;else{var a=m(t/60),s=t/60-a;t=i*(1-o);var l=i*(1-o*s);o=i*(1-o*(1-s)),1===a?(r=l,n=i,e=t):2===a?(r=t,n=i,e=o):3===a?(r=t,n=l,e=i):4===a?(r=o,n=t,e=i):5===a?(r=i,n=t,e=l):6===a||0===a?(r=i,n=o,e=t):void 0}return y.utils.colour.rgbToHex(m(r),m(n),m(e))},y.utils.colour.blend=function(e,t,o){return(e=y.utils.colour.parse(e),!e)?null:(t=y.utils.colour.parse(t),!t)?null:(e=y.utils.colour.hexToRgb(e),t=y.utils.colour.hexToRgb(t),y.utils.colour.rgbToHex(g(t[0]+o*(e[0]-t[0])),g(t[1]+o*(e[1]-t[1])),g(t[2]+o*(e[2]-t[2]))))},y.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},y.utils.Coordinate=function(e,t){this.x=e,this.y=t},y.utils.Coordinate.equals=function(e,t){return e==t||!!(e&&t)&&e.x==t.x&&e.y==t.y},y.utils.Coordinate.distance=function(e,t){var o=e.x-t.x;return e=e.y-t.y,_(o*o+e*e)},y.utils.Coordinate.magnitude=function(e){return _(e.x*e.x+e.y*e.y)},y.utils.Coordinate.difference=function(e,t){return new y.utils.Coordinate(e.x-t.x,e.y-t.y)},y.utils.Coordinate.sum=function(e,t){return new y.utils.Coordinate(e.x+t.x,e.y+t.y)},y.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},y.utils.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this},y.utils.Rect=function(e,t,o,i){this.top=e,this.bottom=t,this.left=o,this.right=i},y.utils.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},y.utils.string={},y.utils.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},y.utils.string.shortestStringLength=function(e){return e.length?e.reduce(function(e,t){return e.length<t.length?e:t}).length:0},y.utils.string.commonWordPrefix=function(t,o){if(!t.length)return 0;if(1==t.length)return t[0].length;var i=0;o=o||y.utils.string.shortestStringLength(t);for(var r=0;r<o;r++){for(var n=t[0][r],e=1;e<t.length;e++)if(n!=t[e][r])return i;" "==n&&(i=r+1)}for(e=1;e<t.length;e++)if((n=t[e][r])&&" "!=n)return i;return o},y.utils.string.commonWordSuffix=function(t,o){if(!t.length)return 0;if(1==t.length)return t[0].length;var i=0;o=o||y.utils.string.shortestStringLength(t);for(var r=0;r<o;r++){for(var n=t[0].substr(-r-1,1),e=1;e<t.length;e++)if(n!=t[e].substr(-r-1,1))return i;" "==n&&(i=r+1)}for(e=1;e<t.length;e++)if((n=t[e].charAt(t[e].length-r-1))&&" "!=n)return i;return o},y.utils.string.wrap=function(e,t){e=e.split("\n");for(var o=0;o<e.length;o++)e[o]=y.utils.string.wrapLine_(e[o],t);return e.join("\n")},y.utils.string.wrapLine_=function(t,o){if(t.length<=o)return t;for(var i=t.trim().split(/\s+/),r=0;r<i.length;r++)i[r].length>o&&(o=i[r].length);r=-Infinity;var n=1;do{var e=r,a=t;t=[];var s=i.length/n,l=1;for(r=0;r<i.length-1;r++)l<(r+1.5)/s?(l++,t[r]=!0):t[r]=!1;t=y.utils.string.wrapMutate_(i,t,o),r=y.utils.string.wrapScore_(i,t,o),t=y.utils.string.wrapToText_(i,t),n++}while(r>e);return a},y.utils.string.wrapScore_=function(t,o,i){for(var r=[0],a=[],e=0;e<t.length;e++)r[r.length-1]+=t[e].length,!0===o[e]?(r.push(0),a.push(t[e].charAt(t[e].length-1))):!1===o[e]&&r[r.length-1]++;for(t=u.apply(Math,r),e=o=0;e<r.length;e++)o-=2*n(l(i-r[e]),1.5),o-=n(t-r[e],1.5),-1==".?!".indexOf(a[e])?-1!=",;)]}".indexOf(a[e])&&(o+=i/4):o+=i/3;return 1<r.length&&r[r.length-1]<=r[r.length-2]&&(o+=.5),o},y.utils.string.wrapMutate_=function(t,o,i){for(var r=y.utils.string.wrapScore_(t,o,i),n=0,a;n<o.length-1;n++)if(o[n]!=o[n+1]){var e=[].concat(o);e[n]=!e[n],e[n+1]=!e[n+1];var s=y.utils.string.wrapScore_(t,e,i);s>r&&(r=s,a=e)}return a?y.utils.string.wrapMutate_(t,a,i):o},y.utils.string.wrapToText_=function(e,t){for(var o=[],i=0;i<e.length;i++)o.push(e[i]),void 0!==t[i]&&o.push(t[i]?"\n":" ");return o.join("")},y.utils.Size=function(e,t){this.width=e,this.height=t},y.utils.Size.equals=function(e,t){return e==t||!!(e&&t)&&e.width==t.width&&e.height==t.height},y.utils.style={},y.utils.style.getSize=function(t){if("none"!=y.utils.style.getStyle_(t,"display"))return y.utils.style.getSizeWithDisplay_(t);var o=t.style,i=o.display,r=o.visibility,n=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var e=t.offsetWidth;return t=t.offsetHeight,o.display=i,o.position=n,o.visibility=r,new y.utils.Size(e,t)},y.utils.style.getSizeWithDisplay_=function(e){return new y.utils.Size(e.offsetWidth,e.offsetHeight)},y.utils.style.getStyle_=function(e,t){return y.utils.style.getComputedStyle(e,t)||y.utils.style.getCascadedStyle(e,t)||e.style&&e.style[t]},y.utils.style.getComputedStyle=function(e,t){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))?e[t]||e.getPropertyValue(t)||"":""},y.utils.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},y.utils.style.getPageOffset=function(e){var t=new y.utils.Coordinate(0,0);e=e.getBoundingClientRect();var o=document.documentElement;return o=new y.utils.Coordinate(window.pageXOffset||o.scrollLeft,window.pageYOffset||o.scrollTop),t.x=e.left+o.x,t.y=e.top+o.y,t},y.utils.style.getViewportPageOffset=function(){var e=document.body,t=document.documentElement;return new y.utils.Coordinate(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},y.utils.style.setElementShown=function(e,t){e.style.display=t?"":"none"},y.utils.style.isRightToLeft=function(e){return"rtl"==y.utils.style.getStyle_(e,"direction")},y.utils.style.getBorderBox=function(e){var t=y.utils.style.getComputedStyle(e,"borderLeftWidth"),o=y.utils.style.getComputedStyle(e,"borderRightWidth"),i=y.utils.style.getComputedStyle(e,"borderTopWidth");return e=y.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(i),right:parseFloat(o),bottom:parseFloat(e),left:parseFloat(t)}},y.utils.style.scrollIntoContainerView=function(e,t,o){e=y.utils.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},y.utils.style.getContainerOffsetToScrollInto=function(t,o,i){var r=y.utils.style.getPageOffset(t),n=y.utils.style.getPageOffset(o),e=y.utils.style.getBorderBox(o),a=r.x-n.x-e.left;return r=r.y-n.y-e.top,n=y.utils.style.getSizeWithDisplay_(t),t=o.clientWidth-n.width,n=o.clientHeight-n.height,e=o.scrollLeft,o=o.scrollTop,i?(e+=a-t/2,o+=r-n/2):(e+=T(a,u(a-t,0)),o+=T(r,u(r-n,0))),new y.utils.Coordinate(e,o)},y.utils.userAgent={},function(e){function t(e){return-1!=o.indexOf(e.toUpperCase())}y.utils.userAgent.raw=e;var o=y.utils.userAgent.raw.toUpperCase();y.utils.userAgent.IE=t("Trident")||t("MSIE"),y.utils.userAgent.EDGE=t("Edge"),y.utils.userAgent.JAVA_FX=t("JavaFX"),y.utils.userAgent.CHROME=(t("Chrome")||t("CriOS"))&&!y.utils.userAgent.EDGE,y.utils.userAgent.WEBKIT=t("WebKit")&&!y.utils.userAgent.EDGE,y.utils.userAgent.GECKO=t("Gecko")&&!y.utils.userAgent.WEBKIT&&!y.utils.userAgent.IE&&!y.utils.userAgent.EDGE,y.utils.userAgent.ANDROID=t("Android"),y.utils.userAgent.IPAD=t("iPad"),y.utils.userAgent.IPOD=t("iPod"),y.utils.userAgent.IPHONE=t("iPhone")&&!y.utils.userAgent.IPAD&&!y.utils.userAgent.IPOD,y.utils.userAgent.MAC=t("Macintosh"),y.utils.userAgent.TABLET=y.utils.userAgent.IPAD||y.utils.userAgent.ANDROID&&!t("Mobile")||t("Silk"),y.utils.userAgent.MOBILE=!y.utils.userAgent.TABLET&&(y.utils.userAgent.IPOD||y.utils.userAgent.IPHONE||y.utils.userAgent.ANDROID||t("IEMobile"))}(y.utils.global.navigator&&y.utils.global.navigator.userAgent||""),y.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},y.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable},y.utils.getRelativeXY=function(e){var t=new y.utils.Coordinate(0,0),o=e.getAttribute("x");return o&&(t.x=parseInt(o,10)),(o=e.getAttribute("y"))&&(t.y=parseInt(o,10)),(o=(o=e.getAttribute("transform"))&&o.match(y.utils.getRelativeXY.XY_REGEX_))&&(t.x+=+o[1],o[3]&&(t.y+=+o[3])),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(y.utils.getRelativeXY.XY_STYLE_REGEX_))&&(t.x+=+e[1],e[3]&&(t.y+=+e[3])),t},y.utils.getInjectionDivXY_=function(e){for(var t=0,o=0,i;e&&(i=y.utils.getRelativeXY(e),t+=i.x,o+=i.y,-1==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "));)e=e.parentNode;return new y.utils.Coordinate(t,o)},y.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,y.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,y.utils.isRightButton=function(e){return!!(e.ctrlKey&&y.utils.userAgent.MAC)||2==e.button},y.utils.mouseToSvg=function(e,t,o){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,o||(o=t.getScreenCTM().inverse()),i.matrixTransform(o)},y.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*y.LINE_MODE_MULTIPLIER,y:e.deltaY*y.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*y.PAGE_MODE_MULTIPLIER,y:e.deltaY*y.PAGE_MODE_MULTIPLIER};}},y.utils.tokenizeInterpolation=function(e){return y.utils.tokenizeInterpolation_(e,!0)},y.utils.replaceMessageReferences=function(e){return"string"==typeof e?(e=y.utils.tokenizeInterpolation_(e,!1),e.length?e[0]+"":""):e},y.utils.checkMessageReferences=function(t){for(var o=!0,i=y.Msg,r=t.match(/%{BKY_[A-Z]\w*}/ig),n=0,e;n<r.length;n++)e=r[n].toUpperCase(),void 0==i[e.slice(6,-1)]&&(console.log("WARNING: No message string for "+r[n]+" in "+t),o=!1);return o},y.utils.tokenizeInterpolation_=function(t,o){var i=[],r=t.split("");r.push("");var n=0;t=[];for(var a=null,s=0,l;s<r.length;s++)l=r[s],0==n?"%"==l?((l=t.join(""))&&i.push(l),t.length=0,n=1):t.push(l):1==n?"%"==l?(t.push(l),n=0):o&&"0"<=l&&"9">=l?(n=2,a=l,(l=t.join(""))&&i.push(l),t.length=0):"{"==l?n=3:(t.push("%",l),n=0):2==n?"0"<=l&&"9">=l?a+=l:(i.push(parseInt(a,10)),s--,n=0):3==n&&(""==l?(t.splice(0,0,"%{"),s--,n=0):"}"==l?(n=t.join(""),/[A-Z]\w*/i.test(n)?(l=n.toUpperCase(),(l=y.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in y.Msg?(n=y.Msg[l],"string"==typeof n?Array.prototype.push.apply(i,y.utils.tokenizeInterpolation_(n,o)):o?i.push(n+""):i.push(n)):i.push("%{"+n+"}")):i.push("%{"+n+"}"),n=t.length=0):t.push(l));for((l=t.join(""))&&i.push(l),o=[],s=t.length=0;s<i.length;++s)"string"==typeof i[s]?t.push(i[s]):((l=t.join(""))&&o.push(l),t.length=0,o.push(i[s]));return(l=t.join(""))&&o.push(l),t.length=0,o},y.utils.genUid=function(){for(var e=y.utils.genUid.soup_.length,t=[],o=0;20>o;o++)t[o]=y.utils.genUid.soup_.charAt(Math.random()*e);return t.join("")},y.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y.utils.is3dSupported=function(){if(void 0!==y.utils.is3dSupported.cached_)return y.utils.is3dSupported.cached_;if(!y.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),t="none",o={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(e,null),o)if(void 0!==e.style[i]){if(e.style[i]="translate3d(1px,1px,1px)",t=y.utils.global.getComputedStyle(e),!t)return document.body.removeChild(e),!1;t=t.getPropertyValue(o[i])}return document.body.removeChild(e),y.utils.is3dSupported.cached_="none"!==t,y.utils.is3dSupported.cached_},y.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var t=setInterval(function(){"complete"==document.readyState&&(clearInterval(t),e())},10)},y.utils.getViewportBBox=function(){var e=y.utils.style.getViewportPageOffset();return new y.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},y.utils.arrayRemove=function(e,t){return(t=e.indexOf(t),-1!=t)&&(e.splice(t,1),!0)},y.utils.getDocumentScroll=function(){var e=document.documentElement,t=window;return y.utils.userAgent.IE&&t.pageYOffset!=e.scrollTop?new y.utils.Coordinate(e.scrollLeft,e.scrollTop):new y.utils.Coordinate(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},y.utils.getBlockTypeCounts=function(e,t){var o=Object.create(null),i=e.getDescendants(!0);for(t&&(e=e.getNextBlock())&&(e=i.indexOf(e),i.splice(e,i.length-e)),e=0;t=i[e];e++)o[t.type]?o[t.type]++:o[t.type]=1;return o},y.utils.screenToWsCoordinates=function(e,t){var o=t.x;t=t.y;var i=e.getInjectionDiv().getBoundingClientRect();return o=new y.utils.Coordinate(o-i.left,t-i.top),t=e.getOriginOffsetInPixels(),y.utils.Coordinate.difference(o,t).scale(1/e.scale)},y.utils.parseBlockColour=function(e){var t="string"==typeof e?y.utils.replaceMessageReferences(e):e,o=+t;if(!isNaN(o)&&0<=o&&360>=o)return{hue:o,hex:y.utils.colour.hsvToHex(o,y.HSV_SATURATION,255*y.HSV_VALUE)};if(o=y.utils.colour.parse(t))return{hue:null,hex:o};throw o="Invalid colour: \""+t+"\"",e!=t&&(o+=" (from \""+e+"\")"),Error(o)},y.Events={},y.Events.group_="",y.Events.recordUndo=!0,y.Events.disabled_=0,y.Events.CREATE="create",y.Events.BLOCK_CREATE=y.Events.CREATE,y.Events.DELETE="delete",y.Events.BLOCK_DELETE=y.Events.DELETE,y.Events.CHANGE="change",y.Events.BLOCK_CHANGE=y.Events.CHANGE,y.Events.MOVE="move",y.Events.BLOCK_MOVE=y.Events.MOVE,y.Events.VAR_CREATE="var_create",y.Events.VAR_DELETE="var_delete",y.Events.VAR_RENAME="var_rename",y.Events.UI="ui",y.Events.COMMENT_CREATE="comment_create",y.Events.COMMENT_DELETE="comment_delete",y.Events.COMMENT_CHANGE="comment_change",y.Events.COMMENT_MOVE="comment_move",y.Events.FINISHED_LOADING="finished_loading",y.Events.BUMP_EVENTS=[y.Events.BLOCK_CREATE,y.Events.BLOCK_MOVE,y.Events.COMMENT_CREATE,y.Events.COMMENT_MOVE],y.Events.FIRE_QUEUE_=[],y.Events.fire=function(e){y.Events.isEnabled()&&(y.Events.FIRE_QUEUE_.length||setTimeout(y.Events.fireNow_,0),y.Events.FIRE_QUEUE_.push(e))},y.Events.fireNow_=function(){for(var e=y.Events.filter(y.Events.FIRE_QUEUE_,!0),t=y.Events.FIRE_QUEUE_.length=0,o;o=e[t];t++)if(o.workspaceId){var i=y.Workspace.getById(o.workspaceId);i&&i.fireChangeListener(o)}},y.Events.filter=function(t,o){t=t.slice(),o||t.reverse();for(var i=[],r=Object.create(null),n=0,a;a=t[n];n++)if(!a.isNull()){var s=[a.type,a.blockId,a.workspaceId].join(" "),l=r[s],d=l?l.event:null;l?a.type==y.Events.MOVE&&l.index==n-1?(d.newParentId=a.newParentId,d.newInputName=a.newInputName,d.newCoordinate=a.newCoordinate,l.index=n):a.type==y.Events.CHANGE&&a.element==d.element&&a.name==d.name?d.newValue=a.newValue:(a.type!=y.Events.UI||"click"!=a.element||"commentOpen"!=d.element&&"mutatorOpen"!=d.element&&"warningOpen"!=d.element)&&(r[s]={event:a,index:1},i.push(a)):(r[s]={event:a,index:n},i.push(a))}for(t=i.filter(function(e){return!e.isNull()}),o||t.reverse(),n=1;a=t[n];n++)a.type==y.Events.CHANGE&&"mutation"==a.element&&t.unshift(t.splice(n,1)[0]);return t},y.Events.clearPendingUndo=function(){for(var e=0,t;t=y.Events.FIRE_QUEUE_[e];e++)t.recordUndo=!1},y.Events.disable=function(){y.Events.disabled_++},y.Events.enable=function(){y.Events.disabled_--},y.Events.isEnabled=function(){return 0==y.Events.disabled_},y.Events.getGroup=function(){return y.Events.group_},y.Events.setGroup=function(e){y.Events.group_="boolean"==typeof e?e?y.utils.genUid():"":e},y.Events.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var o=0,i;i=e[o];o++)t[o]=i.id;return t},y.Events.fromJson=function(e,t){switch(e.type){case y.Events.CREATE:var o=new y.Events.Create(null);break;case y.Events.DELETE:o=new y.Events.Delete(null);break;case y.Events.CHANGE:o=new y.Events.Change(null,"","","","");break;case y.Events.MOVE:o=new y.Events.Move(null);break;case y.Events.VAR_CREATE:o=new y.Events.VarCreate(null);break;case y.Events.VAR_DELETE:o=new y.Events.VarDelete(null);break;case y.Events.VAR_RENAME:o=new y.Events.VarRename(null,"");break;case y.Events.UI:o=new y.Events.Ui(null,"","","");break;case y.Events.COMMENT_CREATE:o=new y.Events.CommentCreate(null);break;case y.Events.COMMENT_CHANGE:o=new y.Events.CommentChange(null,"","");break;case y.Events.COMMENT_MOVE:o=new y.Events.CommentMove(null);break;case y.Events.COMMENT_DELETE:o=new y.Events.CommentDelete(null);break;case y.Events.FINISHED_LOADING:o=new y.Events.FinishedLoading(t);break;default:throw Error("Unknown event type.");}return o.fromJson(e),o.workspaceId=t.id,o},y.Events.disableOrphans=function(e){if((e.type==y.Events.MOVE||e.type==y.Events.CREATE)&&e.workspaceId){var t=y.Workspace.getById(e.workspaceId);if(e=t.getBlockById(e.blockId)){var o=e.getParent();if(o&&o.isEnabled())for(t=e.getDescendants(!1),e=0;o=t[e];e++)o.setEnabled(!0);else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setEnabled(!1),e=e.getNextBlock();while(e)}}},y.Events.Abstract=function(){this.workspaceId=void 0,this.group=y.Events.getGroup(),this.recordUndo=y.Events.recordUndo},y.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},y.Events.Abstract.prototype.fromJson=function(e){this.group=e.group},y.Events.Abstract.prototype.isNull=function(){return!1},y.Events.Abstract.prototype.run=function(){},y.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=y.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},y.utils.object={},y.utils.object.inherits=function(e,t){e.superClass_=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},y.utils.object.mixin=function(e,t){for(var o in t)e[o]=t[o]},y.utils.object.deepMerge=function(e,t){for(var o in t)e[o]=null!=t[o]&&"object"==typeof t[o]?y.utils.object.deepMerge(e[o]||Object.create(null),t[o]):t[o];return e},y.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})},y.Events.Ui=function(e,t,o,i){y.Events.Ui.superClass_.constructor.call(this),this.blockId=e?e.id:null,this.workspaceId=e?e.workspace.id:void 0,this.element=t,this.oldValue=o,this.newValue=i,this.recordUndo=!1},y.utils.object.inherits(y.Events.Ui,y.Events.Abstract),y.Events.Ui.prototype.type=y.Events.UI,y.Events.Ui.prototype.toJson=function(){var e=y.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},y.Events.Ui.prototype.fromJson=function(e){y.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},y.utils.dom={},y.utils.dom.SVG_NS="http://www.w3.org/2000/svg",y.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",y.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",y.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},y.utils.dom.cacheWidths_=null,y.utils.dom.cacheReference_=0,y.utils.dom.canvasContext_=null,y.utils.dom.createSvgElement=function(e,t,o){for(var i in e=document.createElementNS(y.utils.dom.SVG_NS,e),t)e.setAttribute(i,t[i]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&o.appendChild(e),e},y.utils.dom.addClass=function(e,t){var o=e.getAttribute("class")||"";return-1==(" "+o+" ").indexOf(" "+t+" ")&&(o&&(o+=" "),e.setAttribute("class",o+t),!0)},y.utils.dom.removeClass=function(e,t){var o=e.getAttribute("class");if(-1==(" "+o+" ").indexOf(" "+t+" "))return!1;o=o.split(/\s+/);for(var i=0;i<o.length;i++)o[i]&&o[i]!=t||(o.splice(i,1),i--);return o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class"),!0},y.utils.dom.hasClass=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},y.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},y.utils.dom.insertAfter=function(e,t){var o=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");o?t.insertBefore(e,o):t.appendChild(e)},y.utils.dom.containsNode=function(e,t){return!!(e.compareDocumentPosition(t)&y.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},y.utils.dom.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},y.utils.dom.startTextWidthCache=function(){y.utils.dom.cacheReference_++,y.utils.dom.cacheWidths_||(y.utils.dom.cacheWidths_={})},y.utils.dom.stopTextWidthCache=function(){y.utils.dom.cacheReference_--,y.utils.dom.cacheReference_||(y.utils.dom.cacheWidths_=null)},y.utils.dom.getTextWidth=function(e){var t=e.textContent+"\n"+e.className.baseVal,o;if(y.utils.dom.cacheWidths_&&(o=y.utils.dom.cacheWidths_[t]))return o;try{o=y.utils.userAgent.IE||y.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(t){return 8*e.textContent.length}return y.utils.dom.cacheWidths_&&(y.utils.dom.cacheWidths_[t]=o),o},y.utils.dom.getFastTextWidth=function(e,t,o,i){return y.utils.dom.getFastTextWidthWithSizeString(e,t+"pt",o,i)},y.utils.dom.getFastTextWidthWithSizeString=function(t,o,i,r){var n=t.textContent;t=n+"\n"+t.className.baseVal;var e;return y.utils.dom.cacheWidths_&&(e=y.utils.dom.cacheWidths_[t])?e:(y.utils.dom.canvasContext_||(e=document.createElement("canvas"),e.className="blocklyComputeCanvas",document.body.appendChild(e),y.utils.dom.canvasContext_=e.getContext("2d")),y.utils.dom.canvasContext_.font=i+" "+o+" "+r,e=y.utils.dom.canvasContext_.measureText(n).width,y.utils.dom.cacheWidths_&&(y.utils.dom.cacheWidths_[t]=e),e)},y.utils.dom.measureFontMetrics=function(t,o,i,r){var n=document.createElement("span");n.style.font=i+" "+o+" "+r,n.textContent=t,t=document.createElement("div"),t.style.width="1px",t.style.height="0px",o=document.createElement("div"),o.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),o.appendChild(n),o.appendChild(t),document.body.appendChild(o);try{i={},o.style.alignItems="baseline",i.baseline=t.offsetTop-n.offsetTop,o.style.alignItems="flex-end",i.height=t.offsetTop-n.offsetTop}finally{document.body.removeChild(o)}return i},y.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},y.BlockDragSurfaceSvg.prototype.SVG_=null,y.BlockDragSurfaceSvg.prototype.dragGroup_=null,y.BlockDragSurfaceSvg.prototype.container_=null,y.BlockDragSurfaceSvg.prototype.scale_=1,y.BlockDragSurfaceSvg.prototype.surfaceXY_=null,y.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=y.utils.dom.createSvgElement("svg",{xmlns:y.utils.dom.SVG_NS,"xmlns:html":y.utils.dom.HTML_NS,"xmlns:xlink":y.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=y.utils.dom.createSvgElement("g",{},this.SVG_))},y.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new y.utils.Coordinate(0,0)},y.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,o){this.scale_=o,e=e.toFixed(0),t=t.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+o+")")},y.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,t=this.surfaceXY_.y;e=e.toFixed(0),t=t.toFixed(0),this.SVG_.style.display="block",y.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+t+"px, 0px)")},y.BlockDragSurfaceSvg.prototype.translateSurface=function(e,t){this.surfaceXY_=new y.utils.Coordinate(e*this.scale_,t*this.scale_),this.translateSurfaceInternal_()},y.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=y.utils.getRelativeXY(this.SVG_);return new y.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},y.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},y.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},y.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},y.utils.IdGenerator={},y.utils.IdGenerator.nextId_=0,y.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(y.utils.IdGenerator.nextId_++).toString(36)},y.Component=function(){this.rightToLeft_=y.Component.defaultRightToLeft,this.id_=null,this.inDocument_=!1,this.parent_=this.element_=null,this.children_=[],this.childIndex_={},this.disposed_=!1},y.Component.defaultRightToLeft=!1,y.Component.Error={ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",ABSTRACT_METHOD:"Unimplemented abstract method"},y.Component.prototype.getId=function(){return this.id_||(this.id_=y.utils.IdGenerator.getNextUniqueId())},y.Component.prototype.getElement=function(){return this.element_},y.Component.prototype.setElementInternal=function(e){this.element_=e},y.Component.prototype.setParent=function(e){if(this==e)throw Error(y.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(y.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e},y.Component.prototype.getParent=function(){return this.parent_},y.Component.prototype.isInDocument=function(){return this.inDocument_},y.Component.prototype.createDom=function(){throw Error(y.Component.Error.ABSTRACT_METHOD)},y.Component.prototype.render=function(e){this.render_(e)},y.Component.prototype.render_=function(e,t){if(this.inDocument_)throw Error(y.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,t||null):document.body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},y.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},y.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.inDocument_=!1},y.Component.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},y.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.forEachChild(function(e){e.dispose()}),this.element_&&y.utils.dom.removeNode(this.element_),this.parent_=this.element_=this.childIndex_=this.children_=null},y.Component.prototype.addChild=function(e,t){this.addChildAt(e,this.getChildCount(),t)},y.Component.prototype.addChildAt=function(e,t,o){if(e.inDocument_&&(o||!this.inDocument_))throw Error(y.Component.Error.ALREADY_RENDERED);if(0>t||t>this.getChildCount())throw Error(y.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);if(this.childIndex_[e.getId()]=e,e.getParent()==this){var i=this.children_.indexOf(e);-1<i&&this.children_.splice(i,1)}e.setParent(this),this.children_.splice(t,0,e),e.inDocument_&&this.inDocument_&&e.getParent()==this?(o=this.getContentElement(),t=o.childNodes[t]||null,t!=e.getElement()&&o.insertBefore(e.getElement(),t)):o?(this.element_||this.createDom(),t=this.getChildAt(t+1),e.render_(this.getContentElement(),t?t.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==y.utils.dom.NodeType.ELEMENT_NODE&&e.enterDocument()},y.Component.prototype.getContentElement=function(){return this.element_},y.Component.prototype.hasChildren=function(){return 0!=this.children_.length},y.Component.prototype.getChildCount=function(){return this.children_.length},y.Component.prototype.getChild=function(e){return e?this.childIndex_[e]||null:null},y.Component.prototype.getChildAt=function(e){return this.children_[e]||null},y.Component.prototype.forEachChild=function(e,t){for(var o=0;o<this.children_.length;o++)e.call(t,this.children_[o],o)},y.Css={},y.Css.injected_=!1,y.Css.register=function(e){if(y.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(y.Css.CONTENT,e),e.length=0},y.Css.inject=function(e,t){if(!y.Css.injected_){y.Css.injected_=!0;var o=y.Css.CONTENT.join("\n");y.Css.CONTENT.length=0,e&&(e=t.replace(/[\\/]$/,""),o=o.replace(/<<<PATH>>>/g,e),e=document.createElement("style"),e.id="blockly-common-style",o=document.createTextNode(o),e.appendChild(o),document.head.insertBefore(e,document.head.firstChild))}},y.Css.setCursor=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See issue #981 for context")},y.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {","cursor: url(\"<<<PATH>>>/handopen.cur\"), auto;","cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {","cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;","cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {","cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;","cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {","cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;","cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {","cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","font: normal 13px \"Helvetica Neue\", Helvetica, sans-serif;","outline: none;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],y.utils.math={},y.utils.math.toRadians=function(e){return e*p/180},y.utils.math.toDegrees=function(e){return 180*e/p},y.utils.math.clamp=function(e,t,o){if(o<e){var i=o;o=e,e=i}return u(e,T(t,o))},y.DropDownDiv=function(){},y.DropDownDiv.boundsElement_=null,y.DropDownDiv.owner_=null,y.DropDownDiv.positionToField_=null,y.DropDownDiv.ARROW_SIZE=16,y.DropDownDiv.BORDER_SIZE=1,y.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,y.DropDownDiv.PADDING_Y=16,y.DropDownDiv.ANIMATION_TIME=.25,y.DropDownDiv.animateOutTimer_=null,y.DropDownDiv.onHide_=null,y.DropDownDiv.rendererClassName_="",y.DropDownDiv.themeClassName_="",y.DropDownDiv.createDom=function(){if(!y.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(y.parentContainer||document.body).appendChild(e),y.DropDownDiv.DIV_=e;var t=document.createElement("div");t.className="blocklyDropDownContent",e.appendChild(t),y.DropDownDiv.content_=t,t=document.createElement("div"),t.className="blocklyDropDownArrow",e.appendChild(t),y.DropDownDiv.arrow_=t,y.DropDownDiv.DIV_.style.opacity=0,y.DropDownDiv.DIV_.style.transition="transform "+y.DropDownDiv.ANIMATION_TIME+"s, opacity "+y.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",function(){y.utils.dom.addClass(e,"blocklyFocused")}),e.addEventListener("focusout",function(){y.utils.dom.removeClass(e,"blocklyFocused")})}},y.DropDownDiv.setBoundsElement=function(e){y.DropDownDiv.boundsElement_=e},y.DropDownDiv.getContentDiv=function(){return y.DropDownDiv.content_},y.DropDownDiv.clearContent=function(){y.DropDownDiv.content_.textContent="",y.DropDownDiv.content_.style.width=""},y.DropDownDiv.setColour=function(e,t){y.DropDownDiv.DIV_.style.backgroundColor=e,y.DropDownDiv.DIV_.style.borderColor=t},y.DropDownDiv.showPositionedByBlock=function(e,t,o,i){return y.DropDownDiv.showPositionedByRect_(y.DropDownDiv.getScaledBboxOfBlock_(t),e,o,i)},y.DropDownDiv.showPositionedByField=function(e,t,o){return y.DropDownDiv.positionToField_=!0,y.DropDownDiv.showPositionedByRect_(y.DropDownDiv.getScaledBboxOfField_(e),e,t,o)},y.DropDownDiv.getScaledBboxOfBlock_=function(e){var t=e.getSvgRoot(),o=t.getBBox(),i=e.workspace.scale;return e=o.height*i,o=o.width*i,t=y.utils.style.getPageOffset(t),new y.utils.Rect(t.y,t.y+e,t.x,t.x+o)},y.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new y.utils.Rect(e.top,e.bottom,e.left,e.right)},y.DropDownDiv.showPositionedByRect_=function(t,o,i,r){var n=t.left+(t.right-t.left)/2,e=t.bottom;t=t.top,r&&(t+=r),r=o.getSourceBlock();for(var a=r.workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return y.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),y.DropDownDiv.show(o,r.RTL,n,e,n,t,i)},y.DropDownDiv.show=function(t,o,i,r,n,e,a){return y.DropDownDiv.owner_=t,y.DropDownDiv.onHide_=a||null,t=y.DropDownDiv.DIV_,t.style.direction=o?"rtl":"ltr",o=y.getMainWorkspace(),y.DropDownDiv.rendererClassName_=o.getRenderer().getClassName(),y.DropDownDiv.themeClassName_=o.getTheme().getClassName(),y.utils.dom.addClass(t,y.DropDownDiv.rendererClassName_),y.utils.dom.addClass(t,y.DropDownDiv.themeClassName_),y.DropDownDiv.positionInternal_(i,r,n,e)},y.DropDownDiv.getBoundsInfo_=function(){var e=y.utils.style.getPageOffset(y.DropDownDiv.boundsElement_),t=y.utils.style.getSize(y.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},y.DropDownDiv.getPositionMetrics_=function(t,o,i,r){var n=y.DropDownDiv.getBoundsInfo_(),e=y.utils.style.getSize(y.DropDownDiv.DIV_);return o+e.height<n.bottom?y.DropDownDiv.getPositionBelowMetrics_(t,o,n,e):r-e.height>n.top?y.DropDownDiv.getPositionAboveMetrics_(i,r,n,e):o+e.height<document.documentElement.clientHeight?y.DropDownDiv.getPositionBelowMetrics_(t,o,n,e):r-e.height>document.documentElement.clientTop?y.DropDownDiv.getPositionAboveMetrics_(i,r,n,e):y.DropDownDiv.getPositionTopOfPageMetrics_(t,n,e)},y.DropDownDiv.getPositionBelowMetrics_=function(e,t,o,i){return e=y.DropDownDiv.getPositionX(e,o.left,o.right,i.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+y.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(y.DropDownDiv.ARROW_SIZE/2+y.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},y.DropDownDiv.getPositionAboveMetrics_=function(e,t,o,i){return e=y.DropDownDiv.getPositionX(e,o.left,o.right,i.width),{initialX:e.divX,initialY:t-i.height,finalX:e.divX,finalY:t-i.height-y.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:i.height-2*y.DropDownDiv.BORDER_SIZE-y.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},y.DropDownDiv.getPositionTopOfPageMetrics_=function(e,t,o){return e=y.DropDownDiv.getPositionX(e,t.left,t.right,o.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},y.DropDownDiv.getPositionX=function(t,o,i,r){var n=t;return t=y.utils.math.clamp(o,t-r/2,i-r),n-=y.DropDownDiv.ARROW_SIZE/2,o=y.DropDownDiv.ARROW_HORIZONTAL_PADDING,r=y.utils.math.clamp(o,n-t,r-o-y.DropDownDiv.ARROW_SIZE),{arrowX:r,divX:t}},y.DropDownDiv.isVisible=function(){return!!y.DropDownDiv.owner_},y.DropDownDiv.hideIfOwner=function(e,t){return y.DropDownDiv.owner_===e&&(t?y.DropDownDiv.hideWithoutAnimation():y.DropDownDiv.hide(),!0)},y.DropDownDiv.hide=function(){var e=y.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,y.DropDownDiv.animateOutTimer_=setTimeout(function(){y.DropDownDiv.hideWithoutAnimation()},1E3*y.DropDownDiv.ANIMATION_TIME),y.DropDownDiv.onHide_&&(y.DropDownDiv.onHide_(),y.DropDownDiv.onHide_=null)},y.DropDownDiv.hideWithoutAnimation=function(){if(y.DropDownDiv.isVisible()){y.DropDownDiv.animateOutTimer_&&clearTimeout(y.DropDownDiv.animateOutTimer_);var e=y.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",y.DropDownDiv.onHide_&&(y.DropDownDiv.onHide_(),y.DropDownDiv.onHide_=null),y.DropDownDiv.clearContent(),y.DropDownDiv.owner_=null,y.DropDownDiv.rendererClassName_&&(y.utils.dom.removeClass(e,y.DropDownDiv.rendererClassName_),y.DropDownDiv.rendererClassName_=""),y.DropDownDiv.themeClassName_&&(y.utils.dom.removeClass(e,y.DropDownDiv.themeClassName_),y.DropDownDiv.themeClassName_=""),y.getMainWorkspace().markFocused()}},y.DropDownDiv.positionInternal_=function(t,o,i,r){t=y.DropDownDiv.getPositionMetrics_(t,o,i,r),t.arrowVisible?(y.DropDownDiv.arrow_.style.display="",y.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",y.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):y.DropDownDiv.arrow_.style.display="none",o=m(t.initialX),i=m(t.initialY),r=m(t.finalX);var n=m(t.finalY),e=y.DropDownDiv.DIV_;return e.style.left=o+"px",e.style.top=i+"px",e.style.display="block",e.style.opacity=1,e.style.transform="translate("+(r-o)+"px,"+(n-i)+"px)",!!t.arrowAtTop},y.DropDownDiv.repositionForWindowResize=function(){if(y.DropDownDiv.owner_){var e=y.DropDownDiv.owner_,t=e.getSourceBlock();e=y.DropDownDiv.positionToField_?y.DropDownDiv.getScaledBboxOfField_(e):y.DropDownDiv.getScaledBboxOfBlock_(t),t=e.left+(e.right-e.left)/2,y.DropDownDiv.positionInternal_(t,e.bottom,t,e.top)}else y.DropDownDiv.hide()},y.Grid=function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap},y.Grid.prototype.scale_=1,y.Grid.prototype.dispose=function(){this.gridPattern_=null},y.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},y.Grid.prototype.getSpacing=function(){return this.spacing_},y.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},y.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t),t=m(this.spacing_/2)+.5;var o=t-this.length_/2,i=t+this.length_/2;t*=e,o*=e,i*=e,this.setLineAttributes_(this.line1_,e,o,i,t,t),this.setLineAttributes_(this.line2_,e,t,t,o,i)},y.Grid.prototype.setLineAttributes_=function(t,o,i,r,n,e){t&&(t.setAttribute("stroke-width",o),t.setAttribute("x1",i),t.setAttribute("y1",n),t.setAttribute("x2",r),t.setAttribute("y2",e))},y.Grid.prototype.moveTo=function(e,t){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",t),(y.utils.userAgent.IE||y.utils.userAgent.EDGE)&&this.update(this.scale_)},y.Grid.createDom=function(e,t,o){return e=y.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},o),0<t.length&&0<t.spacing?(y.utils.dom.createSvgElement("line",{stroke:t.colour},e),1<t.length&&y.utils.dom.createSvgElement("line",{stroke:t.colour},e)):y.utils.dom.createSvgElement("line",{},e),e},y.registry={},y.registry.typeMap_={},y.registry.DEFAULT="default",y.registry.Type=function(e){this.name_=e},y.registry.Type.prototype.toString=function(){return this.name_},y.registry.Type.RENDERER=new y.registry.Type("renderer"),y.registry.Type.FIELD=new y.registry.Type("field"),y.registry.Type.TOOLBOX=new y.registry.Type("toolbox"),y.registry.Type.THEME=new y.registry.Type("theme"),y.registry.register=function(e,t,o){if(!(e instanceof y.registry.Type)&&"string"!=typeof e||""==(e+"").trim())throw Error("Invalid type \""+e+"\". The type must be a non-empty string or a Blockly.registry.Type.");if(e=(e+"").toLowerCase(),"string"!=typeof t||""==t.trim())throw Error("Invalid name \""+t+"\". The name must be a non-empty string.");if(t=t.toLowerCase(),!o)throw Error("Can not register a null value");var i=y.registry.typeMap_[e];if(i||(i=y.registry.typeMap_[e]={}),y.registry.validate_(e,o),i[t])throw Error("Name \""+t+"\" with type \""+e+"\" already registered.");i[t]=o},y.registry.validate_=function(e,t){switch(e){case y.registry.Type.FIELD+"":if("function"!=typeof t.fromJson)throw Error("Type \""+e+"\" must have a fromJson function");}},y.registry.unregister=function(e,t){e=(e+"").toLowerCase(),t=t.toLowerCase();var o=y.registry.typeMap_[e];o?o[t]?delete y.registry.typeMap_[e][t]:console.warn("No name \""+t+"\" with type \""+e+"\" found"):console.warn("No type \""+e+"\" found")},y.registry.getItem_=function(e,t){e=(e+"").toLowerCase(),t=t.toLowerCase();var o=y.registry.typeMap_[e];return o?o[t]?o[t]:(console.warn("No name \""+t+"\" with type \""+e+"\" found"),null):(console.warn("No type \""+e+"\" found"),null)},y.registry.getClass=function(e,t){return y.registry.getItem_(e,t)},y.registry.getObject=function(e,t){return y.registry.getItem_(e,t)},y.registry.getClassFromOptions=function(e,t){return t=t.plugins[e.toString()]||y.registry.DEFAULT,"function"==typeof t?t:y.registry.getClass(e,t)},y.Theme=function(e,t,o,i){this.name=e,this.blockStyles=t||Object.create(null),this.categoryStyles=o||Object.create(null),this.componentStyles=i||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,y.registry.register(y.registry.Type.THEME,e,this)},y.Theme.prototype.getClassName=function(){return this.name+"-theme"},y.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles[e]=t},y.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles[e]=t},y.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof propertyValue&&this.getComponentStyle(e)?this.getComponentStyle(e):e?e+"":null},y.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles[e]=t},y.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},y.Theme.prototype.setStartHats=function(e){this.startHats=e},y.Theme.defineTheme=function(e,t){var o=new y.Theme(e),i=t.base;return i&&("string"==typeof i&&(i=y.registry.getObject(y.registry.Type.THEME,i)),i instanceof y.Theme&&(y.utils.object.deepMerge(o,i),o.name=e)),y.utils.object.deepMerge(o.blockStyles,t.blockStyles),y.utils.object.deepMerge(o.categoryStyles,t.categoryStyles),y.utils.object.deepMerge(o.componentStyles,t.componentStyles),y.utils.object.deepMerge(o.fontStyle,t.fontStyle),null!=t.startHats&&(o.startHats=t.startHats),o},y.Themes={},y.Themes.Classic={},y.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},y.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},y.Themes.Classic=new y.Theme("classic",y.Themes.Classic.defaultBlockStyles,y.Themes.Classic.categoryStyles),y.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},y.user={},y.user.keyMap={},y.user.keyMap.map_={},y.user.keyMap.modifierKeys={SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",META:"Meta"},y.user.keyMap.setActionForKey=function(e,t){var o=y.user.keyMap.getKeyByAction(t);o&&delete y.user.keyMap.map_[o],y.user.keyMap.map_[e]=t},y.user.keyMap.setKeyMap=function(e){y.user.keyMap.map_=e},y.user.keyMap.getKeyMap=function(){var e={};return y.utils.object.mixin(e,y.user.keyMap.map_),e},y.user.keyMap.getActionByKeyCode=function(e){return y.user.keyMap.map_[e]},y.user.keyMap.getKeyByAction=function(e){for(var t=Object.keys(y.user.keyMap.map_),o=0,i;i=t[o];o++)if(y.user.keyMap.map_[i].name===e.name)return i;return null},y.user.keyMap.serializeKeyEvent=function(t){for(var o=y.utils.object.values(y.user.keyMap.modifierKeys),i="",r=0,n;n=o[r];r++)t.getModifierState(n)&&(i+=n);return i+=t.keyCode},y.user.keyMap.checkModifiers_=function(e,t){for(var o=0,i;i=e[o];o++)if(0>t.indexOf(i))throw Error(i+" is not a valid modifier key.")},y.user.keyMap.createSerializedKey=function(t,o){var i="",r=y.utils.object.values(y.user.keyMap.modifierKeys);y.user.keyMap.checkModifiers_(o,r);for(var n=0,e;e=r[n];n++)-1<o.indexOf(e)&&(i+=e);return i+t},y.user.keyMap.createDefaultKeyMap=function(){var t={},o=y.user.keyMap.createSerializedKey(y.utils.KeyCodes.K,[y.user.keyMap.modifierKeys.CONTROL,y.user.keyMap.modifierKeys.SHIFT]),i=y.user.keyMap.createSerializedKey(y.utils.KeyCodes.W,[y.user.keyMap.modifierKeys.SHIFT]),r=y.user.keyMap.createSerializedKey(y.utils.KeyCodes.A,[y.user.keyMap.modifierKeys.SHIFT]),n=y.user.keyMap.createSerializedKey(y.utils.KeyCodes.S,[y.user.keyMap.modifierKeys.SHIFT]),e=y.user.keyMap.createSerializedKey(y.utils.KeyCodes.D,[y.user.keyMap.modifierKeys.SHIFT]);return t[y.utils.KeyCodes.W]=y.navigation.ACTION_PREVIOUS,t[y.utils.KeyCodes.A]=y.navigation.ACTION_OUT,t[y.utils.KeyCodes.S]=y.navigation.ACTION_NEXT,t[y.utils.KeyCodes.D]=y.navigation.ACTION_IN,t[y.utils.KeyCodes.I]=y.navigation.ACTION_INSERT,t[y.utils.KeyCodes.ENTER]=y.navigation.ACTION_MARK,t[y.utils.KeyCodes.X]=y.navigation.ACTION_DISCONNECT,t[y.utils.KeyCodes.T]=y.navigation.ACTION_TOOLBOX,t[y.utils.KeyCodes.E]=y.navigation.ACTION_EXIT,t[y.utils.KeyCodes.ESC]=y.navigation.ACTION_EXIT,t[o]=y.navigation.ACTION_TOGGLE_KEYBOARD_NAV,t[i]=y.navigation.ACTION_MOVE_WS_CURSOR_UP,t[r]=y.navigation.ACTION_MOVE_WS_CURSOR_LEFT,t[n]=y.navigation.ACTION_MOVE_WS_CURSOR_DOWN,t[e]=y.navigation.ACTION_MOVE_WS_CURSOR_RIGHT,t},y.utils.Metrics=function(){},y.utils.toolbox={},y.utils.toolbox.convertToolboxToJSON=function(e){return e?Array.isArray(e)&&e.length&&!e[0].nodeType?(y.utils.toolbox.hasCategories(e)&&console.warn("Due to some performance issues, defining a toolbox usingJSON is not ready yet. Please define your toolbox using xml."),e):y.utils.toolbox.toolboxXmlToJson_(e):null},y.utils.toolbox.toolboxXmlToJson_=function(t){var o=[],i=t.childNodes;i||(i=t),t=0;for(var r;r=i[t];t++)if(r.tagName){var n={},e=r.tagName.toUpperCase();for(n.kind=e,"BLOCK"==e?n.blockxml=r:"CATEGORY"==e&&(n.contents=y.utils.toolbox.toolboxXmlToJson_(r)),e=0;e<r.attributes.length;e++){var a=r.attributes[e];n[a.nodeName]=a.value}o.push(n)}return o},y.utils.toolbox.hasCategories=function(e){return Array.isArray(e)?e.length&&"CATEGORY"==e[0].kind.toUpperCase():e&&e.getElementsByTagName("category").length},y.utils.xml={},y.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",y.utils.xml.document=function(){return document},y.utils.xml.createElement=function(e){return y.utils.xml.document().createElementNS(y.utils.xml.NAME_SPACE,e)},y.utils.xml.createTextNode=function(e){return y.utils.xml.document().createTextNode(e)},y.utils.xml.textToDomDocument=function(e){return new DOMParser().parseFromString(e,"text/xml")},y.utils.xml.domToText=function(e){return new XMLSerializer().serializeToString(e)},y.Events.BlockBase=function(e){y.Events.BlockBase.superClass_.constructor.call(this),this.blockId=e.id,this.workspaceId=e.workspace.id},y.utils.object.inherits(y.Events.BlockBase,y.Events.Abstract),y.Events.BlockBase.prototype.toJson=function(){var e=y.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},y.Events.BlockBase.prototype.fromJson=function(e){y.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},y.Events.Change=function(t,o,i,r,n){t&&(y.Events.Change.superClass_.constructor.call(this,t),this.element=o,this.name=i,this.oldValue=r,this.newValue=n)},y.utils.object.inherits(y.Events.Change,y.Events.BlockBase),y.Events.BlockChange=y.Events.Change,y.Events.Change.prototype.type=y.Events.CHANGE,y.Events.Change.prototype.toJson=function(){var e=y.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},y.Events.Change.prototype.fromJson=function(e){y.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},y.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},y.Events.Change.prototype.run=function(e){var t=this.getEventWorkspace_().getBlockById(this.blockId);if(t)switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":var o="";if(t.mutationToDom&&(o=(o=t.mutationToDom())&&y.Xml.domToText(o)),t.domToMutation){var i=y.Xml.textToDom(e||"<mutation/>");t.domToMutation(i)}y.Events.fire(new y.Events.Change(t,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element);}else console.warn("Can't change non-existent block: "+this.blockId)},y.Events.Create=function(e){e&&(y.Events.Create.superClass_.constructor.call(this,e),this.xml=e.workspace.rendered?y.Xml.blockToDomWithXY(e):y.Xml.blockToDom(e),this.ids=y.Events.getDescendantIds(e))},y.utils.object.inherits(y.Events.Create,y.Events.BlockBase),y.Events.BlockCreate=y.Events.Create,y.Events.Create.prototype.type=y.Events.CREATE,y.Events.Create.prototype.toJson=function(){var e=y.Events.Create.superClass_.toJson.call(this);return e.xml=y.Xml.domToText(this.xml),e.ids=this.ids,e},y.Events.Create.prototype.fromJson=function(e){y.Events.Create.superClass_.fromJson.call(this,e),this.xml=y.Xml.textToDom(e.xml),this.ids=e.ids},y.Events.Create.prototype.run=function(e){var t=this.getEventWorkspace_();if(e)e=y.utils.xml.createElement("xml"),e.appendChild(this.xml),y.Xml.domToWorkspace(e,t);else{e=0;for(var o,i;o=this.ids[e];e++)i=t.getBlockById(o),i?i.dispose(!1):o==this.blockId&&console.warn("Can't uncreate non-existent block: "+o)}},y.Events.Delete=function(e){if(e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");y.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=e.workspace.rendered?y.Xml.blockToDomWithXY(e):y.Xml.blockToDom(e),this.ids=y.Events.getDescendantIds(e)}},y.utils.object.inherits(y.Events.Delete,y.Events.BlockBase),y.Events.BlockDelete=y.Events.Delete,y.Events.Delete.prototype.type=y.Events.DELETE,y.Events.Delete.prototype.toJson=function(){var e=y.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},y.Events.Delete.prototype.fromJson=function(e){y.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},y.Events.Delete.prototype.run=function(e){var t=this.getEventWorkspace_();if(e){e=0;for(var o,i;o=this.ids[e];e++)i=t.getBlockById(o),i?i.dispose(!1):o==this.blockId&&console.warn("Can't delete non-existent block: "+o)}else e=y.utils.xml.createElement("xml"),e.appendChild(this.oldXml),y.Xml.domToWorkspace(e,t)},y.Events.Move=function(e){e&&(y.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},y.utils.object.inherits(y.Events.Move,y.Events.BlockBase),y.Events.BlockMove=y.Events.Move,y.Events.Move.prototype.type=y.Events.MOVE,y.Events.Move.prototype.toJson=function(){var e=y.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=g(this.newCoordinate.x)+","+g(this.newCoordinate.y)),e},y.Events.Move.prototype.fromJson=function(e){y.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new y.utils.Coordinate(+e[0],+e[1]))},y.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},y.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},o=e.getParent();return o?(t.parentId=o.id,e=o.getInputWithBlock(e))&&(t.inputName=e.name):t.coordinate=e.getRelativeToSurfaceXY(),t},y.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&y.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},y.Events.Move.prototype.run=function(t){var o=this.getEventWorkspace_(),i=o.getBlockById(this.blockId);if(i){var r=t?this.newParentId:this.oldParentId,n=t?this.newInputName:this.oldInputName;t=t?this.newCoordinate:this.oldCoordinate;var a=null;if(r&&(a=o.getBlockById(r),!a))return void console.warn("Can't connect to non-existent block: "+r);if(i.getParent()&&i.unplug(),t)n=i.getRelativeToSurfaceXY(),i.moveBy(t.x-n.x,t.y-n.y);else{if(i=i.outputConnection||i.previousConnection,!n)i.type==y.PREVIOUS_STATEMENT&&(s=a.nextConnection);else if(o=a.getInput(n))var s=o.connection;s?i.connect(s):console.warn("Can't connect to non-existent input: "+n)}}else console.warn("Can't move non-existent block: "+this.blockId)},y.Events.FinishedLoading=function(e){this.workspaceId=e.id,this.group=y.Events.getGroup(),this.recordUndo=!1},y.utils.object.inherits(y.Events.FinishedLoading,y.Events.Ui),y.Events.FinishedLoading.prototype.type=y.Events.FINISHED_LOADING,y.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},y.Events.FinishedLoading.prototype.fromJson=function(e){this.workspaceId=e.workspaceId,this.group=e.group},y.Events.VarBase=function(e){y.Events.VarBase.superClass_.constructor.call(this),this.varId=e.getId(),this.workspaceId=e.workspace.id},y.utils.object.inherits(y.Events.VarBase,y.Events.Abstract),y.Events.VarBase.prototype.toJson=function(){var e=y.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},y.Events.VarBase.prototype.fromJson=function(e){y.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},y.Events.VarCreate=function(e){e&&(y.Events.VarCreate.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},y.utils.object.inherits(y.Events.VarCreate,y.Events.VarBase),y.Events.VarCreate.prototype.type=y.Events.VAR_CREATE,y.Events.VarCreate.prototype.toJson=function(){var e=y.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},y.Events.VarCreate.prototype.fromJson=function(e){y.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},y.Events.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},y.Events.VarDelete=function(e){e&&(y.Events.VarDelete.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},y.utils.object.inherits(y.Events.VarDelete,y.Events.VarBase),y.Events.VarDelete.prototype.type=y.Events.VAR_DELETE,y.Events.VarDelete.prototype.toJson=function(){var e=y.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},y.Events.VarDelete.prototype.fromJson=function(e){y.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},y.Events.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},y.Events.VarRename=function(e,t){e&&(y.Events.VarRename.superClass_.constructor.call(this,e),this.oldName=e.name,this.newName=t)},y.utils.object.inherits(y.Events.VarRename,y.Events.VarBase),y.Events.VarRename.prototype.type=y.Events.VAR_RENAME,y.Events.VarRename.prototype.toJson=function(){var e=y.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},y.Events.VarRename.prototype.fromJson=function(e){y.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},y.Events.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},y.Xml={},y.Xml.workspaceToDom=function(t,o){var i=y.utils.xml.createElement("xml"),r=y.Xml.variablesToDom(y.Variables.allUsedVarModels(t));r.hasChildNodes()&&i.appendChild(r);var n=t.getTopComments(!0);r=0;for(var e;e=n[r];r++)i.appendChild(e.toXmlWithXY(o));for(t=t.getTopBlocks(!0),r=0;n=t[r];r++)i.appendChild(y.Xml.blockToDomWithXY(n,o));return i},y.Xml.variablesToDom=function(t){for(var o=y.utils.xml.createElement("variables"),i=0,r,n;r=t[i];i++)n=y.utils.xml.createElement("variable"),n.appendChild(y.utils.xml.createTextNode(r.name)),r.type&&n.setAttribute("type",r.type),n.id=r.getId(),o.appendChild(n);return o},y.Xml.blockToDomWithXY=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;var o;e.workspace.RTL&&(o=e.workspace.getWidth()),t=y.Xml.blockToDom(e,t);var i=e.getRelativeToSurfaceXY();return t.setAttribute("x",g(e.workspace.RTL?o-i.x:i.x)),t.setAttribute("y",g(i.y)),t},y.Xml.fieldToDom_=function(e){if(e.isSerializable()){var t=y.utils.xml.createElement("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},y.Xml.allFieldsToDom_=function(t,o){for(var i=0,r;r=t.inputList[i];i++)for(var n=0,e;e=r.fieldRow[n];n++)(e=y.Xml.fieldToDom_(e))&&o.appendChild(e)},y.Xml.blockToDom=function(t,o){if(t.isInsertionMarker())return(t=t.getChildren(!1)[0])?y.Xml.blockToDom(t):new DocumentFragment;var i=y.utils.xml.createElement(t.isShadow()?"shadow":"block");if(i.setAttribute("type",t.type),o||i.setAttribute("id",t.id),t.mutationToDom){var r=t.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&i.appendChild(r)}if(y.Xml.allFieldsToDom_(t,i),r=t.getCommentText()){var n=t.commentModel.size,e=t.commentModel.pinned,a=y.utils.xml.createElement("comment");a.appendChild(y.utils.xml.createTextNode(r)),a.setAttribute("pinned",e),a.setAttribute("h",n.height),a.setAttribute("w",n.width),i.appendChild(a)}for(t.data&&(r=y.utils.xml.createElement("data"),r.appendChild(y.utils.xml.createTextNode(t.data)),i.appendChild(r)),r=0;n=t.inputList[r];r++){var s;if(e=!0,n.type!=y.DUMMY_INPUT){var l=n.connection.targetBlock();n.type==y.INPUT_VALUE?s=y.utils.xml.createElement("value"):n.type==y.NEXT_STATEMENT&&(s=y.utils.xml.createElement("statement")),a=n.connection.getShadowDom(),!a||l&&l.isShadow()||s.appendChild(y.Xml.cloneShadow_(a,o)),l&&(a=y.Xml.blockToDom(l,o),a.nodeType==y.utils.dom.NodeType.ELEMENT_NODE&&(s.appendChild(a),e=!1)),s.setAttribute("name",n.name),e||i.appendChild(s)}}return void 0!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&i.setAttribute("inline",t.inputsInline),t.isCollapsed()&&i.setAttribute("collapsed",!0),t.isEnabled()||i.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||i.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||i.setAttribute("movable",!1),t.isEditable()||i.setAttribute("editable",!1),(r=t.getNextBlock())&&(a=y.Xml.blockToDom(r,o),a.nodeType==y.utils.dom.NodeType.ELEMENT_NODE&&(s=y.utils.xml.createElement("next"),s.appendChild(a),i.appendChild(s))),a=t.nextConnection&&t.nextConnection.getShadowDom(),!a||r&&r.isShadow()||s.appendChild(y.Xml.cloneShadow_(a,o)),i},y.Xml.cloneShadow_=function(e,t){for(var o=e=e.cloneNode(!0),i;o;)if(t&&"shadow"==o.nodeName&&o.removeAttribute("id"),o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)i=o,o=o.parentNode,i.nodeType==y.utils.dom.NodeType.TEXT_NODE&&""==i.data.trim()&&o.firstChild!=i&&y.utils.dom.removeNode(i);o&&(i=o,o=o.nextSibling,i.nodeType==y.utils.dom.NodeType.TEXT_NODE&&""==i.data.trim()&&y.utils.dom.removeNode(i))}return e},y.Xml.domToText=function(e){e=y.utils.xml.domToText(e);var t=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var o=e;e=e.replace(t,"$1&#10;$2")}while(e!=o);return e.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},y.Xml.domToPrettyText=function(e){e=y.Xml.domToText(e).split("<");for(var t="",o=1,i;o<e.length;o++)i=e[o],"/"==i[0]&&(t=t.substring(2)),e[o]=t+"<"+i,"/"!=i[0]&&"/>"!=i.slice(-2)&&(t+="  ");return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},y.Xml.textToDom=function(e){var t=y.utils.xml.textToDomDocument(e);if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return t.documentElement},y.Xml.clearWorkspaceAndLoadFromXml=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=y.Xml.domToWorkspace(e,t),t.setResizesEnabled(!0),e},y.Xml.domToWorkspace=function(t,o){if(t instanceof y.Workspace){var i=t;t=o,o=i,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var r;o.RTL&&(r=o.getWidth()),i=[],y.utils.dom.startTextWidthCache();var a=y.Events.getGroup();a||y.Events.setGroup(!0),o.setResizesEnabled&&o.setResizesEnabled(!1);var e=!0;try{for(var s=0,d;d=t.childNodes[s];s++){var c=d.nodeName.toLowerCase(),u=d;if("block"==c||"shadow"==c&&!y.Events.recordUndo){var l=y.Xml.domToBlock(u,o);i.push(l.id);var _=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,n=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(_)||isNaN(n)||l.moveBy(o.RTL?r-_:_,n),e=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)o.rendered?y.WorkspaceCommentSvg?y.WorkspaceCommentSvg.fromXml(u,o,r):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):y.WorkspaceComment?y.WorkspaceComment.fromXml(u,o):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(e)y.Xml.domToVariables(u,o);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");e=!1}}}}finally{a||y.Events.setGroup(!1),y.utils.dom.stopTextWidthCache()}return o.setResizesEnabled&&o.setResizesEnabled(!0),y.Events.fire(new y.Events.FinishedLoading(o)),i},y.Xml.appendDomToWorkspace=function(t,o){var i;if(o.hasOwnProperty("scale")&&(i=o.getBlocksBoundingBox()),t=y.Xml.domToWorkspace(t,o),i&&i.top!=i.bottom){var r=i.bottom,n=o.RTL?i.right:i.left,e=Infinity,a=-Infinity,s=Infinity;for(i=0;i<t.length;i++){var l=o.getBlockById(t[i]).getRelativeToSurfaceXY();l.y<s&&(s=l.y),l.x<e&&(e=l.x),l.x>a&&(a=l.x)}for(r=r-s+10,n=o.RTL?n-a:n-e,i=0;i<t.length;i++)o.getBlockById(t[i]).moveBy(n,r)}return t},y.Xml.domToBlock=function(t,o){if(t instanceof y.Workspace){var i=t;t=o,o=i,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}y.Events.disable(),i=o.getAllVariables();try{var r=y.Xml.domToBlockHeadless_(t,o),n=r.getDescendants(!1);if(o.rendered){r.setConnectionTracking(!1);for(var e=n.length-1;0<=e;e--)n[e].initSvg();for(e=n.length-1;0<=e;e--)n[e].render(!1);setTimeout(function(){r.disposed||r.setConnectionTracking(!0)},1),r.updateDisabled(),o.resizeContents()}else for(e=n.length-1;0<=e;e--)n[e].initModel()}finally{y.Events.enable()}if(y.Events.isEnabled()){for(t=y.Variables.getAddedVariables(o,i),e=0;e<t.length;e++)y.Events.fire(new y.Events.VarCreate(t[e]));y.Events.fire(new y.Events.BlockCreate(r))}return r},y.Xml.domToVariables=function(t,o){for(var i=0,r;r=t.childNodes[i];i++)if(r.nodeType==y.utils.dom.NodeType.ELEMENT_NODE){var n=r.getAttribute("type"),e=r.getAttribute("id");o.createVariable(r.textContent,n,e)}},y.Xml.domToBlockHeadless_=function(t,o){var i=null,r=t.getAttribute("type");if(!r)throw TypeError("Block type unspecified: "+t.outerHTML);var n=t.getAttribute("id");i=o.newBlock(r,n);var e=null;n=0;for(var a;a=t.childNodes[n];n++)if(a.nodeType!=y.utils.dom.NodeType.TEXT_NODE){for(var s=e=null,c=0,p;p=a.childNodes[c];c++)p.nodeType==y.utils.dom.NodeType.ELEMENT_NODE&&("block"==p.nodeName.toLowerCase()?e=p:"shadow"==p.nodeName.toLowerCase()&&(s=p));switch(!e&&s&&(e=s),p=a.getAttribute("name"),c=a,a.nodeName.toLowerCase()){case"mutation":i.domToMutation&&(i.domToMutation(c),i.initSvg&&i.initSvg());break;case"comment":if(!y.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}e=c.textContent,s="true"==c.getAttribute("pinned"),a=parseInt(c.getAttribute("w"),10),c=parseInt(c.getAttribute("h"),10),i.setCommentText(e),i.commentModel.pinned=s,isNaN(a)||isNaN(c)||(i.commentModel.size=new y.utils.Size(a,c)),s&&i.getCommentIcon&&!i.isInFlyout&&setTimeout(function(){i.getCommentIcon().setVisible(!0)},1);break;case"data":i.data=a.textContent;break;case"title":case"field":y.Xml.domToField_(i,p,c);break;case"value":case"statement":if(c=i.getInput(p),!c){console.warn("Ignoring non-existent input "+p+" in block "+r);break}if(s&&c.connection.setShadowDom(s),e)if(e=y.Xml.domToBlockHeadless_(e,o),e.outputConnection)c.connection.connect(e.outputConnection);else if(e.previousConnection)c.connection.connect(e.previousConnection);else throw TypeError("Child block does not have output or previous statement.");break;case"next":if(s&&i.nextConnection&&i.nextConnection.setShadowDom(s),e){if(!i.nextConnection)throw TypeError("Next statement does not exist.");if(i.nextConnection.isConnected())throw TypeError("Next statement is already connected.");if(e=y.Xml.domToBlockHeadless_(e,o),!e.previousConnection)throw TypeError("Next block does not have previous statement.");i.nextConnection.connect(e.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+a.nodeName);}}if((n=t.getAttribute("inline"))&&i.setInputsInline("true"==n),(n=t.getAttribute("disabled"))&&i.setEnabled("true"!=n&&"disabled"!=n),(n=t.getAttribute("deletable"))&&i.setDeletable("true"==n),(n=t.getAttribute("movable"))&&i.setMovable("true"==n),(n=t.getAttribute("editable"))&&i.setEditable("true"==n),(n=t.getAttribute("collapsed"))&&i.setCollapsed("true"==n),"shadow"==t.nodeName.toLowerCase()){for(t=i.getChildren(!1),n=0;o=t[n];n++)if(!o.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(i.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");i.setShadow(!0)}return i},y.Xml.domToField_=function(e,t,o){var i=e.getField(t);i?i.fromXml(o):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},y.Xml.deleteNext=function(e){for(var t=0,o;o=e.childNodes[t];t++)if("next"==o.nodeName.toLowerCase()){e.removeChild(o);break}},y.Options=function(o){var i=!!o.readOnly;if(i)var a=null,s=!1,d=!1,e=!1,c=!1,_=!1,g=!1;else{a=o.toolbox,Array.isArray(a)||(a=y.Options.parseToolboxTree(a||null)),a=y.utils.toolbox.convertToolboxToJSON(a),s=y.utils.toolbox.hasCategories(a),d=o.trashcan,void 0===d&&(d=s);var h=o.maxTrashcanContents;d?void 0===h&&(h=32):h=0,e=o.collapse,void 0===e&&(e=s),c=o.comments,void 0===c&&(c=s),_=o.disable,void 0===_&&(_=s),g=o.sounds,void 0===g&&(g=!0)}var l=!!o.rtl,m=o.horizontalLayout;void 0===m&&(m=!1);var n=o.toolboxPosition;n="end"!==n,n=m?n?y.TOOLBOX_AT_TOP:y.TOOLBOX_AT_BOTTOM:n==l?y.TOOLBOX_AT_RIGHT:y.TOOLBOX_AT_LEFT;var p=o.css;void 0===p&&(p=!0);var T="https://blockly-demo.appspot.com/static/media/";o.media?T=o.media:o.path&&(T=o.path+"media/");var r=void 0===o.oneBasedIndex||!!o.oneBasedIndex,t=o.keyMap||y.user.keyMap.createDefaultKeyMap(),u=o.renderer||"geras",b=o.plugins||{};this.RTL=l,this.oneBasedIndex=r,this.collapse=e,this.comments=c,this.disable=_,this.readOnly=i,this.maxBlocks=o.maxBlocks||Infinity,this.maxInstances=o.maxInstances,this.pathToMedia=T,this.hasCategories=s,this.moveOptions=y.Options.parseMoveOptions(o,s),this.hasScrollbars=this.moveOptions.scrollbars,this.hasTrashcan=d,this.maxTrashcanContents=h,this.hasSounds=g,this.hasCss=p,this.horizontalLayout=m,this.languageTree=a,this.gridOptions=y.Options.parseGridOptions_(o),this.zoomOptions=y.Options.parseZoomOptions_(o),this.toolboxPosition=n,this.theme=y.Options.parseThemeOptions_(o),this.keyMap=t,this.renderer=u,this.rendererOverrides=o.rendererOverrides,this.gridPattern=null,this.parentWorkspace=o.parentWorkspace,this.plugins=b},y.BlocklyOptions=function(){},y.Options.parseMoveOptions=function(e,t){var o=e.move||{},i={};return i.scrollbars=void 0===o.scrollbars&&void 0===e.scrollbars?t:!!o.scrollbars||!!e.scrollbars,i.wheel=!!(i.scrollbars&&void 0!==o.wheel)&&!!o.wheel,i.drag=!!i.scrollbars&&(void 0===o.drag||!!o.drag),i},y.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:+e.startScale,t.maxScale=void 0===e.maxScale?3:+e.maxScale,t.minScale=void 0===e.minScale?.3:+e.minScale,t.scaleSpeed=void 0===e.scaleSpeed?1.2:+e.scaleSpeed,t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t},y.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=+e.spacing||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:+e.length,t.snap=0<t.spacing&&!!e.snap,t},y.Options.parseThemeOptions_=function(e){return e=e.theme||y.Themes.Classic,"string"==typeof e?y.registry.getObject(y.registry.Type.THEME,e):e instanceof y.Theme?e:y.Theme.defineTheme(e.name||"builtin"+y.utils.IdGenerator.getNextUniqueId(),e)},y.Options.parseToolboxTree=function(e){if(!e)e=null;else if("string"!=typeof e&&(y.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=y.Xml.textToDom(e),"xml"!=e.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");return e},y.Touch={},y.Touch.TOUCH_ENABLED="ontouchstart"in y.utils.global||!!(y.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||y.utils.global.navigator&&(y.utils.global.navigator.maxTouchPoints||y.utils.global.navigator.msMaxTouchPoints),y.Touch.touchIdentifier_=null,y.Touch.TOUCH_MAP={},y.utils.global.PointerEvent?y.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:y.Touch.TOUCH_ENABLED&&(y.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),y.longPid_=0,y.longStart=function(e,t){y.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(y.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),t&&t.handleRightClick(e)},y.LONGPRESS))},y.longStop_=function(){y.longPid_&&(clearTimeout(y.longPid_),y.longPid_=0)},y.Touch.clearTouchIdentifier=function(){y.Touch.touchIdentifier_=null},y.Touch.shouldHandleEvent=function(e){return!y.Touch.isMouseOrTouchEvent(e)||y.Touch.checkTouchIdentifier(e)},y.Touch.getTouchIdentifierFromEvent=function(e){return void 0==e.pointerId?e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse":e.pointerId},y.Touch.checkTouchIdentifier=function(e){var t=y.Touch.getTouchIdentifierFromEvent(e);return void 0!==y.Touch.touchIdentifier_&&null!==y.Touch.touchIdentifier_?y.Touch.touchIdentifier_==t:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(y.Touch.touchIdentifier_=t,!0)},y.Touch.setClientFromTouch=function(e){if(y.utils.string.startsWith(e.type,"touch")){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}},y.Touch.isMouseOrTouchEvent=function(e){return y.utils.string.startsWith(e.type,"touch")||y.utils.string.startsWith(e.type,"mouse")||y.utils.string.startsWith(e.type,"pointer")},y.Touch.isTouchEvent=function(e){return y.utils.string.startsWith(e.type,"touch")||y.utils.string.startsWith(e.type,"pointer")},y.Touch.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var o=0;o<e.changedTouches.length;o++)t[o]={type:e.type,changedTouches:[e.changedTouches[o]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t},y.ScrollbarPair=function(e){this.workspace_=e,this.hScroll=new y.Scrollbar(e,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new y.Scrollbar(e,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=y.utils.dom.createSvgElement("rect",{height:y.Scrollbar.scrollbarThickness,width:y.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),y.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas()),this.oldHostMetrics_=null},y.ScrollbarPair.prototype.dispose=function(){y.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},y.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var t=!1,o=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==e.contentWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.contentLeft==e.contentLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==e.contentHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.contentTop==e.contentTop||(o=!0)):o=t=!0,t&&this.hScroll.resize(e),o&&this.vScroll.resize(e),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y),this.oldHostMetrics_=e}},y.ScrollbarPair.prototype.set=function(e,t){var o={};e*=this.hScroll.ratio,t*=this.vScroll.ratio;var i=this.vScroll.scrollViewSize_;o.x=this.getRatio_(e,this.hScroll.scrollViewSize_),o.y=this.getRatio_(t,i),this.workspace_.setMetrics(o),this.hScroll.setHandlePosition(e),this.vScroll.setHandlePosition(t)},y.ScrollbarPair.prototype.getRatio_=function(e,t){return e/=t,isNaN(e)?0:e},y.Scrollbar=function(e,t,o,i){this.workspace_=e,this.pair_=o||!1,this.horizontal_=t,this.ratio=this.oldHostMetrics_=null,this.createDom_(i),this.position=new y.utils.Coordinate(0,0),e=y.Scrollbar.scrollbarThickness,t?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=y.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=y.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},y.Scrollbar.prototype.origin_=new y.utils.Coordinate(0,0),y.Scrollbar.prototype.startDragMouse_=0,y.Scrollbar.prototype.scrollViewSize_=0,y.Scrollbar.prototype.handleLength_=0,y.Scrollbar.prototype.handlePosition_=0,y.Scrollbar.prototype.isVisible_=!0,y.Scrollbar.prototype.containerVisible_=!0,y.Scrollbar.scrollbarThickness=15,y.Touch.TOUCH_ENABLED&&(y.Scrollbar.scrollbarThickness=25),y.Scrollbar.metricsAreEquivalent_=function(e,t){return!!(e&&t&&e.viewWidth==t.viewWidth&&e.viewHeight==t.viewHeight&&e.viewLeft==t.viewLeft&&e.viewTop==t.viewTop&&e.absoluteTop==t.absoluteTop&&e.absoluteLeft==t.absoluteLeft&&e.contentWidth==t.contentWidth&&e.contentHeight==t.contentHeight&&e.contentLeft==t.contentLeft&&e.contentTop==t.contentTop)},y.Scrollbar.prototype.dispose=function(){this.cleanUp_(),y.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,y.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,y.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},y.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},y.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},y.Scrollbar.prototype.setScrollViewSize_=function(e){this.scrollViewSize_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},y.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll.setContainerVisible(e),this.vScroll.setContainerVisible(e)},y.Scrollbar.prototype.setPosition=function(e,t){this.position.x=e,this.position.y=t,y.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},y.Scrollbar.prototype.resize=function(e){!e&&(e=this.workspace_.getMetrics(),!e)||y.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.oldHostMetrics_=e,this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_())},y.Scrollbar.prototype.resizeHorizontal_=function(e){this.resizeViewHorizontal(e)},y.Scrollbar.prototype.resizeViewHorizontal=function(e){var t=e.viewWidth-1;this.pair_&&(t-=y.Scrollbar.scrollbarThickness),this.setScrollViewSize_(u(0,t)),t=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(t+=y.Scrollbar.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-y.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(e)},y.Scrollbar.prototype.resizeContentHorizontal=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentWidth),this.ratio=this.scrollViewSize_/e.contentWidth,(-Infinity==this.ratio||Infinity==this.ratio||isNaN(this.ratio))&&(this.ratio=0),this.setHandleLength_(u(0,e.viewWidth*this.ratio)),this.setHandlePosition(this.constrainHandle_((e.viewLeft-e.contentLeft)*this.ratio))},y.Scrollbar.prototype.resizeVertical_=function(e){this.resizeViewVertical(e)},y.Scrollbar.prototype.resizeViewVertical=function(e){var t=e.viewHeight-1;this.pair_&&(t-=y.Scrollbar.scrollbarThickness),this.setScrollViewSize_(u(0,t)),t=e.absoluteLeft+.5,this.workspace_.RTL||(t+=e.viewWidth-y.Scrollbar.scrollbarThickness-1),this.setPosition(t,e.absoluteTop+.5),this.resizeContentVertical(e)},y.Scrollbar.prototype.resizeContentVertical=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentHeight),this.ratio=this.scrollViewSize_/e.contentHeight,(-Infinity==this.ratio||Infinity==this.ratio||isNaN(this.ratio))&&(this.ratio=0),this.setHandleLength_(u(0,e.viewHeight*this.ratio)),this.setHandlePosition(this.constrainHandle_((e.viewTop-e.contentTop)*this.ratio))},y.Scrollbar.prototype.createDom_=function(e){var t="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(t+=" "+e),this.outerSvg_=y.utils.dom.createSvgElement("svg",{class:t},null),this.svgGroup_=y.utils.dom.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=y.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),e=m((y.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=y.utils.dom.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),y.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},y.Scrollbar.prototype.isVisible=function(){return this.isVisible_},y.Scrollbar.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},y.Scrollbar.prototype.setVisible=function(e){var t=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},y.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},y.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),y.Touch.clearTouchIdentifier(),this.cleanUp_(),y.utils.isRightButton(t))t.stopPropagation();else{var o=y.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());o=this.horizontal_?o.x:o.y;var i=y.utils.getInjectionDivXY_(this.svgHandle_);i=this.horizontal_?i.x:i.y;var r=this.handlePosition_,n=.95*this.handleLength_;o<=i?r-=n:o>=i+this.handleLength_&&(r+=n),this.setHandlePosition(this.constrainHandle_(r)),this.onScroll_(),t.stopPropagation(),t.preventDefault()}},y.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),y.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,y.Scrollbar.onMouseUpWrapper_=y.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),y.Scrollbar.onMouseMoveWrapper_=y.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},y.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.onScroll_()},y.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),y.Touch.clearTouchIdentifier(),this.cleanUp_()},y.Scrollbar.prototype.cleanUp_=function(){y.hideChaff(!0),y.Scrollbar.onMouseUpWrapper_&&(y.unbindEvent_(y.Scrollbar.onMouseUpWrapper_),y.Scrollbar.onMouseUpWrapper_=null),y.Scrollbar.onMouseMoveWrapper_&&(y.unbindEvent_(y.Scrollbar.onMouseMoveWrapper_),y.Scrollbar.onMouseMoveWrapper_=null)},y.Scrollbar.prototype.constrainHandle_=function(e){return e=0>=e||isNaN(e)||this.scrollViewSize_<this.handleLength_?0:T(e,this.scrollViewSize_-this.handleLength_)},y.Scrollbar.prototype.onScroll_=function(){var e=this.handlePosition_/this.scrollViewSize_;isNaN(e)&&(e=0);var t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},y.Scrollbar.prototype.set=function(e){this.setHandlePosition(this.constrainHandle_(e*this.ratio)),this.onScroll_()},y.Scrollbar.prototype.setOrigin=function(e,t){this.origin_=new y.utils.Coordinate(e,t)},y.Tooltip={},y.Tooltip.visible=!1,y.Tooltip.blocked_=!1,y.Tooltip.LIMIT=50,y.Tooltip.mouseOutPid_=0,y.Tooltip.showPid_=0,y.Tooltip.lastX_=0,y.Tooltip.lastY_=0,y.Tooltip.element_=null,y.Tooltip.poisonedElement_=null,y.Tooltip.OFFSET_X=0,y.Tooltip.OFFSET_Y=10,y.Tooltip.RADIUS_OK=10,y.Tooltip.HOVER_MS=750,y.Tooltip.MARGINS=5,y.Tooltip.DIV=null,y.Tooltip.createDom=function(){y.Tooltip.DIV||(y.Tooltip.DIV=document.createElement("div"),y.Tooltip.DIV.className="blocklyTooltipDiv",(y.parentContainer||document.body).appendChild(y.Tooltip.DIV))},y.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=y.bindEvent_(e,"mouseover",null,y.Tooltip.onMouseOver_),e.mouseOutWrapper_=y.bindEvent_(e,"mouseout",null,y.Tooltip.onMouseOut_),e.addEventListener("mousemove",y.Tooltip.onMouseMove_,!1)},y.Tooltip.unbindMouseEvents=function(e){e&&(y.unbindEvent_(e.mouseOverWrapper_),y.unbindEvent_(e.mouseOutWrapper_),e.removeEventListener("mousemove",y.Tooltip.onMouseMove_))},y.Tooltip.onMouseOver_=function(e){if(!y.Tooltip.blocked_){for(e=e.currentTarget;"string"!=typeof e.tooltip&&"function"!=typeof e.tooltip;)e=e.tooltip;y.Tooltip.element_!=e&&(y.Tooltip.hide(),y.Tooltip.poisonedElement_=null,y.Tooltip.element_=e),clearTimeout(y.Tooltip.mouseOutPid_)}},y.Tooltip.onMouseOut_=function(){y.Tooltip.blocked_||(y.Tooltip.mouseOutPid_=setTimeout(function(){y.Tooltip.element_=null,y.Tooltip.poisonedElement_=null,y.Tooltip.hide()},1),clearTimeout(y.Tooltip.showPid_))},y.Tooltip.onMouseMove_=function(e){if(y.Tooltip.element_&&y.Tooltip.element_.tooltip&&!y.Tooltip.blocked_)if(y.Tooltip.visible){var t=y.Tooltip.lastX_-e.pageX;e=y.Tooltip.lastY_-e.pageY,_(t*t+e*e)>y.Tooltip.RADIUS_OK&&y.Tooltip.hide()}else y.Tooltip.poisonedElement_!=y.Tooltip.element_&&(clearTimeout(y.Tooltip.showPid_),y.Tooltip.lastX_=e.pageX,y.Tooltip.lastY_=e.pageY,y.Tooltip.showPid_=setTimeout(y.Tooltip.show_,y.Tooltip.HOVER_MS))},y.Tooltip.dispose=function(){y.Tooltip.element_=null,y.Tooltip.poisonedElement_=null,y.Tooltip.hide()},y.Tooltip.hide=function(){y.Tooltip.visible&&(y.Tooltip.visible=!1,y.Tooltip.DIV&&(y.Tooltip.DIV.style.display="none")),y.Tooltip.showPid_&&clearTimeout(y.Tooltip.showPid_)},y.Tooltip.block=function(){y.Tooltip.hide(),y.Tooltip.blocked_=!0},y.Tooltip.unblock=function(){y.Tooltip.blocked_=!1},y.Tooltip.show_=function(){if(!y.Tooltip.blocked_&&(y.Tooltip.poisonedElement_=y.Tooltip.element_,y.Tooltip.DIV)){y.Tooltip.DIV.textContent="";for(var t=y.Tooltip.element_.tooltip;"function"==typeof t;)t=t();t=y.utils.string.wrap(t,y.Tooltip.LIMIT),t=t.split("\n");for(var o=0,i;o<t.length;o++)i=document.createElement("div"),i.appendChild(document.createTextNode(t[o])),y.Tooltip.DIV.appendChild(i);t=y.Tooltip.element_.RTL,o=document.documentElement.clientWidth,i=document.documentElement.clientHeight,y.Tooltip.DIV.style.direction=t?"rtl":"ltr",y.Tooltip.DIV.style.display="block",y.Tooltip.visible=!0;var r=y.Tooltip.lastX_;r=t?r-(y.Tooltip.OFFSET_X+y.Tooltip.DIV.offsetWidth):r+y.Tooltip.OFFSET_X;var n=y.Tooltip.lastY_+y.Tooltip.OFFSET_Y;n+y.Tooltip.DIV.offsetHeight>i+window.scrollY&&(n-=y.Tooltip.DIV.offsetHeight+2*y.Tooltip.OFFSET_Y),t?r=u(y.Tooltip.MARGINS-window.scrollX,r):r+y.Tooltip.DIV.offsetWidth>o+window.scrollX-2*y.Tooltip.MARGINS&&(r=o-y.Tooltip.DIV.offsetWidth-2*y.Tooltip.MARGINS),y.Tooltip.DIV.style.top=n+"px",y.Tooltip.DIV.style.left=r+"px"}},y.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},y.WorkspaceDragSurfaceSvg.prototype.SVG_=null,y.WorkspaceDragSurfaceSvg.prototype.container_=null,y.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=y.utils.dom.createSvgElement("svg",{xmlns:y.utils.dom.SVG_NS,"xmlns:html":y.utils.dom.HTML_NS,"xmlns:xlink":y.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},y.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,t){e=e.toFixed(0),t=t.toFixed(0),this.SVG_.style.display="block",y.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+t+"px, 0px)")},y.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return y.utils.getRelativeXY(this.SVG_)},y.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var t=this.SVG_.childNodes[0],o=this.SVG_.childNodes[1];if(!(t&&o&&y.utils.dom.hasClass(t,"blocklyBlockCanvas")&&y.utils.dom.hasClass(o,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null==this.previousSibling_?e.insertBefore(t,e.firstChild):y.utils.dom.insertAfter(t,this.previousSibling_),y.utils.dom.insertAfter(o,t),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");y.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},y.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(t,o,i,r,n,e){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=i,t.setAttribute("transform","translate(0, 0) scale("+e+")"),o.setAttribute("transform","translate(0, 0) scale("+e+")"),this.SVG_.setAttribute("width",r),this.SVG_.setAttribute("height",n),this.SVG_.appendChild(t),this.SVG_.appendChild(o),this.SVG_.style.display="block"},y.ASTNode=function(e,t,o){if(!t)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=y.ASTNode.isConnectionType_(e),this.location_=t,this.wsCoordinate_=null,this.processParams_(o||null)},y.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},y.ASTNode.NAVIGATE_ALL_FIELDS=!1,y.ASTNode.DEFAULT_OFFSET_Y=-20,y.ASTNode.isConnectionType_=function(e){return e===y.ASTNode.types.PREVIOUS||e===y.ASTNode.types.NEXT||e===y.ASTNode.types.INPUT||e===y.ASTNode.types.OUTPUT},y.ASTNode.createFieldNode=function(e){return e?new y.ASTNode(y.ASTNode.types.FIELD,e):null},y.ASTNode.createConnectionNode=function(e){return e?e.type==y.INPUT_VALUE||e.type==y.NEXT_STATEMENT&&e.getParentInput()?y.ASTNode.createInputNode(e.getParentInput()):e.type==y.NEXT_STATEMENT?new y.ASTNode(y.ASTNode.types.NEXT,e):e.type==y.OUTPUT_VALUE?new y.ASTNode(y.ASTNode.types.OUTPUT,e):e.type==y.PREVIOUS_STATEMENT?new y.ASTNode(y.ASTNode.types.PREVIOUS,e):null:null},y.ASTNode.createInputNode=function(e){return e&&e.connection?new y.ASTNode(y.ASTNode.types.INPUT,e.connection):null},y.ASTNode.createBlockNode=function(e){return e?new y.ASTNode(y.ASTNode.types.BLOCK,e):null},y.ASTNode.createStackNode=function(e){return e?new y.ASTNode(y.ASTNode.types.STACK,e):null},y.ASTNode.createWorkspaceNode=function(e,t){return t&&e?new y.ASTNode(y.ASTNode.types.WORKSPACE,e,{wsCoordinate:t}):null},y.ASTNode.createTopNode=function(e){var t=e.previousConnection||e.outputConnection;return t?y.ASTNode.createConnectionNode(t):y.ASTNode.createBlockNode(e)},y.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},y.ASTNode.prototype.getLocation=function(){return this.location_},y.ASTNode.prototype.getType=function(){return this.type_},y.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},y.ASTNode.prototype.isConnection=function(){return this.isConnection_},y.ASTNode.prototype.findNextForInput_=function(){var t=this.location_.getParentInput(),o=t.getSourceBlock();t=o.inputList.indexOf(t)+1;for(var i;i=o.inputList[t];t++){for(var r=i.fieldRow,n=0,e;e=r[n];n++)if(e.isClickable()||y.ASTNode.NAVIGATE_ALL_FIELDS)return y.ASTNode.createFieldNode(e);if(i.connection)return y.ASTNode.createInputNode(i)}return null},y.ASTNode.prototype.findNextForField_=function(){var t=this.location_,o=t.getParentInput(),i=t.getSourceBlock(),r=i.inputList.indexOf(o);for(t=o.fieldRow.indexOf(t)+1;o=i.inputList[r];r++){for(var n=o.fieldRow;t<n.length;){if(n[t].isClickable()||y.ASTNode.NAVIGATE_ALL_FIELDS)return y.ASTNode.createFieldNode(n[t]);t++}if(t=0,o.connection)return y.ASTNode.createInputNode(o)}return null},y.ASTNode.prototype.findPrevForInput_=function(){for(var t=this.location_.getParentInput(),o=t.getSourceBlock(),i=o.inputList.indexOf(t),r;r=o.inputList[i];i--){if(r.connection&&r!==t)return y.ASTNode.createInputNode(r);r=r.fieldRow;for(var n=r.length-1,e;e=r[n];n--)if(e.isClickable()||y.ASTNode.NAVIGATE_ALL_FIELDS)return y.ASTNode.createFieldNode(e)}return null},y.ASTNode.prototype.findPrevForField_=function(){var t=this.location_,o=t.getParentInput(),i=t.getSourceBlock(),r=i.inputList.indexOf(o);t=o.fieldRow.indexOf(t)-1;for(var n;n=i.inputList[r];r--){if(n.connection&&n!==o)return y.ASTNode.createInputNode(n);for(n=n.fieldRow;-1<t;){if(n[t].isClickable()||y.ASTNode.NAVIGATE_ALL_FIELDS)return y.ASTNode.createFieldNode(n[t]);t--}0<=r-1&&(t=i.inputList[r-1].fieldRow.length-1)}return null},y.ASTNode.prototype.navigateBetweenStacks_=function(t){var o=this.getLocation();if(o instanceof y.Block||(o=o.getSourceBlock()),!o||!o.workspace)return null;var i=o.getRootBlock();o=i.workspace.getTopBlocks(!0);for(var r=0,n;n=o[r];r++)if(i.id==n.id)return t=r+(t?1:-1),-1==t||t==o.length?null:y.ASTNode.createStackNode(o[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")},y.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var t=e.previousConnection||e.outputConnection;return t?y.ASTNode.createConnectionNode(t):y.ASTNode.createBlockNode(e)},y.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;e=e.getTopStackBlock();var t=e.previousConnection||e.outputConnection;return t&&t.targetConnection&&t.targetConnection.getParentInput()?y.ASTNode.createInputNode(t.targetConnection.getParentInput()):y.ASTNode.createStackNode(e)},y.ASTNode.prototype.findFirstFieldOrInput_=function(t){t=t.inputList;for(var o=0,i;i=t[o];o++){for(var r=i.fieldRow,n=0,e;e=r[n];n++)if(e.isClickable()||y.ASTNode.NAVIGATE_ALL_FIELDS)return y.ASTNode.createFieldNode(e);if(i.connection)return y.ASTNode.createInputNode(i)}return null},y.ASTNode.prototype.getSourceBlock=function(){return this.getType()===y.ASTNode.types.BLOCK?this.getLocation():this.getType()===y.ASTNode.types.STACK?this.getLocation():this.getType()===y.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},y.ASTNode.prototype.next=function(){switch(this.type_){case y.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case y.ASTNode.types.OUTPUT:var e=this.location_;return y.ASTNode.createBlockNode(e.getSourceBlock());case y.ASTNode.types.FIELD:return this.findNextForField_();case y.ASTNode.types.INPUT:return this.findNextForInput_();case y.ASTNode.types.BLOCK:return y.ASTNode.createConnectionNode(this.location_.nextConnection);case y.ASTNode.types.PREVIOUS:return e=this.location_,y.ASTNode.createBlockNode(e.getSourceBlock());case y.ASTNode.types.NEXT:return e=this.location_,y.ASTNode.createConnectionNode(e.targetConnection);}return null},y.ASTNode.prototype.in=function(){switch(this.type_){case y.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return y.ASTNode.createStackNode(e[0]);break;case y.ASTNode.types.STACK:return e=this.location_,this.findTopASTNodeForBlock_(e);case y.ASTNode.types.BLOCK:return e=this.location_,this.findFirstFieldOrInput_(e);case y.ASTNode.types.INPUT:return y.ASTNode.createConnectionNode(this.location_.targetConnection);}return null},y.ASTNode.prototype.prev=function(){switch(this.type_){case y.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case y.ASTNode.types.FIELD:return this.findPrevForField_();case y.ASTNode.types.INPUT:return this.findPrevForInput_();case y.ASTNode.types.BLOCK:var e=this.location_;return y.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case y.ASTNode.types.PREVIOUS:if(e=this.location_,(e=e.targetConnection)&&!e.getParentInput())return y.ASTNode.createConnectionNode(e);break;case y.ASTNode.types.NEXT:return e=this.location_,y.ASTNode.createBlockNode(e.getSourceBlock());}return null},y.ASTNode.prototype.out=function(){switch(this.type_){case y.ASTNode.types.STACK:var e=this.location_,t=e.getRelativeToSurfaceXY();return t=new y.utils.Coordinate(t.x,t.y+y.ASTNode.DEFAULT_OFFSET_Y),y.ASTNode.createWorkspaceNode(e.workspace,t);case y.ASTNode.types.OUTPUT:return e=this.location_,(t=e.targetConnection)?y.ASTNode.createConnectionNode(t):y.ASTNode.createStackNode(e.getSourceBlock());case y.ASTNode.types.FIELD:return y.ASTNode.createBlockNode(this.location_.getSourceBlock());case y.ASTNode.types.INPUT:return e=this.location_,y.ASTNode.createBlockNode(e.getSourceBlock());case y.ASTNode.types.BLOCK:return e=this.location_,this.getOutAstNodeForBlock_(e);case y.ASTNode.types.PREVIOUS:return e=this.location_,this.getOutAstNodeForBlock_(e.getSourceBlock());case y.ASTNode.types.NEXT:return e=this.location_,this.getOutAstNodeForBlock_(e.getSourceBlock());}return null},y.Blocks=Object.create(null),y.Connection=function(e,t){this.sourceBlock_=e,this.type=t},y.Connection.CAN_CONNECT=0,y.Connection.REASON_SELF_CONNECTION=1,y.Connection.REASON_WRONG_TYPE=2,y.Connection.REASON_TARGET_NULL=3,y.Connection.REASON_CHECKS_FAILED=4,y.Connection.REASON_DIFFERENT_WORKSPACES=5,y.Connection.REASON_SHADOW_PARENT=6,y.Connection.prototype.targetConnection=null,y.Connection.prototype.disposed=!1,y.Connection.prototype.check_=null,y.Connection.prototype.shadowDom_=null,y.Connection.prototype.x=0,y.Connection.prototype.y=0,y.Connection.prototype.connect_=function(t){var o=this,i=o.getSourceBlock(),r=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),o.isConnected()){var n=o.targetBlock(),e=o.getShadowDom();if(o.setShadowDom(null),n.isShadow())e=y.Xml.blockToDom(n),n.dispose(!1),n=null;else if(o.type==y.INPUT_VALUE){if(!n.outputConnection)throw Error("Orphan block does not have an output connection.");var a=y.Connection.lastConnectionInRow(r,n);a&&(n.outputConnection.connect(a),n=null)}else if(o.type==y.NEXT_STATEMENT){if(!n.previousConnection)throw Error("Orphan block does not have a previous connection.");for(a=r;a.nextConnection;){var s=a.getNextBlock();if(s&&!s.isShadow())a=s;else{n.previousConnection.checkType(a.nextConnection)&&(a.nextConnection.connect(n.previousConnection),n=null);break}}}if(n&&(o.disconnect(),y.Events.recordUndo)){var d=y.Events.getGroup();setTimeout(function(){n.workspace&&!n.getParent()&&(y.Events.setGroup(d),n.outputConnection?n.outputConnection.onFailedConnect(o):n.previousConnection&&n.previousConnection.onFailedConnect(o),y.Events.setGroup(!1))},y.BUMP_DELAY)}o.setShadowDom(e)}var c;y.Events.isEnabled()&&(c=new y.Events.BlockMove(r)),y.Connection.connectReciprocally_(o,t),r.setParent(i),c&&(c.recordNew(),y.Events.fire(c))},y.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e.isShadow()?e.dispose(!1):e.unplug()}this.disposed=!0},y.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},y.Connection.prototype.isSuperior=function(){return this.type==y.INPUT_VALUE||this.type==y.NEXT_STATEMENT},y.Connection.prototype.isConnected=function(){return!!this.targetConnection},y.Connection.prototype.canConnectWithReason=function(e){if(!e)return y.Connection.REASON_TARGET_NULL;if(this.isSuperior())var t=this.sourceBlock_,o=e.getSourceBlock();else o=this.sourceBlock_,t=e.getSourceBlock();return t&&t==o?y.Connection.REASON_SELF_CONNECTION:e.type==y.OPPOSITE_TYPE[this.type]?t&&o&&t.workspace!==o.workspace?y.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType(e)?t.isShadow()&&!o.isShadow()?y.Connection.REASON_SHADOW_PARENT:y.Connection.CAN_CONNECT:y.Connection.REASON_CHECKS_FAILED:y.Connection.REASON_WRONG_TYPE},y.Connection.prototype.checkConnection=function(e){switch(this.canConnectWithReason(e)){case y.Connection.CAN_CONNECT:break;case y.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case y.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case y.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case y.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");case y.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+(this+" expected "+this.check_+", found "+e.check_));case y.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");}},y.Connection.prototype.canConnectToPrevious_=function(e){return!(this.targetConnection||-1!=y.draggingConnections.indexOf(e))&&(!e.targetConnection||(e=e.targetBlock(),!!e.isInsertionMarker()&&!e.getPreviousBlock()))},y.Connection.prototype.isConnectionAllowed=function(e){if(e.sourceBlock_.isInsertionMarker()||this.canConnectWithReason(e)!=y.Connection.CAN_CONNECT)return!1;switch(e.type){case y.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e);case y.OUTPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case y.INPUT_VALUE:if(e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow())return!1;break;case y.NEXT_STATEMENT:if(e.isConnected()&&!this.sourceBlock_.nextConnection&&!e.targetBlock().isShadow()&&e.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1==y.draggingConnections.indexOf(e)},y.Connection.prototype.onFailedConnect=function(){},y.Connection.prototype.connect=function(e){if(this.targetConnection!=e){this.checkConnection(e);var t=y.Events.getGroup();t||y.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),t||y.Events.setGroup(!1)}},y.Connection.connectReciprocally_=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},y.Connection.singleConnection_=function(t,o){for(var i=null,r=0,n;r<t.inputList.length;r++)if(n=t.inputList[r].connection,n&&n.type==y.INPUT_VALUE&&o.outputConnection.checkType(n)){if(i)return null;i=n}return i},y.Connection.lastConnectionInRow=function(e,t){for(var o;o=y.Connection.singleConnection_(e,t);)if(e=o.targetBlock(),!e||e.isShadow())return o;return null},y.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var t=this.sourceBlock_,o=e.getSourceBlock();e=this}else t=e.getSourceBlock(),o=this.sourceBlock_;var i=y.Events.getGroup();i||y.Events.setGroup(!0),this.disconnectInternal_(t,o),e.respawnShadow_(),i||y.Events.setGroup(!1)},y.Connection.prototype.disconnectInternal_=function(e,t){var o;y.Events.isEnabled()&&(o=new y.Events.BlockMove(t)),this.targetConnection=this.targetConnection.targetConnection=null,t.setParent(null),o&&(o.recordNew(),y.Events.fire(o))},y.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),t=this.getShadowDom();if(e.workspace&&t&&y.Events.recordUndo)if(e=y.Xml.domToBlock(t,e.workspace),e.outputConnection)this.connect(e.outputConnection);else if(e.previousConnection)this.connect(e.previousConnection);else throw Error("Child block does not have output or previous statement.")},y.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},y.Connection.prototype.checkType=function(e){if(!this.check_||!e.check_)return!0;for(var t=0;t<this.check_.length;t++)if(-1!=e.check_.indexOf(this.check_[t]))return!0;return!1},y.Connection.prototype.checkType_=function(e){return console.warn("Deprecated call to Blockly.Connection.prototype.checkType_, use Blockly.Connection.prototype.checkType instead."),this.checkType(e)},y.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.checkType(this.targetConnection)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},y.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},y.Connection.prototype.getCheck=function(){return this.check_},y.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e},y.Connection.prototype.getShadowDom=function(){return this.shadowDom_},y.Connection.prototype.neighbours=function(){return[]},y.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,o=t.inputList,i=0;i<t.inputList.length;i++)if(o[i].connection===this){e=o[i];break}return e},y.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var t="Output Connection of ";else if(e.previousConnection==this)t="Previous Connection of ";else if(e.nextConnection==this)t="Next Connection of ";else{t=null;for(var o=0,i;i=e.inputList[o];o++)if(i.connection==this){t=i;break}if(t)t="Input \""+t.name+"\" connection on ";else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()},y.Extensions={},y.Extensions.ALL_={},y.Extensions.register=function(e,t){if("string"!=typeof e||""==e.trim())throw Error("Error: Invalid extension name \""+e+"\"");if(y.Extensions.ALL_[e])throw Error("Error: Extension \""+e+"\" is already registered.");if("function"!=typeof t)throw Error("Error: Extension \""+e+"\" must be a function");y.Extensions.ALL_[e]=t},y.Extensions.registerMixin=function(e,t){if(!t||"object"!=typeof t)throw Error("Error: Mixin \""+e+"\" must be a object");y.Extensions.register(e,function(){this.mixin(t)})},y.Extensions.registerMutator=function(t,o,i,r){var n="Error when registering mutator \""+t+"\": ";y.Extensions.checkHasFunction_(n,o.domToMutation,"domToMutation"),y.Extensions.checkHasFunction_(n,o.mutationToDom,"mutationToDom");var e=y.Extensions.checkMutatorDialog_(o,n);if(i&&"function"!=typeof i)throw Error("Extension \""+t+"\" is not a function");y.Extensions.register(t,function(){if(e){if(!y.Mutator)throw Error(n+"Missing require for Blockly.Mutator");this.setMutator(new y.Mutator(r||[]))}this.mixin(o),i&&i.apply(this)})},y.Extensions.unregister=function(e){y.Extensions.ALL_[e]?delete y.Extensions.ALL_[e]:console.warn("No extension mapping for name \""+e+"\" found to unregister")},y.Extensions.apply=function(t,o,i){var r=y.Extensions.ALL_[t];if("function"!=typeof r)throw Error("Error: Extension \""+t+"\" not found.");if(i)y.Extensions.checkNoMutatorProperties_(t,o);else var n=y.Extensions.getMutatorProperties_(o);if(r.apply(o),i)y.Extensions.checkBlockHasMutatorProperties_("Error after applying mutator \""+t+"\": ",o);else if(!y.Extensions.mutatorPropertiesMatch_(n,o))throw Error("Error when applying extension \""+t+"\": mutation properties changed when applying a non-mutator extension.")},y.Extensions.checkHasFunction_=function(e,t,o){if(!t)throw Error(e+"missing required property \""+o+"\"");if("function"!=typeof t)throw Error(e+"\" required property \""+o+"\" must be a function")},y.Extensions.checkNoMutatorProperties_=function(e,t){if(y.Extensions.getMutatorProperties_(t).length)throw Error("Error: tried to apply mutation \""+e+"\" to a block that already has mutator functions.  Block id: "+t.id)},y.Extensions.checkMutatorDialog_=function(e,t){var o=void 0!==e.compose,i=void 0!==e.decompose;if(o&&i){if("function"!=typeof e.compose)throw Error(t+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(t+"decompose must be a function.");return!0}if(o||i)throw Error(t+"Must have both or neither of \"compose\" and \"decompose\"");return!1},y.Extensions.checkBlockHasMutatorProperties_=function(e,t){if("function"!=typeof t.domToMutation)throw Error(e+"Applying a mutator didn't add \"domToMutation\"");if("function"!=typeof t.mutationToDom)throw Error(e+"Applying a mutator didn't add \"mutationToDom\"");y.Extensions.checkMutatorDialog_(t,e)},y.Extensions.getMutatorProperties_=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},y.Extensions.mutatorPropertiesMatch_=function(e,t){if(t=y.Extensions.getMutatorProperties_(t),t.length!=e.length)return!1;for(var o=0;o<t.length;o++)if(e[o]!=t[o])return!1;return!0},y.Extensions.buildTooltipForDropdown=function(t,o){var i=[];return"object"==typeof document&&y.utils.runAfterPageLoad(function(){for(var e in o)y.utils.checkMessageReferences(o[e])}),function(){this.type&&-1==i.indexOf(this.type)&&(y.Extensions.checkDropdownOptionsInTable_(this,t,o),i.push(this.type)),this.setTooltip(function(){var r=this.getFieldValue(t)+"",n=o[r];return null==n?-1==i.indexOf(this.type)&&(r="No tooltip mapping for value "+r+" of field "+t,null!=this.type&&(r+=" of block type "+this.type),console.warn(r+".")):n=y.utils.replaceMessageReferences(n),n}.bind(this))}},y.Extensions.checkDropdownOptionsInTable_=function(t,o,i){var r=t.getField(o);if(!r.isOptionListDynamic()){r=r.getOptions();for(var n=0,e;n<r.length;++n)e=r[n][1],null==i[e]&&console.warn("No tooltip mapping for value "+e+" of field "+o+" of block type "+t.type)}},y.Extensions.buildTooltipWithFieldText=function(e,t){return"object"==typeof document&&y.utils.runAfterPageLoad(function(){y.utils.checkMessageReferences(e)}),function(){this.setTooltip(function(){var o=this.getField(t);return y.utils.replaceMessageReferences(e).replace("%1",o?o.getText():"")}.bind(this))}},y.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},y.Extensions.register("parent_tooltip_when_inline",y.Extensions.extensionParentTooltip_),y.fieldRegistry={},y.fieldRegistry.register=function(e,t){y.registry.register(y.registry.Type.FIELD,e,t)},y.fieldRegistry.unregister=function(e){y.registry.unregister(y.registry.Type.FIELD,e)},y.fieldRegistry.fromJson=function(e){var t=y.registry.getClass(y.registry.Type.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},y.blockAnimations={},y.blockAnimations.disconnectPid_=0,y.blockAnimations.disconnectGroup_=null,y.blockAnimations.disposeUiEffect=function(e){var t=e.workspace,o=e.getSvgRoot();t.getAudioManager().play("delete"),e=t.getSvgXY(o),o=o.cloneNode(!0),o.translateX_=e.x,o.translateY_=e.y,o.setAttribute("transform","translate("+e.x+","+e.y+")"),t.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),y.blockAnimations.disposeUiStep_(o,t.RTL,new Date,t.scale)},y.blockAnimations.disposeUiStep_=function(t,o,i,r){var n=(new Date-i)/150;1<n?y.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(o?-1:1)*t.bBox_.width*r/2*n)+","+(t.translateY_+t.bBox_.height*r*n)+") scale("+(1-n)*r+")"),setTimeout(y.blockAnimations.disposeUiStep_,10,t,o,i,r))},y.blockAnimations.connectionUiEffect=function(e){var t=e.workspace,o=t.scale;if(t.getAudioManager().play("click"),!(1>o)){var i=t.getSvgXY(e.getSvgRoot());e.outputConnection?(i.x+=(e.RTL?3:-3)*o,i.y+=13*o):e.previousConnection&&(i.x+=(e.RTL?-23:23)*o,i.y+=3*o),e=y.utils.dom.createSvgElement("circle",{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg()),y.blockAnimations.connectionUiStep_(e,new Date,o)}},y.blockAnimations.connectionUiStep_=function(e,t,o){var i=(new Date-t)/150;1<i?y.utils.dom.removeNode(e):(e.setAttribute("r",25*i*o),e.style.opacity=1-i,y.blockAnimations.disconnectPid_=setTimeout(y.blockAnimations.connectionUiStep_,10,e,t,o))},y.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var o=t.getHeightWidth().height;o=180*(e(10/o)/p),t.RTL||(o*=-1),y.blockAnimations.disconnectUiStep_(t.getSvgRoot(),o,new Date)}},y.blockAnimations.disconnectUiStep_=function(e,t,o){var i=(new Date-o)/200;1<i?e.skew_="":(e.skew_="skewX("+g(s(3*(i*p))*(1-i)*t)+")",y.blockAnimations.disconnectGroup_=e,y.blockAnimations.disconnectPid_=setTimeout(y.blockAnimations.disconnectUiStep_,10,e,t,o)),e.setAttribute("transform",e.translate_+e.skew_)},y.blockAnimations.disconnectUiStop=function(){if(y.blockAnimations.disconnectGroup_){clearTimeout(y.blockAnimations.disconnectPid_);var e=y.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),y.blockAnimations.disconnectGroup_=null}},y.InsertionMarkerManager=function(e){this.topBlock_=y.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},y.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},y.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,y.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{y.Events.enable()}},y.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},y.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},y.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},y.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(y.Events.disable(),this.hidePreview_(),y.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;y.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},y.InsertionMarkerManager.prototype.update=function(e,t){var o=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(o,t))||this.shouldUpdatePreviews_(o,e))&&(y.Events.disable(),this.maybeHidePreview_(o),this.maybeShowPreview_(o),y.Events.enable())},y.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var o=t.type;y.Events.disable();try{var i=this.workspace_.newBlock(o);if(i.setInsertionMarker(!0),t.mutationToDom){var r=t.mutationToDom();r&&i.domToMutation(r)}for(o=0;o<t.inputList.length;o++){var n=t.inputList[o];if(n.name!=y.Block.COLLAPSED_INPUT_NAME){var e=i.inputList[o];for(r=0;r<n.fieldRow.length;r++)e.fieldRow[r].setValue(n.fieldRow[r].getValue())}}i.setCollapsed(t.isCollapsed()),i.setInputsInline(t.getInputsInline()),i.initSvg(),i.getSvgRoot().setAttribute("visibility","hidden")}finally{y.Events.enable()}return i},y.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),t=this.topBlock_.lastConnectionInStack();return t&&t!=this.topBlock_.nextConnection&&(e.push(t),this.lastOnStack_=t,this.lastMarker_=this.createMarkerBlock_(t.getSourceBlock())),e},y.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,t){var o=e.local,i=e.closest;if(e=e.radius,o&&i){if(this.localConnection_&&this.closestConnection_)return(this.closestConnection_!=i||this.localConnection_!=o)&&(o=this.localConnection_.x+t.x-this.closestConnection_.x,t=this.localConnection_.y+t.y-this.closestConnection_.y,t=_(o*o+t*t),!(i&&e>t-y.CURRENT_CONNECTION_PREFERENCE));if(this.localConnection_||this.closestConnection_)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return this.localConnection_&&this.closestConnection_;return console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0},y.InsertionMarkerManager.prototype.getCandidate_=function(t){for(var o=this.getStartRadius_(),i=null,r=null,n=0;n<this.availableConnections_.length;n++){var e=this.availableConnections_[n],a=e.closest(o,t);a.connection&&(i=a.connection,r=e,o=a.radius)}return{closest:i,local:r,radius:o}},y.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?y.CONNECTING_SNAP_RADIUS:y.SNAP_RADIUS},y.InsertionMarkerManager.prototype.shouldDelete_=function(e,t){return e=e&&!!e.closest&&t!=y.DELETE_AREA_TOOLBOX,!!t&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!e},y.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t==this.closestConnection_||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},y.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,t=this.workspace_.getRenderer();switch(t.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case y.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case y.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case y.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_();}e&&t.shouldHighlightConnection(e)&&e.highlight()},y.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},y.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},y.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,o=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if(e=o.getMatchingConnection(e.getSourceBlock(),e),e==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),e&&t&&o.positionNearConnection(e,t),t&&e.connect(t),this.markerConnection_=e},y.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,o=t.getSourceBlock(),i=o.nextConnection,r=o.previousConnection,n=o.outputConnection;if(n=t.type==y.INPUT_VALUE&&!(n&&n.targetConnection),!(t!=i||r&&r.targetConnection)||n?t.targetBlock().unplug(!1):t.type==y.NEXT_STATEMENT&&t!=i?(i=t.targetConnection,i.getSourceBlock().unplug(!1),r=r?r.targetConnection:null,o.unplug(!0),r&&r.connect(i)):o.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,o.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},y.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},y.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},y.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},y.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},y.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},y.BlockDragger=function(e,t){this.draggingBlock_=e,this.workspace_=t,this.draggedConnectionManager_=new y.InsertionMarkerManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=y.BlockDragger.initIconData_(e)},y.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},y.BlockDragger.initIconData_=function(t){var o=[];t=t.getDescendants(!1);for(var i=0,r;r=t[i];i++){r=r.getIcons();for(var n=0,e;n<r.length;n++)e={location:r[n].getIconLocation(),icon:r[n]},o.push(e)}return o},y.BlockDragger.prototype.startBlockDrag=function(e,t){y.Events.getGroup()||y.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),y.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),y.blockAnimations.disconnectUiStop(),(this.draggingBlock_.getParent()||t&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())&&(this.draggingBlock_.unplug(t),e=this.pixelsToWorkspaceUnits_(e),e=y.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),y.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface(),(e=this.workspace_.getToolbox())&&"function"==typeof e.addStyle&&(t=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.addStyle(t))},y.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new y.Events.Ui(this.draggingBlock_,"dragStart",null,this.draggingBlock_.getDescendants(!1));y.Events.fire(e)},y.BlockDragger.prototype.dragBlock=function(e,t){t=this.pixelsToWorkspaceUnits_(t);var o=y.utils.Coordinate.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(o),this.dragIcons_(t),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(t,this.deleteArea_),this.updateCursorDuringBlockDrag_()},y.BlockDragger.prototype.endBlockDrag=function(e,t){this.dragBlock(e,t),this.dragIconData_=[],this.fireDragEndEvent_(),y.utils.dom.stopTextWidthCache(),y.blockAnimations.disconnectUiStop(),e=this.pixelsToWorkspaceUnits_(t),t=y.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.moveOffDragSurface(t),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections(e.x,e.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(t=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(t)),y.Events.setGroup(!1)},y.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new y.Events.Ui(this.draggingBlock_,"dragStop",this.draggingBlock_.getDescendants(!1),null);y.Events.fire(e)},y.BlockDragger.prototype.fireMoveEvent_=function(){var e=new y.Events.BlockMove(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),y.Events.fire(e)},y.BlockDragger.prototype.maybeDeleteBlock_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBlock_?(e&&setTimeout(e.close.bind(e),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),y.draggingConnections=[]):e&&e.close(),this.wouldDeleteBlock_},y.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==y.DELETE_AREA_TRASH&&e&&e.setOpen(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setOpen(!1))},y.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new y.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},y.BlockDragger.prototype.dragIcons_=function(e){for(var t=0,o;t<this.dragIconData_.length;t++)o=this.dragIconData_[t],o.icon.setIconLocation(y.utils.Coordinate.sum(o.location,e))},y.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},y.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},y.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},y.VariableMap.prototype.renameVariable=function(e,t){var o=this.getVariable(t,e.type),i=this.workspace.getAllBlocks(!1);y.Events.setGroup(!0);try{o&&o.getId()!=e.getId()?this.renameVariableWithConflict_(e,t,o,i):this.renameVariableAndUses_(e,t,i)}finally{y.Events.setGroup(!1)}},y.VariableMap.prototype.renameVariableById=function(e,t){var o=this.getVariableById(e);if(!o)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(o,t)},y.VariableMap.prototype.renameVariableAndUses_=function(e,t,o){for(y.Events.fire(new y.Events.VarRename(e,t)),e.name=t,t=0;t<o.length;t++)o[t].updateVarName(e)},y.VariableMap.prototype.renameVariableWithConflict_=function(t,o,i,r){var n=t.type;for(o!=i.name&&this.renameVariableAndUses_(i,o,r),o=0;o<r.length;o++)r[o].renameVarById(t.getId(),i.getId());y.Events.fire(new y.Events.VarDelete(t)),t=this.getVariablesOfType(n).indexOf(t),this.variableMap_[n].splice(t,1)},y.VariableMap.prototype.createVariable=function(e,t,o){var i=this.getVariable(e,t);if(i){if(o&&i.getId()!=o)throw Error("Variable \""+e+"\" is already in use and its id is \""+i.getId()+"\" which conflicts with the passed in id, \""+o+"\".");return i}if(o&&this.getVariableById(o))throw Error("Variable id, \""+o+"\", is already in use.");return i=o||y.utils.genUid(),t=t||"",i=new y.VariableModel(this.workspace,e,t,i),e=this.variableMap_[t]||[],e.push(i),delete this.variableMap_[t],this.variableMap_[t]=e,i},y.VariableMap.prototype.deleteVariable=function(e){for(var t=this.variableMap_[e.type],o=0,i;i=t[o];o++)if(i.getId()==e.getId()){t.splice(o,1),y.Events.fire(new y.Events.VarDelete(e));break}},y.VariableMap.prototype.deleteVariableById=function(t){var o=this.getVariableById(t);if(o){var i=o.name,r=this.getVariableUsesById(t);t=0;for(var n;n=r[t];t++)if("procedures_defnoreturn"==n.type||"procedures_defreturn"==n.type)return t=n.getFieldValue("NAME"),i=y.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",t),void y.alert(i);var e=this;1<r.length?(i=y.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",r.length+"").replace("%2",i),y.confirm(i,function(t){t&&o&&e.deleteVariableInternal(o,r)})):e.deleteVariableInternal(o,r)}else console.warn("Can't delete non-existent variable: "+t)},y.VariableMap.prototype.deleteVariableInternal=function(e,t){var o=y.Events.getGroup();o||y.Events.setGroup(!0);try{for(var i=0;i<t.length;i++)t[i].dispose(!0);this.deleteVariable(e)}finally{o||y.Events.setGroup(!1)}},y.VariableMap.prototype.getVariable=function(e,t){if(t=this.variableMap_[t||""])for(var o=0,i;i=t[o];o++)if(y.Names.equals(i.name,e))return i;return null},y.VariableMap.prototype.getVariableById=function(t){for(var o=Object.keys(this.variableMap_),i=0;i<o.length;i++)for(var r=o[i],n=0,e;e=this.variableMap_[r][n];n++)if(e.getId()==t)return e;return null},y.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},y.VariableMap.prototype.getVariableTypes=function(e){var t={};y.utils.object.mixin(t,this.variableMap_),e&&e.getPotentialVariableMap()&&y.utils.object.mixin(t,e.getPotentialVariableMap().variableMap_),e=Object.keys(t),t=!1;for(var o=0;o<e.length;o++)""==e[o]&&(t=!0);return t||e.push(""),e},y.VariableMap.prototype.getAllVariables=function(){var e=[],t;for(t in this.variableMap_)e=e.concat(this.variableMap_[t]);return e},y.VariableMap.prototype.getAllVariableNames=function(){var t=[],o;for(o in this.variableMap_)for(var i=this.variableMap_[o],r=0,n;n=i[r];r++)t.push(n.name);return t},y.VariableMap.prototype.getVariableUsesById=function(t){for(var o=[],i=this.workspace.getAllBlocks(!1),r=0,n;r<i.length;r++)if(n=i[r].getVarModels(),n)for(var e=0;e<n.length;e++)n[e].getId()==t&&o.push(i[r]);return o},y.Workspace=function(e){this.id=y.utils.genUid(),y.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new y.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new y.VariableMap(this),this.potentialVariableMap_=null},y.Workspace.prototype.rendered=!1,y.Workspace.prototype.isClearing=!1,y.Workspace.prototype.MAX_UNDO=1024,y.Workspace.prototype.connectionDBList=null,y.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete y.Workspace.WorkspaceDB_[this.id]},y.Workspace.SCAN_ANGLE=3,y.Workspace.prototype.sortObjects_=function(e,t){return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+y.Workspace.prototype.sortObjects_.offset*e.x-(t.y+y.Workspace.prototype.sortObjects_.offset*t.x)},y.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},y.Workspace.prototype.removeTopBlock=function(e){if(!y.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},y.Workspace.prototype.getTopBlocks=function(e){var t=[].concat(this.topBlocks_);return e&&1<t.length&&(this.sortObjects_.offset=s(y.utils.math.toRadians(y.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t},y.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},y.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},y.Workspace.prototype.getBlocksByType=function(e,t){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),t&&1<e.length&&(this.sortObjects_.offset=s(y.utils.math.toRadians(y.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},y.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn("Overriding an existing comment on this workspace, with id \""+e.id+"\""),this.commentDB_[e.id]=e},y.Workspace.prototype.removeTopComment=function(e){if(!y.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},y.Workspace.prototype.getTopComments=function(e){var t=[].concat(this.topComments_);return e&&1<t.length&&(this.sortObjects_.offset=s(y.utils.math.toRadians(y.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t},y.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var t=[],o=0;o<e.length;o++)t.push.apply(t,e[o].getDescendants(!0))}else for(t=this.getTopBlocks(!1),o=0;o<t.length;o++)t.push.apply(t,t[o].getChildren(!1));return t.filter(function(e){return!e.isInsertionMarker()})},y.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=y.Events.getGroup();for(e||y.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||y.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},y.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},y.Workspace.prototype.createVariable=function(e,t,o){return this.variableMap_.createVariable(e,t,o)},y.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},y.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},y.Workspace.prototype.variableIndexOf=function(){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},y.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},y.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},y.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},y.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},y.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},y.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},y.Workspace.prototype.getWidth=function(){return 0},y.Workspace.prototype.newBlock=function(e,t){return new y.Block(this,e,t)},y.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length},y.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0===this.options.maxInstances[e]?Infinity:this.options.maxInstances[e])-this.getBlocksByType(e,!1).length:Infinity},y.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t=0,o;for(o in e){if(e[o]>this.remainingCapacityOfType(o))return!1;t+=e[o]}return!(t>this.remainingCapacity())},y.Workspace.prototype.hasBlockLimits=function(){return Infinity!=this.options.maxBlocks||!!this.options.maxInstances},y.Workspace.prototype.undo=function(t){var o=t?this.redoStack_:this.undoStack_,i=t?this.undoStack_:this.redoStack_,r=o.pop();if(r){for(var n=[r];o.length&&r.group&&r.group==o[o.length-1].group;)n.push(o.pop());for(o=0;r=n[o];o++)i.push(r);n=y.Events.filter(n,t),y.Events.recordUndo=!1;try{for(o=0;r=n[o];o++)r.run(t)}finally{y.Events.recordUndo=!0}}},y.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,y.Events.clearPendingUndo()},y.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},y.Workspace.prototype.removeChangeListener=function(e){y.utils.arrayRemove(this.listeners_,e)},y.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t=0,o;o=this.listeners_[t];t++)o(e)},y.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},y.Workspace.prototype.setBlockById=function(e,t){this.blockDB_[e]=t},y.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},y.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},y.Workspace.prototype.allInputsFilled=function(e){for(var t=this.getTopBlocks(!1),o=0,i;i=t[o];o++)if(!i.allInputsFilled(e))return!1;return!0},y.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},y.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new y.VariableMap(this)},y.Workspace.prototype.getVariableMap=function(){return this.variableMap_},y.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},y.Workspace.WorkspaceDB_=Object.create(null),y.Workspace.getById=function(e){return y.Workspace.WorkspaceDB_[e]||null},y.Workspace.getAll=function(){var e=[],t;for(t in y.Workspace.WorkspaceDB_)e.push(y.Workspace.WorkspaceDB_[t]);return e},y.Bubble=function(t,o,i,r,n,e){this.workspace_=t,this.content_=o,this.shape_=i,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,i=y.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(i=-i),this.arrow_radians_=y.utils.math.toRadians(i),t.getBubbleCanvas().appendChild(this.createDom_(o,n&&e)),this.setAnchorLocation(r),n&&e||(t=this.content_.getBBox(),n=t.width+2*y.Bubble.BORDER_WIDTH,e=t.height+2*y.Bubble.BORDER_WIDTH),this.setBubbleSize(n,e),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},y.Bubble.BORDER_WIDTH=6,y.Bubble.ARROW_THICKNESS=5,y.Bubble.ARROW_ANGLE=20,y.Bubble.ARROW_BEND=4,y.Bubble.ANCHOR_RADIUS=8,y.Bubble.onMouseUpWrapper_=null,y.Bubble.onMouseMoveWrapper_=null,y.Bubble.unbindDragEvents_=function(){y.Bubble.onMouseUpWrapper_&&(y.unbindEvent_(y.Bubble.onMouseUpWrapper_),y.Bubble.onMouseUpWrapper_=null),y.Bubble.onMouseMoveWrapper_&&(y.unbindEvent_(y.Bubble.onMouseMoveWrapper_),y.Bubble.onMouseMoveWrapper_=null)},y.Bubble.bubbleMouseUp_=function(){y.Touch.clearTouchIdentifier(),y.Bubble.unbindDragEvents_()},y.Bubble.prototype.rendered_=!1,y.Bubble.prototype.anchorXY_=null,y.Bubble.prototype.relativeLeft_=0,y.Bubble.prototype.relativeTop_=0,y.Bubble.prototype.width_=0,y.Bubble.prototype.height_=0,y.Bubble.prototype.autoLayout_=!0,y.Bubble.prototype.createDom_=function(e,t){this.bubbleGroup_=y.utils.dom.createSvgElement("g",{},null);var o={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return y.utils.userAgent.JAVA_FX&&(o={}),o=y.utils.dom.createSvgElement("g",o,this.bubbleGroup_),this.bubbleArrow_=y.utils.dom.createSvgElement("path",{},o),this.bubbleBack_=y.utils.dom.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:y.Bubble.BORDER_WIDTH,ry:y.Bubble.BORDER_WIDTH},o),t?(this.resizeGroup_=y.utils.dom.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t=2*y.Bubble.BORDER_WIDTH,y.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup_),y.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup_),y.utils.dom.createSvgElement("line",{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=y.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=y.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},y.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},y.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},y.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},y.Bubble.prototype.showContextMenu=function(){},y.Bubble.prototype.isDeletable=function(){return!1},y.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),y.Bubble.unbindDragEvents_(),y.utils.isRightButton(e)||(this.workspace_.startDrag(e,new y.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),y.Bubble.onMouseUpWrapper_=y.bindEventWithChecks_(document,"mouseup",this,y.Bubble.bubbleMouseUp_),y.Bubble.onMouseMoveWrapper_=y.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),y.hideChaff()),e.stopPropagation()},y.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},y.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},y.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},y.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},y.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},y.Bubble.prototype.layoutBubble_=function(){var t=this.workspace_.getMetrics();t.viewLeft/=this.workspace_.scale,t.viewWidth/=this.workspace_.scale,t.viewTop/=this.workspace_.scale,t.viewHeight/=this.workspace_.scale;var o=this.getOptimalRelativeLeft_(t),i=this.getOptimalRelativeTop_(t),r=this.shape_.getBBox(),n={x:o,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},e={x:-this.width_-30,y:i};i={x:r.width,y:i};var a={x:o,y:r.height};o=r.width<r.height?i:a,r=r.width<r.height?a:i,i=this.getOverlap_(n,t),a=this.getOverlap_(e,t);var s=this.getOverlap_(o,t);t=this.getOverlap_(r,t),t=u(i,a,s,t),i==t?(this.relativeLeft_=n.x,this.relativeTop_=n.y):a==t?(this.relativeLeft_=e.x,this.relativeTop_=e.y):s==t?(this.relativeLeft_=o.x,this.relativeTop_=o.y):(this.relativeLeft_=r.x,this.relativeTop_=r.y)},y.Bubble.prototype.getOverlap_=function(e,t){var o=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,u(0,T(1,(T(o+this.width_,t.viewLeft+t.viewWidth)-u(o,t.viewLeft))*(T(e+this.height_,t.viewTop+t.viewHeight)-u(e,t.viewTop))/(this.width_*this.height_)))},y.Bubble.prototype.getOptimalRelativeLeft_=function(t){var o=-this.width_/4;if(this.width_>t.viewWidth)return o;if(this.workspace_.RTL)var i=this.anchorXY_.x-o,r=i-this.width_,n=t.viewLeft+t.viewWidth,e=t.viewLeft+y.Scrollbar.scrollbarThickness/this.workspace_.scale;else r=o+this.anchorXY_.x,i=r+this.width_,e=t.viewLeft,n=t.viewLeft+t.viewWidth-y.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?r<e?o=-(e-this.anchorXY_.x+this.width_):i>n&&(o=-(n-this.anchorXY_.x)):r<e?o=e-this.anchorXY_.x:i>n&&(o=n-this.anchorXY_.x-this.width_),o},y.Bubble.prototype.getOptimalRelativeTop_=function(t){var o=-this.height_/4;if(this.height_>t.viewHeight)return o;var i=this.anchorXY_.y+o,r=i+this.height_,n=t.viewTop;t=t.viewTop+t.viewHeight-y.Scrollbar.scrollbarThickness/this.workspace_.scale;var e=this.anchorXY_.y;return i<n?o=n-e:r>t&&(o=t-e-this.height_),o},y.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},y.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},y.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},y.Bubble.prototype.getBubbleSize=function(){return new y.utils.Size(this.width_,this.height_)},y.Bubble.prototype.setBubbleSize=function(e,t){var o=2*y.Bubble.BORDER_WIDTH;e=u(e,o+45),t=u(t,o+20),this.width_=e,this.height_=t,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",t),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*y.Bubble.BORDER_WIDTH+","+(t-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-o)+","+(t-o)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},y.Bubble.prototype.renderArrow_=function(){var t=[],o=this.width_/2,i=this.height_/2,a=-this.relativeLeft_,d=-this.relativeTop_;if(o==a&&i==d)t.push("M "+o+","+i);else{d-=i,a-=o,this.workspace_.RTL&&(a*=-1);var e=_(d*d+a*a),c=E(a/e);0>d&&(c=2*p-c);var u=c+p/2;u>2*p&&(u-=2*p);var g=s(u),h=r(u),l=this.getBubbleSize();u=(l.width+l.height)/y.Bubble.ARROW_THICKNESS,u=T(u,l.width,l.height)/4,l=1-y.Bubble.ANCHOR_RADIUS/e,a=o+l*a,d=i+l*d,l=o+u*h;var m=i+u*g;o-=u*h,i-=u*g,g=c+this.arrow_radians_,g>2*p&&(g-=2*p),c=s(g)*e/y.Bubble.ARROW_BEND,e=r(g)*e/y.Bubble.ARROW_BEND,t.push("M"+l+","+m),t.push("C"+(l+e)+","+(m+c)+" "+a+","+d+" "+a+","+d),t.push("C"+a+","+d+" "+(o+e)+","+(i+c)+" "+o+","+i)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},y.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},y.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&y.unbindEvent_(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&y.unbindEvent_(this.onMouseDownResizeWrapper_),y.Bubble.unbindDragEvents_(),y.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},y.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},y.Bubble.prototype.getRelativeToSurfaceXY=function(){return new y.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},y.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},y.Events.CommentBase=function(e){this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=y.Events.getGroup(),this.recordUndo=y.Events.recordUndo},y.utils.object.inherits(y.Events.CommentBase,y.Events.Abstract),y.Events.CommentBase.prototype.toJson=function(){var e=y.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},y.Events.CommentBase.prototype.fromJson=function(e){y.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},y.Events.CommentChange=function(e,t,o){e&&(y.Events.CommentChange.superClass_.constructor.call(this,e),this.oldContents_=t,this.newContents_=o)},y.utils.object.inherits(y.Events.CommentChange,y.Events.CommentBase),y.Events.CommentChange.prototype.type=y.Events.COMMENT_CHANGE,y.Events.CommentChange.prototype.toJson=function(){var e=y.Events.CommentChange.superClass_.toJson.call(this);return e.newContents=this.newContents_,e},y.Events.CommentChange.prototype.fromJson=function(e){y.Events.CommentChange.superClass_.fromJson.call(this,e),this.newContents_=e.newValue},y.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},y.Events.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},y.Events.CommentCreate=function(e){e&&(y.Events.CommentCreate.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},y.utils.object.inherits(y.Events.CommentCreate,y.Events.CommentBase),y.Events.CommentCreate.prototype.type=y.Events.COMMENT_CREATE,y.Events.CommentCreate.prototype.toJson=function(){var e=y.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=y.Xml.domToText(this.xml),e},y.Events.CommentCreate.prototype.fromJson=function(e){y.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=y.Xml.textToDom(e.xml)},y.Events.CommentCreate.prototype.run=function(e){y.Events.CommentCreateDeleteHelper(this,e)},y.Events.CommentCreateDeleteHelper=function(e,t){var o=e.getEventWorkspace_();t?(t=y.utils.xml.createElement("xml"),t.appendChild(e.xml),y.Xml.domToWorkspace(t,o)):(o=o.getCommentById(e.commentId))?o.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},y.Events.CommentDelete=function(e){e&&(y.Events.CommentDelete.superClass_.constructor.call(this,e),this.xml=e.toXmlWithXY())},y.utils.object.inherits(y.Events.CommentDelete,y.Events.CommentBase),y.Events.CommentDelete.prototype.type=y.Events.COMMENT_DELETE,y.Events.CommentDelete.prototype.toJson=function(){return y.Events.CommentDelete.superClass_.toJson.call(this)},y.Events.CommentDelete.prototype.fromJson=function(e){y.Events.CommentDelete.superClass_.fromJson.call(this,e)},y.Events.CommentDelete.prototype.run=function(e){y.Events.CommentCreateDeleteHelper(this,!e)},y.Events.CommentMove=function(e){e&&(y.Events.CommentMove.superClass_.constructor.call(this,e),this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},y.utils.object.inherits(y.Events.CommentMove,y.Events.CommentBase),y.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},y.Events.CommentMove.prototype.type=y.Events.COMMENT_MOVE,y.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},y.Events.CommentMove.prototype.toJson=function(){var e=y.Events.CommentMove.superClass_.toJson.call(this);return this.newCoordinate_&&(e.newCoordinate=g(this.newCoordinate_.x)+","+g(this.newCoordinate_.y)),e},y.Events.CommentMove.prototype.fromJson=function(e){y.Events.CommentMove.superClass_.fromJson.call(this,e),e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate_=new y.utils.Coordinate(+e[0],+e[1]))},y.Events.CommentMove.prototype.isNull=function(){return y.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},y.Events.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var o=t.getXY();t.moveBy(e.x-o.x,e.y-o.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},y.BubbleDragger=function(e,t){this.draggingBubble_=e,this.workspace_=t,this.deleteArea_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=y.utils.is3dSupported()&&t.getBlockDragSurface()?t.getBlockDragSurface():null},y.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},y.BubbleDragger.prototype.startBubbleDrag=function(){y.Events.getGroup()||y.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var e=this.workspace_.getToolbox();if(e&&"function"==typeof e.addStyle){var t=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e.addStyle(t)}},y.BubbleDragger.prototype.dragBubble=function(e,t){t=this.pixelsToWorkspaceUnits_(t),t=y.utils.Coordinate.sum(this.startXY_,t),this.draggingBubble_.moveDuringDrag(this.dragSurface_,t),this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(e),this.updateCursorDuringBubbleDrag_())},y.BubbleDragger.prototype.maybeDeleteBubble_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBubble_?(e&&setTimeout(e.close.bind(e),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):e&&e.close(),this.wouldDeleteBubble_},y.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=y.DELETE_AREA_NONE;var e=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==y.DELETE_AREA_TRASH&&e&&e.setOpen(!0)):(this.draggingBubble_.setDeleteStyle(!1),e&&e.setOpen(!1))},y.BubbleDragger.prototype.endBubbleDrag=function(e,t){this.dragBubble(e,t),e=this.pixelsToWorkspaceUnits_(t),e=y.utils.Coordinate.sum(this.startXY_,e),this.draggingBubble_.moveTo(e.x,e.y),this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),(e=this.workspace_.getToolbox())&&"function"==typeof e.removeStyle&&(t=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",e.removeStyle(t)),y.Events.setGroup(!1)},y.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new y.Events.CommentMove(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),y.Events.fire(e)}},y.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new y.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},y.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},y.WorkspaceDragger=function(e){this.workspace_=e,this.startScrollXY_=new y.utils.Coordinate(e.scrollX,e.scrollY)},y.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},y.WorkspaceDragger.prototype.startDrag=function(){y.selected&&y.selected.unselect(),this.workspace_.setupDragSurface()},y.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},y.WorkspaceDragger.prototype.drag=function(e){e=y.utils.Coordinate.sum(this.startScrollXY_,e),this.workspace_.scroll(e.x,e.y)},y.FlyoutDragger=function(e){y.FlyoutDragger.superClass_.constructor.call(this,e.getWorkspace()),this.scrollbar_=e.scrollbar,this.horizontalLayout_=e.horizontalLayout},y.utils.object.inherits(y.FlyoutDragger,y.WorkspaceDragger),y.FlyoutDragger.prototype.drag=function(e){e=y.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalLayout_?this.scrollbar_.set(-e.x):this.scrollbar_.set(-e.y)},y.Action=function(e,t){this.name=e,this.desc=t},y.navigation={},y.navigation.loggingCallback=null,y.navigation.STATE_FLYOUT=1,y.navigation.STATE_WS=2,y.navigation.STATE_TOOLBOX=3,y.navigation.WS_MOVE_DISTANCE=40,y.navigation.currentState_=y.navigation.STATE_WS,y.navigation.actionNames={PREVIOUS:"previous",NEXT:"next",IN:"in",OUT:"out",INSERT:"insert",MARK:"mark",DISCONNECT:"disconnect",TOOLBOX:"toolbox",EXIT:"exit",TOGGLE_KEYBOARD_NAV:"toggle_keyboard_nav",MOVE_WS_CURSOR_UP:"move workspace cursor up",MOVE_WS_CURSOR_DOWN:"move workspace cursor down",MOVE_WS_CURSOR_LEFT:"move workspace cursor left",MOVE_WS_CURSOR_RIGHT:"move workspace cursor right"},y.navigation.MARKER_NAME="local_marker_1",y.navigation.getMarker=function(){return y.navigation.getNavigationWorkspace().getMarker(y.navigation.MARKER_NAME)},y.navigation.getNavigationWorkspace=function(){return y.getMainWorkspace()},y.navigation.focusToolbox_=function(){var e=y.navigation.getNavigationWorkspace().getToolbox();e&&(y.navigation.currentState_=y.navigation.STATE_TOOLBOX,y.navigation.resetFlyout_(!1),y.navigation.getMarker().getCurNode()||y.navigation.markAtCursor_(),e.selectFirstCategory())},y.navigation.focusFlyout_=function(){y.navigation.currentState_=y.navigation.STATE_FLYOUT;var e=y.navigation.getNavigationWorkspace(),t=e.getToolbox();e=t?t.getFlyout():e.getFlyout(),y.navigation.getMarker().getCurNode()||y.navigation.markAtCursor_(),e&&e.getWorkspace()&&(e=e.getWorkspace().getTopBlocks(!0),0<e.length&&(e=e[0],e=y.ASTNode.createStackNode(e),y.navigation.getFlyoutCursor_().setCurNode(e)))},y.navigation.focusWorkspace_=function(){y.hideChaff();var e=y.navigation.getNavigationWorkspace(),t=e.getCursor(),o=!!e.getToolbox(),i=e.getTopBlocks(!0);y.navigation.resetFlyout_(o),y.navigation.currentState_=y.navigation.STATE_WS,0<i.length?t.setCurNode(y.ASTNode.createTopNode(i[0])):(o=new y.utils.Coordinate(100,100),e=y.ASTNode.createWorkspaceNode(e,o),t.setCurNode(e))},y.navigation.getFlyoutCursor_=function(){var e=y.navigation.getNavigationWorkspace(),t=null;return e.rendered&&(t=(e=(t=e.getToolbox())?t.getFlyout():e.getFlyout())?e.getWorkspace().getCursor():null),t},y.navigation.insertFromFlyout=function(){var e=y.navigation.getNavigationWorkspace(),t=e.getFlyout();if(t&&t.isVisible()){var o=y.navigation.getFlyoutCursor_().getCurNode().getLocation();o.isEnabled()?(t=t.createBlock(o),t.render(),t.setConnectionTracking(!0),e.getCursor().setCurNode(y.ASTNode.createBlockNode(t)),y.navigation.modify_()||y.navigation.warn_("Something went wrong while inserting a block from the flyout."),y.navigation.focusWorkspace_(),e.getCursor().setCurNode(y.ASTNode.createTopNode(t)),y.navigation.removeMark_()):y.navigation.warn_("Can't insert a disabled block.")}else y.navigation.warn_("Trying to insert from the flyout when the flyout does not  exist or is not visible")},y.navigation.resetFlyout_=function(e){y.navigation.getFlyoutCursor_()&&(y.navigation.getFlyoutCursor_().hide(),e&&y.navigation.getNavigationWorkspace().getFlyout().hide())},y.navigation.modifyWarn_=function(){var e=y.navigation.getMarker().getCurNode(),t=y.navigation.getNavigationWorkspace().getCursor().getCurNode();return e?t?(e=e.getType(),t=t.getType(),e==y.ASTNode.types.FIELD?(y.navigation.warn_("Should not have been able to mark a field."),!1):e==y.ASTNode.types.BLOCK?(y.navigation.warn_("Should not have been able to mark a block."),!1):e==y.ASTNode.types.STACK?(y.navigation.warn_("Should not have been able to mark a stack."),!1):t==y.ASTNode.types.FIELD?(y.navigation.warn_("Cannot attach a field to anything else."),!1):t!=y.ASTNode.types.WORKSPACE||(y.navigation.warn_("Cannot attach a workspace to anything else."),!1)):(y.navigation.warn_("Cannot insert with no cursor node."),!1):(y.navigation.warn_("Cannot insert with no marked node."),!1)},y.navigation.moveBlockToWorkspace_=function(e,t){return!!e&&(e.isShadow()?(y.navigation.warn_("Cannot move a shadow block to the workspace."),!1):(e.getParent()&&e.unplug(!1),e.moveTo(t.getWsCoordinate()),!0))},y.navigation.modify_=function(){var t=y.navigation.getMarker().getCurNode(),o=y.navigation.getNavigationWorkspace().getCursor().getCurNode();if(!y.navigation.modifyWarn_())return!1;var i=t.getType(),r=o.getType(),n=o.getLocation(),e=t.getLocation();return t.isConnection()&&o.isConnection()?y.navigation.connect_(n,e):t.isConnection()&&(r==y.ASTNode.types.BLOCK||r==y.ASTNode.types.STACK)?y.navigation.insertBlock(n,e):i==y.ASTNode.types.WORKSPACE?(o=o?o.getSourceBlock():null,y.navigation.moveBlockToWorkspace_(o,t)):(y.navigation.warn_("Unexpected state in Blockly.navigation.modify_."),!1)},y.navigation.disconnectChild_=function(e,t){var o=e.getSourceBlock(),i=t.getSourceBlock();o.getRootBlock()==i.getRootBlock()&&(-1<o.getDescendants(!1).indexOf(i)?y.navigation.getInferiorConnection_(t).disconnect():y.navigation.getInferiorConnection_(e).disconnect())},y.navigation.moveAndConnect_=function(e,t){if(!e||!t)return!1;var o=e.getSourceBlock();return t.canConnectWithReason(e)==y.Connection.CAN_CONNECT&&(y.navigation.disconnectChild_(e,t),t.isSuperior()||o.getRootBlock().positionNearConnection(e,t),t.connect(e),!0)},y.navigation.getInferiorConnection_=function(e){var t=e.getSourceBlock();return e.isSuperior()?t.previousConnection?t.previousConnection:t.outputConnection?t.outputConnection:null:e},y.navigation.getSuperiorConnection_=function(e){return e.isSuperior()?e:e.targetConnection?e.targetConnection:null},y.navigation.connect_=function(t,o){if(!t||!o)return!1;var i=y.navigation.getInferiorConnection_(t),r=y.navigation.getSuperiorConnection_(o),n=y.navigation.getSuperiorConnection_(t),e=y.navigation.getInferiorConnection_(o);if(i&&r&&y.navigation.moveAndConnect_(i,r)||n&&e&&y.navigation.moveAndConnect_(n,e)||y.navigation.moveAndConnect_(t,o))return!0;try{o.checkConnection(t)}catch(e){y.navigation.warn_("Connection failed with error: "+e)}return!1},y.navigation.insertBlock=function(e,t){switch(t.type){case y.PREVIOUS_STATEMENT:if(y.navigation.connect_(e.nextConnection,t))return!0;break;case y.NEXT_STATEMENT:if(y.navigation.connect_(e.previousConnection,t))return!0;break;case y.INPUT_VALUE:if(y.navigation.connect_(e.outputConnection,t))return!0;break;case y.OUTPUT_VALUE:for(var o=0,i;o<e.inputList.length;o++)if(i=e.inputList[o].connection,i&&i.type===y.INPUT_VALUE&&y.navigation.connect_(i,t))return!0;if(e.outputConnection&&y.navigation.connect_(e.outputConnection,t))return!0;}return y.navigation.warn_("This block can not be inserted at the marked location."),!1},y.navigation.disconnectBlocks_=function(){var e=y.navigation.getNavigationWorkspace(),t=e.getCursor().getCurNode();if(t.isConnection()){var o=t.getLocation();o.isConnected()?(t=o.isSuperior()?o:o.targetConnection,o=o.isSuperior()?o.targetConnection:o,o.getSourceBlock().isShadow()?y.navigation.log_("Cannot disconnect a shadow block"):(t.disconnect(),o.bumpAwayFrom(t),t.getSourceBlock().getRootBlock().bringToFront(),t=y.ASTNode.createConnectionNode(t),e.getCursor().setCurNode(t))):y.navigation.log_("Cannot disconnect unconnected connection")}else y.navigation.log_("Cannot disconnect blocks when the cursor is not on a connection")},y.navigation.markAtCursor_=function(){y.navigation.getMarker().setCurNode(y.navigation.getNavigationWorkspace().getCursor().getCurNode())},y.navigation.removeMark_=function(){var e=y.navigation.getMarker();e.setCurNode(null),e.hide()},y.navigation.setState=function(e){y.navigation.currentState_=e},y.navigation.moveCursorOnBlockDelete=function(e){var t=y.navigation.getNavigationWorkspace();if(t&&(t=t.getCursor())){var o=t.getCurNode();o=o?o.getSourceBlock():null,o===e?o.getParent()?(e=o.previousConnection||o.outputConnection)&&t.setCurNode(y.ASTNode.createConnectionNode(e.targetConnection)):t.setCurNode(y.ASTNode.createWorkspaceNode(o.workspace,o.getRelativeToSurfaceXY())):o&&-1<e.getChildren(!1).indexOf(o)&&t.setCurNode(y.ASTNode.createWorkspaceNode(o.workspace,o.getRelativeToSurfaceXY()))}},y.navigation.moveCursorOnBlockMutation=function(e){var t=y.navigation.getNavigationWorkspace().getCursor();if(t){var o=t.getCurNode();o=o?o.getSourceBlock():null,o===e&&t.setCurNode(y.ASTNode.createBlockNode(o))}},y.navigation.enableKeyboardAccessibility=function(){var e=y.navigation.getNavigationWorkspace();e.keyboardAccessibilityMode||(e.keyboardAccessibilityMode=!0,y.navigation.focusWorkspace_())},y.navigation.disableKeyboardAccessibility=function(){var e=y.navigation.getNavigationWorkspace();e.keyboardAccessibilityMode&&(e.keyboardAccessibilityMode=!1,e.getCursor().hide(),y.navigation.getMarker().hide(),y.navigation.getFlyoutCursor_()&&y.navigation.getFlyoutCursor_().hide())},y.navigation.log_=function(e){y.navigation.loggingCallback?y.navigation.loggingCallback("log",e):console.log(e)},y.navigation.warn_=function(e){y.navigation.loggingCallback?y.navigation.loggingCallback("warn",e):console.warn(e)},y.navigation.error_=function(e){y.navigation.loggingCallback?y.navigation.loggingCallback("error",e):console.error(e)},y.navigation.onKeyPress=function(e){return e=y.user.keyMap.serializeKeyEvent(e),!!(e=y.user.keyMap.getActionByKeyCode(e))&&y.navigation.onBlocklyAction(e)},y.navigation.onBlocklyAction=function(e){var t=y.navigation.getNavigationWorkspace(),o=t.options.readOnly,i=!1;return t.keyboardAccessibilityMode?o?-1<y.navigation.READONLY_ACTION_LIST.indexOf(e)&&(i=y.navigation.handleActions_(e)):i=y.navigation.handleActions_(e):e.name===y.navigation.actionNames.TOGGLE_KEYBOARD_NAV&&(y.navigation.enableKeyboardAccessibility(),i=!0),i},y.navigation.handleActions_=function(e){return e.name==y.navigation.actionNames.TOOLBOX||y.navigation.currentState_==y.navigation.STATE_TOOLBOX?y.navigation.toolboxOnAction_(e):e.name==y.navigation.actionNames.TOGGLE_KEYBOARD_NAV?(y.navigation.disableKeyboardAccessibility(),!0):y.navigation.currentState_==y.navigation.STATE_WS?y.navigation.workspaceOnAction_(e):y.navigation.currentState_==y.navigation.STATE_FLYOUT&&y.navigation.flyoutOnAction_(e)},y.navigation.flyoutOnAction_=function(e){var t=y.navigation.getNavigationWorkspace(),o=t.getToolbox();if((t=o?o.getFlyout():t.getFlyout())&&t.onBlocklyAction(e))return!0;switch(e.name){case y.navigation.actionNames.OUT:return y.navigation.focusToolbox_(),!0;case y.navigation.actionNames.MARK:return y.navigation.insertFromFlyout(),!0;case y.navigation.actionNames.EXIT:return y.navigation.focusWorkspace_(),!0;default:return!1;}},y.navigation.toolboxOnAction_=function(e){var t=y.navigation.getNavigationWorkspace(),o=t.getToolbox();return!!(o&&"function"==typeof o.onBlocklyAction&&o.onBlocklyAction(e))||(e.name===y.navigation.actionNames.TOOLBOX?(t.getToolbox()?y.navigation.focusToolbox_():y.navigation.focusFlyout_(),!0):e.name===y.navigation.actionNames.IN?(y.navigation.focusFlyout_(),!0):e.name===y.navigation.actionNames.EXIT&&(y.navigation.focusWorkspace_(),!0))},y.navigation.moveWSCursor_=function(t,o){var i=y.navigation.getNavigationWorkspace(),r=i.getCursor(),n=i.getCursor().getCurNode();return n.getType()===y.ASTNode.types.WORKSPACE&&(n=n.getWsCoordinate(),r.setCurNode(y.ASTNode.createWorkspaceNode(i,new y.utils.Coordinate(t*y.navigation.WS_MOVE_DISTANCE+n.x,o*y.navigation.WS_MOVE_DISTANCE+n.y))),!0)},y.navigation.workspaceOnAction_=function(e){if(y.navigation.getNavigationWorkspace().getCursor().onBlocklyAction(e))return!0;switch(e.name){case y.navigation.actionNames.INSERT:return y.navigation.modify_(),!0;case y.navigation.actionNames.MARK:return y.navigation.handleEnterForWS_(),!0;case y.navigation.actionNames.DISCONNECT:return y.navigation.disconnectBlocks_(),!0;case y.navigation.actionNames.MOVE_WS_CURSOR_UP:return y.navigation.moveWSCursor_(0,-1);case y.navigation.actionNames.MOVE_WS_CURSOR_DOWN:return y.navigation.moveWSCursor_(0,1);case y.navigation.actionNames.MOVE_WS_CURSOR_LEFT:return y.navigation.moveWSCursor_(-1,0);case y.navigation.actionNames.MOVE_WS_CURSOR_RIGHT:return y.navigation.moveWSCursor_(1,0);default:return!1;}},y.navigation.handleEnterForWS_=function(){var e=y.navigation.getNavigationWorkspace().getCursor().getCurNode(),t=e.getType();t==y.ASTNode.types.FIELD?e.getLocation().showEditor():e.isConnection()||t==y.ASTNode.types.WORKSPACE?y.navigation.markAtCursor_():t==y.ASTNode.types.BLOCK?y.navigation.warn_("Cannot mark a block."):t==y.ASTNode.types.STACK&&y.navigation.warn_("Cannot mark a stack.")},y.navigation.ACTION_PREVIOUS=new y.Action(y.navigation.actionNames.PREVIOUS,"Go to the previous location."),y.navigation.ACTION_OUT=new y.Action(y.navigation.actionNames.OUT,"Go to the parent of the current location."),y.navigation.ACTION_NEXT=new y.Action(y.navigation.actionNames.NEXT,"Go to the next location."),y.navigation.ACTION_IN=new y.Action(y.navigation.actionNames.IN,"Go to the first child of the current location."),y.navigation.ACTION_INSERT=new y.Action(y.navigation.actionNames.INSERT,"Connect the current location to the marked location."),y.navigation.ACTION_MARK=new y.Action(y.navigation.actionNames.MARK,"Mark the current location."),y.navigation.ACTION_DISCONNECT=new y.Action(y.navigation.actionNames.DISCONNECT,"Disconnect the block at the current location from its parent."),y.navigation.ACTION_TOOLBOX=new y.Action(y.navigation.actionNames.TOOLBOX,"Open the toolbox."),y.navigation.ACTION_EXIT=new y.Action(y.navigation.actionNames.EXIT,"Close the current modal, such as a toolbox or field editor."),y.navigation.ACTION_TOGGLE_KEYBOARD_NAV=new y.Action(y.navigation.actionNames.TOGGLE_KEYBOARD_NAV,"Turns on and off keyboard navigation."),y.navigation.ACTION_MOVE_WS_CURSOR_LEFT=new y.Action(y.navigation.actionNames.MOVE_WS_CURSOR_LEFT,"Move the workspace cursor to the lefts."),y.navigation.ACTION_MOVE_WS_CURSOR_RIGHT=new y.Action(y.navigation.actionNames.MOVE_WS_CURSOR_RIGHT,"Move the workspace cursor to the right."),y.navigation.ACTION_MOVE_WS_CURSOR_UP=new y.Action(y.navigation.actionNames.MOVE_WS_CURSOR_UP,"Move the workspace cursor up."),y.navigation.ACTION_MOVE_WS_CURSOR_DOWN=new y.Action(y.navigation.actionNames.MOVE_WS_CURSOR_DOWN,"Move the workspace cursor down."),y.navigation.READONLY_ACTION_LIST=[y.navigation.ACTION_PREVIOUS,y.navigation.ACTION_OUT,y.navigation.ACTION_IN,y.navigation.ACTION_NEXT,y.navigation.ACTION_TOGGLE_KEYBOARD_NAV],y.Gesture=function(e,t){this.mouseDownXY_=null,this.currentDragDeltaXY_=new y.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=t,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!y.DRAG_STACK},y.Gesture.prototype.dispose=function(){y.Touch.clearTouchIdentifier(),y.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&y.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&y.unbindEvent_(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},y.Gesture.prototype.updateFromEvent_=function(e){var t=new y.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(t)&&(this.updateIsDragging_(),y.longStop_()),this.mostRecentEvent_=e},y.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=y.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=y.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?y.FLYOUT_DRAG_RADIUS:y.DRAG_RADIUS))},y.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!!(this.targetBlock_&&this.flyout_.isBlockCreatable_(this.targetBlock_))&&(!this.flyout_.isScrollable()||this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),y.Events.getGroup()||y.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},y.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},y.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},y.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new y.FlyoutDragger(this.flyout_):new y.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},y.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},y.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new y.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},y.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new y.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},y.Gesture.prototype.doStart=function(e){y.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,y.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),y.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,y.Tooltip.block(),this.targetBlock_&&(!this.targetBlock_.isInFlyout&&e.shiftKey&&this.targetBlock_.workspace.keyboardAccessibilityMode?this.creatorWorkspace_.getCursor().setCurNode(y.ASTNode.createTopNode(this.targetBlock_)):this.targetBlock_.select()),y.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||y.longStart(e,this),this.mouseDownXY_=new y.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},y.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=y.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=y.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},y.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},y.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),y.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},y.Gesture.prototype.cancel=function(){this.isEnding_||(y.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},y.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),y.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(y.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},y.Gesture.prototype.handleWsStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e),this.startWorkspace_.keyboardAccessibilityMode&&y.navigation.setState(y.navigation.STATE_WS)},y.Gesture.prototype.fireWorkspaceClick_=function(e){var t=new y.Events.Ui(null,"workspaceClick",null,null);t.workspaceId=e.id,y.Events.fire(t)},y.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},y.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},y.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},y.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},y.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},y.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(y.Events.getGroup()||y.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):y.Events.fire(new y.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),y.Events.setGroup(!1)},y.Gesture.prototype.doWorkspaceClick_=function(e){var t=this.creatorWorkspace_;e.shiftKey&&t.keyboardAccessibilityMode?(e=new y.utils.Coordinate(e.clientX,e.clientY),e=y.utils.screenToWsCoordinates(t,e),e=y.ASTNode.createWorkspaceNode(t,e),t.getCursor().setCurNode(e)):y.selected&&y.selected.unselect(),this.fireWorkspaceClick_(t)},y.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},y.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},y.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},y.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},y.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},y.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},y.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},y.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},y.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},y.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},y.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},y.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},y.Gesture.prototype.hasStarted=function(){return this.hasStarted_},y.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},y.Gesture.inProgress=function(){for(var e=y.Workspace.getAll(),t=0,o;o=e[t];t++)if(o.currentGesture_)return!0;return!1},y.Field=function(e,t,o){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new y.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,o&&this.configure_(o),this.setValue(e),t&&this.setValidator(t)},y.Field.prototype.DEFAULT_VALUE=null,y.Field.prototype.name=void 0,y.Field.prototype.disposed=!1,y.Field.prototype.maxDisplayLength=50,y.Field.prototype.sourceBlock_=null,y.Field.prototype.isDirty_=!0,y.Field.prototype.visible_=!0,y.Field.prototype.clickTarget_=null,y.Field.NBSP="\xA0",y.Field.prototype.EDITABLE=!0,y.Field.prototype.SERIALIZABLE=!1,y.Field.prototype.configure_=function(e){var t=e.tooltip;"string"==typeof t&&(t=y.utils.replaceMessageReferences(e.tooltip)),t&&this.setTooltip(t)},y.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},y.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},y.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},y.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=y.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},y.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},y.Field.prototype.initModel=function(){},y.Field.prototype.createBorderRect_=function(){this.borderRect_=y.utils.dom.createSvgElement("rect",{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},y.Field.prototype.createTextElement_=function(){this.textElement_=y.utils.dom.createSvgElement("text",{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},y.Field.prototype.bindEvents_=function(){y.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=y.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},y.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},y.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},y.Field.prototype.dispose=function(){y.DropDownDiv.hideIfOwner(this),y.WidgetDiv.hideIfOwner(this),y.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&y.unbindEvent_(this.mouseDownWrapper_),y.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},y.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(y.utils.dom.addClass(e,"blocklyEditableText"),y.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(y.utils.dom.addClass(e,"blocklyNonEditableText"),y.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},y.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},y.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},y.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},y.Field.prototype.isVisible=function(){return this.visible_},y.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},y.Field.prototype.setValidator=function(e){this.validator_=e},y.Field.prototype.getValidator=function(){return this.validator_},y.Field.prototype.classValidator=function(e){return e},y.Field.prototype.callValidator=function(e){var t=this.classValidator(e);if(null===t)return null;if(void 0!==t&&(e=t),t=this.getValidator()){if(t=t.call(this,e),null===t)return null;void 0!==t&&(e=t)}return e},y.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},y.Field.prototype.applyColour=function(){},y.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},y.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},y.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.utils.dom.getTextWidth() to check the size of the field."),this.updateSize_()},y.Field.prototype.updateSize_=function(t){var o=this.getConstants();t=void 0==t?this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0:t;var i=2*t,r=o.FIELD_TEXT_HEIGHT,n=0;this.textElement_&&(n=y.utils.dom.getFastTextWidth(this.textElement_,o.FIELD_TEXT_FONTSIZE,o.FIELD_TEXT_FONTWEIGHT,o.FIELD_TEXT_FONTFAMILY),i+=n),this.borderRect_&&(r=u(r,o.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=r,this.size_.width=i,this.positionTextElement_(t,n),this.positionBorderRect_()},y.Field.prototype.positionTextElement_=function(e,t){if(this.textElement_){var o=this.getConstants(),i=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-t-e:e),this.textElement_.setAttribute("y",o.FIELD_TEXT_BASELINE_CENTER?i:i-o.FIELD_TEXT_HEIGHT/2+o.FIELD_TEXT_BASELINE)}},y.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},y.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new y.utils.Size(0,0)},y.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),o=y.utils.style.getPageOffset(this.borderRect_),i=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),t=this.sourceBlock_.workspace.scale,o=this.getAbsoluteXY_(),i=e.width*t;e=e.height*t,y.utils.userAgent.GECKO?(o.x+=1.5*t,o.y+=1.5*t):y.utils.userAgent.EDGE||y.utils.userAgent.IE||(o.x-=.5*t,o.y-=.5*t),i+=1*t,e+=1*t}return new y.utils.Rect(o.y,o.y+e,o.x,o.x+i)},y.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,y.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200F"),e):y.Field.NBSP},y.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return e+""}return this.getValue()+""},y.Field.prototype.setText=function(){throw Error("setText method is deprecated")},y.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},y.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},y.Field.prototype.setValue=function(e){if(null!==e){var t=this.doClassValidation_(e);if(e=this.processValidation_(e,t),!(e instanceof Error)){if((t=this.getValidator())&&(t=t.call(this,e),e=this.processValidation_(e,t),e instanceof Error))return;if(t=this.sourceBlock_,!t||!t.disposed){var o=this.getValue();o!==e&&(t&&y.Events.isEnabled()&&y.Events.fire(new y.Events.BlockChange(t,"field",this.name||null,o,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},y.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},y.Field.prototype.getValue=function(){return this.value_},y.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e=this.classValidator(e)},y.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},y.Field.prototype.doValueInvalid_=function(){},y.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},y.Field.prototype.setTooltip=function(e){var t=this.getClickTarget_();t?t.tooltip=e||""===e?e:this.sourceBlock_:this.tooltip_=e},y.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},y.Field.prototype.getAbsoluteXY_=function(){return y.utils.style.getPageOffset(this.getClickTarget_())},y.Field.prototype.referencesVariables=function(){return!1},y.Field.prototype.getParentInput=function(){for(var t=null,o=this.sourceBlock_,i=o.inputList,r=0;r<o.inputList.length;r++)for(var n=i[r],e=n.fieldRow,a=0;a<e.length;a++)if(e[a]===this){t=n;break}return t},y.Field.prototype.getFlipRtl=function(){return!1},y.Field.prototype.isTabNavigable=function(){return!1},y.Field.prototype.onBlocklyAction=function(){return!1},y.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},y.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},y.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(y.navigation.MARKER_NAME).draw()},y.FieldLabel=function(e,t,o){this.class_=null,y.FieldLabel.superClass_.constructor.call(this,e,null,o),o||(this.class_=t||null)},y.utils.object.inherits(y.FieldLabel,y.Field),y.FieldLabel.prototype.DEFAULT_VALUE="",y.FieldLabel.fromJson=function(e){var t=y.utils.replaceMessageReferences(e.text);return new y.FieldLabel(t,void 0,e)},y.FieldLabel.prototype.EDITABLE=!1,y.FieldLabel.prototype.configure_=function(e){y.FieldLabel.superClass_.configure_.call(this,e),this.class_=e["class"]},y.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&y.utils.dom.addClass(this.textElement_,this.class_)},y.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e+""},y.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&y.utils.dom.removeClass(this.textElement_,this.class_),e&&y.utils.dom.addClass(this.textElement_,e)),this.class_=e},y.fieldRegistry.register("field_label",y.FieldLabel),y.Input=function(e,t,o,i){if(e!=y.DUMMY_INPUT&&!t)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=t,this.sourceBlock_=o,this.connection=i,this.fieldRow=[]},y.Input.prototype.align=y.ALIGN_LEFT,y.Input.prototype.visible_=!0,y.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},y.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},y.Input.prototype.insertFieldAt=function(e,t,o){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""==t&&o?("string"==typeof t&&(t=new y.FieldLabel(t)),t.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&t.init(),t.name=o,t.setVisible(this.isVisible()),o=t,o.prefixField&&(e=this.insertFieldAt(e,o.prefixField)),this.fieldRow.splice(e,0,t),++e,o.suffixField&&(e=this.insertFieldAt(e,o.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),e):e},y.Input.prototype.removeField=function(e,t){for(var o=0,i;i=this.fieldRow[o];o++)if(i.name===e)return i.dispose(),this.fieldRow.splice(o,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(t)return!1;throw Error("Field \""+e+"\" not found.")},y.Input.prototype.isVisible=function(){return this.visible_},y.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;this.visible_=e;for(var o=0,i;i=this.fieldRow[o];o++)i.setVisible(e);return this.connection&&(this.connection=this.connection,e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll(),o=this.connection.targetBlock())&&(o.getSvgRoot().style.display=e?"block":"none"),t},y.Input.prototype.markDirty=function(){for(var e=0,t;t=this.fieldRow[e];e++)t.markDirty()},y.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},y.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},y.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},y.Input.prototype.dispose=function(){for(var e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},y.Block=function(e,t,o){if(y.Generator&&"undefined"!=typeof y.Generator.prototype[t])throw Error("Block prototypeName \""+t+"\" conflicts with Blockly.Generator members.");if(this.id=o&&!e.getBlockById(o)?o:y.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new y.utils.Size(160,80)},this.xy_=new y.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,t){if(this.type=t,o=y.Blocks[t],!o||"object"!=typeof o)throw TypeError("Unknown block type: "+t);y.utils.object.mixin(this,o)}if(e.addTopBlock(this),e.addTypedBlock(this),"function"==typeof this.init&&this.init(),this.inputsInlineDefault=this.inputsInline,y.Events.isEnabled()){(e=y.Events.getGroup())||y.Events.setGroup(!0);try{y.Events.fire(new y.Events.BlockCreate(this))}finally{e||y.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)},y.Block.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",y.Block.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",y.Block.prototype.data=null,y.Block.prototype.disposed=!1,y.Block.prototype.hue_=null,y.Block.prototype.colour_="#000000",y.Block.prototype.styleName_=null,y.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),y.Events.isEnabled()&&y.Events.fire(new y.Events.BlockDelete(this)),y.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),y.selected==this&&(y.selected=null);for(var o=this.childBlocks_.length-1;0<=o;o--)this.childBlocks_[o].dispose(!1);o=0;for(var i;i=this.inputList[o];o++)i.dispose();this.inputList.length=0;var r=this.getConnections_(!0);o=0;for(var n;n=r[o];o++)n.dispose()}finally{y.Events.enable(),this.disposed=!0}}},y.Block.prototype.initModel=function(){for(var e=0,t;t=this.inputList[e];e++)for(var o=0,i;i=t.fieldRow[o];o++)i.initModel&&i.initModel()},y.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},y.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection,e.disconnect(),e.checkType(t))?t.connect(e):e.onFailedConnect(t))},y.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,t=0,o;t<this.inputList.length;t++)if(o=this.inputList[t].connection,o&&o.type==y.INPUT_VALUE&&o.targetConnection){if(e)return null;e=o}return e},y.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var o=this.getNextBlock();e&&o&&!o.isShadow()&&(e=this.nextConnection.targetConnection,e.disconnect(),t&&t.checkType(e)&&t.connect(e))},y.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t=0,o;o=this.inputList[t];t++)o.connection&&e.push(o.connection);return e},y.Block.prototype.lastConnectionInStack=function(){for(var e=this.nextConnection,t;e;){if(t=e.targetBlock(),!t)return e;e=t.nextConnection}return null},y.Block.prototype.bumpNeighbours=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")},y.Block.prototype.getParent=function(){return this.parentBlock_},y.Block.prototype.getInputWithBlock=function(e){for(var t=0,o;o=this.inputList[t];t++)if(o.connection&&o.connection.targetBlock()==e)return o;return null},y.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(e=e.getParent(),!e)return null}while(e.getNextBlock()==t);return e},y.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},y.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},y.Block.prototype.getFirstStatementConnection=function(){for(var e=0,t;t=this.inputList[e];e++)if(t.connection&&t.connection.type==y.NEXT_STATEMENT)return t.connection;return null},y.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},y.Block.prototype.getTopStackBlock=function(){var e=this;do var t=e.getPreviousBlock();while(t&&t.getNextBlock()==e&&(e=t));return e},y.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t=0,o;o=this.inputList[t];t++)o.connection&&(o=o.connection.targetBlock())&&e.push(o);return(t=this.getNextBlock())&&e.push(t),e},y.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(y.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},y.Block.prototype.getDescendants=function(t){for(var o=[this],i=this.getChildren(t),r=0,e;e=i[r];r++)o.push.apply(o,e.getDescendants(t));return o},y.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},y.Block.prototype.setDeletable=function(e){this.deletable_=e},y.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},y.Block.prototype.setMovable=function(e){this.movable_=e},y.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(y.utils.getBlockTypeCounts(this,!0))},y.Block.prototype.isShadow=function(){return this.isShadow_},y.Block.prototype.setShadow=function(e){this.isShadow_=e},y.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},y.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},y.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},y.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var o=0,i;i=t.fieldRow[o];o++)i.updateEditable()},y.Block.prototype.isDisposed=function(){return this.disposed},y.Block.prototype.getMatchingConnection=function(e,t){var o=this.getConnections_(!0);if(e=e.getConnections_(!0),o.length!=e.length)throw Error("Connection lists did not match in length.");for(var i=0;i<e.length;i++)if(e[i]==t)return o[i];return null},y.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},y.Block.prototype.setTooltip=function(e){this.tooltip=e},y.Block.prototype.getColour=function(){return this.colour_},y.Block.prototype.getStyleName=function(){return this.styleName_},y.Block.prototype.getHue=function(){return this.hue_},y.Block.prototype.setColour=function(e){e=y.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},y.Block.prototype.setStyle=function(e){this.styleName_=e},y.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},y.Block.prototype.getField=function(t){for(var o=0,i;i=this.inputList[o];o++)for(var r=0,n;n=i.fieldRow[r];r++)if(n.name==t)return n;return null},y.Block.prototype.getVars=function(){for(var t=[],o=0,i;i=this.inputList[o];o++)for(var r=0,n;n=i.fieldRow[r];r++)n.referencesVariables()&&t.push(n.getValue());return t},y.Block.prototype.getVarModels=function(){for(var t=[],o=0,i;i=this.inputList[o];o++)for(var r=0,n;n=i.fieldRow[r];r++)n.referencesVariables()&&(n=this.workspace.getVariableById(n.getValue()))&&t.push(n);return t},y.Block.prototype.updateVarName=function(t){for(var o=0,i;i=this.inputList[o];o++)for(var r=0,n;n=i.fieldRow[r];r++)n.referencesVariables()&&t.getId()==n.getValue()&&n.refreshVariableName()},y.Block.prototype.renameVarById=function(t,o){for(var i=0,r;r=this.inputList[i];i++)for(var n=0,e;e=r.fieldRow[n];n++)e.referencesVariables()&&t==e.getValue()&&e.setValue(o)},y.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},y.Block.prototype.setFieldValue=function(e,t){var o=this.getField(t);if(!o)throw Error("Field \""+t+"\" not found.");o.setValue(e)},y.Block.prototype.setPreviousStatement=function(e,t){if(e){if(void 0===t&&(t=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(y.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(t)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},y.Block.prototype.setNextStatement=function(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(y.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},y.Block.prototype.setOutput=function(e,t){if(e){if(void 0===t&&(t=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(y.OUTPUT_VALUE)}this.outputConnection.setCheck(t)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},y.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(y.Events.fire(new y.Events.BlockChange(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},y.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==y.DUMMY_INPUT&&this.inputList[e].type==y.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==y.INPUT_VALUE&&this.inputList[e].type==y.DUMMY_INPUT)return!0;return!1},y.Block.prototype.setOutputShape=function(e){this.outputShape_=e},y.Block.prototype.getOutputShape=function(){return this.outputShape_},y.Block.prototype.setDisabled=function(e){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead."),this.setEnabled(!e)},y.Block.prototype.isEnabled=function(){return!this.disabled},y.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(y.Events.fire(new y.Events.BlockChange(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},y.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},y.Block.prototype.isCollapsed=function(){return this.collapsed_},y.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(y.Events.fire(new y.Events.BlockChange(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},y.Block.prototype.toString=function(t,o){function i(e){var t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!=t.indexOf("Boolean")||-1!=t.indexOf("Number"))}function r(){a&&a.getType()==s.getType()&&a.getLocation()==s.getLocation()&&(a=null)}var n=[];o=o||"?";var e=y.ASTNode.NAVIGATE_ALL_FIELDS;y.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=y.ASTNode.createBlockNode(this),s=a;a;){switch(a.getType()){case y.ASTNode.types.INPUT:var l=a.getLocation();a.in()?i(l)&&n.push("("):n.push(o);break;case y.ASTNode.types.FIELD:l=a.getLocation(),l.name!=y.Block.COLLAPSED_FIELD_NAME&&n.push(l.getText());}if(l=a,a=l.in()||l.next(),!a){for(a=l.out(),r();a&&!a.next();)a=a.out(),r(),a&&a.getType()==y.ASTNode.types.INPUT&&i(a.getLocation())&&n.push(")");a&&(a=a.next())}}for(y.ASTNode.NAVIGATE_ALL_FIELDS=e,o=2,e=n.length;o<e;o++)"("==n[o-2]&&")"==n[o]&&(n[o-2]=n[o-1],n.splice(o-1,2),e-=2);return n=n.join(" ").replace(/(\() | (\))/gmi,"$1$2").trim()||"???",t&&n.length>t&&(n=n.substring(0,t-3)+"..."),n},y.Block.prototype.appendValueInput=function(e){return this.appendInput_(y.INPUT_VALUE,e)},y.Block.prototype.appendStatementInput=function(e){return this.appendInput_(y.NEXT_STATEMENT,e)},y.Block.prototype.appendDummyInput=function(e){return this.appendInput_(y.DUMMY_INPUT,e||"")},y.Block.prototype.jsonInit=function(e){var t=e.type?"Block \""+e.type+"\": ":"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t);for(var o=0;void 0!==e["message"+o];)this.interpolate_(e["message"+o],e["args"+o]||[],e["lastDummyAlign"+o],t),o++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(o=e.tooltip,o=y.utils.replaceMessageReferences(o),this.setTooltip(o)),void 0!==e.enableContextMenu&&(o=e.enableContextMenu,this.contextMenu=!!o),void 0!==e.helpUrl&&(o=e.helpUrl,o=y.utils.replaceMessageReferences(o),this.setHelpUrl(o)),"string"==typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&y.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,t=0;t<e.length;++t)y.Extensions.apply(e[t],this,!1)},y.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(o){console.warn(t+"Illegal colour value: ",e)}}},y.Block.prototype.jsonInitStyle_=function(e,t){e=e.style;try{this.setStyle(e)}catch(o){console.warn(t+"Style does not exist: ",e)}},y.Block.prototype.mixin=function(e,t){if(void 0!==t&&"boolean"!=typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){for(var o in t=[],e)void 0!==this[o]&&t.push(o);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}y.utils.object.mixin(this,e)},y.Block.prototype.interpolate_=function(t,o,i,r){var n=y.utils.tokenizeInterpolation(t),e=[],a=0;t=[];for(var s=0,l;s<n.length;s++)if(l=n[s],"number"==typeof l){if(0>=l||l>o.length)throw Error("Block \""+this.type+"\": Message index %"+l+" out of range.");if(e[l])throw Error("Block \""+this.type+"\": Message index %"+l+" duplicated.");e[l]=!0,a++,t.push(o[l-1])}else(l=l.trim())&&t.push(l);if(a!=o.length)throw Error("Block \""+this.type+"\": Message does not reference all "+o.length+" arg(s).");for(t.length&&("string"==typeof t[t.length-1]||y.utils.string.startsWith(t[t.length-1].type,"field_"))&&(s={type:"input_dummy"},i&&(s.align=i),t.push(s)),i={LEFT:y.ALIGN_LEFT,RIGHT:y.ALIGN_RIGHT,CENTRE:y.ALIGN_CENTRE,CENTER:y.ALIGN_CENTRE},o=[],s=0;s<t.length;s++)if(e=t[s],"string"==typeof e)o.push([e,void 0]);else{n=a=null;do if(l=!1,"string"==typeof e)a=new y.FieldLabel(e);else switch(e.type){case"input_value":n=this.appendValueInput(e.name);break;case"input_statement":n=this.appendStatementInput(e.name);break;case"input_dummy":n=this.appendDummyInput(e.name);break;default:a=y.fieldRegistry.fromJson(e),!a&&e.alt&&(e=e.alt,l=!0);}while(l);if(a)o.push([a,e.name]);else if(n){for(e.check&&n.setCheck(e.check),e.align&&(a=i[e.align.toUpperCase()],void 0===a?console.warn(r+"Illegal align value: ",e.align):n.setAlign(a)),e=0;e<o.length;e++)n.appendField(o[e][0],o[e][1]);o.length=0}}},y.Block.prototype.appendInput_=function(e,t){var o=null;return(e==y.INPUT_VALUE||e==y.NEXT_STATEMENT)&&(o=this.makeConnection_(e)),e==y.NEXT_STATEMENT&&this.statementInputCount++,e=new y.Input(e,t,this,o),this.inputList.push(e),e},y.Block.prototype.moveInputBefore=function(t,o){if(t!=o){for(var i=-1,r=o?-1:this.inputList.length,n=0,e;e=this.inputList[n];n++)if(e.name==t){if(i=n,-1!=r)break;}else if(o&&e.name==o&&(r=n,-1!=i))break;if(-1==i)throw Error("Named input \""+t+"\" not found.");if(-1==r)throw Error("Reference input \""+o+"\" not found.");this.moveNumberedInputBefore(i,r)}},y.Block.prototype.moveNumberedInputBefore=function(e,t){if(e==t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var o=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,o)},y.Block.prototype.removeInput=function(e,t){for(var o=0,i;i=this.inputList[o];o++)if(i.name==e)return i.type==y.NEXT_STATEMENT&&this.statementInputCount--,i.dispose(),this.inputList.splice(o,1),!0;if(t)return!1;throw Error("Input not found: "+e)},y.Block.prototype.getInput=function(e){for(var t=0,o;o=this.inputList[t];t++)if(o.name==e)return o;return null},y.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},y.Block.prototype.getCommentText=function(){return this.commentModel.text},y.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(y.Events.fire(new y.Events.BlockChange(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},y.Block.prototype.setWarningText=function(){},y.Block.prototype.setMutator=function(){},y.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},y.Block.prototype.moveBy=function(e,t){if(this.parentBlock_)throw Error("Block has parent.");var o=new y.Events.BlockMove(this);this.xy_.translate(e,t),o.recordNew(),y.Events.fire(o)},y.Block.prototype.makeConnection_=function(e){return new y.Connection(this,e)},y.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t=0,o;o=this.inputList[t];t++)if(o.connection&&(o=o.connection.targetBlock(),!o||!o.allInputsFilled(e)))return!1;return!(t=this.getNextBlock())||t.allInputsFilled(e)},y.Block.prototype.toDevString=function(){var e=this.type?"\""+this.type+"\" block":"Block";return this.id&&(e+=" (id=\""+this.id+"\")"),e},y.blockRendering={},y.blockRendering.IPathObject=function(){},y.utils.aria={},y.utils.aria.ARIA_PREFIX_="aria-",y.utils.aria.ROLE_ATTRIBUTE_="role",y.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},y.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},y.utils.aria.setRole=function(e,t){e.setAttribute(y.utils.aria.ROLE_ATTRIBUTE_,t)},y.utils.aria.setState=function(e,t,o){Array.isArray(o)&&(o=o.join(" ")),e.setAttribute(y.utils.aria.ARIA_PREFIX_+t,o)},y.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},y.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},y.Menu.prototype.render=function(e){var t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName_&&y.utils.aria.setRole(t,this.roleName_),this.element_=t;for(var o=0,i;i=this.menuItems_[o];o++)t.appendChild(i.createDom());this.mouseOverHandler_=y.bindEventWithChecks_(t,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=y.bindEventWithChecks_(t,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=y.bindEventWithChecks_(t,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=y.bindEventWithChecks_(t,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=y.bindEventWithChecks_(t,"keydown",this,this.handleKeyEvent_),e.appendChild(t)},y.Menu.prototype.getElement=function(){return this.element_},y.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),y.utils.dom.addClass(e,"blocklyFocused"))},y.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),y.utils.dom.removeClass(e,"blocklyFocused"))},y.Menu.prototype.setRole=function(e){this.roleName_=e},y.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(y.unbindEvent_(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(y.unbindEvent_(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(y.unbindEvent_(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(y.unbindEvent_(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(y.unbindEvent_(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var e=0,t;t=this.menuItems_[e];e++)t.dispose();this.element_=null},y.Menu.prototype.getMenuItem_=function(e){for(var t=this.getElement();e&&e!=t;){if(y.utils.dom.hasClass(e,"blocklyMenuItem"))for(var o=0,i;i=this.menuItems_[o];o++)if(i.getElement()==e)return i;e=e.parentElement}return null},y.Menu.prototype.setHighlighted=function(e){var t=this.highlightedItem_;t&&(t.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,t=this.getElement(),y.utils.style.scrollIntoContainerView(e.getElement(),t),y.utils.aria.setState(t,y.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},y.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},y.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},y.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},y.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},y.Menu.prototype.highlightHelper_=function(e,t){e+=t;for(var o;o=this.menuItems_[e];){if(o.isEnabled()){this.setHighlighted(o);break}e+=t}},y.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},y.Menu.prototype.handleClick_=function(e){var t=this.openingCoords;if(this.openingCoords=null,t&&"number"==typeof e.clientX){var o=new y.utils.Coordinate(e.clientX,e.clientY);if(1>y.utils.Coordinate.distance(t,o))return}(e=this.getMenuItem_(e.target))&&e.performAction()},y.Menu.prototype.handleMouseEnter_=function(){this.focus()},y.Menu.prototype.handleMouseLeave_=function(){this.getElement()&&(this.blur_(),this.setHighlighted(null))},y.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem_;switch(e.keyCode){case y.utils.KeyCodes.ENTER:case y.utils.KeyCodes.SPACE:t&&t.performAction();break;case y.utils.KeyCodes.UP:this.highlightPrevious();break;case y.utils.KeyCodes.DOWN:this.highlightNext();break;case y.utils.KeyCodes.PAGE_UP:case y.utils.KeyCodes.HOME:this.highlightFirst_();break;case y.utils.KeyCodes.PAGE_DOWN:case y.utils.KeyCodes.END:this.highlightLast_();break;default:return;}e.preventDefault(),e.stopPropagation()}},y.Menu.prototype.getSize=function(){var e=this.getElement(),t=y.utils.style.getSize(e);return t.height=e.scrollHeight,t},y.MenuItem=function(e,t){this.content_=e,this.value_=t,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},y.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=y.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var o=document.createElement("div");o.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(o)}return o=this.content_,"string"==typeof this.content_&&(o=document.createTextNode(this.content_)),t.appendChild(o),e.appendChild(t),this.roleName_&&y.utils.aria.setRole(e,this.roleName_),y.utils.aria.setState(e,y.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),y.utils.aria.setState(e,y.utils.aria.State.DISABLED,!this.enabled_),e},y.MenuItem.prototype.dispose=function(){this.element_=null},y.MenuItem.prototype.getElement=function(){return this.element_},y.MenuItem.prototype.getId=function(){return this.element_.id},y.MenuItem.prototype.getValue=function(){return this.value_},y.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},y.MenuItem.prototype.setRole=function(e){this.roleName_=e},y.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},y.MenuItem.prototype.setChecked=function(e){this.checked_=e},y.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var t=this.getElement();t&&this.isEnabled()&&(e?(y.utils.dom.addClass(t,"blocklyMenuItemHighlight"),y.utils.dom.addClass(t,"goog-menuitem-highlight")):(y.utils.dom.removeClass(t,"blocklyMenuItemHighlight"),y.utils.dom.removeClass(t,"goog-menuitem-highlight")))},y.MenuItem.prototype.isEnabled=function(){return this.enabled_},y.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},y.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},y.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e.bind(t)},y.ContextMenu={},y.ContextMenu.currentBlock=null,y.ContextMenu.menu_=null,y.ContextMenu.show=function(e,t,o){if(y.WidgetDiv.show(y.ContextMenu,o,y.ContextMenu.dispose),t.length){var i=y.ContextMenu.populate_(t,o);y.ContextMenu.menu_=i,y.ContextMenu.position_(i,e,o),setTimeout(function(){i.focus()},1),y.ContextMenu.currentBlock=null}else y.ContextMenu.hide()},y.ContextMenu.populate_=function(t,o){var i=new y.Menu;i.setRole(y.utils.aria.Role.MENU);for(var r=0,n,e;n=t[r];r++)e=new y.MenuItem(n.text),e.setRightToLeft(o),e.setRole(y.utils.aria.Role.MENUITEM),i.addChild(e),e.setEnabled(n.enabled),n.enabled&&e.onAction(function(){y.ContextMenu.hide(),this.callback()},n);return i},y.ContextMenu.position_=function(t,o,i){var r=y.utils.getViewportBBox();o=new y.utils.Rect(o.clientY+r.top,o.clientY+r.top,o.clientX+r.left,o.clientX+r.left),y.ContextMenu.createWidget_(t);var n=t.getSize();i&&(o.left+=n.width,o.right+=n.width,r.left+=n.width,r.right+=n.width),y.WidgetDiv.positionWithAnchor(r,o,n,i),t.focus()},y.ContextMenu.createWidget_=function(e){e.render(y.WidgetDiv.DIV);var t=e.getElement();y.utils.dom.addClass(t,"blocklyContextMenu"),y.bindEventWithChecks_(t,"contextmenu",null,y.utils.noEvent),e.focus()},y.ContextMenu.hide=function(){y.WidgetDiv.hideIfOwner(y.ContextMenu),y.ContextMenu.currentBlock=null},y.ContextMenu.dispose=function(){y.ContextMenu.menu_&&(y.ContextMenu.menu_.dispose(),y.ContextMenu.menu_=null)},y.ContextMenu.callbackFactory=function(e,t){return function(){y.Events.disable();try{var o=y.Xml.domToBlock(t,e.workspace),i=e.getRelativeToSurfaceXY();i.x=e.RTL?i.x-y.SNAP_RADIUS:i.x+y.SNAP_RADIUS,i.y+=2*y.SNAP_RADIUS,o.moveBy(i.x,i.y)}finally{y.Events.enable()}y.Events.isEnabled()&&!o.isShadow()&&y.Events.fire(new y.Events.BlockCreate(o)),o.select()}},y.ContextMenu.blockDeleteOption=function(e){var t=e.getDescendants(!1).length,o=e.getNextBlock();return o&&(t-=o.getDescendants(!1).length),{text:1==t?y.Msg.DELETE_BLOCK:y.Msg.DELETE_X_BLOCKS.replace("%1",t+""),enabled:!0,callback:function(){y.Events.setGroup(!0),e.dispose(!0,!0),y.Events.setGroup(!1)}}},y.ContextMenu.blockHelpOption=function(e){return{enabled:"function"==typeof e.helpUrl?!!e.helpUrl():!!e.helpUrl,text:y.Msg.HELP,callback:function(){e.showHelp()}}},y.ContextMenu.blockDuplicateOption=function(e){var t=e.isDuplicatable();return{text:y.Msg.DUPLICATE_BLOCK,enabled:t,callback:function(){y.duplicate(e)}}},y.ContextMenu.blockCommentOption=function(e){var t={enabled:!y.utils.userAgent.IE};return e.getCommentIcon()?(t.text=y.Msg.REMOVE_COMMENT,t.callback=function(){e.setCommentText(null)}):(t.text=y.Msg.ADD_COMMENT,t.callback=function(){e.setCommentText("")}),t},y.ContextMenu.commentDeleteOption=function(e){return{text:y.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){y.Events.setGroup(!0),e.dispose(!0,!0),y.Events.setGroup(!1)}}},y.ContextMenu.commentDuplicateOption=function(e){return{text:y.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){y.duplicate(e)}}},y.ContextMenu.workspaceCommentOption=function(t,o){if(!y.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var e={enabled:!y.utils.userAgent.IE,text:y.Msg.ADD_COMMENT,callback:function(){var i=new y.WorkspaceCommentSvg(t,y.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,y.WorkspaceCommentSvg.DEFAULT_SIZE,y.WorkspaceCommentSvg.DEFAULT_SIZE),r=t.getInjectionDiv().getBoundingClientRect();r=new y.utils.Coordinate(o.clientX-r.left,o.clientY-r.top);var e=t.getOriginOffsetInPixels();r=y.utils.Coordinate.difference(r,e),r.scale(1/t.scale),i.moveBy(r.x,r.y),t.rendered&&(i.initSvg(),i.render(),i.select())}};return e},y.RenderedConnection=function(e,t){y.RenderedConnection.superClass_.constructor.call(this,e,t),this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[y.OPPOSITE_TYPE[t]],this.offsetInBlock_=new y.utils.Coordinate(0,0),this.trackedState_=y.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},y.utils.object.inherits(y.RenderedConnection,y.Connection),y.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},y.RenderedConnection.prototype.dispose=function(){y.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==y.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},y.RenderedConnection.prototype.getSourceBlock=function(){return y.RenderedConnection.superClass_.getSourceBlock.call(this)},y.RenderedConnection.prototype.targetBlock=function(){return y.RenderedConnection.superClass_.targetBlock.call(this)},y.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x-e.x;return e=this.y-e.y,_(t*t+e*e)},y.RenderedConnection.prototype.bumpAwayFrom=function(t){if(!this.sourceBlock_.workspace.isDragging()){var o=this.sourceBlock_.getRootBlock();if(!o.isInFlyout){var i=!1;if(!o.isMovable()){if(o=t.getSourceBlock().getRootBlock(),!o.isMovable())return;t=this,i=!0}var r=y.selected==o;r||o.addSelect();var n=t.x+y.SNAP_RADIUS+m(Math.random()*y.BUMP_RANDOMNESS)-this.x,e=t.y+y.SNAP_RADIUS+m(Math.random()*y.BUMP_RANDOMNESS)-this.y;i&&(e=-e),o.RTL&&(n=t.x-y.SNAP_RADIUS-m(Math.random()*y.BUMP_RANDOMNESS)-this.x),o.moveBy(n,e),r||o.removeSelect()}}},y.RenderedConnection.prototype.moveTo=function(e,t){this.trackedState_==y.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,t),this.trackedState_=y.RenderedConnection.TrackedState.TRACKED):this.trackedState_==y.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,t)),this.x=e,this.y=t},y.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x+e,this.y+t)},y.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},y.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},y.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},y.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,t=this.targetConnection.y-this.y;if(0!=e||0!=t){var o=this.targetBlock(),i=o.getSvgRoot();if(!i)throw Error("block is not rendered.");i=y.utils.getRelativeXY(i),o.getSvgRoot().setAttribute("transform","translate("+(i.x-e)+","+(i.y-t)+")"),o.moveConnections(-e,-t)}},y.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},y.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),t=e.shapeFor(this);this.type==y.INPUT_VALUE||this.type==y.OUTPUT_VALUE?(e=e.TAB_OFFSET_FROM_TOP,t=y.utils.svgPaths.moveBy(0,-e)+y.utils.svgPaths.lineOnAxis("v",e)+t.pathDown+y.utils.svgPaths.lineOnAxis("v",e)):(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS,t=y.utils.svgPaths.moveBy(-e,0)+y.utils.svgPaths.lineOnAxis("h",e)+t.pathLeft+y.utils.svgPaths.lineOnAxis("h",e)),e=this.sourceBlock_.getRelativeToSurfaceXY(),y.Connection.highlightedPath_=y.utils.dom.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},y.RenderedConnection.prototype.unhighlight=function(){y.utils.dom.removeNode(y.Connection.highlightedPath_),delete y.Connection.highlightedPath_},y.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==y.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==y.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=y.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==y.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=y.RenderedConnection.TrackedState.UNTRACKED))},y.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var t=this.targetBlock().getDescendants(!1),o=0;o<t.length;o++){for(var i=t[o],r=i.getConnections_(!0),n=0;n<r.length;n++)r[n].setTracking(!1);for(i=i.getIcons(),n=0;n<i.length;n++)i[n].setVisible(!1)}},y.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=y.INPUT_VALUE&&this.type!=y.NEXT_STATEMENT)return e;var t=this.targetBlock();if(t){if(t.isCollapsed()){var o=[];t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)}else o=t.getConnections_(!0);for(var i=0;i<o.length;i++)e.push.apply(e,o[i].startTrackingAll());e.length||(e[0]=t)}return e},y.RenderedConnection.prototype.isConnectionAllowed=function(e,t){return!(this.distanceFrom(e)>t)&&y.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},y.RenderedConnection.prototype.onFailedConnect=function(e){this.bumpAwayFrom(e)},y.RenderedConnection.prototype.disconnectInternal_=function(e,t){y.RenderedConnection.superClass_.disconnectInternal_.call(this,e,t),e.rendered&&e.render(),t.rendered&&(t.updateDisabled(),t.render(),t.getSvgRoot().style.display="block")},y.RenderedConnection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),t=this.getShadowDom();if(e.workspace&&t&&y.Events.recordUndo){if(y.RenderedConnection.superClass_.respawnShadow_.call(this),t=this.targetBlock(),!t)throw Error("Couldn't respawn the shadow block that should exist here.");t.initSvg(),t.render(!1),e.rendered&&e.render()}},y.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},y.RenderedConnection.prototype.connect_=function(e){y.RenderedConnection.superClass_.connect_.call(this,e);var t=this.getSourceBlock();e=e.getSourceBlock();var o=t.rendered,i=e.rendered;o&&t.updateDisabled(),i&&e.updateDisabled(),o&&i&&(this.type==y.NEXT_STATEMENT||this.type==y.PREVIOUS_STATEMENT?e.render():t.render()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")},y.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.checkType(this.targetConnection)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},y.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},y.Marker.prototype.setDrawer=function(e){this.drawer_=e},y.Marker.prototype.getDrawer=function(){return this.drawer_},y.Marker.prototype.getCurNode=function(){return this.curNode_},y.Marker.prototype.setCurNode=function(e){var t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)},y.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},y.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},y.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},y.Cursor=function(){y.Cursor.superClass_.constructor.call(this),this.type="cursor"},y.utils.object.inherits(y.Cursor,y.Marker),y.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==y.ASTNode.types.NEXT||e.getType()==y.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},y.Cursor.prototype.in=function(){var e=this.getCurNode();return e?((e.getType()==y.ASTNode.types.PREVIOUS||e.getType()==y.ASTNode.types.OUTPUT)&&(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},y.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==y.ASTNode.types.NEXT||e.getType()==y.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},y.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==y.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},y.Cursor.prototype.onBlocklyAction=function(e){if(this.getCurNode()&&this.getCurNode().getType()===y.ASTNode.types.FIELD&&this.getCurNode().getLocation().onBlocklyAction(e))return!0;switch(e.name){case y.navigation.actionNames.PREVIOUS:return this.prev(),!0;case y.navigation.actionNames.OUT:return this.out(),!0;case y.navigation.actionNames.NEXT:return this.next(),!0;case y.navigation.actionNames.IN:return this.in(),!0;default:return!1;}},y.BasicCursor=function(){y.BasicCursor.superClass_.constructor.call(this)},y.utils.object.inherits(y.BasicCursor,y.Cursor),y.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},y.BasicCursor.prototype.in=function(){return this.next()},y.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},y.BasicCursor.prototype.out=function(){return this.prev()},y.BasicCursor.prototype.getNextNode_=function(e,t){if(!e)return null;var o=e.in()||e.next();return t(o)?o:o?this.getNextNode_(o,t):(e=this.findSiblingOrParent_(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)},y.BasicCursor.prototype.getPreviousNode_=function(e,t){if(!e)return null;var o=e.prev();return o=o?this.getRightMostChild_(o):e.out(),t(o)?o:o?this.getPreviousNode_(o,t):null},y.BasicCursor.prototype.validNode_=function(e){var t=!1;return e=e&&e.getType(),(e==y.ASTNode.types.OUTPUT||e==y.ASTNode.types.INPUT||e==y.ASTNode.types.FIELD||e==y.ASTNode.types.NEXT||e==y.ASTNode.types.PREVIOUS||e==y.ASTNode.types.WORKSPACE)&&(t=!0),t},y.BasicCursor.prototype.findSiblingOrParent_=function(e){if(!e)return null;var t=e.next();return t?t:this.findSiblingOrParent_(e.out())},y.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},y.TabNavigateCursor=function(){y.TabNavigateCursor.superClass_.constructor.call(this)},y.utils.object.inherits(y.TabNavigateCursor,y.BasicCursor),y.TabNavigateCursor.prototype.validNode_=function(e){var t=!1,o=e&&e.getType();return e&&(e=e.getLocation(),o==y.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t},y.BlockSvg=function(e,t,o){this.svgGroup_=y.utils.dom.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=y.utils.is3dSupported()&&!!e.getBlockDragSurface();var i=this.pathObject.svgPath;i.tooltip=this,y.Tooltip.bindMouseEvents(i),y.BlockSvg.superClass_.constructor.call(this,e,t,o),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id)},y.utils.object.inherits(y.BlockSvg,y.Block),y.BlockSvg.prototype.height=0,y.BlockSvg.prototype.width=0,y.BlockSvg.prototype.warningTextDb_=null,y.BlockSvg.INLINE=-1,y.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",y.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e=0,t;t=this.inputList[e];e++)t.init();for(t=this.getIcons(),e=0;e<t.length;e++)t[e].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||y.bindEventWithChecks_(e,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)},y.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},y.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},y.BlockSvg.prototype.getColourShadow=function(){return this.getColourSecondary()},y.BlockSvg.prototype.getColourBorder=function(){return{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},y.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(y.selected!=this){var e=null;if(y.selected){e=y.selected.id,y.Events.disable();try{y.selected.unselect()}finally{y.Events.enable()}}e=new y.Events.Ui(null,"selected",e,this.id),e.workspaceId=this.workspace.id,y.Events.fire(e),y.selected=this,this.addSelect()}},y.BlockSvg.prototype.unselect=function(){if(y.selected==this){var e=new y.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,y.Events.fire(e),y.selected=null,this.removeSelect()}},y.BlockSvg.prototype.mutator=null,y.BlockSvg.prototype.comment=null,y.BlockSvg.prototype.commentIcon_=null,y.BlockSvg.prototype.warning=null,y.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},y.BlockSvg.prototype.setParent=function(e){var t=this.parentBlock_;if(e!=t){y.utils.dom.startTextWidthCache(),y.BlockSvg.superClass_.setParent.call(this,e),y.utils.dom.stopTextWidthCache();var o=this.getSvgRoot();if(!this.workspace.isClearing&&o){var i=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(o),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-i.x,e.y-i.y)):t&&(this.workspace.getCanvas().appendChild(o),this.translate(i.x,i.y)),this.applyColour()}}},y.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,o=0,i=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,r=this.getSvgRoot();if(r)do{var n=y.utils.getRelativeXY(r);t+=n.x,o+=n.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==r&&(n=this.workspace.getBlockDragSurface().getSurfaceTranslation(),t+=n.x,o+=n.y),r=r.parentNode}while(r&&r!=this.workspace.getCanvas()&&r!=i);return new y.utils.Coordinate(t,o)},y.BlockSvg.prototype.moveBy=function(t,o){if(this.parentBlock_)throw Error("Block has parent.");var i=y.Events.isEnabled();if(i)var r=new y.Events.BlockMove(this);var n=this.getRelativeToSurfaceXY();this.translate(n.x+t,n.y+o),this.moveConnections(t,o),i&&(r.recordNew(),y.Events.fire(r)),this.workspace.resizeContents()},y.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},y.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},y.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},y.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},y.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},y.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},y.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),o=t/2,i=this.getRelativeToSurfaceXY();e=g((i.x-o)/t)*t+o-i.x,t=g((i.y-o)/t)*t+o-i.y,e=g(e),t=g(t),0==e&&0==t||this.moveBy(e,t)}}},y.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();if(this.RTL)var o=e.x-t.width,i=e.x;else o=e.x,i=e.x+t.width;return new y.utils.Rect(e.y,e.y+t.height,o,i)},y.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e=0,t;t=this.inputList[e];e++)t.markDirty()},y.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(y.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},y.BlockSvg.prototype.updateCollapsed_=function(){for(var t=this.isCollapsed(),o=y.Block.COLLAPSED_INPUT_NAME,i=y.Block.COLLAPSED_FIELD_NAME,r=0,n;n=this.inputList[r];r++)n.name!=o&&n.setVisible(!t);if(t){for(n=this.getIcons(),r=0;t=n[r];r++)t.setVisible(!1);r=this.toString(y.COLLAPSE_CHARS),(n=this.getField(i))?n.setValue(r):(n=this.getInput(o)||this.appendDummyInput(o),n.appendField(new y.FieldLabel(r),i))}else this.removeInput(o)},y.BlockSvg.prototype.tab=function(e,t){var o=new y.TabNavigateCursor;o.setCurNode(y.ASTNode.createFieldNode(e)),e=o.getCurNode(),o.onBlocklyAction(t?y.navigation.ACTION_NEXT:y.navigation.ACTION_PREVIOUS),(t=o.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))},y.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},y.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},y.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=this,t=[];if(!this.isInFlyout){if(this.isDeletable()&&this.isMovable()&&t.push(y.ContextMenu.blockDuplicateOption(e)),this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&t.push(y.ContextMenu.blockCommentOption(e)),this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&(o={enabled:!0},o.text=y.Msg.EXPAND_BLOCK,o.callback=function(){e.setCollapsed(!1)},t.push(o));else{for(var o=1;o<this.inputList.length;o++)if(this.inputList[o-1].type!=y.NEXT_STATEMENT&&this.inputList[o].type!=y.NEXT_STATEMENT){o={enabled:!0};var i=this.getInputsInline();o.text=i?y.Msg.EXTERNAL_INPUTS:y.Msg.INLINE_INPUTS,o.callback=function(){e.setInputsInline(!i)},t.push(o);break}this.workspace.options.collapse&&(o={enabled:!0},o.text=y.Msg.COLLAPSE_BLOCK,o.callback=function(){e.setCollapsed(!0)},t.push(o))}this.workspace.options.disable&&this.isEditable()&&(o={text:this.isEnabled()?y.Msg.DISABLE_BLOCK:y.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var t=y.Events.getGroup();t||y.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),t||y.Events.setGroup(!1)}},t.push(o)),this.isDeletable()&&t.push(y.ContextMenu.blockDeleteOption(e))}return t.push(y.ContextMenu.blockHelpOption(e)),this.customContextMenu&&this.customContextMenu(t),t},y.BlockSvg.prototype.showContextMenu=function(e){var t=this.generateContextMenu();t&&t.length&&(y.ContextMenu.show(e,t,this.RTL),y.ContextMenu.currentBlock=this)},y.BlockSvg.prototype.moveConnections=function(e,t){if(this.rendered){for(var o=this.getConnections_(!1),i=0;i<o.length;i++)o[i].moveBy(e,t);for(o=this.getIcons(),i=0;i<o.length;i++)o[i].computeIconLocation();for(i=0;i<this.childBlocks_.length;i++)this.childBlocks_[i].moveConnections(e,t)}},y.BlockSvg.prototype.setDragging=function(e){if(e){var t=this.getSvgRoot();t.translate_="",t.skew_="",y.draggingConnections=y.draggingConnections.concat(this.getConnections_(!0)),y.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else y.draggingConnections=[],y.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)},y.BlockSvg.prototype.setMovable=function(e){y.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},y.BlockSvg.prototype.setEditable=function(e){y.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateEditable()},y.BlockSvg.prototype.setShadow=function(e){y.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},y.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},y.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},y.BlockSvg.prototype.dispose=function(e,t){if(this.workspace){y.Tooltip.dispose(),y.Tooltip.unbindMouseEvents(this.pathObject.svgPath),y.utils.dom.startTextWidthCache();var o=this.workspace;if(y.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),y.ContextMenu.currentBlock==this&&y.ContextMenu.hide(),this.workspace.keyboardAccessibilityMode&&y.navigation.moveCursorOnBlockDelete(this),t&&this.rendered&&(this.unplug(e),y.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}for(t=this.getIcons(),i=0;i<t.length;i++)t[i].dispose();y.BlockSvg.superClass_.dispose.call(this,!!e),y.utils.dom.removeNode(this.svgGroup_),o.resizeContents(),this.svgGroup_=null,y.utils.dom.stopTextWidthCache()}},y.BlockSvg.prototype.toCopyData=function(){var e=y.Xml.blockToDom(this,!0);y.Xml.deleteNext(e);var t=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-t.x:t.x),e.setAttribute("y",t.y),{xml:e,source:this.workspace,typeCounts:y.utils.getBlockTypeCounts(this,!0)}},y.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(e=0;t=this.inputList[e];e++)for(var o=0,i;i=t.fieldRow[o];o++)i.applyColour()},y.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);this.applyColour();for(var t=0,o;o=e[t];t++)o.updateDisabled()},y.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},y.BlockSvg.prototype.setCommentText=function(e){if(!y.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(y.BlockSvg.superClass_.setCommentText.call(this,e),e=null!=e,!!this.commentIcon_==e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new y.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},y.BlockSvg.prototype.setWarningText=function(t,o){if(!y.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var i=o||"";if(i)this.warningTextDb_[i]&&(clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i]);else for(var r in this.warningTextDb_)clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r];if(this.workspace.isDragging()){var n=this;this.warningTextDb_[i]=setTimeout(function(){n.workspace&&(delete n.warningTextDb_[i],n.setWarningText(t,i))},100)}else{if(this.isInFlyout&&(t=null),o=!1,"string"==typeof t){r=this.getSurroundParent();for(var e=null;r;)r.isCollapsed()&&(e=r),r=r.getSurroundParent();e&&e.setWarningText(y.Msg.COLLAPSED_WARNINGS_WARNING,y.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new y.Warning(this),o=!0),this.warning.setText(t,i)}else this.warning&&!i?(this.warning.dispose(),o=!0):this.warning&&(o=this.warning.getText(),this.warning.setText("",i),(r=this.warning.getText())||this.warning.dispose(),o=o!=r);o&&this.rendered&&(this.render(),this.bumpNeighbours())}},y.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.setDisabled=function(e){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead."),this.setEnabled(!e)},y.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(y.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},y.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},y.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},y.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},y.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},y.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},y.BlockSvg.prototype.setColour=function(e){y.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},y.BlockSvg.prototype.setStyle=function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)},y.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot(),o=t.parentNode,i=o.childNodes;i[i.length-1]!==t&&o.appendChild(t),e=e.getParent()}while(e)},y.BlockSvg.prototype.setPreviousStatement=function(e,t){y.BlockSvg.superClass_.setPreviousStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.setNextStatement=function(e,t){y.BlockSvg.superClass_.setNextStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.setOutput=function(e,t){y.BlockSvg.superClass_.setOutput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.setInputsInline=function(e){y.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.removeInput=function(e,t){return e=y.BlockSvg.superClass_.removeInput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e},y.BlockSvg.prototype.moveNumberedInputBefore=function(e,t){y.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours())},y.BlockSvg.prototype.appendInput_=function(e,t){return e=y.BlockSvg.superClass_.appendInput_.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e},y.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var o=this.inputList[t].connection;o&&(o.setTracking(e),(o=o.targetBlock())&&o.setConnectionTracking(e))}},y.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&t.push(o.connection)}return t},y.BlockSvg.prototype.lastConnectionInStack=function(){return y.BlockSvg.superClass_.lastConnectionInStack.call(this)},y.BlockSvg.prototype.getMatchingConnection=function(e,t){return y.BlockSvg.superClass_.getMatchingConnection.call(this,e,t)},y.BlockSvg.prototype.makeConnection_=function(e){return new y.RenderedConnection(this,e)},y.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var o=this.getConnections_(!1),i=0,r;r=o[i];i++){r.isConnected()&&r.isSuperior()&&r.targetBlock().bumpNeighbours();for(var n=r.neighbours(y.SNAP_RADIUS),e=0,a;a=n[e];e++)r.isConnected()&&a.isConnected()||a.getSourceBlock().getRootBlock()!=t&&(r.isSuperior()?a.bumpAwayFrom(r):r.bumpAwayFrom(a))}}},y.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,t=y.Events.getGroup();setTimeout(function(){y.Events.setGroup(t),e.snapToGrid(),y.Events.setGroup(!1)},y.BUMP_DELAY/2),setTimeout(function(){y.Events.setGroup(t),e.bumpNeighbours(),y.Events.setGroup(!1)},y.BUMP_DELAY)},y.BlockSvg.prototype.positionNearConnection=function(e,t){e.type!=y.NEXT_STATEMENT&&e.type!=y.INPUT_VALUE||this.moveBy(t.x-e.x,t.y-e.y)},y.BlockSvg.prototype.getParent=function(){return y.BlockSvg.superClass_.getParent.call(this)},y.BlockSvg.prototype.getRootBlock=function(){return y.BlockSvg.superClass_.getRootBlock.call(this)},y.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,y.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var t=this.getParent();t?t.render(!0):this.workspace.resizeContents()}y.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},y.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(y.navigation.MARKER_NAME).draw()},y.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0,o;t<this.inputList.length;t++)o=this.inputList[t].connection,o&&(o.moveToOffset(e),o.isConnected()&&o.tighten());this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},y.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},y.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},y.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,o=this.getNextBlock();if(o){o=o.getHeightWidth();var i=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=o.height-i,t=u(t,o.width)}return{height:e,width:t}},y.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},y.BlockSvg.prototype.highlightShapeForInput=function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)},y.blockRendering.useDebugger=!1,y.blockRendering.register=function(e,t){y.registry.register(y.registry.Type.RENDERER,e,t)},y.blockRendering.unregister=function(e){y.registry.unregister(y.registry.Type.RENDERER,e)},y.blockRendering.startDebugger=function(){y.blockRendering.useDebugger=!0},y.blockRendering.stopDebugger=function(){y.blockRendering.useDebugger=!1},y.blockRendering.init=function(e,t,o){return e=new(y.registry.getClass(y.registry.Type.RENDERER,e))(e),e.init(t,o),e},y.ConnectionDB=function(){this.connections_=[]},y.ConnectionDB.prototype.addConnection=function(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)},y.ConnectionDB.prototype.findIndexOfConnection_=function(e,t){if(!this.connections_.length)return-1;var o=this.calculateIndexForYPos_(t);if(o>=this.connections_.length)return-1;t=e.y;for(var i=o;0<=i&&this.connections_[i].y==t;){if(this.connections_[i]==e)return i;i--}for(;o<this.connections_.length&&this.connections_[o].y==t;){if(this.connections_[o]==e)return o;o++}return-1},y.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var t=0,o=this.connections_.length,i;t<o;)if(i=m((t+o)/2),this.connections_[i].y<e)t=i+1;else if(this.connections_[i].y>e)o=i;else{t=i;break}return t},y.ConnectionDB.prototype.removeConnection=function(e,t){if(e=this.findIndexOfConnection_(e,t),-1==e)throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},y.ConnectionDB.prototype.getNeighbours=function(t,o){function i(t){var i=n-r[t].x,a=e-r[t].y;return _(i*i+a*a)<=o&&l.push(r[t]),a<o}var r=this.connections_,n=t.x,e=t.y;t=0;for(var a=r.length-2,s=a;t<s;)r[s].y<e?t=s:a=s,s=m((t+a)/2);var l=[];if(a=t=s,r.length){for(;0<=t&&i(t);)t--;do a++;while(a<r.length&&i(a))}return l},y.ConnectionDB.prototype.isInYRange_=function(e,t,o){return l(this.connections_[e].y-t)<=o},y.ConnectionDB.prototype.searchForClosest=function(t,o,i){if(!this.connections_.length)return{connection:null,radius:o};var r=t.y,n=t.x;t.x=n+i.x,t.y=r+i.y;var e=this.calculateIndexForYPos_(t.y);i=null;for(var a=o,s=e-1,l;0<=s&&this.isInYRange_(s,t.y,o);)l=this.connections_[s],t.isConnectionAllowed(l,a)&&(i=l,a=l.distanceFrom(t)),s--;for(;e<this.connections_.length&&this.isInYRange_(e,t.y,o);)l=this.connections_[e],t.isConnectionAllowed(l,a)&&(i=l,a=l.distanceFrom(t)),e++;return t.x=n,t.y=r,{connection:i,radius:a}},y.ConnectionDB.init=function(){var e=[];return e[y.INPUT_VALUE]=new y.ConnectionDB,e[y.OUTPUT_VALUE]=new y.ConnectionDB,e[y.NEXT_STATEMENT]=new y.ConnectionDB,e[y.PREVIOUS_STATEMENT]=new y.ConnectionDB,e},y.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_={},this.workspace_=e},y.MarkerManager.prototype.registerMarker=function(e,t){this.markers_[e]&&this.unregisterMarker(e),t.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers_[e]=t},y.MarkerManager.prototype.unregisterMarker=function(e){var t=this.markers_[e];if(t)t.dispose(),delete this.markers_[e];else throw Error("Marker with id "+e+" does not exist. Can only unregistermarkers that exist.")},y.MarkerManager.prototype.getCursor=function(){return this.cursor_},y.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]},y.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},y.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},y.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},y.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},y.MarkerManager.prototype.dispose=function(){for(var e=Object.keys(this.markers_),t=0,o;o=e[t];t++)this.unregisterMarker(o);this.markers_=null,this.cursor_.dispose(),this.cursor_=null},y.ThemeManager=function(e,t){this.workspace_=e,this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},y.ThemeManager.prototype.getTheme=function(){return this.theme_},y.ThemeManager.prototype.setTheme=function(t){var o=this.theme_;for(this.theme_=t,(t=this.workspace_.getInjectionDiv())&&(o&&y.utils.dom.removeClass(t,o.getClassName()),y.utils.dom.addClass(t,this.theme_.getClassName())),o=0;t=this.subscribedWorkspaces_[o];o++)t.refreshTheme();o=0,t=Object.keys(this.componentDB_);for(var i;i=t[o];o++)for(var r=0,n,e;n=this.componentDB_[i][r];r++){e=n.element,n=n.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(i);e.style[n]=a||""}y.hideChaff()},y.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},y.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(e=this.subscribedWorkspaces_.indexOf(e),0>e)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},y.ThemeManager.prototype.subscribe=function(e,t,o){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:o}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[o]=t||""},y.ThemeManager.prototype.unsubscribe=function(t){if(t)for(var o=Object.keys(this.componentDB_),i=0,r;r=o[i];i++){for(var n=this.componentDB_[r],e=n.length-1;0<=e;e--)n[e].element===t&&n.splice(e,1);this.componentDB_[r].length||delete this.componentDB_[r]}},y.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},y.TouchGesture=function(e,t){y.TouchGesture.superClass_.constructor.call(this,e,t),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},y.utils.object.inherits(y.TouchGesture,y.Gesture),y.TouchGesture.ZOOM_IN_MULTIPLIER=5,y.TouchGesture.ZOOM_OUT_MULTIPLIER=6,y.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,y.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&y.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},y.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=y.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=y.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=y.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},y.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&y.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&y.longStop_())},y.TouchGesture.prototype.handleMove=function(e){this.isDragging()?y.Touch.shouldHandleEvent(e)&&y.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(y.Touch.isTouchEvent(e)&&this.handleTouchMove(e),y.longStop_()):y.TouchGesture.superClass_.handleMove.call(this,e)},y.TouchGesture.prototype.handleUp=function(e){y.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?y.Touch.shouldHandleEvent(e)&&y.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},y.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},y.TouchGesture.prototype.dispose=function(){y.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&y.unbindEvent_(this.onStartWrapper_)},y.TouchGesture.prototype.handleTouchStart=function(e){var t=y.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[t]=this.getTouchPoint(e),t=Object.keys(this.cachedPoints_),2==t.length&&(this.startDistance_=y.utils.Coordinate.distance(this.cachedPoints_[t[0]],this.cachedPoints_[t[1]]),this.isMultiTouch_=!0,e.preventDefault())},y.TouchGesture.prototype.handleTouchMove=function(e){var t=y.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[t]=this.getTouchPoint(e),t=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===t.length?this.handlePinch_(e):y.TouchGesture.superClass_.handleMove.call(this,e)},y.TouchGesture.prototype.handlePinch_=function(t){var o=Object.keys(this.cachedPoints_);if(o=y.utils.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]])/this.startDistance_,0<this.previousScale_&&Infinity>this.previousScale_){var i=o-this.previousScale_;i=0<i?i*y.TouchGesture.ZOOM_IN_MULTIPLIER:i*y.TouchGesture.ZOOM_OUT_MULTIPLIER;var r=this.startWorkspace_,n=y.utils.mouseToSvg(t,r.getParentSvg(),r.getInverseScreenCTM());r.zoom(n.x,n.y,i)}this.previousScale_=o,t.preventDefault()},y.TouchGesture.prototype.handleTouchEnd=function(e){e=y.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},y.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new y.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},y.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},y.WorkspaceAudio.prototype.lastSound_=null,y.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},y.WorkspaceAudio.prototype.load=function(t,o){if(t.length){try{var i=new y.utils.global.Audio}catch(e){return}for(var r=0,e;r<t.length;r++){var n=t[r],a=n.match(/\.(\w+)$/);if(a&&i.canPlayType("audio/"+a[1])){e=new y.utils.global.Audio(n);break}}e&&e.play&&(this.SOUNDS_[o]=e)}},y.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var t=this.SOUNDS_[e];t.volume=.01;var o=t.play();if(void 0===o?t.pause():o.then(t.pause).catch(function(){}),y.utils.userAgent.IPAD||y.utils.userAgent.IPHONE)break}},y.WorkspaceAudio.prototype.play=function(e,t){var o=this.SOUNDS_[e];o?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<y.SOUND_LIMIT||(this.lastSound_=e,o=y.utils.userAgent.IPAD||y.utils.userAgent.ANDROID?o:o.cloneNode(),o.volume=void 0===t?1:t,o.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,t)},y.WorkspaceSvg=function(e,t,o){y.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics||y.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=e.setMetrics||y.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.connectionDBList=y.ConnectionDB.init(),t&&(this.blockDragSurface_=t),o&&(this.workspaceDragSurface_=o),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&y.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new y.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new y.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new y.MarkerManager(this),this.toolboxCategoryCallbacks_={},this.flyoutButtonCallbacks_={},y.Variables&&y.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(y.VARIABLE_CATEGORY_NAME,y.Variables.flyoutCategory),y.VariablesDynamic&&y.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(y.VARIABLE_DYNAMIC_CATEGORY_NAME,y.VariablesDynamic.flyoutCategory),y.Procedures&&y.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(y.PROCEDURE_CATEGORY_NAME,y.Procedures.flyoutCategory),this.addChangeListener(y.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new y.ThemeManager(this,this.options.theme||y.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=y.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[]},y.utils.object.inherits(y.WorkspaceSvg,y.Workspace),y.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,y.WorkspaceSvg.prototype.rendered=!0,y.WorkspaceSvg.prototype.isVisible_=!0,y.WorkspaceSvg.prototype.isFlyout=!1,y.WorkspaceSvg.prototype.isMutator=!1,y.WorkspaceSvg.prototype.resizesEnabled_=!0,y.WorkspaceSvg.prototype.scrollX=0,y.WorkspaceSvg.prototype.scrollY=0,y.WorkspaceSvg.prototype.startScrollX=0,y.WorkspaceSvg.prototype.startScrollY=0,y.WorkspaceSvg.prototype.dragDeltaXY_=null,y.WorkspaceSvg.prototype.scale=1,y.WorkspaceSvg.prototype.trashcan=null,y.WorkspaceSvg.prototype.scrollbar=null,y.WorkspaceSvg.prototype.flyout_=null,y.WorkspaceSvg.prototype.toolbox_=null,y.WorkspaceSvg.prototype.currentGesture_=null,y.WorkspaceSvg.prototype.blockDragSurface_=null,y.WorkspaceSvg.prototype.workspaceDragSurface_=null,y.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,y.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,y.WorkspaceSvg.prototype.injectionDiv_=null,y.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,y.WorkspaceSvg.prototype.targetWorkspace=null,y.WorkspaceSvg.prototype.inverseScreenCTM_=null,y.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,y.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},y.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},y.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},y.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},y.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},y.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},y.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},y.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},y.WorkspaceSvg.prototype.setTheme=function(e){e||(e=y.Themes.Classic),this.themeManager_.setTheme(e)},y.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(e){return void 0!==e.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new y.Events.Ui(null,"theme",null,null);e.workspaceId=this.id,y.Events.fire(e)},y.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var t=0,o,i;o=e[t];t++)i=o.getStyleName(),i&&(o.setStyle(i),o.mutator&&o.mutator.updateBlockStyle())},y.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},y.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},y.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},y.WorkspaceSvg.prototype.getSvgXY=function(t){var o=0,i=0,r=1;(y.utils.dom.containsNode(this.getCanvas(),t)||y.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(r=this.scale);do{var n=y.utils.getRelativeXY(t);(t==this.getCanvas()||t==this.getBubbleCanvas())&&(r=1),o+=n.x*r,i+=n.y*r,t=t.parentNode}while(t&&t!=this.getParentSvg());return new y.utils.Coordinate(o,i)},y.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return y.utils.getInjectionDivXY_(this.getCanvas())},y.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},y.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},y.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},y.WorkspaceSvg.prototype.createDom=function(e){if(this.svgGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=y.utils.dom.createSvgElement("rect",{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=y.utils.dom.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=y.utils.dom.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(y.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),y.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories){if(!y.Toolbox)throw Error("Missing require for Blockly.Toolbox");this.toolbox_=new(y.registry.getClassFromOptions(y.registry.Type.TOOLBOX,this.options))(this)}return this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.markerManager_.setCursor(new y.Cursor),this.markerManager_.registerMarker(y.navigation.MARKER_NAME,new y.Marker),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},y.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(y.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),y.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg().parentNode;e&&y.utils.dom.removeNode(e)}this.resizeHandlerWrapper_&&(y.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},y.WorkspaceSvg.prototype.newBlock=function(e,t){return new y.BlockSvg(this,e,t)},y.WorkspaceSvg.prototype.addTrashcan=function(){if(!y.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new y.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},y.WorkspaceSvg.prototype.addZoomControls=function(){if(!y.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new y.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},y.WorkspaceSvg.prototype.addFlyout=function(e){var t=new y.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides});if(t.toolboxPosition=this.options.toolboxPosition,this.horizontalLayout){if(!y.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new y.HorizontalFlyout(t)}else{if(!y.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new y.VerticalFlyout(t)}return this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},y.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},y.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},y.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},y.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},y.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},y.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=y.utils.getDocumentScroll();y.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},y.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},y.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},y.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},y.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var o="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t)},y.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},y.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,t=parseInt(this.getParentSvg().getAttribute("width"),10),o=parseInt(this.getParentSvg().getAttribute("height"),10),i=y.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,t,o,this.scale),this.workspaceDragSurface_.translateSurface(i.x,i.y)}},y.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},y.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},y.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){e=this.getAllBlocks(!1);for(var t=e.length-1;0<=t;t--)e[t].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else y.hideChaff(!0)},y.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager_.updateMarkers()},y.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},y.WorkspaceSvg.prototype.highlightBlock=function(e,t){if(void 0===t){for(var o=0,i;i=this.highlightedBlocks_[o];o++)i.setHighlighted(!1);this.highlightedBlocks_.length=0}(i=e?this.getBlockById(e):null)&&((e=void 0===t||t)?-1==this.highlightedBlocks_.indexOf(i)&&this.highlightedBlocks_.push(i):y.utils.arrayRemove(this.highlightedBlocks_,i),i.setHighlighted(e))},y.WorkspaceSvg.prototype.paste=function(e){!this.rendered||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},y.WorkspaceSvg.prototype.pasteBlock_=function(t){y.Events.disable();try{var o=y.Xml.domToBlock(t,this),i=this.getMarker(y.navigation.MARKER_NAME).getCurNode();if(this.keyboardAccessibilityMode&&i&&i.isConnection()){var r=i.getLocation();return void y.navigation.insertBlock(o,r)}var n=parseInt(t.getAttribute("x"),10),s=parseInt(t.getAttribute("y"),10);if(!isNaN(n)&&!isNaN(s)){this.RTL&&(n=-n);do{t=!1;var d=this.getAllBlocks(!1);i=0;for(var c,p;c=d[i];i++)if(p=c.getRelativeToSurfaceXY(),1>=l(n-p.x)&&1>=l(s-p.y)){t=!0;break}if(!t){var u=o.getConnections_(!1);i=0;for(var _;_=u[i];i++)if(_.closest(y.SNAP_RADIUS,new y.utils.Coordinate(n,s)).connection){t=!0;break}}t&&(n=this.RTL?n-y.SNAP_RADIUS:n+y.SNAP_RADIUS,s+=2*y.SNAP_RADIUS)}while(t);o.moveBy(n,s)}}finally{y.Events.enable()}y.Events.isEnabled()&&!o.isShadow()&&y.Events.fire(new y.Events.BlockCreate(o)),o.select()},y.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){y.Events.disable();try{var t=y.WorkspaceCommentSvg.fromXml(e,this),o=parseInt(e.getAttribute("x"),10),i=parseInt(e.getAttribute("y"),10);isNaN(o)||isNaN(i)||(this.RTL&&(o=-o),t.moveBy(o+50,i+50))}finally{y.Events.enable()}y.Events.isEnabled(),t.select()},y.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},y.WorkspaceSvg.prototype.renameVariableById=function(e,t){y.WorkspaceSvg.superClass_.renameVariableById.call(this,e,t),this.refreshToolboxSelection()},y.WorkspaceSvg.prototype.deleteVariableById=function(e){y.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},y.WorkspaceSvg.prototype.createVariable=function(e,t,o){return e=y.WorkspaceSvg.superClass_.createVariable.call(this,e,t,o),this.refreshToolboxSelection(),e},y.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_&&"function"==typeof this.toolbox_.getClientRect?this.toolbox_.getClientRect():null},y.WorkspaceSvg.prototype.isDeleteArea=function(e){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e.clientX,e.clientY)?y.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e.clientX,e.clientY)?y.DELETE_AREA_TOOLBOX:y.DELETE_AREA_NONE},y.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},y.WorkspaceSvg.prototype.startDrag=function(e,t){e=y.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=y.utils.Coordinate.difference(t,e)},y.WorkspaceSvg.prototype.moveDrag=function(e){return e=y.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,y.utils.Coordinate.sum(this.dragDeltaXY_,e)},y.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},y.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},y.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},y.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},y.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(y.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,o=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||o){var i=y.utils.getScrollDeltaPixels(e);t&&(e.ctrlKey||!o)?(i=-i.y/50,t=y.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,i)):(t=this.scrollX-i.x,o=this.scrollY-i.y,e.shiftKey&&!i.x&&(t=this.scrollX-i.y,o=this.scrollY),this.scroll(t,o)),e.preventDefault()}}},y.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new y.utils.Rect(0,0,0,0);for(var t=e[0].getBoundingRectangle(),o=1,i;o<e.length;o++)i=e[o].getBoundingRectangle(),i.top<t.top&&(t.top=i.top),i.bottom>t.bottom&&(t.bottom=i.bottom),i.left<t.left&&(t.left=i.left),i.right>t.right&&(t.right=i.right);return t},y.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),y.Events.setGroup(!0);for(var t=this.getTopBlocks(!0),o=0,i=0,r;r=t[i];i++)if(r.isMovable()){var n=r.getRelativeToSurfaceXY();r.moveBy(-n.x,o-n.y),r.snapToGrid(),o=r.getRelativeToSurfaceXY().y+r.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}y.Events.setGroup(!1),this.setResizesEnabled(!0)},y.WorkspaceSvg.prototype.showContextMenu=function(t){function o(e){if(e.isDeletable())n=n.concat(e.getDescendants(!1));else{e=e.getChildren(!1);for(var t=0;t<e.length;t++)o(e[t])}}function i(){y.Events.setGroup(e);var t=n.shift();t&&(t.workspace?(t.dispose(!1,!0),setTimeout(i,10)):i()),y.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var r=[],s=this.getTopBlocks(!0),e=y.utils.genUid(),a=this,d={};if(d.text=y.Msg.UNDO,d.enabled=0<this.undoStack_.length,d.callback=this.undo.bind(this,!1),r.push(d),d={},d.text=y.Msg.REDO,d.enabled=0<this.redoStack_.length,d.callback=this.undo.bind(this,!0),r.push(d),this.isMovable()&&(d={},d.text=y.Msg.CLEAN_UP,d.enabled=1<s.length,d.callback=this.cleanUp.bind(this),r.push(d)),this.options.collapse){for(var c=d=!1,u=0;u<s.length;u++)for(var l=s[u];l;)l.isCollapsed()?d=!0:c=!0,l=l.getNextBlock();var _=function(e){for(var t=0,o=0;o<s.length;o++)for(var i=s[o];i;)setTimeout(i.setCollapsed.bind(i,e),t),i=i.getNextBlock(),t+=10};c={enabled:c},c.text=y.Msg.COLLAPSE_ALL,c.callback=function(){_(!0)},r.push(c),d={enabled:d},d.text=y.Msg.EXPAND_ALL,d.callback=function(){_(!1)},r.push(d)}var n=[];for(u=0;u<s.length;u++)o(s[u]);d={text:1==n.length?y.Msg.DELETE_BLOCK:y.Msg.DELETE_X_BLOCKS.replace("%1",n.length+""),enabled:0<n.length,callback:function(){a.currentGesture_&&a.currentGesture_.cancel(),2>n.length?i():y.confirm(y.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(e){e&&i()})}},r.push(d),this.configureContextMenu&&this.configureContextMenu(r,t),y.ContextMenu.show(t,r,this.RTL)}},y.WorkspaceSvg.prototype.updateToolbox=function(e){if(Array.isArray(e)||(e=y.Options.parseToolboxTree(e)),e=y.utils.toolbox.convertToolboxToJSON(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(y.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},y.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(y.mainWorkspace=this,this.setBrowserFocus())},y.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},y.WorkspaceSvg.prototype.zoom=function(t,o,i){i=n(this.options.zoomOptions.scaleSpeed,i);var r=this.scale*i;if(this.scale!=r){r>this.options.zoomOptions.maxScale?i=this.options.zoomOptions.maxScale/this.scale:r<this.options.zoomOptions.minScale&&(i=this.options.zoomOptions.minScale/this.scale);var a=this.getCanvas().getCTM(),e=this.getParentSvg().createSVGPoint();e.x=t,e.y=o,e=e.matrixTransform(a.inverse()),t=e.x,o=e.y,a=a.translate(t*(1-i),o*(1-i)).scale(i),this.scrollX=a.e,this.scrollY=a.f,this.setScale(r)}},y.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var o=t.svgWidth?t.svgWidth/2:0;t=t.svgHeight?t.svgHeight/2:0}else o=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(o,t,e)},y.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var o=this.getBlocksBoundingBox(),i=o.right-o.left;o=o.bottom-o.top,i&&(this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),o+=this.flyout_.getHeight()/this.scale):(t+=this.flyout_.getWidth(),i+=this.flyout_.getWidth()/this.scale)),this.setScale(T(t/i,e/o)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},y.WorkspaceSvg.prototype.beginCanvasTransition=function(){y.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),y.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},y.WorkspaceSvg.prototype.endCanvasTransition=function(){y.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),y.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},y.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.contentWidth-e.viewWidth)/2,o=(e.contentHeight-e.viewHeight)/2;t=-t-e.contentLeft,o=-o-e.contentTop,this.scroll(t,o)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},y.WorkspaceSvg.prototype.centerOnBlock=function(e){if(!this.isMovable())console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");else if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),o=e.getHeightWidth(),i=this.scale;e=(t.x+(this.RTL?-1:1)*o.width/2)*i,t=(t.y+o.height/2)*i,o=this.getMetrics(),this.scroll(-(e-o.viewWidth/2),-(t-o.viewHeight/2))}},y.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,y.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(e),this.scrollbar.vScroll.resizeViewVertical(e)):(this.scrollbar.hScroll.resizeContentHorizontal(e),this.scrollbar.vScroll.resizeContentVertical(e)))},y.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},y.WorkspaceSvg.prototype.scroll=function(t,o){y.hideChaff(!0);var i=this.getMetrics(),r=i.contentWidth+i.contentLeft-i.viewWidth,n=i.contentHeight+i.contentTop-i.viewHeight;t=T(t,-i.contentLeft),o=T(o,-i.contentTop),t=u(t,-r),o=u(o,-n),this.scrollX=t,this.scrollY=o,this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(t+i.contentLeft)*this.scrollbar.hScroll.ratio),this.scrollbar.vScroll.setHandlePosition(-(o+i.contentTop)*this.scrollbar.vScroll.ratio)),t+=i.absoluteLeft,o+=i.absoluteTop,this.translate(t,o)},y.WorkspaceSvg.getDimensionsPx_=function(e){var t=0,o=0;return e&&(t=e.getWidth(),o=e.getHeight()),new y.utils.Size(t,o)},y.WorkspaceSvg.getContentDimensions_=function(e,t){return e.isContentBounded()?y.WorkspaceSvg.getContentDimensionsBounded_(e,t):y.WorkspaceSvg.getContentDimensionsExact_(e)},y.WorkspaceSvg.getContentDimensionsExact_=function(t){var o=t.getBlocksBoundingBox(),i=t.scale;t=o.top*i;var r=o.bottom*i,n=o.left*i;return o=o.right*i,{top:t,bottom:r,left:n,right:o,width:o-n,height:r-t}},y.WorkspaceSvg.getContentDimensionsBounded_=function(t,o){t=y.WorkspaceSvg.getContentDimensionsExact_(t);var i=o.width;o=o.height;var r=i/2,n=o/2,e=T(t.left-r,t.right-i),a=T(t.top-n,t.bottom-o);return{left:e,top:a,height:u(t.bottom+n,t.top+o)-a,width:u(t.right+r,t.left+i)-e}},y.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var t=y.WorkspaceSvg.getDimensionsPx_(this.toolbox_),o=y.WorkspaceSvg.getDimensionsPx_(this.flyout_),i=y.svgSize(this.getParentSvg()),r={height:i.height,width:i.width};this.toolbox_?this.toolboxPosition==y.TOOLBOX_AT_TOP||this.toolboxPosition==y.TOOLBOX_AT_BOTTOM?r.height-=t.height:(this.toolboxPosition==y.TOOLBOX_AT_LEFT||this.toolboxPosition==y.TOOLBOX_AT_RIGHT)&&(r.width-=t.width):this.flyout_&&(this.toolboxPosition==y.TOOLBOX_AT_TOP||this.toolboxPosition==y.TOOLBOX_AT_BOTTOM?r.height-=o.height:(this.toolboxPosition==y.TOOLBOX_AT_LEFT||this.toolboxPosition==y.TOOLBOX_AT_RIGHT)&&(r.width-=o.width));var n=y.WorkspaceSvg.getContentDimensions_(this,r),e=0;this.toolbox_&&this.toolboxPosition==y.TOOLBOX_AT_LEFT?e=t.width:this.flyout_&&this.toolboxPosition==y.TOOLBOX_AT_LEFT&&(e=o.width);var a=0;return this.toolbox_&&this.toolboxPosition==y.TOOLBOX_AT_TOP?a=t.height:this.flyout_&&this.toolboxPosition==y.TOOLBOX_AT_TOP&&(a=o.height),{contentHeight:n.height,contentWidth:n.width,contentTop:n.top,contentLeft:n.left,viewHeight:r.height,viewWidth:r.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:a,absoluteLeft:e,svgHeight:i.height,svgWidth:i.width,toolboxWidth:t.width,toolboxHeight:t.height,toolboxPosition:this.toolboxPosition,flyoutWidth:o.width,flyoutHeight:o.height}},y.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-t.contentWidth*e.x-t.contentLeft),"number"==typeof e.y&&(this.scrollY=-t.contentHeight*e.y-t.contentTop),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},y.WorkspaceSvg.prototype.getBlockById=function(e){return y.WorkspaceSvg.superClass_.getBlockById.call(this,e)},y.WorkspaceSvg.prototype.getTopBlocks=function(e){return y.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},y.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),y.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},y.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),y.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},y.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),y.WorkspaceSvg.superClass_.addTopComment.call(this,e)},y.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),y.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},y.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},y.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){y.utils.arrayRemove(this.topBoundedElements_,e)},y.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},y.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},y.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),y.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},y.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},y.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},y.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},y.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},y.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},y.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},y.WorkspaceSvg.prototype.getGesture=function(e){var t="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,o=this.currentGesture_;return o?t&&o.hasStarted()?(console.warn("Tried to start the same gesture twice."),o.cancel(),null):o:t?this.currentGesture_=new y.TouchGesture(e,this):null},y.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},y.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},y.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},y.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},y.inject=function(t,o){if(y.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t||!y.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");o=new y.Options(o||{});var i=document.createElement("div");i.className="injectionDiv",i.tabIndex=0,y.utils.aria.setState(i,y.utils.aria.State.LABEL,y.Msg.WORKSPACE_ARIA_LABEL),t.appendChild(i),t=y.createDom_(i,o);var r=new y.BlockDragSurfaceSvg(i),n=new y.WorkspaceDragSurfaceSvg(i),e=y.createMainWorkspace_(t,o,r,n);return y.user.keyMap.setKeyMap(o.keyMap),y.init_(e),y.mainWorkspace=e,y.svgResize(e),i.addEventListener("focusin",function(){y.mainWorkspace=e}),e},y.createDom_=function(e,t){e.setAttribute("dir","LTR"),y.Component.defaultRightToLeft=t.RTL,y.Css.inject(t.hasCss,t.pathToMedia),e=y.utils.dom.createSvgElement("svg",{xmlns:y.utils.dom.SVG_NS,"xmlns:html":y.utils.dom.HTML_NS,"xmlns:xlink":y.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var o=y.utils.dom.createSvgElement("defs",{},e),i=(Math.random()+"").substring(2);return t.gridPattern=y.Grid.createDom(i,t.gridOptions,o),e},y.createMainWorkspace_=function(t,o,i,r){o.parentWorkspace=null;var s=new y.WorkspaceSvg(o,i,r);return o=s.options,s.scale=o.zoomOptions.startScale,t.appendChild(s.createDom("blocklyMainBackground")),y.utils.dom.addClass(s.getInjectionDiv(),s.getRenderer().getClassName()),y.utils.dom.addClass(s.getInjectionDiv(),s.getTheme().getClassName()),!o.hasCategories&&o.languageTree&&(i=s.addFlyout("svg"),y.utils.dom.insertAfter(i,t)),o.hasTrashcan&&s.addTrashcan(),o.zoomOptions&&o.zoomOptions.controls&&s.addZoomControls(),s.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),s.translate(0,0),o.readOnly||s.isMovable()||s.addChangeListener(function(e){if(!s.isDragging()&&!s.isMovable()&&-1!=y.Events.BUMP_EVENTS.indexOf(e.type)){var t=Object.create(null),o=s.getMetrics(),i=s.scale;if(t.RTL=s.RTL,t.viewLeft=o.viewLeft/i,t.viewTop=o.viewTop/i,t.viewRight=(o.viewLeft+o.viewWidth)/i,t.viewBottom=(o.viewTop+o.viewHeight)/i,s.isContentBounded()?(o=s.getBlocksBoundingBox(),t.contentLeft=o.left,t.contentTop=o.top,t.contentRight=o.right,t.contentBottom=o.bottom):(t.contentLeft=o.contentLeft/i,t.contentTop=o.contentTop/i,t.contentRight=(o.contentLeft+o.contentWidth)/i,t.contentBottom=(o.contentTop+o.contentHeight)/i),t.contentTop<t.viewTop||t.contentBottom>t.viewBottom||t.contentLeft<t.viewLeft||t.contentRight>t.viewRight){switch(o=null,e&&(o=y.Events.getGroup(),y.Events.setGroup(e.group)),e.type){case y.Events.BLOCK_CREATE:case y.Events.BLOCK_MOVE:var r=s.getBlockById(e.blockId);r&&(r=r.getRootBlock());break;case y.Events.COMMENT_CREATE:case y.Events.COMMENT_MOVE:r=s.getCommentById(e.commentId);}if(r){i=r.getBoundingRectangle(),i.height=i.bottom-i.top,i.width=i.right-i.left;var a=t.viewTop,l=t.viewBottom-i.height;l=u(a,l),a=y.utils.math.clamp(a,i.top,l)-i.top,l=t.viewLeft;var n=t.viewRight-i.width;t.RTL?l=T(n,l):n=u(l,n),t=y.utils.math.clamp(l,i.left,n)-i.left,r.moveBy(t,a)}e&&(!e.group&&r&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),null!==o&&y.Events.setGroup(o))}}}),y.svgResize(s),y.WidgetDiv.createDom(),y.DropDownDiv.createDom(),y.Tooltip.createDom(),s},y.init_=function(e){var t=e.options,o=e.getParentSvg();if(y.bindEventWithChecks_(o.parentNode,"contextmenu",null,function(e){y.utils.isTargetInput(e)||e.preventDefault()}),o=y.bindEventWithChecks_(window,"resize",null,function(){y.hideChaff(!0),y.svgResize(e)}),e.setResizeHandlerWrapper(o),y.inject.bindDocumentEvents_(),t.languageTree){o=e.getToolbox();var i=e.getFlyout(!0);o?o.init():i&&(i.init(e),i.show(t.languageTree),i.scrollToStart())}o=y.Scrollbar.scrollbarThickness,t.hasTrashcan&&(o=e.trashcan.init(o)),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(o),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new y.ScrollbarPair(e),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&y.inject.loadSounds_(t.pathToMedia,e)},y.inject.bindDocumentEvents_=function(){y.documentEventsBound_||(y.bindEventWithChecks_(document,"scroll",null,function(){for(var e=y.Workspace.getAll(),t=0,o;o=e[t];t++)o.updateInverseScreenCTM&&o.updateInverseScreenCTM()}),y.bindEventWithChecks_(document,"keydown",null,y.onKeyDown),y.bindEvent_(document,"touchend",null,y.longStop_),y.bindEvent_(document,"touchcancel",null,y.longStop_),y.utils.userAgent.IPAD&&y.bindEventWithChecks_(window,"orientationchange",document,function(){y.svgResize(y.getMainWorkspace())})),y.documentEventsBound_=!0},y.inject.loadSounds_=function(e,t){var o=t.getAudioManager();o.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),o.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),o.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var i=[];e=function(){for(;i.length;)y.unbindEvent_(i.pop());o.preload()},i.push(y.bindEventWithChecks_(document,"mousemove",null,e,!0)),i.push(y.bindEventWithChecks_(document,"touchstart",null,e,!0))},y.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.reset()},y.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",y.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},y.Names.prototype.setVariableMap=function(e){this.variableMap_=e},y.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},y.Names.prototype.getName=function(e,t){if(t==y.VARIABLE_CATEGORY_NAME){var o=this.getNameForUserVariable_(e);o&&(e=o)}o=e.toLowerCase()+"_"+t;var i=t==y.VARIABLE_CATEGORY_NAME||t==y.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";return o in this.db_?i+this.db_[o]:(e=this.getDistinctName(e,t),this.db_[o]=e.substr(i.length),e)},y.Names.prototype.getDistinctName=function(e,t){e=this.safeName_(e);for(var o="";this.dbReverse_[e+o]||e+o in this.reservedDict_;)o=o?o+1:2;return e+=o,this.dbReverse_[e]=!0,(t==y.VARIABLE_CATEGORY_NAME||t==y.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},y.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=y.Msg.UNNAMED_KEY||"unnamed",e},y.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},y.Procedures={},y.Procedures.NAME_TYPE=y.PROCEDURE_CATEGORY_NAME,y.Procedures.DEFAULT_ARG="x",y.Procedures.allProcedures=function(e){var t=e.getBlocksByType("procedures_defnoreturn",!1).map(function(e){return e.getProcedureDef()});return e=e.getBlocksByType("procedures_defreturn",!1).map(function(e){return e.getProcedureDef()}),t.sort(y.Procedures.procTupleComparator_),e.sort(y.Procedures.procTupleComparator_),[t,e]},y.Procedures.procTupleComparator_=function(e,t){return e[0].toLowerCase().localeCompare(t[0].toLowerCase())},y.Procedures.findLegalName=function(e,t){if(t.isInFlyout)return e;for(e=e||y.Msg.UNNAMED_KEY||"unnamed";!y.Procedures.isLegalName_(e,t.workspace,t);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},y.Procedures.isLegalName_=function(e,t,o){return!y.Procedures.isNameUsed(e,t,o)},y.Procedures.isNameUsed=function(t,o,i){o=o.getAllBlocks(!1);for(var r=0;r<o.length;r++)if(o[r]!=i&&o[r].getProcedureDef){var n=o[r].getProcedureDef();if(y.Names.equals(n[0],t))return!0}return!1},y.Procedures.rename=function(e){e=e.trim();var t=y.Procedures.findLegalName(e,this.getSourceBlock()),o=this.getValue();if(o!=e&&o!=t){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<e.length;i++)e[i].renameProcedure&&e[i].renameProcedure(o,t)}return t},y.Procedures.flyoutCategory=function(t){function o(t,o){for(var r=0;r<t.length;r++){var a=t[r][0],e=t[r][1],s=y.utils.xml.createElement("block");s.setAttribute("type",o),s.setAttribute("gap",16);var l=y.utils.xml.createElement("mutation");for(l.setAttribute("name",a),s.appendChild(l),a=0;a<e.length;a++){var n=y.utils.xml.createElement("arg");n.setAttribute("name",e[a]),l.appendChild(n)}i.push(s)}}var i=[];if(y.Blocks.procedures_defnoreturn){var r=y.utils.xml.createElement("block");r.setAttribute("type","procedures_defnoreturn"),r.setAttribute("gap",16);var n=y.utils.xml.createElement("field");n.setAttribute("name","NAME"),n.appendChild(y.utils.xml.createTextNode(y.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),r.appendChild(n),i.push(r)}return y.Blocks.procedures_defreturn&&(r=y.utils.xml.createElement("block"),r.setAttribute("type","procedures_defreturn"),r.setAttribute("gap",16),n=y.utils.xml.createElement("field"),n.setAttribute("name","NAME"),n.appendChild(y.utils.xml.createTextNode(y.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),r.appendChild(n),i.push(r)),y.Blocks.procedures_ifreturn&&(r=y.utils.xml.createElement("block"),r.setAttribute("type","procedures_ifreturn"),r.setAttribute("gap",16),i.push(r)),i.length&&i[i.length-1].setAttribute("gap",24),t=y.Procedures.allProcedures(t),o(t[0],"procedures_callnoreturn"),o(t[1],"procedures_callreturn"),i},y.Procedures.updateMutatorFlyout_=function(t){for(var o=[],i=t.getBlocksByType("procedures_mutatorarg",!1),r=0,n;n=i[r];r++)o.push(n.getFieldValue("NAME"));i=y.utils.xml.createElement("xml"),r=y.utils.xml.createElement("block"),r.setAttribute("type","procedures_mutatorarg"),n=y.utils.xml.createElement("field"),n.setAttribute("name","NAME"),o=y.Variables.generateUniqueNameFromOptions(y.Procedures.DEFAULT_ARG,o),o=y.utils.xml.createTextNode(o),n.appendChild(o),r.appendChild(n),i.appendChild(r),t.updateToolbox(i)},y.Procedures.mutatorOpenListener=function(e){if(e.type==y.Events.UI&&"mutatorOpen"==e.element&&e.newValue){e=y.Workspace.getById(e.workspaceId).getBlockById(e.blockId);var t=e.type;("procedures_defnoreturn"==t||"procedures_defreturn"==t)&&(e=e.mutator.getWorkspace(),y.Procedures.updateMutatorFlyout_(e),e.addChangeListener(y.Procedures.mutatorChangeListener_))}},y.Procedures.mutatorChangeListener_=function(e){(e.type==y.Events.BLOCK_CREATE||e.type==y.Events.BLOCK_DELETE||e.type==y.Events.BLOCK_CHANGE)&&(e=y.Workspace.getById(e.workspaceId),y.Procedures.updateMutatorFlyout_(e))},y.Procedures.getCallers=function(t,o){var i=[];o=o.getAllBlocks(!1);for(var r=0;r<o.length;r++)if(o[r].getProcedureCall){var n=o[r].getProcedureCall();n&&y.Names.equals(n,t)&&i.push(o[r])}return i},y.Procedures.mutateCallers=function(t){var o=y.Events.recordUndo,i=t.getProcedureDef()[0],r=t.mutationToDom(!0);t=y.Procedures.getCallers(i,t.workspace),i=0;for(var n,e;n=t[i];i++){e=n.mutationToDom(),e=e&&y.Xml.domToText(e),n.domToMutation(r);var a=n.mutationToDom();a=a&&y.Xml.domToText(a),e!=a&&(y.Events.recordUndo=!1,y.Events.fire(new y.Events.BlockChange(n,"mutation",null,e,a)),y.Events.recordUndo=o)}},y.Procedures.getDefinition=function(e,t){t=t.getTopBlocks(!1);for(var o=0;o<t.length;o++)if(t[o].getProcedureDef){var i=t[o].getProcedureDef();if(i&&y.Names.equals(i[0],e))return t[o]}return null},y.VariableModel=function(e,t,o,i){this.workspace=e,this.name=t,this.type=o||"",this.id_=i||y.utils.genUid(),y.Events.fire(new y.Events.VarCreate(this))},y.VariableModel.prototype.getId=function(){return this.id_},y.VariableModel.compareByName=function(e,t){return e=e.name.toLowerCase(),t=t.name.toLowerCase(),e<t?-1:e==t?0:1},y.Variables={},y.Variables.NAME_TYPE=y.VARIABLE_CATEGORY_NAME,y.Variables.allUsedVarModels=function(t){var o=t.getAllBlocks(!1);t=Object.create(null);for(var i=0,r;i<o.length;i++)if(r=o[i].getVarModels(),r)for(var n=0;n<r.length;n++){var e=r[n],a=e.getId();a&&(t[a]=e)}for(a in o=[],t)o.push(t[a]);return o},y.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},y.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},y.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var o=Object.create(null),i=0,r,n;r=t[i];i++)if(n=r.getDeveloperVariables,!n&&r.getDeveloperVars&&(n=r.getDeveloperVars,y.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[r.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+r.type+"')"),y.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[r.type]=!0)),n)for(r=n(),n=0;n<r.length;n++)o[r[n]]=!0;return Object.keys(o)},y.Variables.flyoutCategory=function(e){var t=[],o=document.createElement("button");return o.setAttribute("text","%{BKY_NEW_VARIABLE}"),o.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(e){y.Variables.createVariableButtonHandler(e.getTargetWorkspace())}),t.push(o),e=y.Variables.flyoutCategoryBlocks(e),t=t.concat(e)},y.Variables.flyoutCategoryBlocks=function(t){t=t.getVariablesOfType("");var o=[];if(0<t.length){var i=t[t.length-1];if(y.Blocks.variables_set){var r=y.utils.xml.createElement("block");r.setAttribute("type","variables_set"),r.setAttribute("gap",y.Blocks.math_change?8:24),r.appendChild(y.Variables.generateVariableFieldDom(i)),o.push(r)}if(y.Blocks.math_change&&(r=y.utils.xml.createElement("block"),r.setAttribute("type","math_change"),r.setAttribute("gap",y.Blocks.variables_get?20:8),r.appendChild(y.Variables.generateVariableFieldDom(i)),i=y.Xml.textToDom("<value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow></value>"),r.appendChild(i),o.push(r)),y.Blocks.variables_get){t.sort(y.VariableModel.compareByName),i=0;for(var n;n=t[i];i++)r=y.utils.xml.createElement("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap",8),r.appendChild(y.Variables.generateVariableFieldDom(n)),o.push(r)}}return o},y.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",y.Variables.generateUniqueName=function(e){return y.Variables.generateUniqueNameFromOptions(y.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},y.Variables.generateUniqueNameFromOptions=function(t,o){if(!o.length)return t;for(var i=y.Variables.VAR_LETTER_OPTIONS,r="",n=i.indexOf(t);;){for(var e=!1,a=0;a<o.length;a++)if(o[a].toLowerCase()==t){e=!0;break}if(!e)return t;n++,n==i.length&&(n=0,r=+r+1),t=i.charAt(n)+r}},y.Variables.createVariableButtonHandler=function(t,o,i){var r=i||"",n=function(e){y.Variables.promptName(y.Msg.NEW_VARIABLE_TITLE,e,function(e){if(e){var i=y.Variables.nameUsedWithAnyType(e,t);if(i){if(i.type==r)var a=y.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",i.name);else a=y.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,a=a.replace("%1",i.name).replace("%2",i.type);y.alert(a,function(){n(e)})}else t.createVariable(e,r),o&&o(e)}else o&&o(null)})};n("")},y.Variables.createVariable=y.Variables.createVariableButtonHandler,y.Variables.renameVariable=function(t,o,i){var r=function(n){var e=y.Msg.RENAME_VARIABLE_TITLE.replace("%1",o.name);y.Variables.promptName(e,n,function(n){if(n){var e=y.Variables.nameUsedWithOtherType_(n,o.type,t);e?(e=y.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",e.name).replace("%2",e.type),y.alert(e,function(){r(n)})):(t.renameVariableById(o.getId(),n),i&&i(n))}else i&&i(null)})};r("")},y.Variables.promptName=function(e,t,o){y.prompt(e,t,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==y.Msg.RENAME_VARIABLE||e==y.Msg.NEW_VARIABLE)&&(e=null),o(e)})},y.Variables.nameUsedWithOtherType_=function(t,o,i){i=i.getVariableMap().getAllVariables(),t=t.toLowerCase();for(var r=0,n;n=i[r];r++)if(n.name.toLowerCase()==t&&n.type!=o)return n;return null},y.Variables.nameUsedWithAnyType=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var o=0,i;i=t[o];o++)if(i.name.toLowerCase()==e)return i;return null},y.Variables.generateVariableFieldDom=function(e){var t=y.utils.xml.createElement("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=y.utils.xml.createTextNode(e.name),t.appendChild(e),t},y.Variables.getOrCreateVariablePackage=function(t,o,i,r){var n=y.Variables.getVariable(t,o,i,r);return n||(n=y.Variables.createVariable_(t,o,i,r)),n},y.Variables.getVariable=function(t,o,i,r){var n=t.getPotentialVariableMap(),e=null;if(o&&(e=t.getVariableById(o),!e&&n&&(e=n.getVariableById(o)),e))return e;if(i){if(void 0==r)throw Error("Tried to look up a variable by name without a type");e=t.getVariable(i,r),!e&&n&&(e=n.getVariable(i,r))}return e},y.Variables.createVariable_=function(t,o,i,r){var n=t.getPotentialVariableMap();return i||(i=y.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),n?n.createVariable(i,r,o):t.createVariable(i,r,o)},y.Variables.getAddedVariables=function(t,o){t=t.getAllVariables();var i=[];if(o.length!=t.length)for(var r=0,n;r<t.length;r++)n=t[r],-1==o.indexOf(n)&&i.push(n);return i},y.WidgetDiv={},y.WidgetDiv.owner_=null,y.WidgetDiv.dispose_=null,y.WidgetDiv.rendererClassName_="",y.WidgetDiv.themeClassName_="",y.WidgetDiv.createDom=function(){y.WidgetDiv.DIV||(y.WidgetDiv.DIV=document.createElement("div"),y.WidgetDiv.DIV.className="blocklyWidgetDiv",(y.parentContainer||document.body).appendChild(y.WidgetDiv.DIV))},y.WidgetDiv.show=function(e,t,o){y.WidgetDiv.hide(),y.WidgetDiv.owner_=e,y.WidgetDiv.dispose_=o,e=y.WidgetDiv.DIV,e.style.direction=t?"rtl":"ltr",e.style.display="block",t=y.getMainWorkspace(),y.WidgetDiv.rendererClassName_=t.getRenderer().getClassName(),y.WidgetDiv.themeClassName_=t.getTheme().getClassName(),y.utils.dom.addClass(e,y.WidgetDiv.rendererClassName_),y.utils.dom.addClass(e,y.WidgetDiv.themeClassName_)},y.WidgetDiv.hide=function(){if(y.WidgetDiv.isVisible()){y.WidgetDiv.owner_=null;var e=y.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",y.WidgetDiv.dispose_&&y.WidgetDiv.dispose_(),y.WidgetDiv.dispose_=null,e.textContent="",y.WidgetDiv.rendererClassName_&&(y.utils.dom.removeClass(e,y.WidgetDiv.rendererClassName_),y.WidgetDiv.rendererClassName_=""),y.WidgetDiv.themeClassName_&&(y.utils.dom.removeClass(e,y.WidgetDiv.themeClassName_),y.WidgetDiv.themeClassName_=""),y.getMainWorkspace().markFocused()}},y.WidgetDiv.isVisible=function(){return!!y.WidgetDiv.owner_},y.WidgetDiv.hideIfOwner=function(e){y.WidgetDiv.owner_==e&&y.WidgetDiv.hide()},y.WidgetDiv.positionInternal_=function(e,t,o){y.WidgetDiv.DIV.style.left=e+"px",y.WidgetDiv.DIV.style.top=t+"px",y.WidgetDiv.DIV.style.height=o+"px"},y.WidgetDiv.positionWithAnchor=function(t,o,i,r){var n=y.WidgetDiv.calculateY_(t,o,i);t=y.WidgetDiv.calculateX_(t,o,i,r),0>n?y.WidgetDiv.positionInternal_(t,0,i.height+n):y.WidgetDiv.positionInternal_(t,n,i.height)},y.WidgetDiv.calculateX_=function(e,t,o,i){return i?(t=u(t.right-o.width,e.left),T(t,e.right-o.width)):(t=T(t.left,e.right-o.width),u(t,e.left))},y.WidgetDiv.calculateY_=function(e,t,o){return t.bottom+o.height>=e.bottom?t.top-o.height:t.bottom},y.VERSION="3.20200625.2",y.mainWorkspace=null,y.selected=null,y.draggingConnections=[],y.clipboardXml_=null,y.clipboardSource_=null,y.clipboardTypeCounts_=null,y.cache3dSupported_=null,y.parentContainer=null,y.svgSize=function(e){return new y.utils.Size(e.cachedWidth_,e.cachedHeight_)},y.resizeSvgContents=function(e){e.resizeContents()},y.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),o=t.parentNode;if(o){var i=o.offsetWidth;o=o.offsetHeight,t.cachedWidth_!=i&&(t.setAttribute("width",i+"px"),t.cachedWidth_=i),t.cachedHeight_!=o&&(t.setAttribute("height",o+"px"),t.cachedHeight_=o),e.resize()}},y.onKeyDown=function(e){var t=y.mainWorkspace;if(t&&!(y.utils.isTargetInput(e)||t.rendered&&!t.isVisible()))if(t.options.readOnly)y.navigation.onKeyPress(e);else{var o=!1;if(e.keyCode==y.utils.KeyCodes.ESC)y.hideChaff(),y.navigation.onBlocklyAction(y.navigation.ACTION_EXIT);else{if(!y.Gesture.inProgress()&&y.navigation.onKeyPress(e))return;if(e.keyCode==y.utils.KeyCodes.BACKSPACE||e.keyCode==y.utils.KeyCodes.DELETE){if(e.preventDefault(),y.Gesture.inProgress())return;y.selected&&y.selected.isDeletable()&&(o=!0)}else if(e.altKey||e.ctrlKey||e.metaKey){if(y.Gesture.inProgress())return;y.selected&&y.selected.isDeletable()&&y.selected.isMovable()&&(e.keyCode==y.utils.KeyCodes.C?(y.hideChaff(),y.copy_(y.selected)):e.keyCode!=y.utils.KeyCodes.X||y.selected.workspace.isFlyout||(y.copy_(y.selected),o=!0)),e.keyCode==y.utils.KeyCodes.V?y.clipboardXml_&&(e=y.clipboardSource_,e.isFlyout&&(e=e.targetWorkspace),y.clipboardTypeCounts_&&e.isCapacityAvailable(y.clipboardTypeCounts_)&&(y.Events.setGroup(!0),e.paste(y.clipboardXml_),y.Events.setGroup(!1))):e.keyCode==y.utils.KeyCodes.Z?(y.hideChaff(),t.undo(e.shiftKey)):e.ctrlKey&&e.keyCode==y.utils.KeyCodes.Y&&(y.hideChaff(),t.undo(!0))}}o&&!y.selected.workspace.isFlyout&&(y.Events.setGroup(!0),y.hideChaff(),y.selected.dispose(!0,!0),y.Events.setGroup(!1))}},y.copy_=function(e){e=e.toCopyData(),y.clipboardXml_=e.xml,y.clipboardSource_=e.source,y.clipboardTypeCounts_=e.typeCounts},y.duplicate=function(e){var t=y.clipboardXml_,o=y.clipboardSource_;y.copy_(e),e.workspace.paste(y.clipboardXml_),y.clipboardXml_=t,y.clipboardSource_=o},y.onContextMenu_=function(e){y.utils.isTargetInput(e)||e.preventDefault()},y.hideChaff=function(e){y.Tooltip.hide(),y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation(),e||(e=y.getMainWorkspace(),e.trashcan&&e.trashcan.flyout&&e.trashcan.flyout.hide(),(e=e.getToolbox())&&e.getFlyout()&&e.getFlyout().autoClose&&e.clearSelection())},y.getMainWorkspace=function(){return y.mainWorkspace},y.alert=function(e,t){alert(e),t&&t()},y.confirm=function(e,t){t(confirm(e))},y.prompt=function(e,t,o){o(prompt(e,t))},y.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},y.defineBlocksWithJsonArray=function(e){for(var t=0,o;t<e.length;t++)if(o=e[t],o){var i=o.type;null==i||""===i?console.warn("Block definition #"+t+" in JSON array is missing a type attribute. Skipping."):(y.Blocks[i]&&console.warn("Block definition #"+t+" in JSON array overwrites prior definition of \""+i+"\"."),y.Blocks[i]={init:y.jsonInitFactory_(o)})}else console.warn("Block definition #"+t+" in JSON array is "+o+". Skipping.")},y.bindEventWithChecks_=function(t,o,i,r,s,d){var c=!1,p=function(t){t=y.Touch.splitEventByTouches(t);for(var o=0,n;n=t[o];o++)(!!s||y.Touch.shouldHandleEvent(n))&&(y.Touch.setClientFromTouch(n),i?r.call(i,n):r(n),c=!0)},a=[];if(y.utils.global.PointerEvent&&o in y.Touch.TOUCH_MAP)for(var u=0,l;l=y.Touch.TOUCH_MAP[o][u];u++)t.addEventListener(l,p,!1),a.push([t,l,p]);else if(t.addEventListener(o,p,!1),a.push([t,o,p]),o in y.Touch.TOUCH_MAP){var _=function(e){p(e);c&&!d&&e.preventDefault()};for(u=0;l=y.Touch.TOUCH_MAP[o][u];u++)t.addEventListener(l,_,!1),a.push([t,l,_])}return a},y.bindEvent_=function(t,o,i,r){var n=function(e){i?r.call(i,e):r(e)},e=[];if(y.utils.global.PointerEvent&&o in y.Touch.TOUCH_MAP)for(var a=0,s;s=y.Touch.TOUCH_MAP[o][a];a++)t.addEventListener(s,n,!1),e.push([t,s,n]);else if(t.addEventListener(o,n,!1),e.push([t,o,n]),o in y.Touch.TOUCH_MAP){var l=function(e){if(e.changedTouches&&1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}n(e),e.preventDefault()};for(a=0;s=y.Touch.TOUCH_MAP[o][a];a++)t.addEventListener(s,l,!1),e.push([t,s,l])}return e},y.unbindEvent_=function(e){for(;e.length;){var t=e.pop(),o=t[2];t[0].removeEventListener(t[1],o,!1)}return o},y.isNumber=function(e){return /^\s*-?\d+(\.\d+)?\s*$/.test(e)},y.hueToHex=function(e){return y.utils.colour.hsvToHex(e,y.HSV_SATURATION,255*y.HSV_VALUE)},y.checkBlockColourConstants=function(){y.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),y.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),y.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),y.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),y.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),y.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),y.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),y.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),y.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),y.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),y.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),y.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),y.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),y.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),y.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),y.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},y.checkBlockColourConstant_=function(t,o,i){for(var r="Blockly",n=y,e=0;e<o.length;++e)r+="."+o[e],n&&(n=n[o[e]]);n&&n!==i&&(t=(void 0===i?"%1 has been removed. Use Blockly.Msg[\"%2\"].":"%1 is deprecated and unused. Override Blockly.Msg[\"%2\"].").replace("%1",r).replace("%2",t),console.warn(t))},y.setParentContainer=function(e){y.parentContainer=e},y.Icon=function(e){this.block_=e},y.Icon.prototype.collapseHidden=!0,y.Icon.prototype.SIZE=17,y.Icon.prototype.bubble_=null,y.Icon.prototype.iconXY_=null,y.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&y.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),y.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},y.Icon.prototype.dispose=function(){y.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},y.Icon.prototype.updateEditable=function(){},y.Icon.prototype.isVisible=function(){return!!this.bubble_},y.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||y.utils.isRightButton(e)||this.setVisible(!this.isVisible())},y.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},y.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},y.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),t=y.utils.getRelativeXY(this.iconGroup_);e=new y.utils.Coordinate(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),y.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},y.Icon.prototype.getIconLocation=function(){return this.iconXY_},y.Icon.prototype.getCorrectedSize=function(){return new y.utils.Size(y.Icon.prototype.SIZE,y.Icon.prototype.SIZE-2)},y.Warning=function(e){y.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},y.utils.object.inherits(y.Warning,y.Icon),y.Warning.prototype.collapseHidden=!1,y.Warning.prototype.drawIcon_=function(e){y.utils.dom.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),y.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),y.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},y.Warning.textToDom_=function(t){var o=y.utils.dom.createSvgElement("text",{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:y.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var i=0;i<t.length;i++){var r=y.utils.dom.createSvgElement("tspan",{dy:"1em",x:y.Bubble.BORDER_WIDTH},o),n=document.createTextNode(t[i]);r.appendChild(n)}return o},y.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(y.Events.fire(new y.Events.Ui(this.block_,"warningOpen",!e,e)),e?this.createBubble():this.disposeBubble())},y.Warning.prototype.createBubble=function(){if(this.paragraphElement_=y.Warning.textToDom_(this.getText()),this.bubble_=new y.Bubble(this.block_.workspace,this.paragraphElement_,this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var e=this.paragraphElement_.getBBox().width,t=0,o;o=this.paragraphElement_.childNodes[t];t++)o.setAttribute("text-anchor","end"),o.setAttribute("x",e+y.Bubble.BORDER_WIDTH);this.applyColour()},y.Warning.prototype.disposeBubble=function(){this.bubble_.dispose(),this.paragraphElement_=this.body_=this.bubble_=null},y.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},y.Warning.prototype.getText=function(){var e=[],t;for(t in this.text_)e.push(this.text_[t]);return e.join("\n")},y.Warning.prototype.dispose=function(){this.block_.warning=null,y.Icon.prototype.dispose.call(this)},y.Comment=function(e){y.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},y.utils.object.inherits(y.Comment,y.Icon),y.Comment.prototype.drawIcon_=function(e){y.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),y.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),y.utils.dom.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},y.Comment.prototype.createEditor_=function(){this.foreignObject_=y.utils.dom.createSvgElement("foreignObject",{x:y.Bubble.BORDER_WIDTH,y:y.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(y.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",y.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var t=this.textarea_=document.createElementNS(y.utils.dom.HTML_NS,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),t.value=this.model_.text,this.resizeTextarea_(),e.appendChild(t),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=y.bindEventWithChecks_(t,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=y.bindEventWithChecks_(t,"wheel",this,function(e){e.stopPropagation()}),this.onChangeWrapper_=y.bindEventWithChecks_(t,"change",this,function(){this.cachedText_!=this.model_.text&&y.Events.fire(new y.Events.BlockChange(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=y.bindEventWithChecks_(t,"input",this,function(){this.model_.text=t.value}),setTimeout(t.focus.bind(t),0),this.foreignObject_},y.Comment.prototype.updateEditable=function(){y.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},y.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},y.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,t=2*y.Bubble.BORDER_WIDTH,o=e.width-t;e=e.height-t,this.foreignObject_.setAttribute("width",o),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=o-4+"px",this.textarea_.style.height=e-4+"px"},y.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(y.Events.fire(new y.Events.Ui(this.block_,"commentOpen",!e,e)),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},y.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||y.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},y.Comment.prototype.createEditableBubble_=function(){this.bubble_=new y.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},y.Comment.prototype.createNonEditableBubble_=function(){y.Warning.prototype.createBubble.call(this)},y.Comment.prototype.disposeBubble_=function(){this.paragraphElement_?y.Warning.prototype.disposeBubble.call(this):(this.onMouseUpWrapper_&&(y.unbindEvent_(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(y.unbindEvent_(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(y.unbindEvent_(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(y.unbindEvent_(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null)},y.Comment.prototype.startEdit_=function(){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},y.Comment.prototype.getBubbleSize=function(){return this.model_.size},y.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},y.Comment.prototype.getText=function(){return this.model_.text||""},y.Comment.prototype.setText=function(e){this.model_.text!=e&&(this.model_.text=e,this.updateText())},y.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},y.Comment.prototype.dispose=function(){this.block_.comment=null,y.Icon.prototype.dispose.call(this)},y.Css.register([".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}"]),y.FlyoutCursor=function(){y.FlyoutCursor.superClass_.constructor.call(this)},y.utils.object.inherits(y.FlyoutCursor,y.Cursor),y.FlyoutCursor.prototype.onBlocklyAction=function(e){switch(e.name){case y.navigation.actionNames.PREVIOUS:return this.prev(),!0;case y.navigation.actionNames.NEXT:return this.next(),!0;default:return!1;}},y.FlyoutCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=e.next())&&this.setCurNode(e),e):null},y.FlyoutCursor.prototype.in=function(){return null},y.FlyoutCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=e.prev())&&this.setCurNode(e),e):null},y.FlyoutCursor.prototype.out=function(){return null},y.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new y.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},y.Flyout.prototype.autoClose=!0,y.Flyout.prototype.isVisible_=!1,y.Flyout.prototype.containerVisible_=!0,y.Flyout.prototype.CORNER_RADIUS=8,y.Flyout.prototype.MARGIN=y.Flyout.prototype.CORNER_RADIUS,y.Flyout.prototype.GAP_X=3*y.Flyout.prototype.MARGIN,y.Flyout.prototype.GAP_Y=3*y.Flyout.prototype.MARGIN,y.Flyout.prototype.SCROLLBAR_PADDING=2,y.Flyout.prototype.width_=0,y.Flyout.prototype.height_=0,y.Flyout.prototype.dragAngleRange_=70,y.Flyout.prototype.createDom=function(e){return this.svgGroup_=y.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=y.utils.dom.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.workspace_.getMarkerManager().setCursor(new y.FlyoutCursor),this.svgGroup_},y.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.scrollbar=new y.Scrollbar(this.workspace_,this.horizontalLayout,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,y.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,y.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap()},y.Flyout.prototype.dispose=function(){this.hide(),y.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(y.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},y.Flyout.prototype.getWidth=function(){return this.width_},y.Flyout.prototype.getHeight=function(){return this.height_},y.Flyout.prototype.getWorkspace=function(){return this.workspace_},y.Flyout.prototype.isVisible=function(){return this.isVisible_},y.Flyout.prototype.setVisible=function(e){var t=e!=this.isVisible();this.isVisible_=e,t&&this.updateDisplay_()},y.Flyout.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},y.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.scrollbar.setContainerVisible(e)},y.Flyout.prototype.positionAt_=function(e,t,o,i){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",t),"svg"==this.svgGroup_.tagName?y.utils.dom.setCssTransform(this.svgGroup_,"translate("+o+"px,"+i+"px)"):this.svgGroup_.setAttribute("transform","translate("+o+","+i+")"),this.scrollbar&&(this.scrollbar.setOrigin(o,i),this.scrollbar.resize(),this.scrollbar.setPosition(this.scrollbar.position.x,this.scrollbar.position.y))},y.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e=0,t;t=this.listeners_[e];e++)y.unbindEvent_(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},y.Flyout.prototype.show=function(e){if(this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),"function"!=typeof e)throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw TypeError("Result of toolbox category callback must be an array.")}this.setVisible(!0),e=y.utils.toolbox.convertToolboxToJSON(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(y.bindEventWithChecks_(this.svgBackground_,"mouseover",this,function(){for(var e=this.workspace_.getTopBlocks(!1),t=0,o;o=e[t];t++)o.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},y.Flyout.prototype.createFlyoutInfo_=function(t){var o=[],i=[];this.permanentlyDisabled_.length=0;for(var r=this.horizontalLayout?this.GAP_X:this.GAP_Y,n=0,e;e=t[n];n++)switch(e.kind.toUpperCase()){case"BLOCK":var a=e,s=this.getBlockXml_(a);e=this.createBlock_(s),a=parseInt(a.gap||s.getAttribute("gap"),10),i.push(isNaN(a)?r:a),o.push({type:"block",block:e});break;case"SEP":this.addSeparatorGap_(e,i,r);break;case"LABEL":e=this.createButton_(e,!0),o.push({type:"button",button:e}),i.push(r);break;case"BUTTON":e=this.createButton_(e,!1),o.push({type:"button",button:e}),i.push(r);}return{contents:o,gaps:i}},y.Flyout.prototype.createButton_=function(e,t){if(!y.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new y.FlyoutButton(this.workspace_,this.targetWorkspace,e,t)},y.Flyout.prototype.createBlock_=function(e){return e=y.Xml.domToBlock(e,this.workspace_),e.isEnabled()||this.permanentlyDisabled_.push(e),e},y.Flyout.prototype.getBlockXml_=function(e){var t=null,o=e.blockxml;if(o&&"string"!=typeof o?t=o:o&&"string"==typeof o?t=y.Xml.textToDom(o):e.type&&(t=y.utils.xml.createElement("xml"),t.setAttribute("type",e.type),t.setAttribute("disabled",e.disabled)),!t)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return t},y.Flyout.prototype.addSeparatorGap_=function(e,t,o){e=parseInt(e.gap,10),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(o)},y.Flyout.prototype.clearOldBlocks_=function(){for(var e=this.workspace_.getTopBlocks(!1),t=0,o;o=e[t];t++)o.workspace==this.workspace_&&o.dispose(!1,!1);for(t=0;t<this.mats_.length;t++)(e=this.mats_[t])&&(y.Tooltip.unbindMouseEvents(e),y.utils.dom.removeNode(e));for(t=this.mats_.length=0;e=this.buttons_[t];t++)e.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},y.Flyout.prototype.addBlockListeners_=function(e,t,o){this.listeners_.push(y.bindEventWithChecks_(e,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push(y.bindEventWithChecks_(o,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push(y.bindEvent_(e,"mouseenter",t,t.addSelect)),this.listeners_.push(y.bindEvent_(e,"mouseleave",t,t.removeSelect)),this.listeners_.push(y.bindEvent_(o,"mouseenter",t,t.addSelect)),this.listeners_.push(y.bindEvent_(o,"mouseleave",t,t.removeSelect))},y.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(o){var i=t.targetWorkspace.getGesture(o);i&&(i.setStartBlock(e),i.handleFlyoutStart(o,t))}},y.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)},y.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},y.Flyout.prototype.createBlock=function(e){var t=null;y.Events.disable();var o=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock_(e),y.hideChaff()}finally{y.Events.enable()}if(e=y.Variables.getAddedVariables(this.targetWorkspace,o),y.Events.isEnabled())for(y.Events.setGroup(!0),y.Events.fire(new y.Events.Create(t)),o=0;o<e.length;o++)y.Events.fire(new y.Events.VarCreate(e[o]));return this.autoClose?this.hide():this.filterForCapacity_(),t},y.Flyout.prototype.initFlyoutButton_=function(e,t,o){var i=e.createDom();e.moveTo(t,o),e.show(),this.listeners_.push(y.bindEventWithChecks_(i,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},y.Flyout.prototype.createRect_=function(t,o,i,r,n){return o=y.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:o,y:i,height:r.height,width:r.width},null),o.tooltip=t,y.Tooltip.bindMouseEvents(o),this.workspace_.getCanvas().insertBefore(o,t.getSvgRoot()),t.flyoutRect_=o,this.mats_[n]=o},y.Flyout.prototype.moveRectToBlock_=function(e,t){var o=t.getHeightWidth();e.setAttribute("width",o.width),e.setAttribute("height",o.height),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y),e.setAttribute("x",this.RTL?t.x-o.width:t.x)},y.Flyout.prototype.filterForCapacity_=function(){for(var e=this.workspace_.getTopBlocks(!1),t=0,o;o=e[t];t++)if(-1==this.permanentlyDisabled_.indexOf(o))for(var i=this.targetWorkspace.isCapacityAvailable(y.utils.getBlockTypeCounts(o));o;)o.setEnabled(i),o=o.getNextBlock()},y.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},y.Flyout.prototype.isScrollable=function(){return!!this.scrollbar&&this.scrollbar.isVisible()},y.Flyout.prototype.placeNewBlock_=function(t){var o=this.targetWorkspace;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var i=y.Xml.blockToDom(t,!0);if(o.setResizesEnabled(!1),i=y.Xml.domToBlock(i,o),!i.getSvgRoot())throw Error("block is not rendered.");var r=o.getOriginOffsetInPixels(),n=this.workspace_.getOriginOffsetInPixels();return t=t.getRelativeToSurfaceXY(),t.scale(this.workspace_.scale),t=y.utils.Coordinate.sum(n,t),r=y.utils.Coordinate.difference(t,r),r.scale(1/o.scale),i.moveBy(r.x,r.y),i},y.Flyout.prototype.onBlocklyAction=function(e){return this.workspace_.getCursor().onBlocklyAction(e)},y.HorizontalFlyout=function(e){y.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},y.utils.object.inherits(y.HorizontalFlyout,y.Flyout),y.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}var t=this.SCROLLBAR_PADDING,o=this.SCROLLBAR_PADDING;this.toolboxPosition_==y.TOOLBOX_AT_BOTTOM&&(t=0);var i=this.height_;return this.toolboxPosition_==y.TOOLBOX_AT_TOP&&(i-=this.SCROLLBAR_PADDING),{contentHeight:(e.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(e.width+2*this.MARGIN)*this.workspace_.scale,contentTop:0,contentLeft:0,viewHeight:i,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,absoluteTop:t,absoluteLeft:o}},y.HorizontalFlyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&("number"==typeof e.x&&(this.workspace_.scrollX=-t.contentWidth*e.x),this.workspace_.translate(this.workspace_.scrollX+t.absoluteLeft,this.workspace_.scrollY+t.absoluteTop))},y.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace.getMetrics();e&&(this.width_=e.viewWidth,this.setBackgroundPath_(e.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace.toolboxPosition==this.toolboxPosition_?e.toolboxHeight?this.toolboxPosition_==y.TOOLBOX_AT_TOP?e.toolboxHeight:e.viewHeight-this.height_:this.toolboxPosition_==y.TOOLBOX_AT_TOP?0:e.viewHeight:this.toolboxPosition_==y.TOOLBOX_AT_TOP?0:e.viewHeight+e.absoluteTop-this.height_))}},y.HorizontalFlyout.prototype.setBackgroundPath_=function(e,t){var o=this.toolboxPosition_==y.TOOLBOX_AT_TOP,i=["M 0,"+(o?0:this.CORNER_RADIUS)];o?(i.push("h",e+2*this.CORNER_RADIUS),i.push("v",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",t),i.push("h",-e-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},y.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar.set(this.RTL?Infinity:0)},y.HorizontalFlyout.prototype.wheel_=function(e){var t=y.utils.getScrollDeltaPixels(e),o=t.x||t.y;o&&(t=this.getMetrics_(),o=t.viewLeft+o,o=T(o,t.contentWidth-t.viewWidth),o=u(o,0),this.scrollbar.set(o),y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation()),e.preventDefault(),e.stopPropagation()},y.HorizontalFlyout.prototype.layout_=function(t,o){this.workspace_.scale=this.targetWorkspace.scale;var i=this.MARGIN,r=i+this.tabWidth_;this.RTL&&(t=t.reverse());for(var n=0,e;e=t[n];n++)if("block"==e.type){e=e.block;for(var a=e.getDescendants(!1),s=0,l;l=a[s];s++)l.isInFlyout=!0;e.render(),a=e.getSvgRoot(),s=e.getHeightWidth(),l=e.outputConnection?this.tabWidth_:0,l=this.RTL?r+s.width:r-l,e.moveBy(l,i),l=this.createRect_(e,l,i,s,n),r+=s.width+o[n],this.addBlockListeners_(a,e,l)}else"button"==e.type&&(this.initFlyoutButton_(e.button,r,i),r+=e.button.width+o[n])},y.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=180*(i(e.y,e.x)/p);var t=this.dragAngleRange_;return!!(e<90+t&&e>90-t||e>-90-t&&e<-90+t)},y.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_==y.TOOLBOX_AT_TOP?new y.utils.Rect(-1E9,t+e.height,-1E9,1E9):new y.utils.Rect(t,1E9,-1E9,1E9)},y.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace.scale;for(var e=0,t=this.workspace_.getTopBlocks(!1),o=0,i;i=t[o];o++)e=u(e,i.getHeightWidth().height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=y.Scrollbar.scrollbarThickness,this.height_!=e){for(o=0;i=t[o];o++)i.flyoutRect_&&this.moveRectToBlock_(i.flyoutRect_,i);this.height_=e,this.position()}},y.VerticalFlyout=function(e){y.VerticalFlyout.superClass_.constructor.call(this,e)},y.utils.object.inherits(y.VerticalFlyout,y.Flyout),y.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}var t=this.SCROLLBAR_PADDING,o=this.height_-2*this.SCROLLBAR_PADDING,i=this.width_;return this.RTL||(i-=this.SCROLLBAR_PADDING),{contentHeight:e.height*this.workspace_.scale+2*this.MARGIN,contentWidth:e.width*this.workspace_.scale+2*this.MARGIN,contentTop:e.y,contentLeft:e.x,viewHeight:o,viewWidth:i,viewTop:-this.workspace_.scrollY+e.y,viewLeft:-this.workspace_.scrollX,absoluteTop:t,absoluteLeft:0}},y.VerticalFlyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&("number"==typeof e.y&&(this.workspace_.scrollY=-t.contentHeight*e.y),this.workspace_.translate(this.workspace_.scrollX+t.absoluteLeft,this.workspace_.scrollY+t.absoluteTop))},y.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace.getMetrics();e&&(this.height_=e.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace.toolboxPosition==this.toolboxPosition_?e.toolboxWidth?this.toolboxPosition_==y.TOOLBOX_AT_LEFT?e.toolboxWidth:e.viewWidth-this.width_:this.toolboxPosition_==y.TOOLBOX_AT_LEFT?0:e.viewWidth:this.toolboxPosition_==y.TOOLBOX_AT_LEFT?0:e.viewWidth+e.absoluteLeft-this.width_,0))}},y.VerticalFlyout.prototype.setBackgroundPath_=function(e,t){var o=this.toolboxPosition_==y.TOOLBOX_AT_RIGHT,i=e+this.CORNER_RADIUS;i=["M "+(o?i:0)+",0"],i.push("h",o?-e:e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",u(0,t)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,o?0:1,o?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",o?e:-e),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},y.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar.set(0)},y.VerticalFlyout.prototype.wheel_=function(e){var t=y.utils.getScrollDeltaPixels(e);if(t.y){var o=this.getMetrics_();t=o.viewTop-o.contentTop+t.y,t=T(t,o.contentHeight-o.viewHeight),t=u(t,0),this.scrollbar.set(t),y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},y.VerticalFlyout.prototype.layout_=function(t,o){this.workspace_.scale=this.targetWorkspace.scale;for(var i=this.MARGIN,r=this.RTL?i:i+this.tabWidth_,n=0,e;e=t[n];n++)if("block"==e.type){e=e.block;for(var a=e.getDescendants(!1),s=0,l;l=a[s];s++)l.isInFlyout=!0;e.render(),a=e.getSvgRoot(),s=e.getHeightWidth(),l=e.outputConnection?r-this.tabWidth_:r,e.moveBy(l,i),l=this.createRect_(e,this.RTL?l-s.width:l,i,s,n),this.addBlockListeners_(a,e,l),i+=s.height+o[n]}else"button"==e.type&&(this.initFlyoutButton_(e.button,r,i),i+=e.button.height+o[n])},y.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=180*(i(e.y,e.x)/p);var t=this.dragAngleRange_;return!!(e<t&&e>-t||e<-180+t||e>180-t)},y.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_==y.TOOLBOX_AT_LEFT?new y.utils.Rect(-1E9,1E9,-1E9,t+e.width):new y.utils.Rect(-1E9,1E9,t,1E9)},y.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace.scale;for(var t=0,o=this.workspace_.getTopBlocks(!1),i=0,r,n;r=o[i];i++)n=r.getHeightWidth().width,r.outputConnection&&(n-=this.tabWidth_),t=u(t,n);for(i=0;r=this.buttons_[i];i++)t=u(t,r.width);if(t+=1.5*this.MARGIN+this.tabWidth_,t*=this.workspace_.scale,t+=y.Scrollbar.scrollbarThickness,this.width_!=t){for(i=0;r=o[i];i++){if(this.RTL){n=r.getRelativeToSurfaceXY().x;var e=t/this.workspace_.scale-this.MARGIN;r.outputConnection||(e-=this.tabWidth_),r.moveBy(e-n,0)}r.flyoutRect_&&this.moveRectToBlock_(r.flyoutRect_,r)}if(this.RTL)for(i=0;r=this.buttons_[i];i++)o=r.getPosition().y,r.moveTo(t/this.workspace_.scale-r.width-this.MARGIN-this.tabWidth_,o);this.width_=t,this.position()}},y.FlyoutButton=function(e,t,o,i){this.workspace_=e,this.targetWorkspace_=t,this.text_=o.text,this.position_=new y.utils.Coordinate(0,0),this.isLabel_=i,this.callbackKey_=o.callbackKey||o.callbackkey,this.cssClass_=o["web-class"]||null,this.onMouseUpWrapper_=null},y.FlyoutButton.MARGIN_X=5,y.FlyoutButton.MARGIN_Y=2,y.FlyoutButton.prototype.width=0,y.FlyoutButton.prototype.height=0,y.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=y.utils.dom.createSvgElement("g",{class:t},this.workspace_.getCanvas()),!this.isLabel_)var o=y.utils.dom.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=y.utils.dom.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var i=y.utils.dom.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),r=y.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(r+="\u200F"),i.textContent=r,this.isLabel_&&(this.svgText_=i,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var n=y.utils.style.getComputedStyle(i,"fontSize"),e=y.utils.style.getComputedStyle(i,"fontWeight"),s=y.utils.style.getComputedStyle(i,"fontFamily");return this.width=y.utils.dom.getFastTextWidthWithSizeString(i,n,e,s),r=y.utils.dom.measureFontMetrics(r,n,e,s),this.height=r.height,this.isLabel_||(this.width+=2*y.FlyoutButton.MARGIN_X,this.height+=2*y.FlyoutButton.MARGIN_Y,o.setAttribute("width",this.width),o.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),i.setAttribute("x",this.width/2),i.setAttribute("y",this.height/2-r.height/2+r.baseline),this.updateTransform_(),this.onMouseUpWrapper_=y.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},y.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},y.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},y.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},y.FlyoutButton.prototype.getPosition=function(){return this.position_},y.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},y.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&y.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&y.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},y.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},y.Css.register([".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}"]),y.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},y.Generator.NAME_TYPE="generated_function",y.Generator.prototype.INFINITE_LOOP_TRAP=null,y.Generator.prototype.STATEMENT_PREFIX=null,y.Generator.prototype.STATEMENT_SUFFIX=null,y.Generator.prototype.INDENT="  ",y.Generator.prototype.COMMENT_WRAP=60,y.Generator.prototype.ORDER_OVERRIDES=[],y.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=y.getMainWorkspace());var o=[];this.init(t),t=t.getTopBlocks(!0);for(var i=0,r,n;r=t[i];i++)n=this.blockToCode(r),Array.isArray(n)&&(n=n[0]),n&&(r.outputConnection&&(n=this.scrubNakedValue(n),this.STATEMENT_PREFIX&&!r.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,r)+n),this.STATEMENT_SUFFIX&&!r.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,r))),o.push(n));return o=o.join("\n"),o=this.finish(o),o=o.replace(/^\s+\n/,""),o=o.replace(/\n\s+$/,"\n"),o=o.replace(/[ \t]+\n/g,"\n")},y.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},y.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var o=0,i;o<e.length;o++)i=e[o].getCommentText(),i&&t.push(i);return t.length&&t.push(""),t.join("\n")},y.Generator.prototype.blockToCode=function(e,t){if(!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var o=this[e.type];if("function"!=typeof o)throw Error("Language \""+this.name_+"\" does not know how to generate  code for block type \""+e.type+"\".");if(o=o.call(e,e),Array.isArray(o)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,o[0],t),o[1]]}if("string"==typeof o)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,e)+o),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,o,t);if(null===o)return"";throw SyntaxError("Invalid code generated: "+o)},y.Generator.prototype.valueToCode=function(t,o,i){if(isNaN(i))throw TypeError("Expecting valid order from block: "+t.type);var r=t.getInputTargetBlock(o);if(!r)return"";if(o=this.blockToCode(r),""===o)return"";if(!Array.isArray(o))throw TypeError("Expecting tuple from value block: "+r.type);if(t=o[0],o=o[1],isNaN(o))throw TypeError("Expecting valid order from value block: "+r.type);if(!t)return"";r=!1;var n=m(i),e=m(o);if(n<=e&&(n!=e||0!=n&&99!=n))for(r=!0,n=0;n<this.ORDER_OVERRIDES.length;n++)if(this.ORDER_OVERRIDES[n][0]==i&&this.ORDER_OVERRIDES[n][1]==o){r=!1;break}return r&&(t="("+t+")"),t},y.Generator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),"string"!=typeof t)throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t},y.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},y.Generator.prototype.injectId=function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")},y.Generator.prototype.RESERVED_WORDS_="",y.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},y.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",y.Generator.prototype.provideFunction_=function(e,t){if(!this.definitions_[e]){var o=this.variableDB_.getDistinctName(e,y.PROCEDURE_CATEGORY_NAME);this.functionNames_[e]=o,t=t.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);for(var i;i!=t;)i=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]},y.Generator.prototype.init=function(){},y.Generator.prototype.scrub_=function(e,t){return t},y.Generator.prototype.finish=function(e){return e},y.Generator.prototype.scrubNakedValue=function(e){return e},y.tree={},y.tree.BaseNode=function(e,t){y.Component.call(this),this.content=e,this.config_=t,this.expanded_=this.selected_=!1,this.depth_=-1},y.utils.object.inherits(y.tree.BaseNode,y.Component),y.tree.BaseNode.allNodes={},y.tree.BaseNode.prototype.disposeInternal=function(){y.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree=null),this.setElementInternal(null)},y.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var t=this.getLabelElement();if(t&&!t.id&&(t.id=this.getId()+".label"),y.utils.aria.setRole(e,y.utils.aria.Role.TREEITEM),y.utils.aria.setState(e,y.utils.aria.State.SELECTED,!1),y.utils.aria.setState(e,y.utils.aria.State.LEVEL,this.getDepth()),t&&y.utils.aria.setState(e,y.utils.aria.State.LABELLEDBY,t.id),(t=this.getIconElement())&&y.utils.aria.setRole(t,y.utils.aria.Role.PRESENTATION),(t=this.getChildrenElement())&&(y.utils.aria.setRole(t,y.utils.aria.Role.GROUP),t.hasChildNodes()))for(y.utils.aria.setState(e,y.utils.aria.State.EXPANDED,!1),e=this.getChildCount(),t=1;t<=e;t++){var o=this.getChildAt(t-1).getElement();y.utils.aria.setState(o,y.utils.aria.State.SETSIZE,e),y.utils.aria.setState(o,y.utils.aria.State.POSINSET,t)}}},y.tree.BaseNode.prototype.createDom=function(){var e=document.createElement("div");e.appendChild(this.toDom()),this.setElementInternal(e)},y.tree.BaseNode.prototype.enterDocument=function(){y.tree.BaseNode.superClass_.enterDocument.call(this),y.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},y.tree.BaseNode.prototype.exitDocument=function(){y.tree.BaseNode.superClass_.exitDocument.call(this),delete y.tree.BaseNode.allNodes[this.getId()]},y.tree.BaseNode.prototype.addChildAt=function(t,o){var i=this.getChildAt(o-1),r=this.getChildAt(o);if(y.tree.BaseNode.superClass_.addChildAt.call(this,t,o),t.previousSibling_=i,t.nextSibling_=r,i&&(i.nextSibling_=t),r&&(r.previousSibling_=t),(o=this.getTree())&&t.setTreeInternal(o),t.setDepth_(this.getDepth()+1),(o=this.getElement())&&(this.updateExpandIcon(),y.utils.aria.setState(o,y.utils.aria.State.EXPANDED,this.expanded_),this.expanded_)){o=this.getChildrenElement(),t.getElement()||t.createDom();var n=t.getElement(),e=r&&r.getElement();o.insertBefore(n,e),this.isInDocument()&&t.enterDocument(),r||(i?i.updateExpandIcon():(y.utils.style.setElementShown(o,!0),this.setExpanded(this.expanded_)))}},y.tree.BaseNode.prototype.add=function(e){if(e.getParent())throw Error(y.Component.Error.PARENT_UNABLE_TO_BE_SET);this.addChildAt(e,this.getChildCount())},y.tree.BaseNode.prototype.getTree=function(){return null},y.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return 0>e&&(e=(e=this.getParent())?e.getDepth()+1:0,this.setDepth_(e)),e},y.tree.BaseNode.prototype.setDepth_=function(e){if(e!=this.depth_){this.depth_=e;var t=this.getRowElement();if(t){var o=this.getPixelIndent_()+"px";this.rightToLeft_?t.style.paddingRight=o:t.style.paddingLeft=o}this.forEachChild(function(t){t.setDepth_(e+1)})}},y.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},y.tree.BaseNode.prototype.getChildren=function(){var e=[];return this.forEachChild(function(t){e.push(t)}),e},y.tree.BaseNode.prototype.getParent=function(){return y.tree.BaseNode.superClass_.getParent.call(this)},y.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},y.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},y.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},y.tree.BaseNode.prototype.isSelected=function(){return this.selected_},y.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},y.tree.BaseNode.prototype.setSelected=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var t=this.getElement();t&&(y.utils.aria.setState(t,y.utils.aria.State.SELECTED,e),e&&(e=this.getTree().getElement(),y.utils.aria.setState(e,y.utils.aria.State.ACTIVEDESCENDANT,this.getId())))}},y.tree.BaseNode.prototype.setExpanded=function(t){var o=t!=this.expanded_,i;this.expanded_=t;var r=this.getTree(),n=this.getElement();this.hasChildren()?(!t&&r&&this.contains(r.getSelectedItem())&&this.select(),n)&&((i=this.getChildrenElement())&&(y.utils.style.setElementShown(i,t),y.utils.aria.setState(n,y.utils.aria.State.EXPANDED,t),t&&this.isInDocument()&&!i.hasChildNodes()&&(this.forEachChild(function(e){i.appendChild(e.toDom())}),this.forEachChild(function(e){e.enterDocument()}))),this.updateExpandIcon()):(i=this.getChildrenElement())&&y.utils.style.setElementShown(i,!1),n&&this.updateIcon_(),o&&(t?this.doNodeExpanded():this.doNodeCollapsed())},y.tree.BaseNode.prototype.doNodeExpanded=function(){},y.tree.BaseNode.prototype.doNodeCollapsed=function(){},y.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.expanded_)},y.tree.BaseNode.prototype.toDom=function(){var e=this.expanded_&&this.hasChildren(),t=document.createElement("div");return t.style.backgroundPosition=this.getBackgroundPosition(),e||(t.style.display="none"),e&&this.forEachChild(function(e){t.appendChild(e.toDom())}),e=document.createElement("div"),e.id=this.getId(),e.appendChild(this.getRowDom()),e.appendChild(t),e},y.tree.BaseNode.prototype.getPixelIndent_=function(){return u(0,(this.getDepth()-1)*this.config_.indentWidth)},y.tree.BaseNode.prototype.getRowDom=function(){var e=document.createElement("div");return e.className=this.getRowClassName(),e.style["padding-"+(this.rightToLeft_?"right":"left")]=this.getPixelIndent_()+"px",e.appendChild(this.getIconDom()),e.appendChild(this.getLabelDom()),e},y.tree.BaseNode.prototype.getRowClassName=function(){var e="";return this.isSelected()&&(e=" "+(this.config_.cssSelectedRow||"")),this.config_.cssTreeRow+e},y.tree.BaseNode.prototype.getLabelDom=function(){var e=document.createElement("span");return e.className=this.config_.cssItemLabel||"",e.textContent=this.content,e},y.tree.BaseNode.prototype.getIconDom=function(){var e=document.createElement("span");return e.style.display="inline-block",e.className=this.getCalculatedIconClass(),e},y.tree.BaseNode.prototype.getCalculatedIconClass=function(){throw Error(y.Component.Error.ABSTRACT_METHOD)},y.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},y.tree.BaseNode.prototype.getElement=function(){var e=y.tree.BaseNode.superClass_.getElement.call(this);return e||(e=document.getElementById(this.getId()),this.setElementInternal(e)),e},y.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},y.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},y.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},y.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null},y.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},y.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getChildrenElement();e&&(e.style.backgroundPosition=this.getBackgroundPosition())},y.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},y.tree.BaseNode.prototype.onClick_=function(e){e.preventDefault()},y.tree.BaseNode.prototype.onKeyDown=function(e){switch(e.keyCode){case y.utils.KeyCodes.RIGHT:var t=this.selectChild();break;case y.utils.KeyCodes.LEFT:t=this.selectParent();break;case y.utils.KeyCodes.DOWN:t=this.selectNext();break;case y.utils.KeyCodes.UP:t=this.selectPrevious();break;case y.utils.KeyCodes.ENTER:case y.utils.KeyCodes.SPACE:this.toggle(),t=!0;break;default:t=!1;}return t&&e.preventDefault(),t},y.tree.BaseNode.prototype.selectNext=function(){var e=this.getNextShownNode();return e&&e.select(),!0},y.tree.BaseNode.prototype.selectPrevious=function(){var e=this.getPreviousShownNode();return e&&e.select(),!0},y.tree.BaseNode.prototype.selectParent=function(){if(this.hasChildren()&&this.expanded_)this.setExpanded(!1);else{var e=this.getParent(),t=this.getTree();e&&e!=t&&e.select()}return!0},y.tree.BaseNode.prototype.selectChild=function(){return!!this.hasChildren()&&(this.expanded_?this.getChildAt(0).select():this.setExpanded(!0),!0)},y.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.expanded_&&this.hasChildren()?this.getChildAt(this.getChildCount()-1).getLastShownDescendant():this},y.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.expanded_)return this.getChildAt(0);for(var e=this,t;e!=this.getTree();){if(t=e.getNextSibling(),null!=t)return t;e=e.getParent()}return null},y.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();e=this.getParent();var t=this.getTree();return e==t||this==t?null:e},y.tree.BaseNode.prototype.setTreeInternal=function(e){this.tree!=e&&(this.tree=e,this.forEachChild(function(t){t.setTreeInternal(e)}))},y.tree.TreeNode=function(e,t,o){this.toolbox_=e,y.tree.BaseNode.call(this,t,o),this.onSizeChanged_=null},y.utils.object.inherits(y.tree.TreeNode,y.tree.BaseNode),y.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},y.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.expanded_;if(e&&this.expandedIconClass)return this.expandedIconClass;var t=this.iconClass;if(!e&&t)return t;if(t=this.config_,this.hasChildren()){if(e&&t.cssExpandedFolderIcon)return t.cssTreeIcon+" "+t.cssExpandedFolderIcon;if(!e&&t.cssCollapsedFolderIcon)return t.cssTreeIcon+" "+t.cssCollapsedFolderIcon}else if(t.cssFileIcon)return t.cssTreeIcon+" "+t.cssFileIcon;return""},y.tree.TreeNode.prototype.onClick_=function(){this.hasChildren()?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},y.tree.TreeNode.prototype.onKeyDown=function(e){if(this.tree.toolbox_.horizontalLayout_){var t={},o=y.utils.KeyCodes.DOWN,i=y.utils.KeyCodes.UP;t[y.utils.KeyCodes.RIGHT]=this.rightToLeft_?i:o,t[y.utils.KeyCodes.LEFT]=this.rightToLeft_?o:i,t[y.utils.KeyCodes.UP]=y.utils.KeyCodes.LEFT,t[y.utils.KeyCodes.DOWN]=y.utils.KeyCodes.RIGHT,Object.defineProperties(e,{keyCode:{value:t[e.keyCode]||e.keyCode}})}return y.tree.TreeNode.superClass_.onKeyDown.call(this,e)},y.tree.TreeNode.prototype.onSizeChanged=function(e){this.onSizeChanged_=e},y.tree.TreeNode.prototype.resizeToolbox_=function(){this.onSizeChanged_&&this.onSizeChanged_.call(this.toolbox_)},y.tree.TreeNode.prototype.doNodeExpanded=y.tree.TreeNode.prototype.resizeToolbox_,y.tree.TreeNode.prototype.doNodeCollapsed=y.tree.TreeNode.prototype.resizeToolbox_,y.tree.TreeControl=function(e,t){this.toolbox_=e,this.onKeydownWrapper_=this.onClickWrapper_=null,y.tree.BaseNode.call(this,"",t),this.selected_=this.expanded_=!0,this.selectedItem_=this,this.onAfterSelected_=this.onBeforeSelected_=null},y.utils.object.inherits(y.tree.TreeControl,y.tree.BaseNode),y.tree.TreeControl.prototype.getTree=function(){return this},y.tree.TreeControl.prototype.getToolbox=function(){return this.toolbox_},y.tree.TreeControl.prototype.getDepth=function(){return 0},y.tree.TreeControl.prototype.setExpanded=function(e){this.expanded_=e},y.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},y.tree.TreeControl.prototype.updateExpandIcon=function(){},y.tree.TreeControl.prototype.getRowClassName=function(){return y.tree.TreeControl.superClass_.getRowClassName.call(this)+" "+this.config_.cssHideRoot},y.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.expanded_;if(e&&this.expandedIconClass)return this.expandedIconClass;var t=this.iconClass;return!e&&t?t:""},y.tree.TreeControl.prototype.setSelectedItem=function(e){if(e!=this.selectedItem_&&(!this.onBeforeSelected_||this.onBeforeSelected_.call(this.toolbox_,e))){var t=this.getSelectedItem();this.selectedItem_&&this.selectedItem_.setSelected(!1),(this.selectedItem_=e)&&e.setSelected(!0),this.onAfterSelected_&&this.onAfterSelected_.call(this.toolbox_,t,e)}},y.tree.TreeControl.prototype.onBeforeSelected=function(e){this.onBeforeSelected_=e},y.tree.TreeControl.prototype.onAfterSelected=function(e){this.onAfterSelected_=e},y.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},y.tree.TreeControl.prototype.initAccessibility=function(){y.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();y.utils.aria.setRole(e,y.utils.aria.Role.TREE),y.utils.aria.setState(e,y.utils.aria.State.LABELLEDBY,this.getLabelElement().id)},y.tree.TreeControl.prototype.enterDocument=function(){y.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.config_.cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},y.tree.TreeControl.prototype.exitDocument=function(){y.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},y.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0,this.onClickWrapper_=y.bindEventWithChecks_(e,"click",this,this.handleMouseEvent_),this.onKeydownWrapper_=y.bindEvent_(e,"keydown",this,this.handleKeyEvent_)},y.tree.TreeControl.prototype.detachEvents_=function(){this.onClickWrapper_&&(y.unbindEvent_(this.onClickWrapper_),this.onClickWrapper_=null),this.onKeydownWrapper_&&(y.unbindEvent_(this.onKeydownWrapper_),this.onKeydownWrapper_=null)},y.tree.TreeControl.prototype.handleMouseEvent_=function(e){var t=this.getNodeFromEvent_(e);t&&"click"==e.type&&t.onClick_(e)},y.tree.TreeControl.prototype.handleKeyEvent_=function(e){var t=this.selectedItem_&&this.selectedItem_.onKeyDown(e);return t&&(y.utils.style.scrollIntoContainerView(this.selectedItem_.getElement(),this.getElement().parentNode),e.preventDefault()),t},y.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var t=e.target;t;){if(e=y.tree.BaseNode.allNodes[t.id])return e;if(t==this.getElement())break;if(t.getAttribute("role")==y.utils.aria.Role.GROUP)break;t=t.parentNode}return null},y.tree.TreeControl.prototype.createNode=function(e){return new y.tree.TreeNode(this.toolbox_,e||"",this.config_)},y.Toolbox=function(e){this.workspace_=e,this.RTL=e.options.RTL,this.horizontalLayout_=e.options.horizontalLayout,this.toolboxPosition=e.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=e.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(e.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon=""),this.flyout_=null,this.height=this.width=0,this.lastCategory_=null},y.Toolbox.prototype.init=function(){var e=this.workspace_,t=this.workspace_.getParentSvg();this.HtmlDiv=document.createElement("div"),this.HtmlDiv.className="blocklyToolboxDiv blocklyNonSelectable",this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),t.parentNode.insertBefore(this.HtmlDiv,t);var o=e.getThemeManager();if(o.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),o.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),y.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,function(e){y.utils.isRightButton(e)||e.target==this.HtmlDiv?y.hideChaff(!1):y.hideChaff(!0),y.Touch.clearTouchIdentifier()},!1,!0),o=new y.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides}),o.toolboxPosition=e.options.toolboxPosition,e.horizontalLayout){if(!y.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new y.HorizontalFlyout(o)}else{if(!y.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new y.VerticalFlyout(o)}if(!this.flyout_)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");y.utils.dom.insertAfter(this.flyout_.createDom("svg"),t),this.flyout_.init(e),this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr"),this.render(e.options.languageTree)},y.Toolbox.prototype.render=function(e){this.tree_&&(this.tree_.dispose(),this.lastCategory_=null);var t=new y.tree.TreeControl(this,this.config_);this.tree_=t,t.setSelectedItem(null),t.onBeforeSelected(this.handleBeforeTreeSelected_),t.onAfterSelected(this.handleAfterTreeSelected_);var o=null;if(e){if(this.tree_.contents=[],this.hasColours_=!1,o=this.createTree_(e,this.tree_),this.tree_.contents.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents()}t.render(this.HtmlDiv),o&&t.setSelectedItem(o),this.addColour_(),this.position(),this.horizontalLayout_&&y.utils.aria.setState(this.tree_.getElement(),y.utils.aria.State.ORIENTATION,"horizontal")},y.Toolbox.prototype.createTree_=function(t,o){var i=null,r=null;if(!t)return null;for(var n=0,e;e=t[n];n++)switch(e.kind.toUpperCase()){case"CATEGORY":i=this.addCategory_(e,o)||i,r=e;break;case"SEP":r=this.addSeparator_(e,o,r)||r;break;case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":o.contents.push(e),r=e;}return i},y.Toolbox.prototype.addCategory_=function(t,o){var i=null,r=y.utils.replaceMessageReferences(t.name),n=this.tree_.createNode(r);return n.onSizeChanged(this.handleNodeSizeChanged_),n.contents=[],o.add(n),(o=t.custom)?n.contents=o:i=this.createTree_(t.contents,n)||i,this.setColourOrStyle_(t,n,r),i=this.setExpanded_(t,n)||i},y.Toolbox.prototype.setColourOrStyle_=function(e,t,o){var i=e.categorystyle;(e=e.colour)&&i?(t.hexColour="",console.warn("Toolbox category \""+o+"\" must not have both a style and a colour")):i?this.setColourFromStyle_(i,t,o):this.setColour_(e,t,o)},y.Toolbox.prototype.addSeparator_=function(e,t,o){if(o&&"CATEGORY"==o.kind.toUpperCase())t.add(new y.Toolbox.TreeSeparator(this.treeSeparatorConfig_));else return t.contents.push(e),e;return null},y.Toolbox.prototype.setExpanded_=function(e,t){var o=null;return"true"==e.expanded?(t.contents.length&&(o=t),t.setExpanded(!0)):t.setExpanded(!1),o},y.Toolbox.prototype.handleBeforeTreeSelected_=function(e){if(e==this.tree_)return!1;if(this.lastCategory_&&(this.lastCategory_.getRowElement().style.backgroundColor=""),e){var t=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=t,this.addColour_(e)}return!0},y.Toolbox.prototype.handleAfterTreeSelected_=function(e,t){t&&t.contents&&t.contents.length?(this.flyout_.show(t.contents),this.lastCategory_!=t&&this.flyout_.scrollToStart(),this.workspace_.keyboardAccessibilityMode&&y.navigation.setState(y.navigation.STATE_TOOLBOX)):(this.flyout_.hide(),!this.workspace_.keyboardAccessibilityMode||t instanceof y.Toolbox.TreeSeparator||y.navigation.setState(y.navigation.STATE_WS)),e!=t&&e!=this&&(e=new y.Events.Ui(null,"category",e&&e.content,t&&t.content),e.workspaceId=this.workspace_.id,y.Events.fire(e)),t&&(this.lastCategory_=t)},y.Toolbox.prototype.handleNodeSizeChanged_=function(){y.svgResize(this.workspace_)},y.Toolbox.prototype.onBlocklyAction=function(e){var t=this.tree_.getSelectedItem();if(!t)return!1;switch(e.name){case y.navigation.actionNames.PREVIOUS:return t.selectPrevious();case y.navigation.actionNames.OUT:return t.selectParent();case y.navigation.actionNames.NEXT:return t.selectNext();case y.navigation.actionNames.IN:return t.selectChild();default:return!1;}},y.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),y.utils.dom.removeNode(this.HtmlDiv),this.lastCategory_=null},y.Toolbox.prototype.setVisible=function(e){this.HtmlDiv.style.display=e?"block":"none"},y.Toolbox.prototype.getWidth=function(){return this.width},y.Toolbox.prototype.getHeight=function(){return this.height},y.Toolbox.prototype.getFlyout=function(){return this.flyout_},y.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var t=y.svgSize(this.workspace_.getParentSvg());this.horizontalLayout_?(e.style.left="0",e.style.height="auto",e.style.width=t.width+"px",this.height=e.offsetHeight,this.toolboxPosition==y.TOOLBOX_AT_TOP?e.style.top="0":e.style.bottom="0"):(this.toolboxPosition==y.TOOLBOX_AT_RIGHT?e.style.right="0":e.style.left="0",e.style.height=t.height+"px",this.width=e.offsetWidth),this.flyout_.position()}},y.Toolbox.prototype.setColour_=function(e,t,o){if(e=y.utils.replaceMessageReferences(e),null===e||""===e)t.hexColour="";else{var i=+e;isNaN(i)?(i=y.utils.colour.parse(e))?(t.hexColour=i,this.hasColours_=!0):(t.hexColour="",console.warn("Toolbox category \""+o+"\" has unrecognized colour attribute: "+e)):(t.hexColour=y.hueToHex(i),this.hasColours_=!0)}},y.Toolbox.prototype.setColourFromStyle_=function(e,t,o){t.styleName=e;var i=this.workspace_.getTheme();e&&i&&((i=i.categoryStyles[e])&&i.colour?this.setColour_(i.colour,t,o):console.warn("Style \""+e+"\" must exist and contain a colour value"))},y.Toolbox.prototype.updateColourFromTheme_=function(e){if(e=e||this.tree_){e=e.getChildren(!1);for(var t=0,o;o=e[t];t++)o.styleName&&(this.setColourFromStyle_(o.styleName,o,""),this.addColour_()),this.updateColourFromTheme_(o)}},y.Toolbox.prototype.refreshTheme=function(){var e=this.tree_;e&&(this.updateColourFromTheme_(e),this.updateSelectedItemColour_(e))},y.Toolbox.prototype.updateSelectedItemColour_=function(e){if(e=e.getSelectedItem()){var t=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=t,this.addColour_(e)}},y.Toolbox.prototype.addColour_=function(t){t=(t||this.tree_).getChildren(!1);for(var o=0,i,r;i=t[o];o++){if(r=i.getRowElement(),r){var n=this.hasColours_?"8px solid "+(i.hexColour||"#ddd"):"none";this.workspace_.RTL?r.style.borderRight=n:r.style.borderLeft=n}this.addColour_(i)}},y.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},y.Toolbox.prototype.addStyle=function(e){y.utils.dom.addClass(this.HtmlDiv,e)},y.Toolbox.prototype.removeStyle=function(e){y.utils.dom.removeClass(this.HtmlDiv,e)},y.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),t=e.top,o=t+e.height,i=e.left;return e=i+e.width,this.toolboxPosition==y.TOOLBOX_AT_TOP?new y.utils.Rect(-1E7,o,-1E7,1E7):this.toolboxPosition==y.TOOLBOX_AT_BOTTOM?new y.utils.Rect(t,1E7,-1E7,1E7):this.toolboxPosition==y.TOOLBOX_AT_LEFT?new y.utils.Rect(-1E7,1E7,-1E7,e):new y.utils.Rect(-1E7,1E7,i,1E7)},y.Toolbox.prototype.refreshSelection=function(){var e=this.tree_.getSelectedItem();e&&e.contents&&this.flyout_.show(e.contents)},y.Toolbox.prototype.selectFirstCategory=function(){this.tree_.getSelectedItem()||this.tree_.selectChild()},y.Toolbox.TreeSeparator=function(e){y.tree.TreeNode.call(this,null,"",e)},y.utils.object.inherits(y.Toolbox.TreeSeparator,y.tree.TreeNode),y.Css.register([".blocklyToolboxDelete {","cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;","}",".blocklyToolboxGrab {","cursor: url(\"<<<PATH>>>/handclosed.cur\"), auto;","cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",".blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {","margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {","cursor: url(\"<<<PATH>>>/handdelete.cur\"), auto;","}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),y.registry.register(y.registry.Type.TOOLBOX,y.registry.DEFAULT,y.Toolbox),y.Trashcan=function(e){if(this.workspace_=e,this.contents_=[],this.flyout=null,!(0>=this.workspace_.options.maxTrashcanContents)){if(e=new y.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides}),this.workspace_.horizontalLayout){if(e.toolboxPosition=this.workspace_.toolboxPosition==y.TOOLBOX_AT_TOP?y.TOOLBOX_AT_BOTTOM:y.TOOLBOX_AT_TOP,!y.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout=new y.HorizontalFlyout(e)}else{if(e.toolboxPosition=this.workspace_.toolboxPosition==y.TOOLBOX_AT_RIGHT?y.TOOLBOX_AT_LEFT:y.TOOLBOX_AT_RIGHT,!y.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout=new y.VerticalFlyout(e)}this.workspace_.addChangeListener(this.onDelete_.bind(this))}},y.Trashcan.prototype.WIDTH_=47,y.Trashcan.prototype.BODY_HEIGHT_=44,y.Trashcan.prototype.LID_HEIGHT_=16,y.Trashcan.prototype.MARGIN_BOTTOM_=20,y.Trashcan.prototype.MARGIN_SIDE_=20,y.Trashcan.prototype.MARGIN_HOTSPOT_=10,y.Trashcan.prototype.SPRITE_LEFT_=0,y.Trashcan.prototype.SPRITE_TOP_=32,y.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,y.Trashcan.ANIMATION_LENGTH_=80,y.Trashcan.ANIMATION_FRAMES_=4,y.Trashcan.OPACITY_MIN_=.4,y.Trashcan.OPACITY_MAX_=.8,y.Trashcan.MAX_LID_ANGLE_=45,y.Trashcan.prototype.isOpen=!1,y.Trashcan.prototype.minOpenness_=0,y.Trashcan.prototype.svgGroup_=null,y.Trashcan.prototype.svgLid_=null,y.Trashcan.prototype.lidTask_=0,y.Trashcan.prototype.lidOpen_=0,y.Trashcan.prototype.left_=0,y.Trashcan.prototype.top_=0,y.Trashcan.prototype.createDom=function(){this.svgGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyTrash"},null);var e=(Math.random()+"").substring(2),t=y.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);y.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},t);var o=y.utils.dom.createSvgElement("image",{width:y.SPRITE.width,x:-this.SPRITE_LEFT_,height:y.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return o.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+y.SPRITE.url),t=y.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),y.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},t),this.svgLid_=y.utils.dom.createSvgElement("image",{width:y.SPRITE.width,x:-this.SPRITE_LEFT_,height:y.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+y.SPRITE.url),y.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),y.bindEvent_(o,"mouseover",this,this.mouseOver_),y.bindEvent_(o,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},y.Trashcan.prototype.init=function(e){return 0<this.workspace_.options.maxTrashcanContents&&(y.utils.dom.insertAfter(this.flyout.createDom("svg"),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.setOpen(!1),this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_},y.Trashcan.prototype.dispose=function(){this.svgGroup_&&(y.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},y.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},y.Trashcan.prototype.emptyContents=function(){this.contents_.length&&(this.contents_.length=0,this.setMinOpenness_(0),this.contentsIsOpen()&&this.flyout.hide())},y.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==y.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-y.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+y.Scrollbar.scrollbarThickness,this.top_=e.toolboxPosition==y.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},y.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new y.utils.Rect(t,t+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},y.Trashcan.prototype.setOpen=function(e){this.isOpen!=e&&(clearTimeout(this.lidTask_),this.isOpen=e,this.animateLid_())},y.Trashcan.prototype.animateLid_=function(){var e=y.Trashcan.ANIMATION_FRAMES_,t=1/(e+1);this.lidOpen_+=this.isOpen?t:-t,this.lidOpen_=T(u(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*y.Trashcan.MAX_LID_ANGLE_),t=y.Trashcan.OPACITY_MIN_,this.svgGroup_.style.opacity=t+this.lidOpen_*(y.Trashcan.OPACITY_MAX_-t),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),y.Trashcan.ANIMATION_LENGTH_/e))},y.Trashcan.prototype.setLidAngle_=function(e){var t=this.workspace_.toolboxPosition==y.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},y.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isOpen||this.setLidAngle_(e*y.Trashcan.MAX_LID_ANGLE_)},y.Trashcan.prototype.close=function(){this.setOpen(!1)},y.Trashcan.prototype.click=function(){if(this.contents_.length){for(var e=[],t=0,o;o=this.contents_[t];t++)e[t]=y.Xml.textToDom(o);this.flyout.show(e)}},y.Trashcan.prototype.mouseOver_=function(){this.contents_.length&&this.setOpen(!0)},y.Trashcan.prototype.mouseOut_=function(){this.setOpen(!1)},y.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==y.Events.BLOCK_DELETE&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},y.Trashcan.prototype.cleanBlockXML_=function(e){for(var t=e=e.cloneNode(!0);t;){t.removeAttribute&&(t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("id"),t.removeAttribute("disabled"),"comment"==t.nodeName&&(t.removeAttribute("h"),t.removeAttribute("w"),t.removeAttribute("pinned")));var o=t.firstChild||t.nextSibling;if(!o)for(o=t.parentNode;o;){if(o.nextSibling){o=o.nextSibling;break}o=o.parentNode}t=o}return y.Xml.domToText(e)},y.VariablesDynamic={},y.VariablesDynamic.onCreateVariableButtonClick_String=function(e){y.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},y.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){y.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},y.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){y.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},y.VariablesDynamic.flyoutCategory=function(e){var t=[],o=document.createElement("button");return o.setAttribute("text",y.Msg.NEW_STRING_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(o),o=document.createElement("button"),o.setAttribute("text",y.Msg.NEW_NUMBER_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(o),o=document.createElement("button"),o.setAttribute("text",y.Msg.NEW_COLOUR_VARIABLE),o.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(o),e.registerButtonCallback("CREATE_VARIABLE_STRING",y.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",y.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",y.VariablesDynamic.onCreateVariableButtonClick_Colour),e=y.VariablesDynamic.flyoutCategoryBlocks(e),t=t.concat(e)},y.VariablesDynamic.flyoutCategoryBlocks=function(t){t=t.getAllVariables();var o=[];if(0<t.length){if(y.Blocks.variables_set_dynamic){var i=t[t.length-1],r=y.utils.xml.createElement("block");r.setAttribute("type","variables_set_dynamic"),r.setAttribute("gap",24),r.appendChild(y.Variables.generateVariableFieldDom(i)),o.push(r)}if(y.Blocks.variables_get_dynamic){t.sort(y.VariableModel.compareByName),i=0;for(var n;n=t[i];i++)r=y.utils.xml.createElement("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap",8),r.appendChild(y.Variables.generateVariableFieldDom(n)),o.push(r)}}return o},y.ZoomControls=function(e){this.workspace_=e},y.ZoomControls.prototype.WIDTH_=32,y.ZoomControls.prototype.HEIGHT_=110,y.ZoomControls.prototype.MARGIN_BOTTOM_=20,y.ZoomControls.prototype.MARGIN_SIDE_=20,y.ZoomControls.prototype.svgGroup_=null,y.ZoomControls.prototype.left_=0,y.ZoomControls.prototype.top_=0,y.ZoomControls.prototype.createDom=function(){this.svgGroup_=y.utils.dom.createSvgElement("g",{},null);var e=(Math.random()+"").substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},y.ZoomControls.prototype.init=function(e){return this.verticalSpacing_=this.MARGIN_BOTTOM_+e,this.verticalSpacing_+this.HEIGHT_},y.ZoomControls.prototype.dispose=function(){this.svgGroup_&&y.utils.dom.removeNode(this.svgGroup_)},y.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var e=this.workspace_.getMetrics();e&&(this.left_=e.toolboxPosition==y.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-y.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+y.Scrollbar.scrollbarThickness,e.toolboxPosition==y.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}},y.ZoomControls.prototype.createZoomOutSvg_=function(e){var t=this.workspace_;this.zoomOutGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=y.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);y.utils.dom.createSvgElement("rect",{width:32,height:32},o),e=y.utils.dom.createSvgElement("image",{width:y.SPRITE.width,height:y.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_),e.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",t.options.pathToMedia+y.SPRITE.url),y.bindEventWithChecks_(e,"mousedown",null,function(e){t.markFocused(),t.zoomCenter(-1),y.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()})},y.ZoomControls.prototype.createZoomInSvg_=function(e){var t=this.workspace_;this.zoomInGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=y.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);y.utils.dom.createSvgElement("rect",{width:32,height:32},o),e=y.utils.dom.createSvgElement("image",{width:y.SPRITE.width,height:y.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_),e.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",t.options.pathToMedia+y.SPRITE.url),y.bindEventWithChecks_(e,"mousedown",null,function(e){t.markFocused(),t.zoomCenter(1),y.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()})},y.ZoomControls.prototype.createZoomResetSvg_=function(e){var t=this.workspace_;this.zoomResetGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyZoom"},this.svgGroup_);var o=y.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);y.utils.dom.createSvgElement("rect",{width:32,height:32},o),e=y.utils.dom.createSvgElement("image",{width:y.SPRITE.width,height:y.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_),e.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",t.options.pathToMedia+y.SPRITE.url),y.bindEventWithChecks_(e,"mousedown",null,function(e){t.markFocused(),t.setScale(t.options.zoomOptions.startScale),t.beginCanvasTransition(),t.scrollCenter(),setTimeout(t.endCanvasTransition.bind(t),500),y.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()})},y.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),y.Mutator=function(e){y.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},y.utils.object.inherits(y.Mutator,y.Icon),y.Mutator.prototype.workspaceWidth_=0,y.Mutator.prototype.workspaceHeight_=0,y.Mutator.prototype.setBlock=function(e){this.block_=e},y.Mutator.prototype.getWorkspace=function(){return this.workspace_},y.Mutator.prototype.drawIcon_=function(e){y.utils.dom.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),y.utils.dom.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),y.utils.dom.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},y.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&y.Icon.prototype.iconClick_.call(this,e)},y.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=y.utils.dom.createSvgElement("svg",{x:y.Bubble.BORDER_WIDTH,y:y.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e=y.utils.xml.createElement("xml"),t=0,o,i;o=this.quarkNames_[t];t++)i=y.utils.xml.createElement("block"),i.setAttribute("type",o),e.appendChild(i);else e=null;return t=new y.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides}),t.toolboxPosition=this.block_.RTL?y.TOOLBOX_AT_RIGHT:y.TOOLBOX_AT_LEFT,(o=!!e)&&(t.languageTree=y.utils.toolbox.convertToolboxToJSON(e),t.getMetrics=this.getFlyoutMetrics_.bind(this)),this.workspace_=new y.WorkspaceSvg(t),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(y.Events.disableOrphans),e=o?this.workspace_.addFlyout("g"):null,t=this.workspace_.createDom("blocklyMutatorBackground"),e&&t.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(t),this.svgDialog_},y.Mutator.prototype.updateEditable=function(){y.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&y.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&y.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},y.Mutator.prototype.resizeBubble_=function(){var e=2*y.Bubble.BORDER_WIDTH,t=this.workspace_.getCanvas().getBBox(),o=this.block_.RTL?-t.x:t.width+t.x;t=t.height+3*e;var i=this.workspace_.getFlyout();i&&(i=i.getMetrics_(),t=u(t,i.contentHeight+20)),o+=3*e,(l(this.workspaceWidth_-o)>e||l(this.workspaceHeight_-t)>e)&&(this.workspaceWidth_=o,this.workspaceHeight_=t,this.bubble_.setBubbleSize(o+e,t+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},y.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDeleteAreas()},y.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(y.Events.fire(new y.Events.Ui(this.block_,"mutatorOpen",!t,t)),t){this.bubble_=new y.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var o=this.workspace_.options.languageTree;t=this.workspace_.getFlyout(),o&&(t.init(this.workspace_),t.show(o)),this.rootBlock_=this.block_.decompose(this.workspace_),o=this.rootBlock_.getDescendants(!1);for(var i=0,r;r=o[i];i++)r.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),t?(o=2*t.CORNER_RADIUS,t=t.getWidth()+o):t=o=16,this.block_.RTL&&(t=-t),this.rootBlock_.moveBy(t,o),this.block_.saveConnections){var n=this,e=this.block_;e.saveConnections(this.rootBlock_),this.sourceListener_=function(){e.saveConnections(n.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},y.Mutator.prototype.workspaceChanged_=function(t){if(t.type!=y.Events.UI&&(t.type!=y.Events.CHANGE||"disabled"!=t.element)){if(!this.workspace_.isDragging())for(var o=this.workspace_.getTopBlocks(!1),i=0;t=o[i];i++){var r=t.getRelativeToSurfaceXY(),n=t.getHeightWidth();20>r.y+n.height&&t.moveBy(0,20-n.height-r.y)}this.rootBlock_.workspace==this.workspace_&&(y.Events.setGroup(!0),t=this.block_,o=(o=t.mutationToDom())&&y.Xml.domToText(o),t.compose(this.rootBlock_),t.initSvg(),t.render(),y.getMainWorkspace().keyboardAccessibilityMode&&y.navigation.moveCursorOnBlockMutation(t),i=(i=t.mutationToDom())&&y.Xml.domToText(i),o!=i&&y.Events.fire(new y.Events.BlockChange(t,"mutation",null,o,i)),this.workspace_.isDragging()||this.resizeBubble_(),y.Events.setGroup(!1))}},y.Mutator.prototype.getFlyoutMetrics_=function(){return{contentHeight:0,contentWidth:0,contentTop:0,contentLeft:0,viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),viewTop:0,viewLeft:0,absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}},y.Mutator.prototype.dispose=function(){this.block_.mutator=null,y.Icon.prototype.dispose.call(this)},y.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var t=e.getAllBlocks(!1),o=0,i;o<t.length;o++)i=t[o],i.setStyle(i.getStyleName());for(e=e.getFlyout().workspace_.getAllBlocks(!1),o=0;o<e.length;o++)i=e[o],i.setStyle(i.getStyleName())}},y.Mutator.reconnect=function(e,t,o){if(!e||!e.getSourceBlock().workspace)return!1;o=t.getInput(o).connection;var i=e.targetBlock();return!(i&&i!=t||o.targetConnection==e)&&(o.isConnected()&&o.disconnect(),o.connect(e),!0)},y.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var o=e.options.parentWorkspace;e.isFlyout?o&&o.options&&(t=o.options.parentWorkspace):o&&(t=o)}return t},y.FieldTextInput=function(e,t,o){this.spellcheck_=!0,y.FieldTextInput.superClass_.constructor.call(this,e,t,o),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},y.utils.object.inherits(y.FieldTextInput,y.Field),y.FieldTextInput.prototype.DEFAULT_VALUE="",y.FieldTextInput.fromJson=function(e){var t=y.utils.replaceMessageReferences(e.text);return new y.FieldTextInput(t,void 0,e)},y.FieldTextInput.prototype.SERIALIZABLE=!0,y.FieldTextInput.BORDERRADIUS=4,y.FieldTextInput.prototype.CURSOR="text",y.FieldTextInput.prototype.configure_=function(e){y.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},y.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var t=0,o=0,i=0,r;r=this.sourceBlock_.inputList[i];i++){for(var n=0;r.fieldRow[n];n++)t++;r.connection&&o++}this.fullBlockClickTarget_=1>=t&&this.sourceBlock_.outputConnection&&!o}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},y.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e+""},y.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&y.Events.isEnabled()&&y.Events.fire(new y.Events.BlockChange(this.sourceBlock_,"field",this.name||null,e,this.value_)))},y.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},y.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},y.FieldTextInput.prototype.render_=function(){if(y.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(y.utils.dom.removeClass(e,"blocklyInvalidInput"),y.utils.aria.setState(e,y.utils.aria.State.INVALID,!1)):(y.utils.dom.addClass(e,"blocklyInvalidInput"),y.utils.aria.setState(e,y.utils.aria.State.INVALID,!0))}},y.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},y.FieldTextInput.prototype.showEditor_=function(e,t){this.workspace_=this.sourceBlock_.workspace,e=t||!1,!e&&(y.utils.userAgent.MOBILE||y.utils.userAgent.ANDROID||y.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},y.FieldTextInput.prototype.showPromptEditor_=function(){var e=this;y.prompt(y.Msg.CHANGE_VALUE_TITLE,this.getText(),function(t){e.setValue(t)})},y.FieldTextInput.prototype.showInlineEditor_=function(e){y.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},y.FieldTextInput.prototype.widgetCreate_=function(){var t=y.WidgetDiv.DIV;y.utils.dom.addClass(this.getClickTarget_(),"editing");var o=document.createElement("input");o.className="blocklyHtmlInput",o.setAttribute("spellcheck",this.spellcheck_);var i=this.workspace_.getScale(),r=this.getConstants().FIELD_TEXT_FONTSIZE*i+"pt";if(t.style.fontSize=r,o.style.fontSize=r,r=y.FieldTextInput.BORDERRADIUS*i+"px",this.fullBlockClickTarget_){r=this.getScaledBBox(),r=(r.bottom-r.top)/2+"px";var n=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;o.style.border=1*i+"px solid "+n,t.style.borderRadius=r,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*i+"px")}return o.style.borderRadius=r,t.appendChild(o),o.value=o.defaultValue=this.getEditorText_(this.value_),o.untypedDefaultValue_=this.value_,o.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(o),o},y.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=y.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,y.utils.dom.removeClass(this.getClickTarget_(),"editing")},y.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=y.bindEventWithChecks_(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=y.bindEventWithChecks_(e,"input",this,this.onHtmlInputChange_)},y.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(y.unbindEvent_(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(y.unbindEvent_(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},y.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==y.utils.KeyCodes.ENTER?(y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation()):e.keyCode==y.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation()):e.keyCode==y.utils.KeyCodes.TAB&&(y.WidgetDiv.hide(),y.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},y.FieldTextInput.prototype.onHtmlInputChange_=function(e){e=this.htmlInput_.value,e!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,y.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),y.Events.setGroup(!1))},y.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},y.FieldTextInput.prototype.resizeEditor_=function(){var e=y.WidgetDiv.DIV,t=this.getScaledBBox();e.style.width=t.right-t.left+"px",e.style.height=t.bottom-t.top+"px",t=new y.utils.Coordinate(this.sourceBlock_.RTL?t.right-e.offsetWidth:t.left,t.top),e.style.left=t.x+"px",e.style.top=t.y+"px"},y.FieldTextInput.numberValidator=function(e){return(console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===e)?null:(e+="",e=e.replace(/O/ig,"0"),e=e.replace(/,/g,""),e=+(e||0),isNaN(e)?null:e+"")},y.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=y.FieldTextInput.numberValidator(e))&&(e=u(0,m(e))+""),e},y.FieldTextInput.prototype.isTabNavigable=function(){return!0},y.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},y.FieldTextInput.prototype.getEditorText_=function(e){return e+""},y.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},y.fieldRegistry.register("field_input",y.FieldTextInput),y.FieldAngle=function(e,t,o){this.clockwise_=y.FieldAngle.CLOCKWISE,this.offset_=y.FieldAngle.OFFSET,this.wrap_=y.FieldAngle.WRAP,this.round_=y.FieldAngle.ROUND,y.FieldAngle.superClass_.constructor.call(this,e,t,o),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=null},y.utils.object.inherits(y.FieldAngle,y.FieldTextInput),y.FieldAngle.prototype.DEFAULT_VALUE=0,y.FieldAngle.fromJson=function(e){return new y.FieldAngle(e.angle,void 0,e)},y.FieldAngle.prototype.SERIALIZABLE=!0,y.FieldAngle.ROUND=15,y.FieldAngle.HALF=50,y.FieldAngle.CLOCKWISE=!1,y.FieldAngle.OFFSET=0,y.FieldAngle.WRAP=360,y.FieldAngle.RADIUS=y.FieldAngle.HALF-1,y.FieldAngle.prototype.configure_=function(e){switch(y.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0;}var t=e.clockwise;"boolean"==typeof t&&(this.clockwise_=t),t=e.offset,null!=t&&(t=+t,isNaN(t)||(this.offset_=t)),t=e.wrap,null!=t&&(t=+t,isNaN(t)||(this.wrap_=t)),e=e.round,null!=e&&(e=+e,isNaN(e)||(this.round_=e))},y.FieldAngle.prototype.initView=function(){y.FieldAngle.superClass_.initView.call(this),this.symbol_=y.utils.dom.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("\xB0")),this.textElement_.appendChild(this.symbol_)},y.FieldAngle.prototype.render_=function(){y.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},y.FieldAngle.prototype.showEditor_=function(e){y.FieldAngle.superClass_.showEditor_.call(this,e,y.utils.userAgent.MOBILE||y.utils.userAgent.ANDROID||y.utils.userAgent.IPAD),e=this.dropdownCreate_(),y.DropDownDiv.getContentDiv().appendChild(e),y.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),y.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},y.FieldAngle.prototype.dropdownCreate_=function(){var e=y.utils.dom.createSvgElement("svg",{xmlns:y.utils.dom.SVG_NS,"xmlns:html":y.utils.dom.HTML_NS,"xmlns:xlink":y.utils.dom.XLINK_NS,version:"1.1",height:2*y.FieldAngle.HALF+"px",width:2*y.FieldAngle.HALF+"px",style:"touch-action: none"},null),t=y.utils.dom.createSvgElement("circle",{cx:y.FieldAngle.HALF,cy:y.FieldAngle.HALF,r:y.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=y.utils.dom.createSvgElement("path",{class:"blocklyAngleGauge"},e),this.line_=y.utils.dom.createSvgElement("line",{x1:y.FieldAngle.HALF,y1:y.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var o=0;360>o;o+=15)y.utils.dom.createSvgElement("line",{x1:y.FieldAngle.HALF+y.FieldAngle.RADIUS,y1:y.FieldAngle.HALF,x2:y.FieldAngle.HALF+y.FieldAngle.RADIUS-(0==o%45?10:5),y2:y.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+o+","+y.FieldAngle.HALF+","+y.FieldAngle.HALF+")"},e);return this.clickWrapper_=y.bindEventWithChecks_(e,"click",this,this.hide_),this.clickSurfaceWrapper_=y.bindEventWithChecks_(t,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=y.bindEventWithChecks_(t,"mousemove",this,this.onMouseMove_,!0,!0),e},y.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(y.unbindEvent_(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(y.unbindEvent_(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(y.unbindEvent_(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},y.FieldAngle.prototype.hide_=function(){y.DropDownDiv.hideIfOwner(this),y.WidgetDiv.hide()},y.FieldAngle.prototype.onMouseMove_=function(t){var o=this.gauge_.ownerSVGElement.getBoundingClientRect(),i=t.clientX-o.left-y.FieldAngle.HALF;t=t.clientY-o.top-y.FieldAngle.HALF,o=e(-t/i),isNaN(o)||(o=y.utils.math.toDegrees(o),0>i?o+=180:0<t&&(o+=360),o=this.clockwise_?this.offset_+360-o:360-(this.offset_-o),this.displayMouseOrKeyboardValue_(o))},y.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=g(e/this.round_)*this.round_),e=this.wrapValue_(e),e!=this.value_&&this.setEditorValue_(e)},y.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=+this.getText()+this.offset_,o=y.utils.math.toRadians(t%360);t=["M ",y.FieldAngle.HALF,",",y.FieldAngle.HALF];var i=y.FieldAngle.HALF,n=y.FieldAngle.HALF;if(!isNaN(o)){var a=+this.clockwise_,e=y.utils.math.toRadians(this.offset_),d=r(e)*y.FieldAngle.RADIUS,c=s(e)*-y.FieldAngle.RADIUS;a&&(o=2*e-o),i+=r(o)*y.FieldAngle.RADIUS,n-=s(o)*y.FieldAngle.RADIUS,o=l(m((o-e)/p)%2),a&&(o=1-o),t.push(" l ",d,",",c," A ",y.FieldAngle.RADIUS,",",y.FieldAngle.RADIUS," 0 ",o," ",a," ",i,",",n," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",i),this.line_.setAttribute("y2",n)}},y.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){y.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e);var t;if(e.keyCode===y.utils.KeyCodes.LEFT?t=this.sourceBlock_.RTL?1:-1:e.keyCode===y.utils.KeyCodes.RIGHT?t=this.sourceBlock_.RTL?-1:1:e.keyCode===y.utils.KeyCodes.DOWN?t=-1:e.keyCode===y.utils.KeyCodes.UP&&(t=1),t){var o=this.getValue();this.displayMouseOrKeyboardValue_(o+t*this.round_),e.preventDefault(),e.stopPropagation()}},y.FieldAngle.prototype.doClassValidation_=function(e){return e=+e,isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},y.FieldAngle.prototype.wrapValue_=function(e){return e%=360,0>e&&(e+=360),e>this.wrap_&&(e-=360),e},y.Css.register([".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","pointer-events: none;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}"]),y.fieldRegistry.register("field_angle",y.FieldAngle),y.FieldCheckbox=function(e,t,o){this.checkChar_=null,y.FieldCheckbox.superClass_.constructor.call(this,e,t,o)},y.utils.object.inherits(y.FieldCheckbox,y.Field),y.FieldCheckbox.prototype.DEFAULT_VALUE=!1,y.FieldCheckbox.fromJson=function(e){return new y.FieldCheckbox(e.checked,void 0,e)},y.FieldCheckbox.CHECK_CHAR="\u2713",y.FieldCheckbox.prototype.SERIALIZABLE=!0,y.FieldCheckbox.prototype.CURSOR="default",y.FieldCheckbox.prototype.configure_=function(e){y.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},y.FieldCheckbox.prototype.initView=function(){y.FieldCheckbox.superClass_.initView.call(this),y.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},y.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},y.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||y.FieldCheckbox.CHECK_CHAR},y.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},y.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},y.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},y.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},y.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},y.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},y.FieldCheckbox.prototype.getText=function(){return this.convertValueToBool_(this.value_)+""},y.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},y.fieldRegistry.register("field_checkbox",y.FieldCheckbox),y.FieldColour=function(e,t,o){y.FieldColour.superClass_.constructor.call(this,e,t,o),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},y.utils.object.inherits(y.FieldColour,y.Field),y.FieldColour.fromJson=function(e){return new y.FieldColour(e.colour,void 0,e)},y.FieldColour.prototype.SERIALIZABLE=!0,y.FieldColour.prototype.CURSOR="default",y.FieldColour.prototype.isDirty_=!1,y.FieldColour.prototype.colours_=null,y.FieldColour.prototype.titles_=null,y.FieldColour.prototype.columns_=0,y.FieldColour.prototype.configure_=function(e){y.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},y.FieldColour.prototype.initView=function(){this.size_=new y.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},y.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},y.FieldColour.prototype.doClassValidation_=function(e){return"string"==typeof e?y.utils.colour.parse(e):null},y.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},y.FieldColour.prototype.getText=function(){var e=this.value_;return /^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},y.FieldColour.COLOURS=["#ffffff","#cccccc","#c0c0c0","#999999","#666666","#333333","#000000","#ffcccc","#ff6666","#ff0000","#cc0000","#990000","#660000","#330000","#ffcc99","#ff9966","#ff9900","#ff6600","#cc6600","#993300","#663300","#ffff99","#ffff66","#ffcc66","#ffcc33","#cc9933","#996633","#663333","#ffffcc","#ffff33","#ffff00","#ffcc00","#999900","#666600","#333300","#99ff99","#66ff99","#33ff33","#33cc00","#009900","#006600","#003300","#99ffff","#33ffff","#66cccc","#00cccc","#339999","#336666","#003333","#ccffff","#66ffff","#33ccff","#3366ff","#3333ff","#000099","#000066","#ccccff","#9999ff","#6666cc","#6633ff","#6600cc","#333399","#330099","#ffccff","#ff99ff","#cc66cc","#cc33cc","#993399","#663366","#330033"],y.FieldColour.prototype.DEFAULT_VALUE=y.FieldColour.COLOURS[0],y.FieldColour.TITLES=[],y.FieldColour.COLUMNS=7,y.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},y.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},y.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_(),y.DropDownDiv.getContentDiv().appendChild(this.picker_),y.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},y.FieldColour.prototype.onClick_=function(e){e=(e=e.target)&&e.label,null!==e&&(this.setValue(e),y.DropDownDiv.hideIfOwner(this))},y.FieldColour.prototype.onKeyDown_=function(e){var t=!1;e.keyCode===y.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),t=!0):e.keyCode===y.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),t=!0):e.keyCode===y.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),t=!0):e.keyCode===y.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),t=!0):e.keyCode===y.utils.KeyCodes.ENTER&&((t=this.getHighlighted_())&&(t=t&&t.label,null!==t&&this.setValue(t)),y.DropDownDiv.hideWithoutAnimation(),t=!0),t&&e.stopPropagation()},y.FieldColour.prototype.onBlocklyAction=function(e){if(this.picker_){if(e===y.navigation.ACTION_PREVIOUS)return this.moveHighlightBy_(0,-1),!0;if(e===y.navigation.ACTION_NEXT)return this.moveHighlightBy_(0,1),!0;if(e===y.navigation.ACTION_OUT)return this.moveHighlightBy_(-1,0),!0;if(e===y.navigation.ACTION_IN)return this.moveHighlightBy_(1,0),!0}return y.FieldColour.superClass_.onBlocklyAction.call(this,e)},y.FieldColour.prototype.moveHighlightBy_=function(t,o){var i=this.colours_||y.FieldColour.COLOURS,r=this.columns_||y.FieldColour.COLUMNS,n=this.highlightedIndex_%r,e=m(this.highlightedIndex_/r);n+=t,e+=o,0>t?0>n&&0<e?(n=r-1,e--):0>n&&(n=0):0<t?n>r-1&&e<m(i.length/r)-1?(n=0,e++):n>r-1&&n--:0>o?0>e&&(e=0):0<o&&e>m(i.length/r)-1&&(e=m(i.length/r)-1),this.setHighlightedCell_(this.picker_.childNodes[e].childNodes[n],e*r+n)},y.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&+e.getAttribute("data-index");null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)},y.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},y.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&y.utils.dom.removeClass(e,"blocklyColourHighlighted")},y.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||y.FieldColour.COLUMNS,t=this.picker_.childNodes[m(this.highlightedIndex_/e)];return t?t.childNodes[this.highlightedIndex_%e]:null},y.FieldColour.prototype.setHighlightedCell_=function(e,t){var o=this.getHighlighted_();o&&y.utils.dom.removeClass(o,"blocklyColourHighlighted"),y.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=t,y.utils.aria.setState(this.picker_,y.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},y.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||y.FieldColour.COLUMNS,o=this.colours_||y.FieldColour.COLOURS,i=this.titles_||y.FieldColour.TITLES,r=this.getValue(),n=document.createElement("table");n.className="blocklyColourTable",n.tabIndex=0,n.dir="ltr",y.utils.aria.setRole(n,y.utils.aria.Role.GRID),y.utils.aria.setState(n,y.utils.aria.State.EXPANDED,!0),y.utils.aria.setState(n,y.utils.aria.State.ROWCOUNT,m(o.length/t)),y.utils.aria.setState(n,y.utils.aria.State.COLCOUNT,t);for(var e=0,a;e<o.length;e++){0==e%t&&(a=document.createElement("tr"),y.utils.aria.setRole(a,y.utils.aria.Role.ROW),n.appendChild(a));var s=document.createElement("td");a.appendChild(s),s.label=o[e],s.title=i[e]||o[e],s.id=y.utils.IdGenerator.getNextUniqueId(),s.setAttribute("data-index",e),y.utils.aria.setRole(s,y.utils.aria.Role.GRIDCELL),y.utils.aria.setState(s,y.utils.aria.State.LABEL,o[e]),y.utils.aria.setState(s,y.utils.aria.State.SELECTED,o[e]==r),s.style.backgroundColor=o[e],o[e]==r&&(s.className="blocklyColourSelected",this.highlightedIndex_=e)}return this.onClickWrapper_=y.bindEventWithChecks_(n,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=y.bindEventWithChecks_(n,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=y.bindEventWithChecks_(n,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=y.bindEventWithChecks_(n,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=y.bindEventWithChecks_(n,"keydown",this,this.onKeyDown_),n},y.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(y.unbindEvent_(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(y.unbindEvent_(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(y.unbindEvent_(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(y.unbindEvent_(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(y.unbindEvent_(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},y.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),y.fieldRegistry.register("field_colour",y.FieldColour),y.FieldDropdown=function(e,t,o){"function"!=typeof e&&y.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],y.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],t,o),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},y.utils.object.inherits(y.FieldDropdown,y.Field),y.FieldDropdown.fromJson=function(e){return new y.FieldDropdown(e.options,void 0,e)},y.FieldDropdown.prototype.SERIALIZABLE=!0,y.FieldDropdown.CHECKMARK_OVERHANG=25,y.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,y.FieldDropdown.IMAGE_Y_OFFSET=5,y.FieldDropdown.IMAGE_Y_PADDING=2*y.FieldDropdown.IMAGE_Y_OFFSET,y.FieldDropdown.ARROW_CHAR=y.utils.userAgent.ANDROID?"\u25BC":"\u25BE",y.FieldDropdown.prototype.CURSOR="default",y.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=y.utils.dom.createSvgElement("image",{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&y.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},y.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},y.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=y.utils.dom.createSvgElement("tspan",{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?y.FieldDropdown.ARROW_CHAR+" ":" "+y.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},y.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=y.utils.dom.createSvgElement("image",{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},y.FieldDropdown.prototype.showEditor_=function(e){if(this.menu_=this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new y.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(y.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),y.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var t=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;y.DropDownDiv.setColour(e,t)}y.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},y.FieldDropdown.prototype.dropdownCreate_=function(){var t=new y.Menu;t.setRole(y.utils.aria.Role.LISTBOX);var o=this.getOptions(!1);this.selectedMenuItem_=null;for(var i=0;i<o.length;i++){var r=o[i][0],n=o[i][1];if("object"==typeof r){var e=new Image(r.width,r.height);e.src=r.src,e.alt=r.alt||"",r=e}r=new y.MenuItem(r,n),r.setRole(y.utils.aria.Role.OPTION),r.setRightToLeft(this.sourceBlock_.RTL),r.setCheckable(!0),t.addChild(r),r.setChecked(n==this.value_),n==this.value_&&(this.selectedMenuItem_=r),r.onAction(this.handleMenuActionEvent_,this)}return t},y.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},y.FieldDropdown.prototype.handleMenuActionEvent_=function(e){y.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},y.FieldDropdown.prototype.onItemSelected_=function(e,t){this.setValue(t.getValue())},y.FieldDropdown.prototype.trimOptions_=function(){var t=this.menuGenerator_;if(Array.isArray(t)){for(var o=!1,i=0,r;i<t.length;i++)r=t[i][0],"string"==typeof r?t[i][0]=y.utils.replaceMessageReferences(r):(null!=r.alt&&(t[i][0].alt=y.utils.replaceMessageReferences(r.alt)),o=!0);if(!(o||2>t.length)){for(o=[],i=0;i<t.length;i++)o.push(t[i][0]);i=y.utils.string.shortestStringLength(o),r=y.utils.string.commonWordPrefix(o,i);var n=y.utils.string.commonWordSuffix(o,i);(r||n)&&!(i<=r+n)&&(r&&(this.prefixField=o[0].substring(0,r-1)),n&&(this.suffixField=o[0].substr(1-n)),this.menuGenerator_=y.FieldDropdown.applyTrim_(t,r,n))}}},y.FieldDropdown.applyTrim_=function(t,o,i){for(var r=[],n=0;n<t.length;n++){var e=t[n][0],a=t[n][1];e=e.substring(o,e.length-i),r[n]=[e,a]}return r},y.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},y.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),y.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},y.FieldDropdown.prototype.doClassValidation_=function(t){for(var o=!1,i=this.getOptions(!0),r=0,n;n=i[r];r++)if(n[1]==t){o=!0;break}return o?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)},y.FieldDropdown.prototype.doValueUpdate_=function(e){y.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var t=0,o;o=e[t];t++)o[1]==this.value_&&(this.selectedOption_=o)},y.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},y.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},y.FieldDropdown.prototype.renderSelectedImage_=function(t){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",t.src),this.imageElement_.setAttribute("height",t.height),this.imageElement_.setAttribute("width",t.width);var o=+t.height;t=+t.width;var i=!!this.borderRect_,r=u(i?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,o+y.FieldDropdown.IMAGE_Y_PADDING);i=i?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var n=this.svgArrow_?this.positionSVGArrow_(t+i,r/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):y.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=t+n+2*i,this.size_.height=r;var e=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",i+n):(e=t+n,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",i)),this.imageElement_.setAttribute("y",r/2-o/2),this.positionTextElement_(e+i,t+n)},y.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),y.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,t=u(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),o=y.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=0;this.svgArrow_&&(i=this.positionSVGArrow_(o+e,t/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=o+i+2*e,this.size_.height=t,this.positionTextElement_(e,o)},y.FieldDropdown.prototype.positionSVGArrow_=function(t,o){if(!this.svgArrow_)return 0;var i=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,n=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?i:t+r)+","+o+")"),n+r},y.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},y.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,o=0,i;o<e.length;++o)i=e[o],Array.isArray(i)?"string"==typeof i[1]?i[0]&&"string"!=typeof i[0]&&"string"!=typeof i[0].src&&(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must have a string label or image description. Found"+i[0]+" in: ",i)):(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option id must be a string. Found "+i[1]+" in: ",i)):(t=!0,console.error("Invalid option["+o+"]: Each FieldDropdown option must be an array. Found: ",i));if(t)throw TypeError("Found invalid FieldDropdown options.")},y.FieldDropdown.prototype.onBlocklyAction=function(e){if(this.menu_){if(e===y.navigation.ACTION_PREVIOUS)return this.menu_.highlightPrevious(),!0;if(e===y.navigation.ACTION_NEXT)return this.menu_.highlightNext(),!0}return y.FieldDropdown.superClass_.onBlocklyAction.call(this,e)},y.fieldRegistry.register("field_dropdown",y.FieldDropdown),y.FieldLabelSerializable=function(e,t,o){y.FieldLabelSerializable.superClass_.constructor.call(this,e,t,o)},y.utils.object.inherits(y.FieldLabelSerializable,y.FieldLabel),y.FieldLabelSerializable.fromJson=function(e){var t=y.utils.replaceMessageReferences(e.text);return new y.FieldLabelSerializable(t,void 0,e)},y.FieldLabelSerializable.prototype.EDITABLE=!1,y.FieldLabelSerializable.prototype.SERIALIZABLE=!0,y.fieldRegistry.register("field_label_serializable",y.FieldLabelSerializable),y.FieldImage=function(t,o,i,r,n,s,l){if(!t)throw Error("Src value of an image field is required");if(t=y.utils.replaceMessageReferences(t),i=+y.utils.replaceMessageReferences(i),o=+y.utils.replaceMessageReferences(o),isNaN(i)||isNaN(o))throw Error("Height and width values of an image field must cast to numbers.");if(0>=i||0>=o)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",y.FieldImage.superClass_.constructor.call(this,t,null,l),l||(this.flipRtl_=!!s,this.altText_=y.utils.replaceMessageReferences(r)||""),this.size_=new y.utils.Size(o,i+y.FieldImage.Y_PADDING),this.imageHeight_=i,this.clickHandler_=null,"function"==typeof n&&(this.clickHandler_=n),this.imageElement_=null},y.utils.object.inherits(y.FieldImage,y.Field),y.FieldImage.prototype.DEFAULT_VALUE="",y.FieldImage.fromJson=function(e){return new y.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},y.FieldImage.Y_PADDING=1,y.FieldImage.prototype.EDITABLE=!1,y.FieldImage.prototype.isDirty_=!1,y.FieldImage.prototype.configure_=function(e){y.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=y.utils.replaceMessageReferences(e.alt)||""},y.FieldImage.prototype.initView=function(){this.imageElement_=y.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},y.FieldImage.prototype.updateSize_=function(){},y.FieldImage.prototype.doClassValidation_=function(e){return"string"==typeof e?e:null},y.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(y.utils.dom.XLINK_NS,"xlink:href",this.value_+"")},y.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},y.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},y.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},y.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},y.FieldImage.prototype.getText_=function(){return this.altText_},y.fieldRegistry.register("field_image",y.FieldImage),y.FieldMultilineInput=function(e,t,o){y.FieldMultilineInput.superClass_.constructor.call(this,e,t,o),this.textGroup_=null},y.utils.object.inherits(y.FieldMultilineInput,y.FieldTextInput),y.FieldMultilineInput.fromJson=function(e){var t=y.utils.replaceMessageReferences(e.text);return new y.FieldMultilineInput(t,void 0,e)},y.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=y.utils.dom.createSvgElement("g",{class:"blocklyEditableText"},this.fieldGroup_)},y.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.value_;if(!e)return y.Field.NBSP;var t=e.split("\n");e="";for(var o=0,i;o<t.length;o++)i=t[o],i.length>this.maxDisplayLength&&(i=i.substring(0,this.maxDisplayLength-4)+"..."),i=i.replace(/\s/g,y.Field.NBSP),e+=i,o!==t.length-1&&(e+="\n");return this.sourceBlock_.RTL&&(e+="\u200F"),e},y.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var t=0,o=0,i;o<e.length;o++)i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,y.utils.dom.createSvgElement("text",{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:t+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[o])),t+=i;this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(y.utils.dom.removeClass(e,"blocklyInvalidInput"),y.utils.aria.setState(e,y.utils.aria.State.INVALID,!1)):(y.utils.dom.addClass(e,"blocklyInvalidInput"),y.utils.aria.setState(e,y.utils.aria.State.INVALID,!0)))},y.FieldMultilineInput.prototype.updateSize_=function(){for(var t=this.textGroup_.childNodes,o=0,i=0,r=0,n;r<t.length;r++)n=y.utils.dom.getTextWidth(t[r]),n>o&&(o=n),i+=this.getConstants().FIELD_TEXT_HEIGHT+(0<r?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0);this.borderRect_&&(i+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",o),this.borderRect_.setAttribute("height",i)),this.size_.width=o,this.size_.height=i,this.positionBorderRect_()},y.FieldMultilineInput.prototype.widgetCreate_=function(){var t=y.WidgetDiv.DIV,o=this.workspace_.getScale(),i=document.createElement("textarea");i.className="blocklyHtmlInput blocklyHtmlTextAreaInput",i.setAttribute("spellcheck",this.spellcheck_);var r=this.getConstants().FIELD_TEXT_FONTSIZE*o+"pt";t.style.fontSize=r,i.style.fontSize=r,i.style.borderRadius=y.FieldTextInput.BORDERRADIUS*o+"px",r=this.getConstants().FIELD_BORDER_RECT_X_PADDING*o;var n=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*o/2;return i.style.padding=n+"px "+r+"px "+n+"px "+r+"px",r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,i.style.lineHeight=r*o+"px",t.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.untypedDefaultValue_=this.value_,i.oldValue_=null,y.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(i),i},y.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==y.utils.KeyCodes.ENTER&&y.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},y.Css.register([".blocklyHtmlTextAreaInput {","font-family: monospace;","resize: none;","overflow: hidden;","height: 100%;","text-align: left;","}"]),y.fieldRegistry.register("field_multilinetext",y.FieldMultilineInput),y.FieldNumber=function(t,o,i,r,n,e){this.min_=-Infinity,this.max_=Infinity,this.precision_=0,this.decimalPlaces_=null,y.FieldNumber.superClass_.constructor.call(this,t,n,e),e||this.setConstraints(o,i,r)},y.utils.object.inherits(y.FieldNumber,y.FieldTextInput),y.FieldNumber.prototype.DEFAULT_VALUE=0,y.FieldNumber.fromJson=function(e){return new y.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},y.FieldNumber.prototype.SERIALIZABLE=!0,y.FieldNumber.prototype.configure_=function(e){y.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},y.FieldNumber.prototype.setConstraints=function(e,t,o){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(o),this.setValue(this.getValue())},y.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},y.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-Infinity:(e=+e,isNaN(e)||(this.min_=e))},y.FieldNumber.prototype.getMin=function(){return this.min_},y.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},y.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=Infinity:(e=+e,isNaN(e)||(this.max_=e))},y.FieldNumber.prototype.getMax=function(){return this.max_},y.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},y.FieldNumber.prototype.setPrecisionInternal_=function(e){null==e?this.precision_=0:(e=+e,isNaN(e)||(this.precision_=e));var t=this.precision_.toString(),o=t.indexOf(".");this.decimalPlaces_=-1==o?e?0:null:t.length-o-1},y.FieldNumber.prototype.getPrecision=function(){return this.precision_},y.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e+="",e=e.replace(/O/ig,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=+(e||0),isNaN(e))?null:(e=T(u(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=g(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=+e.toFixed(this.decimalPlaces_)),e)},y.FieldNumber.prototype.widgetCreate_=function(){var e=y.FieldNumber.superClass_.widgetCreate_.call(this);return-Infinity<this.min_&&y.utils.aria.setState(e,y.utils.aria.State.VALUEMIN,this.min_),Infinity>this.max_&&y.utils.aria.setState(e,y.utils.aria.State.VALUEMAX,this.max_),e},y.fieldRegistry.register("field_number",y.FieldNumber),y.FieldVariable=function(t,o,i,r,n){this.menuGenerator_=y.FieldVariable.dropdownCreate,this.defaultVariableName=t||"",this.size_=new y.utils.Size(0,0),n&&this.configure_(n),o&&this.setValidator(o),n||this.setTypes_(i,r)},y.utils.object.inherits(y.FieldVariable,y.FieldDropdown),y.FieldVariable.fromJson=function(e){var t=y.utils.replaceMessageReferences(e.variable);return new y.FieldVariable(t,void 0,void 0,void 0,e)},y.FieldVariable.prototype.SERIALIZABLE=!0,y.FieldVariable.prototype.configure_=function(e){y.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},y.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=y.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},y.FieldVariable.prototype.shouldAddBorderRect_=function(){return y.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},y.FieldVariable.prototype.fromXml=function(e){var t=e.getAttribute("id"),o=e.textContent,i=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=y.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,t,o,i),null!=i&&i!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+y.Xml.domToText(e)+".");this.setValue(t.getId())},y.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},y.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");y.FieldVariable.superClass_.setSourceBlock.call(this,e)},y.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},y.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},y.FieldVariable.prototype.getVariable=function(){return this.variable_},y.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},y.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var t=y.Variables.getVariable(this.sourceBlock_.workspace,e);return t?(t=t.type,this.typeIsAllowed_(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},y.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=y.Variables.getVariable(this.sourceBlock_.workspace,e),y.FieldVariable.superClass_.doValueUpdate_.call(this,e)},y.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var o=0;o<t.length;o++)if(e==t[o])return!0;return!1},y.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],0==e.length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},y.FieldVariable.prototype.setTypes_=function(e,t){if(t=t||"",null==e||void 0==e)e=null;else if(Array.isArray(e)){for(var o=!1,i=0;i<e.length;i++)e[i]==t&&(o=!0);if(!o)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType_=t,this.variableTypes=e},y.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},y.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),o=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var i=this.getVariableTypes_(),r=0,n;r<i.length;r++)n=this.sourceBlock_.workspace.getVariablesOfType(i[r]),o=o.concat(n);for(o.sort(y.VariableModel.compareByName),i=[],r=0;r<o.length;r++)i[r]=[o[r].name,o[r].getId()];return i.push([y.Msg.RENAME_VARIABLE,y.RENAME_VARIABLE_ID]),y.Msg.DELETE_VARIABLE&&i.push([y.Msg.DELETE_VARIABLE.replace("%1",t),y.DELETE_VARIABLE_ID]),i},y.FieldVariable.prototype.onItemSelected_=function(e,t){if(e=t.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==y.RENAME_VARIABLE_ID)return void y.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==y.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},y.FieldVariable.prototype.referencesVariables=function(){return!0},y.fieldRegistry.register("field_variable",y.FieldVariable),y.utils.svgPaths={},y.utils.svgPaths.point=function(e,t){return" "+e+","+t+" "},y.utils.svgPaths.curve=function(e,t){return" "+e+t.join("")},y.utils.svgPaths.moveTo=function(e,t){return" M "+e+","+t+" "},y.utils.svgPaths.moveBy=function(e,t){return" m "+e+","+t+" "},y.utils.svgPaths.lineTo=function(e,t){return" l "+e+","+t+" "},y.utils.svgPaths.line=function(e){return" l"+e.join("")},y.utils.svgPaths.lineOnAxis=function(e,t){return" "+e+" "+t+" "},y.utils.svgPaths.arc=function(e,t,o,i){return e+" "+o+" "+o+" "+t+i},y.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=y.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!y.utils.userAgent.IE&&!y.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=(Math.random()+"").substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},y.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},y.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles={};var t=e.blockStyles,o;for(o in t)this.blockStyles[o]=this.validatedBlockStyle_(t[o]);this.setDynamicProperties_(e)},y.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null==e.startHats?this.ADD_START_HATS:e.startHats},y.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&void 0!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&void 0!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&void 0!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=y.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},y.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=+e.getComponentStyle("insertionMarkerOpacity")||this.INSERTION_MARKER_OPACITY},y.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}},y.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},y.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},y.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var t={};return e&&y.utils.object.mixin(t,e),e=y.utils.parseBlockColour(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?y.utils.parseBlockColour(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?y.utils.parseBlockColour(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t},y.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return y.utils.colour.blend("#fff",e,.6)||e},y.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return y.utils.colour.blend("#fff",e,.3)||e},y.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&y.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&y.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&y.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},y.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,o=y.utils.svgPaths.line([y.utils.svgPaths.point(t,e/4),y.utils.svgPaths.point(2*-t,e/2),y.utils.svgPaths.point(t,e/4)]);return{height:e,width:t,path:o}},y.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(30,-e),y.utils.svgPaths.point(70,-e),y.utils.svgPaths.point(t,0)]);return{height:e,width:t,path:o}},y.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function t(t){t=t?-1:1;var r=-t,n=i/2,e=n+2.5,s=n+.5,l=y.utils.svgPaths.point(-o,t*n);return n=y.utils.svgPaths.point(o,t*n),y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(0,t*e),y.utils.svgPaths.point(-o,r*s),l])+y.utils.svgPaths.curve("s",[y.utils.svgPaths.point(o,2.5*r),n])}var o=this.TAB_WIDTH,i=this.TAB_HEIGHT,r=t(!0),n=t(!1);return{type:this.SHAPES.PUZZLE,width:o,height:i,pathDown:n,pathUp:r}},y.blockRendering.ConstantProvider.prototype.makeNotch=function(){function t(e){return y.utils.svgPaths.line([y.utils.svgPaths.point(e*r,i),y.utils.svgPaths.point(3*e,0),y.utils.svgPaths.point(e*r,-i)])}var o=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,r=(o-3)/2,n=t(1),a=t(-1);return{type:this.SHAPES.NOTCH,width:o,height:i,pathLeft:n,pathRight:a}},y.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,t=y.utils.svgPaths.arc("a","0 0,0",e,y.utils.svgPaths.point(-e,e)),o=y.utils.svgPaths.arc("a","0 0,0",e,y.utils.svgPaths.point(e,e));return{width:e,height:e,pathTop:t,pathBottom:o}},y.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var t=this.CORNER_RADIUS,o=y.utils.svgPaths.moveBy(0,t)+y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(t,-t)),i=y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(t,t)),r=y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(-t,-t)),n=y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(-t,t));return{topLeft:o,topRight:i,bottomRight:n,bottomLeft:r,rightHeight:t}},y.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case y.INPUT_VALUE:case y.OUTPUT_VALUE:return this.PUZZLE_TAB;case y.PREVIOUS_STATEMENT:case y.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type");}},y.blockRendering.ConstantProvider.prototype.createDom=function(e,t,o){this.injectCSS_(t,o),e=y.utils.dom.createSvgElement("defs",{},e),t=y.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+this.randomIdentifier},e),y.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},t),o=y.utils.dom.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},t),y.utils.dom.createSvgElement("fePointLight",{x:-5E3,y:-1E4,z:2E4},o),y.utils.dom.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},t),y.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},t),this.embossFilterId=t.id,this.embossFilter_=t,t=y.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),y.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},t),y.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},t),this.disabledPatternId=t.id,this.disabledPattern_=t,y.blockRendering.Debug&&(e=y.utils.dom.createSvgElement("filter",{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t=y.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},e),y.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),y.utils.dom.createSvgElement("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),y.utils.dom.createSvgElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},y.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var o=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=o:(t=document.createElement("style"),t.id=e,e=document.createTextNode(o),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)},y.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},y.blockRendering.MarkerSvg=function(e,t,o){this.workspace_=e,this.marker_=o,this.parent_=null,this.constants_=t,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=o.colour||e},y.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",y.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",y.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,y.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},y.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},y.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},y.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?y.blockRendering.MarkerSvg.CURSOR_CLASS:y.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=y.utils.dom.createSvgElement("g",{class:e},null),this.createDomInternal_(),this.svgGroup_},y.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},y.blockRendering.MarkerSvg.prototype.draw=function(e,t){if(t){this.constants_=this.workspace_.getRenderer().getConstants();var o=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||o,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),e=this.currentMarkerSvg.childNodes[0],void 0!==e&&e.beginElement&&e.beginElement()}else this.hide()},y.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var t=e.getLocation();e.getType()==y.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==y.ASTNode.types.OUTPUT?this.showWithOutput_(e):t.type==y.INPUT_VALUE?this.showWithInput_(e):t.type==y.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==y.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==y.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==y.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==y.ASTNode.types.STACK&&this.showWithStack_(e)},y.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(t){t=t.getSourceBlock();var o=t.width,i=t.height,r=i*y.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,n=this.constants_.CURSOR_BLOCK_PADDING;if(t.previousConnection){var e=this.constants_.shapeFor(t.previousConnection);this.positionPrevious_(o,n,r,e)}else t.outputConnection?(e=this.constants_.shapeFor(t.outputConnection),this.positionOutput_(o,i,e)):this.positionBlock_(o,n,r);this.setParent_(t),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},y.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},y.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},y.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showWithField_=function(e){e=e.getLocation();var t=e.getSize().width,o=e.getSize().height;this.positionRect_(0,0,t,o),this.setParent_(e),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){e=e.getLocation();var t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var o=0;t=t.getOffsetInBlock().y;var i=e.getHeightWidth().width;this.workspace_.RTL&&(o=-i),this.positionLine_(o,t,i),this.setParent_(e),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showWithStack_=function(t){t=t.getLocation();var o=t.getHeightWidth(),i=o.width+this.constants_.CURSOR_STACK_PADDING;o=o.height+this.constants_.CURSOR_STACK_PADDING;var r=-this.constants_.CURSOR_STACK_PADDING/2,n=-this.constants_.CURSOR_STACK_PADDING/2,e=r;this.workspace_.RTL&&(e=-(i+r)),this.positionRect_(e,n,i,o),this.setParent_(t),this.showCurrent_()},y.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},y.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,t,o){e=y.utils.svgPaths.moveBy(-t,o)+y.utils.svgPaths.lineOnAxis("V",-t)+y.utils.svgPaths.lineOnAxis("H",e+2*t)+y.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},y.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var t=e.getOffsetInBlock().x,o=e.getOffsetInBlock().y;e=y.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+o+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},y.blockRendering.MarkerSvg.prototype.positionLine_=function(e,t,o){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",t),this.markerSvgLine_.setAttribute("width",o),this.currentMarkerSvg=this.markerSvgLine_},y.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,t,o){e=y.utils.svgPaths.moveBy(e,0)+y.utils.svgPaths.lineOnAxis("h",-(e-o.width))+y.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+o.pathDown+y.utils.svgPaths.lineOnAxis("V",t)+y.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},y.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,t,o,i){e=y.utils.svgPaths.moveBy(-t,o)+y.utils.svgPaths.lineOnAxis("V",-t)+y.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+i.pathLeft+y.utils.svgPaths.lineOnAxis("H",e+2*t)+y.utils.svgPaths.lineOnAxis("V",o),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},y.blockRendering.MarkerSvg.prototype.positionRect_=function(e,t,o,i){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",t),this.markerSvgRect_.setAttribute("width",o),this.markerSvgRect_.setAttribute("height",i),this.currentMarkerSvg=this.markerSvgRect_},y.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},y.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},y.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,t){var o=t.getSourceBlock(),i=this.isCursor()?"cursorMove":"markerMove";e=new y.Events.Ui(o,i,e,t),t.getType()==y.ASTNode.types.WORKSPACE&&(e.workspaceId=t.getLocation().id),y.Events.fire(e)},y.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},y.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=y.utils.dom.createSvgElement("g",{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=y.utils.dom.createSvgElement("rect",{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=y.utils.dom.createSvgElement("rect",{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=y.utils.dom.createSvgElement("path",{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=y.utils.dom.createSvgElement("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();y.utils.dom.createSvgElement("animate",e,this.markerSvgLine_),y.utils.dom.createSvgElement("animate",e,this.markerInput_),e.attributeName="stroke",y.utils.dom.createSvgElement("animate",e,this.markerBlock_)}return this.markerSvg_},y.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",e),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},y.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&y.utils.dom.removeNode(this.svgGroup_)},y.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},y.blockRendering.Types.LEFT_CORNER=y.blockRendering.Types.LEFT_SQUARE_CORNER|y.blockRendering.Types.LEFT_ROUND_CORNER,y.blockRendering.Types.RIGHT_CORNER=y.blockRendering.Types.RIGHT_SQUARE_CORNER|y.blockRendering.Types.RIGHT_ROUND_CORNER,y.blockRendering.Types.nextTypeValue_=16777216,y.blockRendering.Types.getType=function(e){return y.blockRendering.Types.hasOwnProperty(e)||(y.blockRendering.Types[e]=y.blockRendering.Types.nextTypeValue_,y.blockRendering.Types.nextTypeValue_<<=1),y.blockRendering.Types[e]},y.blockRendering.Types.isField=function(e){return e.type&y.blockRendering.Types.FIELD},y.blockRendering.Types.isHat=function(e){return e.type&y.blockRendering.Types.HAT},y.blockRendering.Types.isIcon=function(e){return e.type&y.blockRendering.Types.ICON},y.blockRendering.Types.isSpacer=function(e){return e.type&y.blockRendering.Types.SPACER},y.blockRendering.Types.isInRowSpacer=function(e){return e.type&y.blockRendering.Types.IN_ROW_SPACER},y.blockRendering.Types.isInput=function(e){return e.type&y.blockRendering.Types.INPUT},y.blockRendering.Types.isExternalInput=function(e){return e.type&y.blockRendering.Types.EXTERNAL_VALUE_INPUT},y.blockRendering.Types.isInlineInput=function(e){return e.type&y.blockRendering.Types.INLINE_INPUT},y.blockRendering.Types.isStatementInput=function(e){return e.type&y.blockRendering.Types.STATEMENT_INPUT},y.blockRendering.Types.isPreviousConnection=function(e){return e.type&y.blockRendering.Types.PREVIOUS_CONNECTION},y.blockRendering.Types.isNextConnection=function(e){return e.type&y.blockRendering.Types.NEXT_CONNECTION},y.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(y.blockRendering.Types.PREVIOUS_CONNECTION|y.blockRendering.Types.NEXT_CONNECTION)},y.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&y.blockRendering.Types.LEFT_ROUND_CORNER},y.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&y.blockRendering.Types.RIGHT_ROUND_CORNER},y.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&y.blockRendering.Types.LEFT_SQUARE_CORNER},y.blockRendering.Types.isRightSquareCorner=function(e){return e.type&y.blockRendering.Types.RIGHT_SQUARE_CORNER},y.blockRendering.Types.isCorner=function(e){return e.type&y.blockRendering.Types.CORNER},y.blockRendering.Types.isJaggedEdge=function(e){return e.type&y.blockRendering.Types.JAGGED_EDGE},y.blockRendering.Types.isRow=function(e){return e.type&y.blockRendering.Types.ROW},y.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&y.blockRendering.Types.BETWEEN_ROW_SPACER},y.blockRendering.Types.isTopRow=function(e){return e.type&y.blockRendering.Types.TOP_ROW},y.blockRendering.Types.isBottomRow=function(e){return e.type&y.blockRendering.Types.BOTTOM_ROW},y.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(y.blockRendering.Types.TOP_ROW|y.blockRendering.Types.BOTTOM_ROW)},y.blockRendering.Types.isInputRow=function(e){return e.type&y.blockRendering.Types.INPUT_ROW},y.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=y.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},y.blockRendering.Connection=function(e,t){y.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=t,this.shape=this.constants_.shapeFor(t),this.isDynamicShape=!!this.shape.isDynamic,this.type|=y.blockRendering.Types.CONNECTION},y.utils.object.inherits(y.blockRendering.Connection,y.blockRendering.Measurable),y.blockRendering.OutputConnection=function(e,t){y.blockRendering.OutputConnection.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},y.utils.object.inherits(y.blockRendering.OutputConnection,y.blockRendering.Connection),y.blockRendering.PreviousConnection=function(e,t){y.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},y.utils.object.inherits(y.blockRendering.PreviousConnection,y.blockRendering.Connection),y.blockRendering.NextConnection=function(e,t){y.blockRendering.NextConnection.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},y.utils.object.inherits(y.blockRendering.NextConnection,y.blockRendering.Connection),y.blockRendering.InputConnection=function(e,t){y.blockRendering.InputConnection.superClass_.constructor.call(this,e,t.connection),this.type|=y.blockRendering.Types.INPUT,this.input=t,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},y.utils.object.inherits(y.blockRendering.InputConnection,y.blockRendering.Connection),y.blockRendering.InlineInput=function(e,t){y.blockRendering.InlineInput.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},y.utils.object.inherits(y.blockRendering.InlineInput,y.blockRendering.InputConnection),y.blockRendering.StatementInput=function(e,t){y.blockRendering.StatementInput.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},y.utils.object.inherits(y.blockRendering.StatementInput,y.blockRendering.InputConnection),y.blockRendering.ExternalValueInput=function(e,t){y.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,t),this.type|=y.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},y.utils.object.inherits(y.blockRendering.ExternalValueInput,y.blockRendering.InputConnection),y.blockRendering.Icon=function(e,t){y.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=t,this.isVisible=t.isVisible(),this.type|=y.blockRendering.Types.ICON,e=t.getCorrectedSize(),this.height=e.height,this.width=e.width},y.utils.object.inherits(y.blockRendering.Icon,y.blockRendering.Measurable),y.blockRendering.JaggedEdge=function(e){y.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},y.utils.object.inherits(y.blockRendering.JaggedEdge,y.blockRendering.Measurable),y.blockRendering.Field=function(e,t,o){y.blockRendering.Field.superClass_.constructor.call(this,e),this.field=t,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=y.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=o},y.utils.object.inherits(y.blockRendering.Field,y.blockRendering.Measurable),y.blockRendering.Hat=function(e){y.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},y.utils.object.inherits(y.blockRendering.Hat,y.blockRendering.Measurable),y.blockRendering.SquareCorner=function(e,t){y.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(t&&"left"!=t?y.blockRendering.Types.RIGHT_SQUARE_CORNER:y.blockRendering.Types.LEFT_SQUARE_CORNER)|y.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},y.utils.object.inherits(y.blockRendering.SquareCorner,y.blockRendering.Measurable),y.blockRendering.RoundCorner=function(e,t){y.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(t&&"left"!=t?y.blockRendering.Types.RIGHT_ROUND_CORNER:y.blockRendering.Types.LEFT_ROUND_CORNER)|y.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},y.utils.object.inherits(y.blockRendering.RoundCorner,y.blockRendering.Measurable),y.blockRendering.InRowSpacer=function(e,t){y.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|y.blockRendering.Types.SPACER|y.blockRendering.Types.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},y.utils.object.inherits(y.blockRendering.InRowSpacer,y.blockRendering.Measurable),y.blockRendering.Row=function(e){this.type=y.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},y.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},y.blockRendering.Row.prototype.getLastInput=function(){for(var e=this.elements.length-1,t;t=this.elements[e];e--)if(y.blockRendering.Types.isInput(t))return t;return null},y.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},y.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},y.blockRendering.Row.prototype.getFirstSpacer=function(){for(var e=0,t;t=this.elements[e];e++)if(y.blockRendering.Types.isSpacer(t))return t;return null},y.blockRendering.Row.prototype.getLastSpacer=function(){for(var e=this.elements.length-1,t;t=this.elements[e];e--)if(y.blockRendering.Types.isSpacer(t))return t;return null},y.blockRendering.TopRow=function(e){y.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},y.utils.object.inherits(y.blockRendering.TopRow,y.blockRendering.Row),y.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,o=e.getPreviousBlock();return!!e.outputConnection||t||!!o&&o.getNextBlock()==e},y.blockRendering.TopRow.prototype.hasRightSquareCorner=function(){return!0},y.blockRendering.TopRow.prototype.measure=function(){for(var t=0,o=0,i=0,r=0,n;n=this.elements[r];r++)o+=n.width,y.blockRendering.Types.isSpacer(n)||(y.blockRendering.Types.isHat(n)?i=u(i,n.ascenderHeight):t=u(t,n.height));this.width=u(this.minWidth,o),this.height=u(this.minHeight,t)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width},y.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},y.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},y.blockRendering.BottomRow=function(e){y.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},y.utils.object.inherits(y.blockRendering.BottomRow,y.blockRendering.Row),y.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},y.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(){return!0},y.blockRendering.BottomRow.prototype.measure=function(){for(var t=0,o=0,i=0,r=0,n;n=this.elements[r];r++)o+=n.width,y.blockRendering.Types.isSpacer(n)||(y.blockRendering.Types.isNextConnection(n)?i=u(i,n.height):t=u(t,n.height));this.width=u(this.minWidth,o),this.height=u(this.minHeight,t)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width},y.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},y.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},y.blockRendering.SpacerRow=function(e,t,o){y.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|y.blockRendering.Types.SPACER|y.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=o,this.height=t,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new y.blockRendering.InRowSpacer(this.constants_,o)]},y.utils.object.inherits(y.blockRendering.SpacerRow,y.blockRendering.Row),y.blockRendering.SpacerRow.prototype.measure=function(){},y.blockRendering.InputRow=function(e){y.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},y.utils.object.inherits(y.blockRendering.InputRow,y.blockRendering.Row),y.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var e=0,t=0,o;o=this.elements[t];t++)this.width+=o.width,y.blockRendering.Types.isInput(o)&&(y.blockRendering.Types.isStatementInput(o)?e+=o.connectedBlockWidth:y.blockRendering.Types.isExternalInput(o)&&0!=o.connectedBlockWidth&&(e+=o.connectedBlockWidth-o.connectionWidth)),y.blockRendering.Types.isSpacer(o)||(this.height=u(this.height,o.height));this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e},y.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},y.blockRendering.RenderInfo=function(e,t){this.block_=t,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new y.blockRendering.OutputConnection(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new y.blockRendering.TopRow(this.constants_),this.bottomRow=new y.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},y.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},y.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},y.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var t=new y.blockRendering.InputRow(this.constants_);this.inputRows.push(t);var o=this.block_.getIcons();if(o.length)for(var i=0,r,n;r=o[i];i++)n=new y.blockRendering.Icon(this.constants_,r),this.isCollapsed&&r.collapseHidden?this.hiddenIcons.push(n):t.elements.push(n);for(r=null,i=0;o=this.block_.inputList[i];i++)if(o.isVisible()){for(this.shouldStartNewRow_(o,r)&&(this.rows.push(t),t=new y.blockRendering.InputRow(this.constants_),this.inputRows.push(t)),r=0;n=o.fieldRow[r];r++)t.elements.push(new y.blockRendering.Field(this.constants_,n,o));this.addInput_(o,t),r=o}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new y.blockRendering.JaggedEdge(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)},y.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new y.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new y.blockRendering.RoundCorner(this.constants_)),t?(e=new y.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new y.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.topRow.minHeight=this.block_.inputList.length&&this.block_.inputList[0].type==y.NEXT_STATEMENT&&!this.block_.isCollapsed()?this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.constants_.TOP_ROW_MIN_HEIGHT,this.topRow.hasRightSquareCorner(this.block_)?this.topRow.elements.push(new y.blockRendering.SquareCorner(this.constants_,"right")):this.topRow.elements.push(new y.blockRendering.RoundCorner(this.constants_,"right"))},y.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==y.NEXT_STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new y.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new y.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new y.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new y.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new y.blockRendering.RoundCorner(this.constants_,"right"))},y.blockRendering.RenderInfo.prototype.addInput_=function(e,t){this.isInline&&e.type==y.INPUT_VALUE?(t.elements.push(new y.blockRendering.InlineInput(this.constants_,e)),t.hasInlineInput=!0):e.type==y.NEXT_STATEMENT?(t.elements.push(new y.blockRendering.StatementInput(this.constants_,e)),t.hasStatement=!0):e.type==y.INPUT_VALUE?(t.elements.push(new y.blockRendering.ExternalValueInput(this.constants_,e)),t.hasExternalInput=!0):e.type==y.DUMMY_INPUT&&(t.minHeight=u(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null==t.align&&(t.align=e.align)},y.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,t){return!!t&&(e.type==y.NEXT_STATEMENT||t.type==y.NEXT_STATEMENT||(e.type==y.INPUT_VALUE||e.type==y.DUMMY_INPUT)&&!this.isInline)},y.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var t=0,o,i;o=this.rows[t];t++)if(i=o.elements,o.elements=[],o.startsWithElemSpacer()&&o.elements.push(new y.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(var r=0;r<i.length-1;r++){o.elements.push(i[r]);var n=this.getInRowSpacing_(i[r],i[r+1]);o.elements.push(new y.blockRendering.InRowSpacer(this.constants_,n))}o.elements.push(i[i.length-1]),o.endsWithElemSpacer()&&o.elements.push(new y.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(i[i.length-1],null)))}},y.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e&&t&&y.blockRendering.Types.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&y.blockRendering.Types.isInput(e)&&!t){if(y.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(y.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&y.blockRendering.Types.isLeftSquareCorner(e)&&t&&(y.blockRendering.Types.isPreviousConnection(t)||y.blockRendering.Types.isNextConnection(t))?t.notchOffset:e&&y.blockRendering.Types.isLeftRoundedCorner(e)&&t&&(y.blockRendering.Types.isPreviousConnection(t)||y.blockRendering.Types.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},y.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var t=0,o=0,i=0,r=0,n;n=this.rows[r];r++){if(n.measure(),o=u(o,n.width),n.hasStatement){var e=n.getLastInput();t=u(t,n.width-e.width)}i=u(i,n.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=o,r=0;n=this.rows[r];r++)n.hasStatement&&(n.statementEdge=this.statementEdge);this.widthWithChildren=u(o,i),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},y.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var e=0,t;t=this.rows[e];e++)if(t.hasStatement)this.alignStatementRow_(t);else{var o=t.width;o=this.getDesiredRowWidth_(t)-o,0<o&&this.addAlignmentPadding_(t,o),y.blockRendering.Types.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}},y.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(){return this.width-this.startX},y.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,t){var o=e.getFirstSpacer(),i=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align==y.ALIGN_LEFT?i.width+=t:e.align==y.ALIGN_CENTRE?(o.width+=t/2,i.width+=t/2):e.align==y.ALIGN_RIGHT?o.width+=t:i.width+=t,e.width+=t},y.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),o=e.width-t.width,i=this.statementEdge;o=i-o,0<o&&this.addAlignmentPadding_(e,o),o=e.width,i=this.getDesiredRowWidth_(e),t.width+=i-o,t.height=u(t.height,e.height),e.width+=i-o,e.widthWithConnectedBlocks=u(e.width,this.statementEdge+e.connectedBlockWidths)},y.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},y.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,t){var o=this.getSpacerRowHeight_(e,t),i=this.getSpacerRowWidth_(e,t);return o=new y.blockRendering.SpacerRow(this.constants_,o,i),e.hasStatement&&(o.followsStatement=!0),t.hasStatement&&(o.precedesStatement=!0),o},y.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(){return this.width-this.startX},y.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(){return this.constants_.MEDIUM_PADDING},y.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,t){return y.blockRendering.Types.isSpacer(t)?e.yPos+t.height/2:y.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,y.blockRendering.Types.isNextConnection(t)?e+t.height/2:e-t.height/2):y.blockRendering.Types.isTopRow(e)?y.blockRendering.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2},y.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var t=e.xPos,o=0,i;i=e.elements[o];o++)y.blockRendering.Types.isSpacer(i)&&(i.height=e.height),i.xPos=t,i.centerline=this.getElemCenterline_(e,i),t+=i.width},y.blockRendering.RenderInfo.prototype.finalize_=function(){for(var e=0,t=0,o=0,i;i=this.rows[o];o++)i.yPos=t,i.xPos=this.startX,t+=i.height,e=u(e,i.widthWithConnectedBlocks),this.recordElemPositions_(i);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=u(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight},y.blockRendering.Drawer=function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()},y.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),y.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},y.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},y.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var e=0,t;t=this.info_.hiddenIcons[e];e++)t.icon.iconGroup_.setAttribute("display","none")},y.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1,t;e<this.info_.rows.length-1;e++)t=this.info_.rows[e],t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t);this.drawBottom_(),this.drawLeft_()},y.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=y.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var o=0,i;i=t[o];o++)y.blockRendering.Types.isLeftRoundedCorner(i)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:y.blockRendering.Types.isRightRoundedCorner(i)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:y.blockRendering.Types.isPreviousConnection(i)?this.outlinePath_+=i.shape.pathLeft:y.blockRendering.Types.isHat(i)?this.outlinePath_+=this.constants_.START_HAT.path:y.blockRendering.Types.isSpacer(i)&&(this.outlinePath_+=y.utils.svgPaths.lineOnAxis("h",i.width));this.outlinePath_+=y.utils.svgPaths.lineOnAxis("v",e.height)},y.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+y.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},y.blockRendering.Drawer.prototype.drawValueInput_=function(e){var t=e.getLastInput();this.positionExternalValueConnection_(e);var o="function"==typeof t.shape.pathDown?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=y.utils.svgPaths.lineOnAxis("H",t.xPos+t.width)+o+y.utils.svgPaths.lineOnAxis("v",e.height-t.connectionHeight)},y.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var t=e.getLastInput(),o=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+y.utils.svgPaths.lineOnAxis("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=y.utils.svgPaths.lineOnAxis("H",o)+t+y.utils.svgPaths.lineOnAxis("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+y.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},y.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=y.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},y.blockRendering.Drawer.prototype.drawBottom_=function(){var t=this.info_.bottomRow,o=t.elements;this.positionNextConnection_();for(var i=0,r="",n=o.length-1,e;e=o[n];n--)y.blockRendering.Types.isNextConnection(e)?r+=e.shape.pathRight:y.blockRendering.Types.isLeftSquareCorner(e)?r+=y.utils.svgPaths.lineOnAxis("H",t.xPos):y.blockRendering.Types.isLeftRoundedCorner(e)?r+=this.constants_.OUTSIDE_CORNERS.bottomLeft:y.blockRendering.Types.isRightRoundedCorner(e)?(r+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):y.blockRendering.Types.isSpacer(e)&&(r+=y.utils.svgPaths.lineOnAxis("h",-1*e.width));this.outlinePath_+=y.utils.svgPaths.lineOnAxis("V",t.baseline-i),this.outlinePath_+=r},y.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var t=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=y.utils.svgPaths.lineOnAxis("V",t)+e}this.outlinePath_+="z"},y.blockRendering.Drawer.prototype.drawInternals_=function(){for(var e=0,t;t=this.info_.rows[e];e++)for(var o=0,i;i=t.elements[o];o++)y.blockRendering.Types.isInlineInput(i)?this.drawInlineInput_(i):(y.blockRendering.Types.isIcon(i)||y.blockRendering.Types.isField(i))&&this.layoutField_(i)},y.blockRendering.Drawer.prototype.layoutField_=function(t){if(y.blockRendering.Types.isField(t))var o=t.field.getSvgRoot();else y.blockRendering.Types.isIcon(t)&&(o=t.icon.iconGroup_);var i=t.centerline-t.height/2,r=t.xPos,n="";this.info_.RTL&&(r=-(r+t.width),t.flipRtl&&(r+=t.width,n="scale(-1 1)")),y.blockRendering.Types.isIcon(t)?(o.setAttribute("display","block"),o.setAttribute("transform","translate("+r+","+i+")"),t.icon.computeIconLocation()):o.setAttribute("transform","translate("+r+","+i+")"+n),this.info_.isInsertionMarker&&o.setAttribute("display","none")},y.blockRendering.Drawer.prototype.drawInlineInput_=function(t){var o=t.width,i=t.height,r=t.connectionOffsetY,n=t.connectionHeight+r;this.inlinePath_+=y.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-i/2)+y.utils.svgPaths.lineOnAxis("v",r)+t.shape.pathDown+y.utils.svgPaths.lineOnAxis("v",i-n)+y.utils.svgPaths.lineOnAxis("h",o-t.connectionWidth)+y.utils.svgPaths.lineOnAxis("v",-i)+"z",this.positionInlineInputConnection_(t)},y.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var o=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY)}},y.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var o=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}},y.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var o=e.xPos+e.width;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}},y.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},y.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-o:o,e.baseline)}},y.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},y.blockRendering.PathObject=function(e,t,o){this.constants=o,this.svgRoot=e,this.svgPath=y.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.style=t,this.markerSvg=this.cursorSvg=null},y.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},y.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},y.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},y.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},y.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},y.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},y.blockRendering.PathObject.prototype.setClass_=function(e,t){t?y.utils.dom.addClass(this.svgRoot,e):y.utils.dom.removeClass(this.svgRoot,e)},y.blockRendering.PathObject.prototype.updateHighlighted=function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},y.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},y.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},y.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},y.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},y.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},y.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},y.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},y.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(){},y.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},y.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},y.blockRendering.Renderer.prototype.init=function(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,y.utils.object.mixin(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()},y.blockRendering.Renderer.prototype.createDom=function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())},y.blockRendering.Renderer.prototype.refreshDom=function(e,t){var o=this.getConstants();o.dispose(),this.constants_=this.makeConstants_(),this.overrides&&y.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=o.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)},y.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},y.blockRendering.Renderer.prototype.makeConstants_=function(){return new y.blockRendering.ConstantProvider},y.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new y.blockRendering.RenderInfo(this,e)},y.blockRendering.Renderer.prototype.makeDrawer_=function(e,t){return new y.blockRendering.Drawer(e,t)},y.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!y.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new y.blockRendering.Debug(this.getConstants())},y.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,t){return new y.blockRendering.MarkerSvg(e,this.getConstants(),t)},y.blockRendering.Renderer.prototype.makePathObject=function(e,t){return new y.blockRendering.PathObject(e,t,this.constants_)},y.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},y.blockRendering.Renderer.prototype.shouldHighlightConnection=function(){return!0},y.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,t,o){return o==y.OUTPUT_VALUE?(o=t.outputConnection,e=y.Connection.lastConnectionInRow(e,t)):(o=t.previousConnection,e=e.lastConnectionInStack()),!!e&&o.checkType(e)},y.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,t,o){return t.type==y.OUTPUT_VALUE||t.type==y.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(o,e.targetBlock(),t.type)?y.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:y.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:y.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},y.blockRendering.Renderer.prototype.render=function(e){y.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()},y.geras={},y.geras.ConstantProvider=function(){y.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30},y.utils.object.inherits(y.geras.ConstantProvider,y.blockRendering.ConstantProvider),y.geras.ConstantProvider.prototype.getCSS_=function(e){return y.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},y.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},y.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},y.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=y.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var t=0,o;o=e.elements[t];t++)y.blockRendering.Types.isLeftSquareCorner(o)?this.steps_+=this.highlightConstants_.START_POINT:y.blockRendering.Types.isLeftRoundedCorner(o)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):y.blockRendering.Types.isPreviousConnection(o)?this.steps_+=this.notchPaths_.pathLeft:y.blockRendering.Types.isHat(o)?this.steps_+=this.startPaths_.path(this.RTL_):y.blockRendering.Types.isSpacer(o)&&0!=o.width&&(this.steps_+=y.utils.svgPaths.lineOnAxis("H",o.xPos+o.width-this.highlightOffset_));this.steps_+=y.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},y.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+y.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},y.geras.Highlighter.prototype.drawValueInput=function(e){var t=e.getLastInput();if(this.RTL_){var o=e.height-t.connectionHeight;this.steps_+=y.utils.svgPaths.moveTo(t.xPos+t.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+y.utils.svgPaths.lineOnAxis("v",o)}else this.steps_+=y.utils.svgPaths.moveTo(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},y.geras.Highlighter.prototype.drawStatementInput=function(e){var t=e.getLastInput();if(this.RTL_){var o=e.height-2*this.insideCornerPaths_.height;this.steps_+=y.utils.svgPaths.moveTo(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+y.utils.svgPaths.lineOnAxis("v",o)+this.insideCornerPaths_.pathBottom(this.RTL_)+y.utils.svgPaths.lineTo(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=y.utils.svgPaths.moveTo(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+y.utils.svgPaths.lineTo(e.width-t.xPos-this.insideCornerPaths_.width,0)},y.geras.Highlighter.prototype.drawRightSideRow=function(e){var t=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=y.utils.svgPaths.lineOnAxis("H",t)),this.RTL_&&(this.steps_+=y.utils.svgPaths.lineOnAxis("H",t),e.height>this.highlightOffset_&&(this.steps_+=y.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},y.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=y.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var t=this.info_.bottomRow.elements[0];y.blockRendering.Types.isLeftSquareCorner(t)?this.steps_+=y.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):y.blockRendering.Types.isLeftRoundedCorner(t)&&(this.steps_+=y.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},y.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=y.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=y.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=y.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,this.steps_+=y.blockRendering.Types.isLeftRoundedCorner(e.elements[0])?y.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):y.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},y.geras.Highlighter.prototype.drawInlineInput=function(t){var o=this.highlightOffset_,i=t.xPos+t.connectionWidth,r=t.centerline-t.height/2,n=t.width-t.connectionWidth,a=r+o;this.RTL_?(r=t.connectionOffsetY-o,t=t.height-(t.connectionOffsetY+t.connectionHeight)+o,this.inlineSteps_+=y.utils.svgPaths.moveTo(i-o,a)+y.utils.svgPaths.lineOnAxis("v",r)+this.puzzleTabPaths_.pathDown(this.RTL_)+y.utils.svgPaths.lineOnAxis("v",t)+y.utils.svgPaths.lineOnAxis("h",n)):this.inlineSteps_+=y.utils.svgPaths.moveTo(t.xPos+t.width+o,a)+y.utils.svgPaths.lineOnAxis("v",t.height)+y.utils.svgPaths.lineOnAxis("h",-n)+y.utils.svgPaths.moveTo(i,r+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},y.geras.InlineInput=function(e,t){y.geras.InlineInput.superClass_.constructor.call(this,e,t),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},y.utils.object.inherits(y.geras.InlineInput,y.blockRendering.InlineInput),y.geras.StatementInput=function(e,t){y.geras.StatementInput.superClass_.constructor.call(this,e,t),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},y.utils.object.inherits(y.geras.StatementInput,y.blockRendering.StatementInput),y.geras.RenderInfo=function(e,t){y.geras.RenderInfo.superClass_.constructor.call(this,e,t)},y.utils.object.inherits(y.geras.RenderInfo,y.blockRendering.RenderInfo),y.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},y.geras.RenderInfo.prototype.populateBottomRow_=function(){y.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==y.NEXT_STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},y.geras.RenderInfo.prototype.addInput_=function(e,t){this.isInline&&e.type==y.INPUT_VALUE?(t.elements.push(new y.geras.InlineInput(this.constants_,e)),t.hasInlineInput=!0):e.type==y.NEXT_STATEMENT?(t.elements.push(new y.geras.StatementInput(this.constants_,e)),t.hasStatement=!0):e.type==y.INPUT_VALUE?(t.elements.push(new y.blockRendering.ExternalValueInput(this.constants_,e)),t.hasExternalInput=!0):e.type==y.DUMMY_INPUT&&(t.minHeight=u(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!=t.align||(t.align=e.align)},y.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var t=!1,o=0,i;i=this.rows[o];o++)i.hasExternalInput&&(t=!0);for(o=0;i=this.rows[o];o++){var r=i.elements;if(i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(var n=0;n<r.length-1;n++){i.elements.push(r[n]);var e=this.getInRowSpacing_(r[n],r[n+1]);i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,e))}i.elements.push(r[r.length-1]),i.endsWithElemSpacer()&&(e=this.getInRowSpacing_(r[r.length-1],null),t&&i.hasDummyInput&&(e+=this.constants_.TAB_WIDTH),i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,e)))}}},y.geras.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e)return t&&y.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&y.blockRendering.Types.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&y.blockRendering.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!y.blockRendering.Types.isInput(e)&&(!t||y.blockRendering.Types.isStatementInput(t)))return y.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:y.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:y.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:y.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:y.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:y.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isInput(e)&&!t){if(y.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(y.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!y.blockRendering.Types.isInput(e)&&t&&y.blockRendering.Types.isInput(t)){if(!(y.blockRendering.Types.isField(e)&&e.isEditable)){if(y.blockRendering.Types.isInlineInput(t)||y.blockRendering.Types.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(y.blockRendering.Types.isStatementInput(t))return this.constants_.LARGE_PADDING}else if(y.blockRendering.Types.isInlineInput(t)||y.blockRendering.Types.isExternalInput(t))return this.constants_.SMALL_PADDING;return this.constants_.LARGE_PADDING-1}if(y.blockRendering.Types.isIcon(e)&&t&&!y.blockRendering.Types.isInput(t))return this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isInlineInput(e)&&t&&y.blockRendering.Types.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isLeftSquareCorner(e)&&t){if(y.blockRendering.Types.isHat(t))return this.constants_.NO_PADDING;if(y.blockRendering.Types.isPreviousConnection(t))return t.notchOffset;if(y.blockRendering.Types.isNextConnection(t))return e=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,t.notchOffset+e}if(y.blockRendering.Types.isLeftRoundedCorner(e)&&t){if(y.blockRendering.Types.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(y.blockRendering.Types.isNextConnection(t))return e=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,t.notchOffset-this.constants_.CORNER_RADIUS+e}return y.blockRendering.Types.isField(e)&&t&&y.blockRendering.Types.isField(t)&&e.isEditable==t.isEditable||t&&y.blockRendering.Types.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},y.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return y.blockRendering.Types.isTopRow(e)&&y.blockRendering.Types.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:y.blockRendering.Types.isTopRow(e)||y.blockRendering.Types.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},y.geras.RenderInfo.prototype.getElemCenterline_=function(e,t){if(y.blockRendering.Types.isSpacer(t))return e.yPos+t.height/2;if(y.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,y.blockRendering.Types.isNextConnection(t)?e+t.height/2:e-t.height/2;if(y.blockRendering.Types.isTopRow(e))return y.blockRendering.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var o=e.yPos;return y.blockRendering.Types.isField(t)||y.blockRendering.Types.isIcon(t)?(o+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(o+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):o=y.blockRendering.Types.isInlineInput(t)?o+t.height/2:o+e.height/2,o},y.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var e=0,t=null,o=this.rows.length-1,i;i=this.rows[o];o--)i.nextRightEdge=e,y.blockRendering.Types.isInputRow(i)&&(i.hasStatement&&this.alignStatementRow_(i),t&&t.hasStatement&&i.width<t.width?i.nextRightEdge=t.width:e=i.width,t=i);for(o=e=0;i=this.rows[o];o++)i.hasStatement?e=this.getDesiredRowWidth_(i):y.blockRendering.Types.isSpacer(i)?i.width=u(e,i.nextRightEdge):(e=u(e,i.nextRightEdge)-i.width,0<e&&this.addAlignmentPadding_(i,e),e=i.width)}else y.geras.RenderInfo.superClass_.alignRowElements_.call(this)},y.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:y.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},y.geras.RenderInfo.prototype.finalize_=function(){for(var t=0,o=0,i=0,r;r=this.rows[i];i++){r.yPos=o,r.xPos=this.startX,o+=r.height,t=u(t,r.widthWithConnectedBlocks);var n=o-this.topRow.ascenderHeight;r==this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,o+=n),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=u(t,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=o+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},y.geras.Drawer=function(e,t){y.geras.Drawer.superClass_.constructor.call(this,e,t),this.highlighter_=new y.geras.Highlighter(t)},y.utils.object.inherits(y.geras.Drawer,y.blockRendering.Drawer),y.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),y.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},y.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),y.geras.Drawer.superClass_.drawTop_.call(this)},y.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),y.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},y.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),y.geras.Drawer.superClass_.drawValueInput_.call(this,e)},y.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),y.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},y.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=y.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+y.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},y.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),y.geras.Drawer.superClass_.drawBottom_.call(this)},y.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),y.geras.Drawer.superClass_.drawLeft_.call(this)},y.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),y.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},y.geras.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var o=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),e.connectionModel.setOffsetInBlock(o,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},y.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var o=e.xPos+e.statementEdge+t.notchOffset;o=this.info_.RTL?-1*o:o+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(o,e.yPos+this.constants_.DARK_PATH_OFFSET)}},y.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var o=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(o*=-1),t.connectionModel.setOffsetInBlock(o,e.yPos)}},y.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,o=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-o:o)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},y.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=y.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},y.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},y.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var o=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,r=(1-t)*(o+i)-i,n=y.utils.svgPaths.moveBy(r,r)+y.utils.svgPaths.arc("a","0 0,0",o,y.utils.svgPaths.point(-r-i,o-r)),s=y.utils.svgPaths.arc("a","0 0,0",o+i,y.utils.svgPaths.point(o+i,o+i)),e=y.utils.svgPaths.moveBy(r,-r)+y.utils.svgPaths.arc("a","0 0,0",o+i,y.utils.svgPaths.point(o-r,r+i));return{width:o+i,height:o,pathTop:function(e){return e?n:""},pathBottom:function(t){return t?s:e}}},y.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var o=this.constantProvider.CORNER_RADIUS,i=this.OFFSET,r=(1-t)*(o-i)+i,n=y.utils.svgPaths.moveBy(r,r)+y.utils.svgPaths.arc("a","0 0,1",o-i,y.utils.svgPaths.point(o-r,-r+i)),s=y.utils.svgPaths.moveBy(i,o)+y.utils.svgPaths.arc("a","0 0,1",o-i,y.utils.svgPaths.point(o,-o+i)),e=-r,l=y.utils.svgPaths.moveBy(r,e)+y.utils.svgPaths.arc("a","0 0,1",o-i,y.utils.svgPaths.point(-r+i,-e-o));return{height:o,topLeft:function(e){return e?n:s},bottomLeft:function(){return l}}},y.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var t=this.constantProvider.TAB_WIDTH,o=this.constantProvider.TAB_HEIGHT,i=y.utils.svgPaths.moveBy(-2,-o+3.4)+y.utils.svgPaths.lineTo(-.45*t,-2.1),r=y.utils.svgPaths.lineOnAxis("v",2.5)+y.utils.svgPaths.moveBy(.97*-t,2.5)+y.utils.svgPaths.curve("q",[y.utils.svgPaths.point(.05*-t,10),y.utils.svgPaths.point(.3*t,9.5)])+y.utils.svgPaths.moveBy(.67*t,-1.9)+y.utils.svgPaths.lineOnAxis("v",2.5),n=y.utils.svgPaths.lineOnAxis("v",-1.5)+y.utils.svgPaths.moveBy(-.92*t,-.5)+y.utils.svgPaths.curve("q",[y.utils.svgPaths.point(-.19*t,-5.5),y.utils.svgPaths.point(0,-11)])+y.utils.svgPaths.moveBy(.92*t,1),e=y.utils.svgPaths.moveBy(-5,o-.7)+y.utils.svgPaths.lineTo(.46*t,-2.1);return{width:t,height:o,pathUp:function(e){return e?i:n},pathDown:function(t){return t?r:e}}},y.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:y.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},y.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:y.utils.svgPaths.lineTo(5.1,2.6)+y.utils.svgPaths.moveBy(-10.2,6.8)+y.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},y.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,t=y.utils.svgPaths.moveBy(25,-8.7)+y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(29.7,-6.2),y.utils.svgPaths.point(57.2,-.5),y.utils.svgPaths.point(75,8.7)]),o=y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(17.8,-9.2),y.utils.svgPaths.point(45.3,-14.9),y.utils.svgPaths.point(75,-8.7)])+y.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(e){return e?t:o}}},y.geras.PathObject=function(e,t,o){this.constants=o,this.svgRoot=e,this.svgPathDark=y.utils.dom.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=y.utils.dom.createSvgElement("path",{class:"blocklyPath"},this.svgRoot),this.svgPathLight=y.utils.dom.createSvgElement("path",{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=t},y.utils.object.inherits(y.geras.PathObject,y.blockRendering.PathObject),y.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},y.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},y.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},y.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),y.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},y.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=y.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},y.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},y.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},y.geras.PathObject.prototype.updateDisabled_=function(e){y.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},y.geras.Renderer=function(e){y.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},y.utils.object.inherits(y.geras.Renderer,y.blockRendering.Renderer),y.geras.Renderer.prototype.init=function(e,t){y.geras.Renderer.superClass_.init.call(this,e,t),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},y.geras.Renderer.prototype.refreshDom=function(e,t){y.geras.Renderer.superClass_.refreshDom.call(this,e,t),this.getHighlightConstants().init()},y.geras.Renderer.prototype.makeConstants_=function(){return new y.geras.ConstantProvider},y.geras.Renderer.prototype.makeRenderInfo_=function(e){return new y.geras.RenderInfo(this,e)},y.geras.Renderer.prototype.makeDrawer_=function(e,t){return new y.geras.Drawer(e,t)},y.geras.Renderer.prototype.makePathObject=function(e,t){return new y.geras.PathObject(e,t,this.getConstants())},y.geras.Renderer.prototype.makeHighlightConstants_=function(){return new y.geras.HighlightConstantProvider(this.getConstants())},y.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},y.blockRendering.register("geras",y.geras.Renderer),y.thrasos={},y.thrasos.RenderInfo=function(e,t){y.thrasos.RenderInfo.superClass_.constructor.call(this,e,t)},y.utils.object.inherits(y.thrasos.RenderInfo,y.blockRendering.RenderInfo),y.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},y.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var t=!1,o=0,i;i=this.rows[o];o++)i.hasExternalInput&&(t=!0);for(o=0;i=this.rows[o];o++){var r=i.elements;i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0])));for(var n=0;n<r.length-1;n++){i.elements.push(r[n]);var e=this.getInRowSpacing_(r[n],r[n+1]);i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,e))}i.elements.push(r[r.length-1]),i.endsWithElemSpacer()&&(e=this.getInRowSpacing_(r[r.length-1],null),t&&i.hasDummyInput&&(e+=this.constants_.TAB_WIDTH),i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,e)))}},y.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,t){if(!e)return t&&y.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&y.blockRendering.Types.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&y.blockRendering.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!y.blockRendering.Types.isInput(e)&&!t)return y.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:y.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:y.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:y.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:y.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:y.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isInput(e)&&!t){if(y.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(y.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!y.blockRendering.Types.isInput(e)&&t&&y.blockRendering.Types.isInput(t)){if(!(y.blockRendering.Types.isField(e)&&e.isEditable)){if(y.blockRendering.Types.isInlineInput(t)||y.blockRendering.Types.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(y.blockRendering.Types.isStatementInput(t))return this.constants_.LARGE_PADDING}else if(y.blockRendering.Types.isInlineInput(t)||y.blockRendering.Types.isExternalInput(t))return this.constants_.SMALL_PADDING;return this.constants_.LARGE_PADDING-1}if(y.blockRendering.Types.isIcon(e)&&t&&!y.blockRendering.Types.isInput(t))return this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isInlineInput(e)&&t&&y.blockRendering.Types.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(y.blockRendering.Types.isLeftSquareCorner(e)&&t){if(y.blockRendering.Types.isHat(t))return this.constants_.NO_PADDING;if(y.blockRendering.Types.isPreviousConnection(t)||y.blockRendering.Types.isNextConnection(t))return t.notchOffset}return y.blockRendering.Types.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:y.blockRendering.Types.isField(e)&&t&&y.blockRendering.Types.isField(t)&&e.isEditable==t.isEditable||t&&y.blockRendering.Types.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},y.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return y.blockRendering.Types.isTopRow(e)&&y.blockRendering.Types.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:y.blockRendering.Types.isTopRow(e)||y.blockRendering.Types.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},y.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,t){if(y.blockRendering.Types.isSpacer(t))return e.yPos+t.height/2;if(y.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,y.blockRendering.Types.isNextConnection(t)?e+t.height/2:e-t.height/2;if(y.blockRendering.Types.isTopRow(e))return y.blockRendering.Types.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var o=e.yPos;return o=y.blockRendering.Types.isField(t)&&e.hasStatement?o+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):o+e.height/2},y.thrasos.RenderInfo.prototype.finalize_=function(){for(var t=0,o=0,i=0,r;r=this.rows[i];i++){r.yPos=o,r.xPos=this.startX,o+=r.height,t=u(t,r.widthWithConnectedBlocks);var n=o-this.topRow.ascenderHeight;r==this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,o+=n),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=u(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=o-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX,this.height=o,this.startY=this.topRow.capline},y.thrasos.Renderer=function(e){y.thrasos.Renderer.superClass_.constructor.call(this,e)},y.utils.object.inherits(y.thrasos.Renderer,y.blockRendering.Renderer),y.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new y.thrasos.RenderInfo(this,e)},y.blockRendering.register("thrasos",y.thrasos.Renderer),y.zelos={},y.zelos.ConstantProvider=function(){y.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY="\"Helvetica Neue\", \"Segoe UI\", Helvetica, sans-serif",this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},y.utils.object.inherits(y.zelos.ConstantProvider,y.blockRendering.ConstantProvider),y.zelos.ConstantProvider.prototype.setFontConstants_=function(e){y.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},y.zelos.ConstantProvider.prototype.init=function(){y.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},y.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){y.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var t=+e.getComponentStyle("selectedGlowSize");this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=+e.getComponentStyle("replacementGlowSize"))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},y.zelos.ConstantProvider.prototype.dispose=function(){y.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&y.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&y.utils.dom.removeNode(this.replacementGlowFilter_)},y.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,o=y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(25,-e),y.utils.svgPaths.point(71,-e),y.utils.svgPaths.point(t,0)]);return{height:e,width:t,path:o}},y.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(o,i,r){var n=o/2;return n=n>t?t:n,r=r?-1:1,o=(i?-1:1)*o/2,y.utils.svgPaths.lineTo(-r*n,o)+y.utils.svgPaths.lineTo(r*n,o)}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return e/=2,e>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},y.zelos.ConstantProvider.prototype.makeRounded=function(){function e(e,t,i){var r=e>o?e-o:0;return e=(e>o?o:e)/2,y.utils.svgPaths.arc("a","0 0,1",e,y.utils.svgPaths.point((t?-1:1)*e,(t?-1:1)*e))+y.utils.svgPaths.lineOnAxis("v",(i?1:-1)*r)+y.utils.svgPaths.arc("a","0 0,1",e,y.utils.svgPaths.point((t?1:-1)*e,(t?-1:1)*e))}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,o=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return e/=2,e>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},y.zelos.ConstantProvider.prototype.makeSquared=function(){function e(o,i,r){return o-=2*t,y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point((i?-1:1)*t,(i?-1:1)*t))+y.utils.svgPaths.lineOnAxis("v",(r?1:-1)*o)+y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point((i?1:-1)*t,(i?-1:1)*t))}var t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(){return t},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}},y.zelos.ConstantProvider.prototype.shapeFor=function(e){var t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case y.INPUT_VALUE:case y.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),null!=e)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED;}return t&&-1!=t.indexOf("Boolean")?this.HEXAGONAL:t&&-1!=t.indexOf("Number")?this.ROUNDED:(t&&t.indexOf("String"),this.ROUNDED);case y.PREVIOUS_STATEMENT:case y.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type");}},y.zelos.ConstantProvider.prototype.makeNotch=function(){function t(t){return y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(t*n/2,0),y.utils.svgPaths.point(3*(t*n)/4,s/2),y.utils.svgPaths.point(t*n,s)])+y.utils.svgPaths.line([y.utils.svgPaths.point(t*n,e)])+y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(t*n/4,s/2),y.utils.svgPaths.point(t*n/2,s),y.utils.svgPaths.point(t*n,s)])+y.utils.svgPaths.lineOnAxis("h",t*r)+y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(t*n/2,0),y.utils.svgPaths.point(3*(t*n)/4,-(s/2)),y.utils.svgPaths.point(t*n,-s)])+y.utils.svgPaths.line([y.utils.svgPaths.point(t*n,-e)])+y.utils.svgPaths.curve("c",[y.utils.svgPaths.point(t*n/4,-(s/2)),y.utils.svgPaths.point(t*n/2,-s),y.utils.svgPaths.point(t*n,-s)])}var o=this.NOTCH_WIDTH,i=this.NOTCH_HEIGHT,r=o/3,n=r/3,e=i/2,s=e/2,a=t(1),l=t(-1);return{type:this.SHAPES.NOTCH,width:o,height:i,pathLeft:a,pathRight:l}},y.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS,o=y.utils.svgPaths.arc("a","0 0,0",t,y.utils.svgPaths.point(-t,t)),i=y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(-t,t)),r=y.utils.svgPaths.arc("a","0 0,0",t,y.utils.svgPaths.point(t,t)),n=y.utils.svgPaths.arc("a","0 0,1",t,y.utils.svgPaths.point(t,t));return{width:t,height:t,pathTop:o,pathBottom:r,rightWidth:t,rightHeight:t,pathTopRight:i,pathBottomRight:n}},y.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return y.utils.colour.blend("#000",e,.15)||e},y.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return y.utils.colour.blend("#000",e,.25)||e},y.zelos.ConstantProvider.prototype.createDom=function(e,t,o){y.zelos.ConstantProvider.superClass_.createDom.call(this,e,t,o),e=y.utils.dom.createSvgElement("defs",{},e),t=y.utils.dom.createSvgElement("filter",{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),y.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),o=y.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},t),y.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},o),y.utils.dom.createSvgElement("feFlood",{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),y.utils.dom.createSvgElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter_=t,e=y.utils.dom.createSvgElement("filter",{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),y.utils.dom.createSvgElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=y.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},e),y.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),y.utils.dom.createSvgElement("feFlood",{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),y.utils.dom.createSvgElement("feComposite",{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),y.utils.dom.createSvgElement("feComposite",{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},y.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},y.zelos.TopRow=function(e){y.zelos.TopRow.superClass_.constructor.call(this,e)},y.utils.object.inherits(y.zelos.TopRow,y.blockRendering.TopRow),y.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},y.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t},y.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},y.zelos.BottomRow=function(e){y.zelos.BottomRow.superClass_.constructor.call(this,e)},y.utils.object.inherits(y.zelos.BottomRow,y.blockRendering.BottomRow),y.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},y.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},y.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},y.zelos.RightConnectionShape=function(e){y.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=y.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},y.utils.object.inherits(y.zelos.RightConnectionShape,y.blockRendering.Measurable),y.zelos.StatementInput=function(e,t){if(y.zelos.StatementInput.superClass_.constructor.call(this,e,t),this.connectedBlock){for(e=this.connectedBlock;e.getNextBlock();)e=e.getNextBlock();e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}},y.utils.object.inherits(y.zelos.StatementInput,y.blockRendering.StatementInput),y.zelos.RenderInfo=function(e,t){y.zelos.RenderInfo.superClass_.constructor.call(this,e,t),this.topRow=new y.zelos.TopRow(this.constants_),this.bottomRow=new y.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new y.zelos.RightConnectionShape(this.constants_):null},y.utils.object.inherits(y.zelos.RenderInfo,y.blockRendering.RenderInfo),y.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},y.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},y.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,t){return!!t&&(e.type==y.NEXT_STATEMENT||t.type==y.NEXT_STATEMENT||(e.type==y.INPUT_VALUE||e.type==y.DUMMY_INPUT)&&(!this.isInline||this.isMultiRow))},y.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):y.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},y.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&y.blockRendering.Types.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&y.blockRendering.Types.isLeftRoundedCorner(e)&&t&&(y.blockRendering.Types.isPreviousConnection(t)||y.blockRendering.Types.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&y.blockRendering.Types.isLeftSquareCorner(e)&&t&&y.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},y.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){if(y.blockRendering.Types.isTopRow(e)&&y.blockRendering.Types.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var o=y.blockRendering.Types.isInputRow(e)&&e.hasStatement,i=y.blockRendering.Types.isInputRow(t)&&t.hasStatement;return i||o?(e=u(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),i&&o?u(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):y.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:l(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):y.blockRendering.Types.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?l(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:u(this.topRow.minHeight,u(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},y.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){var o=this.width-this.startX;return y.blockRendering.Types.isInputRow(e)&&e.hasStatement||y.blockRendering.Types.isInputRow(t)&&t.hasStatement?u(o,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):o},y.zelos.RenderInfo.prototype.getElemCenterline_=function(e,t){if(e.hasStatement&&!y.blockRendering.Types.isSpacer(t)&&!y.blockRendering.Types.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(y.blockRendering.Types.isInlineInput(t)){var o=t.connectedBlock;if(o&&o.outputConnection&&o.nextConnection)return e.yPos+o.height/2}return y.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,t)},y.zelos.RenderInfo.prototype.addInput_=function(e,t){e.type==y.DUMMY_INPUT&&t.hasDummyInput&&t.align==y.ALIGN_LEFT&&e.align==y.ALIGN_RIGHT&&(t.rightAlignedDummyInput=e),y.zelos.RenderInfo.superClass_.addInput_.call(this,e,t)},y.zelos.RenderInfo.prototype.addAlignmentPadding_=function(t,o){if(t.rightAlignedDummyInput){for(var i=0,r,n;(n=t.elements[i])&&(y.blockRendering.Types.isSpacer(n)&&(r=n),!y.blockRendering.Types.isField(n)||n.parentInput!=t.rightAlignedDummyInput);i++);if(r)return r.width+=o,void(t.width+=o)}y.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,t,o)},y.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,o=t,i=2;i<this.rows.length-1;i+=2){var r=this.rows[i-1],n=this.rows[i],e=this.rows[i+1];if(r=2==i?!!this.topRow.hasPreviousConnection:!!r.followsStatement,e=i+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!e.precedesStatement,y.blockRendering.Types.isInputRow(n)&&n.hasStatement)n.measure(),o=n.width-n.getLastInput().width+t;else if(r&&(2==i||e)&&y.blockRendering.Types.isInputRow(n)&&!n.hasStatement){e=n.xPos,r=null;for(var a=0,s;s=n.elements[a];a++)y.blockRendering.Types.isSpacer(s)&&(r=s),!(r&&(y.blockRendering.Types.isField(s)||y.blockRendering.Types.isInput(s))&&e<o)||y.blockRendering.Types.isField(s)&&(s.field instanceof y.FieldLabel||s.field instanceof y.FieldImage)||(r.width+=o-e),e+=s.width}}},y.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var e=0,t=0,o;o=this.rows[t];t++)o.yPos=e,e+=o.height;this.height=e,t=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,e=this.outputConnection.shape.height(t),t=this.outputConnection.shape.width(t),this.outputConnection.height=e,this.outputConnection.width=t,this.outputConnection.startX=t,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(t),o=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(o=t,this.rightSide.height=e,this.rightSide.width=o,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+o),this.startX=t,this.width+=t+o,this.widthWithChildren+=t+o}},y.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var t=0,o=0,i;i=this.rows[o];o++)if(y.blockRendering.Types.isInputRow(i)){t=i.elements[i.elements.length-2];var r=this.getNegativeSpacing_(i.elements[1]),n=this.getNegativeSpacing_(t);t=r+n;var a=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-t<a&&(t=this.width-a,r=t/2,n=t/2),i.elements.unshift(new y.blockRendering.InRowSpacer(this.constants_,-r)),i.elements.push(new y.blockRendering.InRowSpacer(this.constants_,-n))}if(t)for(this.width-=t,this.widthWithChildren-=t,this.rightSide.xPos-=t,o=0;i=this.rows[o];o++)y.blockRendering.Types.isTopOrBottomRow(i)&&(i.elements[1].width-=t,i.elements[1].widthWithConnectedBlocks-=t),i.width-=t,i.widthWithConnectedBlocks-=t}},y.zelos.RenderInfo.prototype.getNegativeSpacing_=function(t){if(!t)return 0;var o=this.outputConnection.width,i=this.outputConnection.shape.type,r=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return i===r.SHAPES.ROUND?(i=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=this.height/2>i?i:this.height/2,o-i*(1-s(E((i-this.constants_.SMALL_PADDING)/i)))):0;if(y.blockRendering.Types.isInlineInput(t)){var n=t.connectedBlock;return t=n?n.pathObject.outputShapeType:t.shape.type,n&&n.outputConnection&&(n.statementInputCount||n.nextConnection)||i==r.SHAPES.HEXAGONAL&&i!=t?0:o-this.constants_.SHAPE_IN_SHAPE_PADDING[i][t]}return y.blockRendering.Types.isField(t)?i==r.SHAPES.ROUND&&t.field instanceof y.FieldTextInput?o-2.75*r.GRID_UNIT:o-this.constants_.SHAPE_IN_SHAPE_PADDING[i][0]:y.blockRendering.Types.isIcon(t)?this.constants_.SMALL_PADDING:0},y.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var t=2;t<this.rows.length-1;t+=2){var o=this.rows[t-1],i=this.rows[t],r=this.rows[t+1],n=2==t,a=t+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!r.precedesStatement;if(n?this.topRow.hasPreviousConnection:o.followsStatement){var s=3==i.elements.length&&(i.elements[1].field instanceof y.FieldLabel||i.elements[1].field instanceof y.FieldImage);if(!n&&s)o.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.MEDIUM_PADDING;else if(!n&&!a)o.height+=this.constants_.SMALL_PADDING;else if(a){for(n=!1,a=0;s=i.elements[a];a++)if(y.blockRendering.Types.isInlineInput(s)&&s.connectedBlock&&!s.connectedBlock.isShadow()&&40<=s.connectedBlock.getHeightWidth().height){n=!0;break}n&&(o.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.SMALL_PADDING)}}}},y.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),y.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},y.zelos.Drawer=function(e,t){y.zelos.Drawer.superClass_.constructor.call(this,e,t)},y.utils.object.inherits(y.zelos.Drawer,y.blockRendering.Drawer),y.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),y.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},y.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):y.zelos.Drawer.superClass_.drawOutline_.call(this)},y.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():y.zelos.Drawer.superClass_.drawLeft_.call(this)},y.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var t=this.constants_.INSIDE_CORNERS.rightHeight;t=e.height-(e.precedesStatement?t:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<t?y.utils.svgPaths.lineOnAxis("V",e.yPos+t):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=y.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},y.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},y.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},y.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=y.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=y.utils.svgPaths.lineOnAxis("h",e.width)},y.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=y.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=y.utils.svgPaths.lineOnAxis("h",-e.width)},y.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var t=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var o=e.width-2*e.connectionWidth;e=y.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+y.utils.svgPaths.lineOnAxis("h",o)+e.shape.pathRightDown(e.height)+y.utils.svgPaths.lineOnAxis("h",-o)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(t,e)}},y.zelos.Drawer.prototype.drawStatementInput_=function(t){var o=t.getLastInput(),i=o.xPos+o.notchOffset+o.shape.width,r=o.shape.pathRight+y.utils.svgPaths.lineOnAxis("h",-(o.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,n=t.height-2*this.constants_.INSIDE_CORNERS.height;o=this.constants_.INSIDE_CORNERS.pathBottom+y.utils.svgPaths.lineOnAxis("h",o.notchOffset-this.constants_.INSIDE_CORNERS.width)+(o.connectedBottomNextConnection?"":o.shape.pathLeft),this.outlinePath_+=y.utils.svgPaths.lineOnAxis("H",i)+r+y.utils.svgPaths.lineOnAxis("v",n)+o+y.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},y.zelos.PathObject=function(e,t,o){y.zelos.PathObject.superClass_.constructor.call(this,e,t,o),this.constants=o,this.svgPathSelected_=null,this.outlines_={},this.outputShapeType=this.remainingOutlines_=null},y.utils.object.inherits(y.zelos.PathObject,y.blockRendering.PathObject),y.zelos.PathObject.prototype.setPath=function(e){y.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},y.zelos.PathObject.prototype.applyColour=function(e){y.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),e=0;for(var t=Object.keys(this.outlines_),o;o=t[e];e++)this.outlines_[o].setAttribute("fill",this.style.colourTertiary)},y.zelos.PathObject.prototype.flipRTL=function(){y.zelos.PathObject.superClass_.flipRTL.call(this);for(var e=0,t=Object.keys(this.outlines_),o;o=t[e];e++)this.outlines_[o].setAttribute("transform","scale(-1 1)")},y.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},y.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},y.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},y.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var e=0,t=Object.keys(this.outlines_),o;o=t[e];e++)this.remainingOutlines_[o]=1},y.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e=0,t=Object.keys(this.remainingOutlines_),o;o=t[e];e++)this.removeOutlinePath_(o);this.remainingOutlines_=null},y.zelos.PathObject.prototype.setOutlinePath=function(e,t){e=this.getOutlinePath_(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)},y.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=y.utils.dom.createSvgElement("path",{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},y.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},y.zelos.MarkerSvg=function(e,t,o){y.zelos.MarkerSvg.superClass_.constructor.call(this,e,t,o)},y.utils.object.inherits(y.zelos.MarkerSvg,y.blockRendering.MarkerSvg),y.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()},y.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},y.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},y.zelos.MarkerSvg.prototype.showWithBlock_=function(e){e=e.getLocation();var t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()},y.zelos.MarkerSvg.prototype.positionCircle_=function(e,t){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",t),this.currentMarkerSvg=this.markerCircle_},y.zelos.MarkerSvg.prototype.hide=function(){y.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},y.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(y.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=y.utils.dom.createSvgElement("circle",{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();y.utils.dom.createSvgElement("animate",e,this.markerCircle_)}return this.markerSvg_},y.zelos.MarkerSvg.prototype.applyColour_=function(e){y.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},y.zelos.Renderer=function(e){y.zelos.Renderer.superClass_.constructor.call(this,e)},y.utils.object.inherits(y.zelos.Renderer,y.blockRendering.Renderer),y.zelos.Renderer.prototype.makeConstants_=function(){return new y.zelos.ConstantProvider},y.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new y.zelos.RenderInfo(this,e)},y.zelos.Renderer.prototype.makeDrawer_=function(e,t){return new y.zelos.Drawer(e,t)},y.zelos.Renderer.prototype.makeMarkerDrawer=function(e,t){return new y.zelos.MarkerSvg(e,this.getConstants(),t)},y.zelos.Renderer.prototype.makePathObject=function(e,t){return new y.zelos.PathObject(e,t,this.getConstants())},y.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=y.INPUT_VALUE&&e.type!==y.OUTPUT_VALUE},y.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,t,o){return t.type==y.OUTPUT_VALUE?e.isConnected()?y.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:y.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:y.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,t,o)},y.blockRendering.register("zelos",y.zelos.Renderer),y.Themes.Dark=y.Theme.defineTheme("dark",{base:y.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"#333",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0"}}),y.Themes.Deuteranopia={},y.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},y.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},y.Themes.Deuteranopia=new y.Theme("deuteranopia",y.Themes.Deuteranopia.defaultBlockStyles,y.Themes.Deuteranopia.categoryStyles),y.Themes.HighContrast={},y.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},y.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},y.Themes.HighContrast=new y.Theme("highcontrast",y.Themes.HighContrast.defaultBlockStyles,y.Themes.HighContrast.categoryStyles),y.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),y.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),y.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),y.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),y.Themes.Tritanopia={},y.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},y.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},y.Themes.Tritanopia=new y.Theme("tritanopia",y.Themes.Tritanopia.defaultBlockStyles,y.Themes.Tritanopia.categoryStyles),y.requires={},y})}).call(this,o(13))},,function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],o=0;o<e.length;o++)t.push(255&e.charCodeAt(o));return t},bytesToString:function(e){for(var t=[],o=0;o<e.length;o++)t.push(String.fromCharCode(e[o]));return t.join("")}}};e.exports=t},function(e,t,o){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,o){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,o),r}var n=o(132),a=o(134);t.parse=r,t.resolve=function(e,t){return r(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?r(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var d=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">","\"","`"," ","\r","\n","\t"]),p=["'"].concat(c),u=["%","/","?",";","#"].concat(p),_=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=o(135);i.prototype.parse=function(e,t,o){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),c=-1!==r&&r<e.indexOf("#")?"?":"#",v=e.split(c),S=/\\/g;v[0]=v[0].replace(S,"/"),e=v.join(c);var R=e;if(R=R.trim(),!o&&1===e.split("#").length){var I=l.exec(R);if(I)return this.path=R,this.href=R,this.pathname=I[1],I[2]?(this.search=I[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=d.exec(R);if(x){x=x[0];var C=x.toLowerCase();this.protocol=C,R=R.substr(x.length)}if(o||x||R.match(/^\/\/[^@\/]+@[^@\/]+/)){var O="//"===R.substr(0,2);O&&!(x&&b[x])&&(R=R.substr(2),this.slashes=!0)}if(!b[x]&&(O||x&&!E[x])){for(var A=-1,N=0,i;N<_.length;N++)i=R.indexOf(_[N]),-1!==i&&(-1===A||i<A)&&(A=i);var L,D;D=-1===A?R.lastIndexOf("@"):R.lastIndexOf("@",A),-1!==D&&(L=R.slice(0,D),R=R.slice(D+1),this.auth=decodeURIComponent(L)),A=-1;for(var N=0,i;N<u.length;N++)i=R.indexOf(u[N]),-1!==i&&(-1===A||i<A)&&(A=i);-1===A&&(A=R.length),this.host=R.slice(0,A),R=R.slice(A),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var P=this.hostname.split(/\./),N=0,w=P.length,B;N<w;N++)if(B=P[N],B&&!B.match(g)){for(var F="",U=0,H=B.length;U<H;U++)F+=127<B.charCodeAt(U)?"x":B[U];if(!F.match(g)){var k=P.slice(0,N),G=P.slice(N+1),V=B.match(m);V&&(k.push(V[1]),G.unshift(V[2])),G.length&&(R="/"+G.join(".")+R),this.hostname=k.join(".");break}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var z=this.port?":"+this.port:"",W=this.hostname||"";this.host=W+z,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==R[0]&&(R="/"+R))}if(!T[C])for(var N=0,w=p.length,h;N<w;N++)if(h=p[N],-1!==R.indexOf(h)){var X=encodeURIComponent(h);X===h&&(X=escape(h)),R=R.split(h).join(X)}var Y=R.indexOf("#");-1!==Y&&(this.hash=R.substr(Y),R=R.slice(0,Y));var j=R.indexOf("?");if(-1===j?t&&(this.search="",this.query={}):(this.search=R.substr(j),this.query=R.substr(j+1),t&&(this.query=y.parse(this.query)),R=R.slice(0,j)),R&&(this.pathname=R),E[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",J=this.search||"";this.path=z+J}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",o=this.pathname||"",i=this.hash||"",r=!1,n="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(n=y.stringify(this.query));var s=this.search||n&&"?"+n||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!=r?(r="//"+(r||""),o&&"/"!==o.charAt(0)&&(o="/"+o)):!r&&(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),o=o.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+r+o+s+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var o=new i,r=Object.keys(this),n=0,l;n<r.length;n++)l=r[n],o[l]=this[l];if(o.hash=e.hash,""===e.href)return o.href=o.format(),o;if(e.slashes&&!e.protocol){for(var d=Object.keys(e),c=0,u;c<d.length;c++)u=d[c],"protocol"!==u&&(o[u]=e[u]);return E[o.protocol]&&o.hostname&&!o.pathname&&(o.path=o.pathname="/"),o.href=o.format(),o}if(e.protocol&&e.protocol!==o.protocol){if(!E[e.protocol]){for(var _=Object.keys(e),g=0,m;g<_.length;g++)m=_[g],o[m]=e[m];return o.href=o.format(),o}if(o.protocol=e.protocol,!e.host&&!b[e.protocol]){for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),2>h.length&&h.unshift(""),o.pathname=h.join("/")}else o.pathname=e.pathname;if(o.search=e.search,o.query=e.query,o.host=e.host||"",o.auth=e.auth,o.hostname=e.hostname||e.host,o.port=e.port,o.pathname||o.search){var T=o.pathname||"",p=o.search||"";o.path=T+p}return o.slashes=o.slashes||e.slashes,o.href=o.format(),o}var s=o.pathname&&"/"===o.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=y||s||o.host&&e.pathname,S=v,R=o.pathname&&o.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],I=o.protocol&&!E[o.protocol];if(I&&(o.hostname="",o.port=null,o.host&&(""===R[0]?R[0]=o.host:R.unshift(o.host)),o.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),v=v&&(""===h[0]||""===R[0])),y)o.host=e.host||""===e.host?e.host:o.host,o.hostname=e.hostname||""===e.hostname?e.hostname:o.hostname,o.search=e.search,o.query=e.query,R=h;else if(h.length)R||(R=[]),R.pop(),R=R.concat(h),o.search=e.search,o.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(I){o.hostname=o.host=R.shift();var x=!!(o.host&&0<o.host.indexOf("@"))&&o.host.split("@");x&&(o.auth=x.shift(),o.host=o.hostname=x.shift())}return o.search=e.search,o.query=e.query,a.isNull(o.pathname)&&a.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.href=o.format(),o}if(!R.length)return o.pathname=null,o.path=o.search?"/"+o.search:null,o.href=o.format(),o;for(var C=R.slice(-1)[0],O=(o.host||e.host||1<R.length)&&("."===C||".."===C)||""===C,k=0,A=R.length;0<=A;A--)C=R[A],"."===C?R.splice(A,1):".."===C?(R.splice(A,1),k++):k&&(R.splice(A,1),k--);if(!v&&!S)for(;k--;k)R.unshift("..");v&&""!==R[0]&&(!R[0]||"/"!==R[0].charAt(0))&&R.unshift(""),O&&"/"!==R.join("/").substr(-1)&&R.push("");var N=""===R[0]||R[0]&&"/"===R[0].charAt(0);if(I){o.hostname=o.host=N?"":R.length?R.shift():"";var x=!!(o.host&&0<o.host.indexOf("@"))&&o.host.split("@");x&&(o.auth=x.shift(),o.host=o.hostname=x.shift())}return v=v||o.host&&R.length,v&&!N&&R.unshift(""),R.length?o.pathname=R.join("/"):(o.pathname=null,o.path=null),a.isNull(o.pathname)&&a.isNull(o.search)||(o.path=(o.pathname?o.pathname:"")+(o.search?o.search:"")),o.auth=e.auth||o.auth,o.slashes=o.slashes||e.slashes,o.href=o.format(),o},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,o){"use strict";function i(){let e=window.localStorage.getItem("blockly/token");return!!e&&"8c832db199a866669a86bfd1a3991071e40d5f85"==n()(e)}o.d(t,"a",function(){return i});var r=o(26),n=o.n(r)},function(e,t,o){(function(r){(function(){var s=o(43),p=o(23).utf8,t=o(23).bin,i=function(o){o.constructor==String?o=p.stringToBytes(o):"undefined"!=typeof r&&"function"==typeof r.isBuffer&&r.isBuffer(o)?o=Array.prototype.slice.call(o,0):!Array.isArray(o)&&(o=o.toString());var u=s.bytesToWords(o),_=8*o.length,l=[],g=1732584193,m=-271733879,h=-1732584194,T=271733878,E=-1009589776;u[_>>5]|=128<<24-_%32,u[(_+64>>>9<<4)+15]=_;for(var y=0;y<u.length;y+=16){for(var i=g,a=m,b=h,c=T,d=E,e=0;80>e;e++){if(16>e)l[e]=u[y+e];else{var v=l[e-3]^l[e-8]^l[e-14]^l[e-16];l[e]=v<<1|v>>>31}var n=(g<<5|g>>>27)+E+(l[e]>>>0)+(20>e?(m&h|~m&T)+1518500249:40>e?(m^h^T)+1859775393:60>e?(m&h|m&T|h&T)-1894007588:(m^h^T)-899497514);E=T,T=h,h=m<<30|m>>>2,m=g,g=n}g+=i,m+=a,h+=b,T+=c,E+=d}return[g,m,h,T,E]},n=function(e,o){var r=s.wordsToBytes(i(e));return o&&o.asBytes?r:o&&o.asString?t.bytesToString(r):s.bytesToHex(r)};n._blocksize=16,n._digestsize=20,e.exports=n})()}).call(this,o(39).Buffer)},function(e,t,o){var i=o(129),r=o(35),n=i(r);e.exports="<div id=invisibleElements style=display:none> <input id=uploadJsonFileInput type=file accept=application/json /> <input id=uploadImageFileInput type=file accept=image/* /> </div> <div class=navbar> <a href=../index.html><img id=logo src="+n+" /></a> <div class=subnav> <div class=navbtn>\u6587\u4EF6</div> <div class=subnav-content> <div class=subnavbtn id=downloadAsJsonButton>\u4E0B\u8F7D\u4EE3\u7801</div> <div class=subnavbtn id=uploadJsonButton>\u4E0A\u4F20\u4EE3\u7801</div> <div class=subnavbtn id=countBlocksButton>\u7EDF\u8BA1\u5757\u7684\u4E2A\u6570</div> <div class=subnavbtn id=resetWorkspaceButton>\u91CD\u7F6E\u4EE3\u7801</div> </div> </div> <div class=subnav> <div class=navbtn>\u663E\u793A</div> <div class=subnav-content> <div class=subnavbtn id=resetLayoutButton>\u91CD\u7F6E\u5E03\u5C40</div> <div class=subnavbtn id=maximizeOutputButton>\u5168\u5C4F\u663E\u793A\u8F93\u51FA</div> </div> </div> <div class=subnav> <div class=navbtn>\u8FD0\u884C\u901F\u5EA6</div> <div class=subnav-content id=speedButtons> <div class=subnavbtn>\u6162\u901F</div> <div class=subnavbtn>\u6B63\u5E38</div> <div class=subnavbtn>\u5FEB\u901F</div> </div> </div> <div class=subnav> <div class=navbtn>\u9AD8\u7EA7\u529F\u80FD</div> <div class=subnav-content> <div class=subnavbtn id=downloadAsJavaScriptButton> \u4E0B\u8F7DJavaScript\u4EE3\u7801 </div> <div class=subnavbtn id=downloadAsXmlButton> \u4E0B\u8F7DXML\u4EE3\u7801 </div> <div class=subnavbtn id=downloadAsExtendedJavaScriptButton> \u4E0B\u8F7D\u6269\u5C55\u540E\u7684JavaScript\u4EE3\u7801 </div> <div class=subnavbtn id=saveToLocalStorageButton> \u4FDD\u5B58\u5230\u672C\u5730\u7F13\u5B58 </div> <div class=subnavbtn id=clearLocalStorageButton> \u6E05\u7A7A\u672C\u5730\u7F13\u5B58 </div> </div> </div> <div class=\"subnav unremovable\"> <div class=navbtn>\u5173\u4E8E</div> <div class=subnav-content> <div class=subnavbtn> <a href=https://gitee.com/zhouxiaobo1990/beginner-programming/issues/new target=_blank>Bug\u53CD\u9988</a> </div> <div class=subnavbtn> <a href=../pages/attributions.html target=_blank>Credit</a> </div> </div> </div> <div class=buttonsContainer> <button class=\"mdc-button mdc-button--raised\" id=showHelpDialogButton> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u76EE\u6807</span> <i class=material-icons>help</i> </button> <button class=\"mdc-button mdc-button--raised\" id=runOrPauseButton> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u8FD0\u884C</span> <i class=material-icons>play_arrow</i> </button> <button class=\"mdc-button mdc-button--raised\" id=stepButton> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u5355\u6B65\u8FD0\u884C</span> <i class=material-icons>play_arrow</i> <i class=material-icons>pause</i> </button> <button class=\"mdc-button mdc-button--raised\" id=stopButton disabled=disabled> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u7EC8\u6B62\u7A0B\u5E8F</span> <i class=material-icons>stop</i> </button> </div> </div> <div class=main> <div id=blocklyWorkspaceContainer> <div id=blocklyWorkspace></div> </div> <div id=blocklyConsole> <div id=blocklyOutput> <div id=blocklyTextPrintOutput></div> </div> <div id=blocklyDevloperTools> <div class=mdc-tab-bar role=tablist> <div class=mdc-tab-scroller> <div class=mdc-tab-scroller__scroll-area> <div class=mdc-tab-scroller__scroll-content> <button class=\"mdc-tab mdc-tab--active\" role=tab aria-selected=true tabindex=0> <span class=mdc-tab__content> <span class=mdc-tab__text-label>\u65E5\u5FD7</span> </span> <span class=\"mdc-tab-indicator mdc-tab-indicator--active\"> <span class=\"mdc-tab-indicator__content mdc-tab-indicator__content--underline\"></span> </span> <span class=mdc-tab__ripple></span> </button> <button class=mdc-tab role=tab aria-selected=false tabindex=0> <span class=mdc-tab__content> <span class=mdc-tab__text-label>\u8C03\u8BD5</span> </span> <span class=mdc-tab-indicator> <span class=\"mdc-tab-indicator__content mdc-tab-indicator__content--underline\"></span> </span> <span class=mdc-tab__ripple></span> </button> <button class=mdc-tab role=tab aria-selected=false tabindex=0> <span class=mdc-tab__content> <span class=mdc-tab__text-label>\u56FE\u7247</span> </span> <span class=mdc-tab-indicator> <span class=\"mdc-tab-indicator__content mdc-tab-indicator__content--underline\"></span> </span> <span class=mdc-tab__ripple></span> </button> </div> </div> </div> </div> <div class=tabs__content-container> <div class=\"tabs__content active\"> <div id=blocklyLogArea></div> </div> <div class=tabs__content> <div id=blocklyVariableTable></div> </div> <div class=tabs__content> <div id=imageCollections></div> </div> </div> </div> </div> </div> <div id=helpDialog class=\"mdc-dialog mdc-dialog--scrollable\"> <div class=mdc-dialog__container> <div class=mdc-dialog__surface role=alertdialog aria-modal=true> <div class=mdc-dialog__content> <div id=helpDialogContents></div> </div> <div class=mdc-dialog__actions> <button type=button class=\"mdc-button mdc-dialog__button\" id=helpDialogShowSolutionButton> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u7B54\u6848</span> </button> <button type=button class=\"mdc-button mdc-dialog__button\" id=helpDialogShowDemoButton> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u793A\u4F8B</span> </button> <button type=button class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=close data-mdc-dialog-initial-focus> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u5173\u95ED</span> </button> </div> </div> </div> <div class=mdc-dialog__scrim></div> </div> <div id=actionDialog></div> <div id=blocklySnackbar class=mdc-snackbar> <div class=mdc-snackbar__surface> <div class=mdc-snackbar__label role=status aria-live=polite></div> <div class=mdc-snackbar__actions> <button type=button class=\"mdc-button mdc-snackbar__action\"> <div class=mdc-button__ripple></div> <i class=material-icons>close</i> </button> </div> </div> </div> "},function(e,t,o){var i=String.fromCharCode;(function(t,o){e.exports=o()})(this,function(){return function(e){function t(i){if(o[i])return o[i].exports;var r=o[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="./src/js-interpreter.js")}({"./node_modules/vm-browserify/index.js":/*!*********************************************!*\
  !*** ./node_modules/vm-browserify/index.js ***!
  \*********************************************//*! no static exports found */function(e,t){function o(){}var i=function(e,t){if(e.indexOf)return e.indexOf(t);for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},r=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var o in e)t.push(o);return t},n=function(e,t){if(e.forEach)return e.forEach(t);for(var o=0;o<e.length;o++)t(e[o],o,e)},a=function(){try{return Object.defineProperty({},"_",{}),function(e,t,o){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:o})}}catch(t){return function(e,t,o){e[t]=o}}}(),s=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];o.prototype={};var l=t.Script=function(e){return this instanceof l?void(this.code=e):new l(e)};l.prototype.runInContext=function(e){if(!(e instanceof o))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var l=t.contentWindow,d=l.eval,c=l.execScript;!d&&c&&(c.call(l,"null"),d=l.eval),n(r(e),function(t){l[t]=e[t]}),n(s,function(t){e[t]&&(l[t]=e[t])});var p=r(l),u=d.call(l,this.code);return n(r(l),function(t){(t in e||-1===i(p,t))&&(e[t]=l[t])}),n(s,function(t){t in e||a(e,t,l[t])}),document.body.removeChild(t),u},l.prototype.runInThisContext=function(){return eval(this.code)},l.prototype.runInNewContext=function(e){var t=l.createContext(e),o=this.runInContext(t);return e&&n(r(t),function(o){e[o]=t[o]}),o},n(r(l.prototype),function(e){t[e]=l[e]=function(t){var o=l(t);return o[e].apply(o,[].slice.call(arguments,1))}}),t.isContext=function(e){return e instanceof o},t.createScript=function(e){return t.Script(e)},t.createContext=l.createContext=function(e){var t=new o;return"object"==typeof e&&n(r(e),function(o){t[o]=e[o]}),t}},"./original-repo/acorn.js":/*!********************************!*\
  !*** ./original-repo/acorn.js ***!
  \********************************//*! no static exports found */function(e,t){var o,r,n;(function(e,o){return o(t)})(this,function(e){"use strict";function o(e){for(var t in _e=e||{},Te)Object.prototype.hasOwnProperty.call(_e,t)||(_e[t]=Te[t]);he=_e.sourceFile||null}function t(e,t){var o=fe(ge,e);t+=" ("+o.line+":"+o.column+")";var i=new SyntaxError(t);throw i.pos=e,i.loc=o,i.raisedAt=St,i}function r(e){function t(e){if(1==e.length)return o+="return str === "+JSON.stringify(e[0])+";";o+="switch(str){";for(var t=0;t<e.length;++t)o+="case "+JSON.stringify(e[t])+":";o+="return true}return false;"}e=e.split(" ");var o="",r=[];out:for(var n=0;n<e.length;++n){for(var i=0;i<r.length;++i)if(r[i][0].length==e[n].length){r[i].push(e[n]);continue out}r.push([e[n]])}if(3<r.length){r.sort(function(e,t){return t.length-e.length}),o+="switch(str.length){";for(var n=0,a;n<r.length;++n)a=r[n],o+="case "+a[0].length+":",t(a);o+="}"}else t(e);return new Function("str",o)}function n(){this.line=Nt,this.column=St-Lt}function a(){Nt=1,St=Lt=0,At=!0,c()}function s(e,t){It=St,_e.locations&&(Ct=new n),Ot=e,c(),kt=t,At=e.beforeExpr}function l(){var e=_e.onComment&&_e.locations&&new n,o=St,i=ge.indexOf("*/",St+=2);if(-1===i&&t(St-2,"Unterminated comment"),St=i+2,_e.locations){Kt.lastIndex=o;for(var r;(r=Kt.exec(ge))&&r.index<St;)++Nt,Lt=r.index+r[0].length}_e.onComment&&_e.onComment(!0,ge.slice(o+2,i),o,St,e,_e.locations&&new n)}function d(){for(var e=St,t=_e.onComment&&_e.locations&&new n,o=ge.charCodeAt(St+=2);St<me&&10!==o&&13!==o&&8232!==o&&8233!==o;)++St,o=ge.charCodeAt(St);_e.onComment&&_e.onComment(!1,ge.slice(e+2,St),e,St,t,_e.locations&&new n)}function c(){for(;St<me;){var e=ge.charCodeAt(St);if(32===e)++St;else if(13===e){++St;var t=ge.charCodeAt(St);10===t&&++St,_e.locations&&(++Nt,Lt=St)}else if(10===e||8232===e||8233===e)++St,_e.locations&&(++Nt,Lt=St);else if(8<e&&14>e)++St;else if(47===e){var t=ge.charCodeAt(St+1);if(42===t)l();else if(47===t)d();else break}else if(160===e)++St;else if(5760<=e&&Xt.test(i(e)))++St;else break}}function p(){var e=ge.charCodeAt(St+1);return 48<=e&&57>=e?x(!0):(++St,s(at))}function u(){var e=ge.charCodeAt(St+1);return At?(++St,S()):61===e?v(ct,2):v(lt,1)}function _(){var e=ge.charCodeAt(St+1);return 61===e?v(ct,2):v(vt,1)}function g(e){var t=ge.charCodeAt(St+1);return t===e?v(124===e?_t:gt,2):61===t?v(ct,2):v(124===e?mt:Tt,1)}function m(){var e=ge.charCodeAt(St+1);return 61===e?v(ct,2):v(ht,1)}function h(e){var t=ge.charCodeAt(St+1);return t===e?45==t&&62==ge.charCodeAt(St+2)&&Jt.test(ge.slice(Mt,St))?(St+=3,d(),c(),y()):v(pt,2):61===t?v(ct,2):v(yt,1)}function T(e){var t=ge.charCodeAt(St+1),o=1;return t===e?(o=62===e&&62===ge.charCodeAt(St+2)?3:2,61===ge.charCodeAt(St+o)?v(ct,o+1):v(Et,o)):33==t&&60==e&&45==ge.charCodeAt(St+2)&&45==ge.charCodeAt(St+3)?(St+=4,d(),c(),y()):(61===t&&(o=61===ge.charCodeAt(St+2)?3:2),v(bt,o))}function b(e){var t=ge.charCodeAt(St+1);return 61===t?v(ft,61===ge.charCodeAt(St+2)?3:2):v(61===e?dt:ut,1)}function E(e){switch(e){case 46:return p();case 40:return++St,s(tt);case 41:return++St,s(ot);case 59:return++St,s(rt);case 44:return++St,s(it);case 91:return++St,s(Ze);case 93:return++St,s(Qe);case 123:return++St,s($e);case 125:return++St,s(et);case 58:return++St,s(nt);case 63:return++St,s(st);case 48:var t=ge.charCodeAt(St+1);if(120===t||88===t)return I();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return x(!1);case 34:case 39:return C(e);case 47:return u(e);case 37:case 42:return _();case 124:case 38:return g(e);case 94:return m();case 43:case 45:return h(e);case 60:case 62:return T(e);case 61:case 33:return b(e);case 126:return v(ut,1);}return!1}function y(e){if(e?St=Rt+1:Rt=St,_e.locations&&(xt=new n),e)return S();if(St>=me)return s(Re);var o=ge.charCodeAt(St);if(qt(o)||92===o)return A();var r=E(o);if(!1===r){var a=i(o);if("\\"===a||Yt.test(a))return A();t(St,"Unexpected character '"+a+"'")}return r}function v(e,t){var o=ge.slice(St,St+t);St+=t,s(e,o)}function S(){for(var e="",o=St,i,r;;){St>=me&&t(o,"Unterminated regular expression");var n=ge.charAt(St);if(Jt.test(n)&&t(o,"Unterminated regular expression"),!i){if("["===n)r=!0;else if("]"===n&&r)r=!1;else if("/"===n&&!r)break;i="\\"===n}else i=!1;++St}var e=ge.slice(o,St);++St;var a=k();return a&&!/^[gmsiy]*$/.test(a)&&t(o,"Invalid regexp flag"),s(ye,new RegExp(e,a))}function R(t,o){for(var r=St,n=0,a=0,i=null==o?Infinity:o;a<i;++a){var e=ge.charCodeAt(St),s;if(s=97<=e?e-97+10:65<=e?e-65+10:48<=e&&57>=e?e-48:Infinity,s>=t)break;++St,n=n*t+s}return St===r||null!=o&&St-r!==o?null:n}function I(){St+=2;var e=R(16);return null==e&&t(Rt+2,"Expected hexadecimal number"),qt(ge.charCodeAt(St))&&t(St,"Identifier directly after number"),s(Ee,e)}function x(e){var o=St,i=!1,r=48===ge.charCodeAt(St);e||null!==R(10)||t(o,"Invalid number"),46===ge.charCodeAt(St)&&(++St,R(10),i=!0);var n=ge.charCodeAt(St);(69===n||101===n)&&(n=ge.charCodeAt(++St),(43===n||45===n)&&++St,null===R(10)&&t(o,"Invalid number"),i=!0),qt(ge.charCodeAt(St))&&t(St,"Identifier directly after number");var a=ge.slice(o,St),l;return i?l=parseFloat(a):r&&1!==a.length?/[89]/.test(a)||Ft?t(o,"Invalid number"):l=parseInt(a,8):l=parseInt(a,10),s(Ee,l)}function C(e){St++;for(var o="";;){St>=me&&t(Rt,"Unterminated string constant");var r=ge.charCodeAt(St);if(r===e)return++St,s(ve,o);if(92===r){r=ge.charCodeAt(++St);var n=/^[0-7]+/.exec(ge.slice(St,St+3));for(n&&(n=n[0]);n&&255<parseInt(n,8);)n=n.slice(0,-1);if("0"===n&&(n=null),++St,n)Ft&&t(St-2,"Octal literal in strict mode"),o+=i(parseInt(n,8)),St+=n.length-1;else switch(r){case 110:o+="\n";break;case 114:o+="\r";break;case 120:o+=i(O(2));break;case 117:o+=i(O(4));break;case 85:o+=i(O(8));break;case 116:o+="\t";break;case 98:o+="\b";break;case 118:o+="\x0B";break;case 102:o+="\f";break;case 48:o+="\0";break;case 13:10===ge.charCodeAt(St)&&++St;case 10:_e.locations&&(Lt=St,++Nt);break;default:o+=i(r);}}else(13===r||10===r||8232===r||8233===r)&&t(Rt,"Unterminated string constant"),o+=i(r),++St}}function O(e){var o=R(16,e);return null===o&&t(Rt,"Bad character escape sequence"),o}function k(){eo=!1;for(var e=!0,o=St,r,n;;){if(n=ge.charCodeAt(St),Zt(n))eo&&(r+=ge.charAt(St)),++St;else if(92===n){eo||(r=ge.slice(o,St)),eo=!0,117!=ge.charCodeAt(++St)&&t(St,"Expecting Unicode escape sequence \\uXXXX"),++St;var a=O(4),s=i(a);s||t(St-1,"Invalid Unicode escape"),(e?qt(a):Zt(a))||t(St-4,"Invalid Unicode escape"),r+=s}else break;e=!1}return eo?r:ge.slice(o,St)}function A(){var e=k(),o=Se;return eo||(Wt(e)?o=qe[e]:(_e.forbidReserved&&(3===_e.ecmaVersion?Ht:Gt)(e)||Ft&&Vt(e))&&t(Rt,"The keyword '"+e+"' is reserved")),s(o,e)}function N(){Dt=Rt,Mt=It,Pt=Ct,y()}function L(e){if(Ft=e,St=Mt,_e.locations)for(;St<Lt;)Lt=ge.lastIndexOf("\n",Lt-2)+1,--Nt;c(),y()}function D(){this.type=null,this.start=Rt,this.end=null}function M(){this.start=xt,this.end=null,null!==he&&(this.source=he)}function P(){var e=new D;return _e.locations&&(e.loc=new M),_e.directSourceFile&&(e.sourceFile=_e.directSourceFile),_e.ranges&&(e.range=[Rt,0]),e}function w(e){var t=new D;return t.start=e.start,_e.locations&&(t.loc=new M,t.loc.start=e.loc.start),_e.ranges&&(t.range=[e.range[0],0]),t}function B(e,t){return e.type=t,e.end=Mt,_e.locations&&(e.loc.end=Pt),_e.ranges&&(e.range[1]=Mt),e}function F(e){return 5<=_e.ecmaVersion&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function U(e){if(Ot===e)return N(),!0}function H(){return!_e.strictSemicolons&&(Ot===Re||Ot===et||Jt.test(ge.slice(Mt,Rt)))}function G(){U(rt)||H()||z()}function V(e){Ot===e?N():z()}function z(){t(Rt,"Unexpected token")}function W(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&t(e.start,"Assigning to rvalue"),Ft&&"Identifier"===e.type&&zt(e.name)&&t(e.start,"Assigning to "+e.name+" in strict mode")}function X(e){Dt=Mt=St,_e.locations&&(Pt=new n),wt=Ft=null,Bt=[],y();var t=e||P(),o=!0;for(e||(t.body=[]);Ot!==Re;){var i=Y();t.body.push(i),o&&F(i)&&L(!0),o=!1}return B(t,"Program")}function Y(){(Ot===lt||Ot===ct&&"/="==kt)&&y(!0);var e=Ot,o=P();switch(e){case Ie:case Oe:N();var r=e===Ie;U(rt)||H()?o.label=null:Ot===Se?(o.label=ue(),G()):z();for(var n=0,i;n<Bt.length;++n)if(i=Bt[n],null==o.label||i.name===o.label.name){if(null!=i.kind&&(r||"loop"===i.kind))break;if(o.label&&r)break}return n===Bt.length&&t(o.start,"Unsyntactic "+e.keyword),B(o,r?"BreakStatement":"ContinueStatement");case ke:return N(),G(),B(o,"DebuggerStatement");case Ne:return N(),Bt.push(Qt),o.body=Y(),Bt.pop(),V(Ve),o.test=j(),G(),B(o,"DoWhileStatement");case Me:if(N(),Bt.push(Qt),V(tt),Ot===rt)return K(o,null);if(Ot===Ge){var a=P();return N(),Z(a,!0),B(a,"VariableDeclaration"),1===a.declarations.length&&U(Ke)?q(o,a):K(o,a)}var a=Q(!1,!0);return U(Ke)?(W(a),q(o,a)):K(o,a);case Pe:return N(),ce(o,!0);case we:return N(),o.test=j(),o.consequent=Y(),o.alternate=U(Le)?Y():null,B(o,"IfStatement");case Be:return wt||t(Rt,"'return' outside of function"),N(),U(rt)||H()?o.argument=null:(o.argument=Q(),G()),B(o,"ReturnStatement");case Fe:N(),o.discriminant=j(),o.cases=[],V($e),Bt.push($t);for(var s,l;Ot!=et;)if(Ot===xe||Ot===Ae){var d=Ot===xe;s&&B(s,"SwitchCase"),o.cases.push(s=P()),s.consequent=[],N(),d?s.test=Q():(l&&t(Dt,"Multiple default clauses"),l=!0,s.test=null),V(nt)}else s||z(),s.consequent.push(Y());return s&&B(s,"SwitchCase"),N(),Bt.pop(),B(o,"SwitchStatement");case Ue:return N(),Jt.test(ge.slice(Mt,Rt))&&t(Mt,"Illegal newline after throw"),o.argument=Q(),G(),B(o,"ThrowStatement");case He:if(N(),o.block=J(),o.handler=null,Ot===Ce){var c=P();N(),V(tt),c.param=ue(),Ft&&zt(c.param.name)&&t(c.param.start,"Binding "+c.param.name+" in strict mode"),V(ot),c.guard=null,c.body=J(),o.handler=B(c,"CatchClause")}return o.guardedHandlers=be,o.finalizer=U(De)?J():null,o.handler||o.finalizer||t(o.start,"Missing catch or finally clause"),B(o,"TryStatement");case Ge:return N(),Z(o),G(),B(o,"VariableDeclaration");case Ve:return N(),o.test=j(),Bt.push(Qt),o.body=Y(),Bt.pop(),B(o,"WhileStatement");case ze:return Ft&&t(Rt,"'with' in strict mode"),N(),o.object=j(),o.body=Y(),B(o,"WithStatement");case $e:return J();case rt:return N(),B(o,"EmptyStatement");default:var p=kt,u=Q();if(e===Se&&"Identifier"===u.type&&U(nt)){for(var n=0;n<Bt.length;++n)Bt[n].name===p&&t(u.start,"Label '"+p+"' is already declared");var _=Ot.isLoop?"loop":Ot===Fe?"switch":null;return Bt.push({name:p,kind:_}),o.body=Y(),Bt.pop(),o.label=u,B(o,"LabeledStatement")}return o.expression=u,G(),B(o,"ExpressionStatement");}}function j(){V(tt);var e=Q();return V(ot),e}function J(e){var t=P(),o=!0,i=!1,r;for(t.body=[],V($e);!U(et);){var n=Y();t.body.push(n),o&&e&&F(n)&&(r=i,L(i=!0)),o=!1}return i&&!r&&L(!1),B(t,"BlockStatement")}function K(e,t){return e.init=t,V(rt),e.test=Ot===rt?null:Q(),V(rt),e.update=Ot===ot?null:Q(),V(ot),e.body=Y(),Bt.pop(),B(e,"ForStatement")}function q(e,t){return e.left=t,e.right=Q(),V(ot),e.body=Y(),Bt.pop(),B(e,"ForInStatement")}function Z(e,o){for(e.declarations=[],e.kind="var";;){var i=P();if(i.id=ue(),Ft&&zt(i.id.name)&&t(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=U(dt)?Q(!0,o):null,e.declarations.push(B(i,"VariableDeclarator")),!U(it))break}return e}function Q(e,t){var o=$(t);if(!e&&Ot===it){var i=w(o);for(i.expressions=[o];U(it);)i.expressions.push($(t));return B(i,"SequenceExpression")}return o}function $(e){var t=ee(e);if(Ot.isAssign){var o=w(t);return o.operator=kt,o.left=t,N(),o.right=$(e),W(t),B(o,"AssignmentExpression")}return t}function ee(e){var t=te(e);if(U(st)){var o=w(t);return o.test=t,o.consequent=Q(!0),V(nt),o.alternate=Q(!0,e),B(o,"ConditionalExpression")}return t}function te(e){return oe(ie(),-1,e)}function oe(e,t,o){var i=Ot.binop;if(null!=i&&(!o||Ot!==Ke)&&i>t){var r=w(e);r.left=e,r.operator=kt;var n=Ot;N(),r.right=oe(ie(),i,o);var a=B(r,n===_t||n===gt?"LogicalExpression":"BinaryExpression");return oe(a,t,o)}return e}function ie(){if(Ot.prefix){var e=P(),o=Ot.isUpdate;return e.operator=kt,e.prefix=!0,At=!0,N(),e.argument=ie(),o?W(e.argument):Ft&&"delete"===e.operator&&"Identifier"===e.argument.type&&t(e.start,"Deleting local variable in strict mode"),B(e,o?"UpdateExpression":"UnaryExpression")}for(var i=re(),e;Ot.postfix&&!H();)e=w(i),e.operator=kt,e.prefix=!1,e.argument=i,W(i),N(),i=B(e,"UpdateExpression");return i}function re(){return ne(ae())}function ne(e,t){if(U(at)){var o=w(e);return o.object=e,o.property=ue(!0),o.computed=!1,ne(B(o,"MemberExpression"),t)}if(U(Ze)){var o=w(e);return o.object=e,o.property=Q(),o.computed=!0,V(Qe),ne(B(o,"MemberExpression"),t)}if(!t&&U(tt)){var o=w(e);return o.callee=e,o.arguments=pe(ot,!1),ne(B(o,"CallExpression"),t)}return e}function ae(){switch(Ot){case Xe:var e=P();return N(),B(e,"ThisExpression");case Se:return ue();case Ee:case ve:case ye:var e=P();return e.value=kt,e.raw=ge.slice(Rt,It),N(),B(e,"Literal");case Ye:case je:case Je:var e=P();return e.value=Ot.atomValue,e.raw=Ot.keyword,N(),B(e,"Literal");case tt:var t=xt,o=Rt;N();var i=Q();return i.start=o,i.end=It,_e.locations&&(i.loc.start=t,i.loc.end=Ct),_e.ranges&&(i.range=[o,It]),V(ot),i;case Ze:var e=P();return N(),e.elements=pe(Qe,!0,!0),B(e,"ArrayExpression");case $e:return le();case Pe:var e=P();return N(),ce(e,!1);case We:return se();default:z();}}function se(){var e=P();return N(),e.callee=ne(ae(),!0),e.arguments=U(tt)?pe(ot,!1):be,B(e,"NewExpression")}function le(){var e=P(),o=!0,r=!1;for(e.properties=[],N();!U(et);){if(!!o)o=!1;else if(V(it),_e.allowTrailingCommas&&U(et))break;var n={key:de()},a=!1,s;if(U(nt)?(n.value=Q(!0),s=n.kind="init"):5<=_e.ecmaVersion&&"Identifier"===n.key.type&&("get"===n.key.name||"set"===n.key.name)?(a=r=!0,s=n.kind=n.key.name,n.key=de(),Ot!==tt&&z(),n.value=ce(P(),!1)):z(),"Identifier"===n.key.type&&(Ft||r))for(var l=0,i;l<e.properties.length;++l)if(i=e.properties[l],i.key.name===n.key.name){var d=s==i.kind||a&&"init"===i.kind||"init"===s&&("get"===i.kind||"set"===i.kind);d&&!Ft&&"init"===s&&"init"===i.kind&&(d=!1),d&&t(n.key.start,"Redefinition of property")}e.properties.push(n)}return B(e,"ObjectExpression")}function de(){return Ot===Ee||Ot===ve?ae():ue(!0)}function ce(e,o){Ot===Se?e.id=ue():o?z():e.id=null,e.params=[];var r=!0;for(V(tt);!U(ot);)r?r=!1:V(it),e.params.push(ue());var n=wt,a=Bt;if(wt=!0,Bt=[],e.body=J(!0),wt=n,Bt=a,Ft||e.body.body.length&&F(e.body.body[0]))for(var s=e.id?-1:0,i;s<e.params.length;++s)if(i=0>s?e.id:e.params[s],(Vt(i.name)||zt(i.name))&&t(i.start,"Defining '"+i.name+"' in strict mode"),0<=s)for(var l=0;l<s;++l)i.name===e.params[l].name&&t(i.start,"Argument name clash in strict mode");return B(e,o?"FunctionDeclaration":"FunctionExpression")}function pe(e,t,o){for(var i=[],r=!0;!U(e);){if(!!r)r=!1;else if(V(it),t&&_e.allowTrailingCommas&&U(e))break;o&&Ot===it?i.push(null):i.push(Q(!0))}return i}function ue(e){var t=P();return t.name=Ot===Se?kt:e&&!_e.forbidReserved&&Ot.keyword||z(),At=!1,N(),B(t,"Identifier")}e.version="0.4.1";var _e,ge,me,he;e.parse=function(e,t){return ge=e+"",me=ge.length,o(t),a(),X(_e.program)};var Te=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},fe=e.getLineInfo=function(e,t){for(var o=1,i=0;;){Kt.lastIndex=i;var r=Kt.exec(e);if(r&&r.index<t)++o,i=r.index+r[0].length;else break}return{line:o,column:t-i}};e.tokenize=function(e,i){function r(e){return y(e),n.start=Rt,n.end=It,n.startLoc=xt,n.endLoc=Ct,n.type=Ot,n.value=kt,n}ge=e+"",me=ge.length,o(i),a();var n={};return r.jumpTo=function(e,t){if(St=e,_e.locations){Nt=1,Lt=Kt.lastIndex=0;for(var o;(o=Kt.exec(ge))&&o.index<e;)++Nt,Lt=o.index+o[0].length}At=t,c()},r};var be=[],Ee={type:"num"},ye={type:"regexp"},ve={type:"string"},Se={type:"name"},Re={type:"eof"},Ie={keyword:"break"},xe={keyword:"case",beforeExpr:!0},Ce={keyword:"catch"},Oe={keyword:"continue"},ke={keyword:"debugger"},Ae={keyword:"default"},Ne={keyword:"do",isLoop:!0},Le={keyword:"else",beforeExpr:!0},De={keyword:"finally"},Me={keyword:"for",isLoop:!0},Pe={keyword:"function"},we={keyword:"if"},Be={keyword:"return",beforeExpr:!0},Fe={keyword:"switch"},Ue={keyword:"throw",beforeExpr:!0},He={keyword:"try"},Ge={keyword:"var"},Ve={keyword:"while",isLoop:!0},ze={keyword:"with"},We={keyword:"new",beforeExpr:!0},Xe={keyword:"this"},Ye={keyword:"null",atomValue:null},je={keyword:"true",atomValue:!0},Je={keyword:"false",atomValue:!1},Ke={keyword:"in",binop:7,beforeExpr:!0},qe={break:Ie,case:xe,catch:Ce,continue:Oe,debugger:ke,default:Ae,do:Ne,else:Le,finally:De,for:Me,function:Pe,if:we,return:Be,switch:Fe,throw:Ue,try:He,var:Ge,while:Ve,with:ze,null:Ye,true:je,false:Je,new:We,in:Ke,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Xe,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Ze={type:"[",beforeExpr:!0},Qe={type:"]"},$e={type:"{",beforeExpr:!0},et={type:"}"},tt={type:"(",beforeExpr:!0},ot={type:")"},it={type:",",beforeExpr:!0},rt={type:";",beforeExpr:!0},nt={type:":",beforeExpr:!0},at={type:"."},st={type:"?",beforeExpr:!0},lt={binop:10,beforeExpr:!0},dt={isAssign:!0,beforeExpr:!0},ct={isAssign:!0,beforeExpr:!0},pt={postfix:!0,prefix:!0,isUpdate:!0},ut={prefix:!0,beforeExpr:!0},_t={binop:1,beforeExpr:!0},gt={binop:2,beforeExpr:!0},mt={binop:3,beforeExpr:!0},ht={binop:4,beforeExpr:!0},Tt={binop:5,beforeExpr:!0},ft={binop:6,beforeExpr:!0},bt={binop:7,beforeExpr:!0},Et={binop:8,beforeExpr:!0},yt={binop:9,prefix:!0,beforeExpr:!0},vt={binop:10,beforeExpr:!0},St,Rt,It,xt,Ct,Ot,kt,At,Nt,Lt,Dt,Mt,Pt,wt,Bt,Ft;for(var Ut in e.tokTypes={bracketL:Ze,bracketR:Qe,braceL:$e,braceR:et,parenL:tt,parenR:ot,comma:it,semi:rt,colon:nt,dot:at,question:st,slash:lt,eq:dt,name:Se,eof:Re,num:Ee,regexp:ye,string:ve},qe)e.tokTypes["_"+Ut]=qe[Ut];var Ht=r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Gt=r("class enum extends super const export import"),Vt=r("implements interface let package private protected public static yield"),zt=r("eval arguments"),Wt=r("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Xt=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Yt=/[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]/,jt=/[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]/,Jt=/[\n\r\u2028\u2029]/,Kt=/\r\n|[\n\r\u2028\u2029]/g,qt=e.isIdentifierStart=function(e){return 65>e?36==e:!!(91>e)||(97>e?95==e:!!(123>e)||170<=e&&Yt.test(i(e)))},Zt=e.isIdentifierChar=function(e){return 48>e?36==e:!!(58>e)||!(65>e)&&(!!(91>e)||(97>e?95==e:!!(123>e)||170<=e&&jt.test(i(e))))},Qt={kind:"loop"},$t={kind:"switch"},eo})},"./original-repo/interpreter.js":/*!**************************************!*\
  !*** ./original-repo/interpreter.js ***!
  \**************************************//*! no static exports found */function(e,t,o){"use strict";(function(e){/**
 * @license
 * Copyright 2013 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var t=function(o,i){"string"==typeof o&&(o=e.parse(o,t.PARSE_OPTIONS)),this.nodeConstructor=o.constructor;var r=new this.nodeConstructor({options:{}});for(var n in o)r[n]="body"===n?o[n].slice():o[n];this.ast=r,this.initFunc_=i,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var a=/^step([A-Z]\w*)$/,s;for(var l in this)"function"==typeof this[l]&&(s=l.match(a))&&(this.stepFunctions_[s[1]]=this[l].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=e.parse(this.polyfills_.join("\n"),t.PARSE_OPTIONS),this.polyfills_=void 0,t.stripLocations_(this.ast,void 0,void 0);var d=new t.State(this.ast,this.globalScope);d.done=!1,this.stateStack=[d],this.run(),this.value=void 0,this.ast=r;var d=new t.State(this.ast,this.globalScope);d.done=!1,this.stateStack.length=0,this.stateStack[0]=d,this.stateStack=this.stateStack};t.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},t.PARSE_OPTIONS={ecmaVersion:5},t.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},t.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},t.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},t.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},t.STEP_ERROR={STEP_ERROR:!0},t.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},t.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},t.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},t.toStringCycles_=[],t.vm=null,t.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw 'Unknown RegExp operation: ' + data[0];","}","postMessage(result);","};"],t.legalArrayLength=function(e){var t=e>>>0;return t===+e?t:NaN},t.legalArrayIndex=function(e){var t=e>>>0;return t+""===e+""&&4294967295!=t?t:NaN},t.stripLocations_=function(e,o,i){for(var r in o?e.start=o:delete e.start,i?e.end=i:delete e.end,e)if(e.hasOwnProperty(r)){var n=e[r];n&&"object"==typeof n&&t.stripLocations_(n,o,i)}},t.prototype.REGEXP_MODE=2,t.prototype.REGEXP_THREAD_TIMEOUT=1e3,t.prototype.getterStep_=!1,t.prototype.setterStep_=!1,t.prototype.appendCode=function(o){var i=this.stateStack[0];if(!i||"Program"!==i.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof o&&(o=e.parse(o,t.PARSE_OPTIONS)),!o||"Program"!==o.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(o,i.scope),Array.prototype.push.apply(i.node.body,o.body),i.done=!1},t.prototype.step=function(){var e=this.stateStack;do{var o=e[e.length-1];if(!o)return!1;var i=o.node,r=i.type;if("Program"===r&&o.done)return!1;if(this.paused_)return!0;try{var n=this.stepFunctions_[r](e,o,i)}catch(o){if(o!==t.STEP_ERROR)throw o}if(n&&e.push(n),this.getterStep_)throw Error("Getter not supported in this context");if(this.setterStep_)throw Error("Setter not supported in this context")}while(!i.end);return!0},t.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},t.prototype.initGlobal=function(e){this.setProperty(e,"NaN",NaN,t.READONLY_DESCRIPTOR),this.setProperty(e,"Infinity",Infinity,t.READONLY_DESCRIPTOR),this.setProperty(e,"undefined",void 0,t.READONLY_DESCRIPTOR),this.setProperty(e,"window",e,t.READONLY_DESCRIPTOR),this.setProperty(e,"this",e,t.READONLY_DESCRIPTOR),this.setProperty(e,"self",e),this.OBJECT_PROTO=new t.Object(null),this.FUNCTION_PROTO=new t.Object(this.OBJECT_PROTO),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT_PROTO,this.setProperty(e,"constructor",this.OBJECT,t.NONENUMERABLE_DESCRIPTOR),this.initArray(e),this.initString(e),this.initBoolean(e),this.initNumber(e),this.initDate(e),this.initRegExp(e),this.initError(e),this.initMath(e),this.initJSON(e);var o=this,r=this.createNativeFunction(function(){throw EvalError("Can't happen")},!1);r.eval=!0,this.setProperty(e,"eval",r),this.setProperty(e,"parseInt",this.createNativeFunction(parseInt,!1)),this.setProperty(e,"parseFloat",this.createNativeFunction(parseFloat,!1)),this.setProperty(e,"isNaN",this.createNativeFunction(isNaN,!1)),this.setProperty(e,"isFinite",this.createNativeFunction(isFinite,!1));for(var n=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],a=0,i;a<n.length;a++)i=function(e){return function(t){try{return e(t)}catch(t){o.throwException(o.URI_ERROR,t.message)}}}(n[a][0]),this.setProperty(e,n[a][1],this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR);this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,e)},t.prototype.initFunction=function(o){var r=this,n=/^[A-Za-z_$][\w$]*$/,i;i=function(){if(arguments.length)var o=arguments[arguments.length-1]+"";else var o="";var a=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(a){for(var s=a.split(/\s*,\s*/),l=0,i;l<s.length;l++)i=s[l],n.test(i)||r.throwException(r.SYNTAX_ERROR,"Invalid function argument: "+i);a=s.join(", ")}try{var d=e.parse("(function("+a+") {"+o+"})",t.PARSE_OPTIONS)}catch(t){r.throwException(r.SYNTAX_ERROR,"Invalid code: "+t.message)}1!==d.body.length&&r.throwException(r.SYNTAX_ERROR,"Invalid code in function body.");var c=d.body[0].expression;return r.createFunction(c,r.globalScope)},this.FUNCTION=this.createNativeFunction(i,!0),this.setProperty(o,"Function",this.FUNCTION),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,t.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.setProperty(this.FUNCTION_PROTO,"length",0,t.READONLY_NONENUMERABLE_DESCRIPTOR);var a=function(e){if(!(e instanceof t.Object)&&!r.getScope().strict)if(void 0===e||null===e)e=r.globalObject;else{var o=r.createObjectProto(r.getPrototype(e));o.data=e,e=o}return e};i=function(e,o){var i=r.stateStack[r.stateStack.length-1];i.func_=this,i.funcThis_=a(e),i.arguments_=[],null!==o&&void 0!==o&&(o instanceof t.Object?i.arguments_=r.arrayPseudoToNative(o):r.throwException(r.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),i.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",i),i=function(e){var t=r.stateStack[r.stateStack.length-1];t.func_=this,t.funcThis_=a(e),t.arguments_=[];for(var o=1;o<arguments.length;o++)t.arguments_.push(arguments[o]);t.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",i),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),i=function(){return this+""},this.setNativeFunctionPrototype(this.FUNCTION,"toString",i),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",i),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR)},t.prototype.initObject=function(e){var o=this,i;i=function(e){if(void 0===e||null===e)return o.calledWithNew()?this:o.createObjectProto(o.OBJECT_PROTO);if(!(e instanceof t.Object)){var i=o.createObjectProto(o.getPrototype(e));return i.data=e,i}return e},this.OBJECT=this.createNativeFunction(i,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,t.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Object",this.OBJECT);var r=function(e){(void 0===e||null===e)&&o.throwException(o.TYPE_ERROR,"Cannot convert '"+e+"' to object")};i=function(e){r(e);var i=e instanceof t.Object?e.properties:e;return o.arrayNativeToPseudo(Object.getOwnPropertyNames(i))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(e){return r(e),e instanceof t.Object&&(e=e.properties),o.arrayNativeToPseudo(Object.keys(e))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(e){return null===e?o.createObjectProto(null):(e instanceof t.Object||o.throwException(o.TYPE_ERROR,"Object prototype may only be an Object or null"),o.createObjectProto(e))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),i=function(e,i,r){return i+="",e instanceof t.Object||o.throwException(o.TYPE_ERROR,"Object.defineProperty called on non-object"),r instanceof t.Object||o.throwException(o.TYPE_ERROR,"Property description must be an object"),!e.properties[i]&&e.preventExtensions&&o.throwException(o.TYPE_ERROR,"Can't define property '"+i+"', object is not extensible"),o.setProperty(e,i,t.VALUE_IN_DESCRIPTOR,r.properties),e},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),i=function(e,i){if(e instanceof t.Object||o.throwException(o.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object"),i+="",!!(i in e.properties)){var r=Object.getOwnPropertyDescriptor(e.properties,i),n=e.getter[i],a=e.setter[i],s=o.createObjectProto(o.OBJECT_PROTO);return n||a?(o.setProperty(s,"get",n),o.setProperty(s,"set",a)):(o.setProperty(s,"value",r.value),o.setProperty(s,"writable",r.writable)),o.setProperty(s,"configurable",r.configurable),o.setProperty(s,"enumerable",r.enumerable),s}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(e){return r(e),o.getPrototype(e)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(e){return!!e&&!e.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),i=function(e){return e instanceof t.Object&&(e.preventExtensions=!0),e},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",t.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",t.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",t.Object.prototype.valueOf),i=function(e){return r(this),this instanceof t.Object?e+""in this.properties:this.hasOwnProperty(e)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",i),i=function(e){return r(this),this instanceof t.Object?Object.prototype.propertyIsEnumerable.call(this.properties,e):this.propertyIsEnumerable(e)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",i),i=function(e){for(;;){if(e=o.getPrototype(e),!e)return!1;if(e===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",i)},t.prototype.initArray=function(e){var o=this,i;i=function(){if(o.calledWithNew())var e=this;else var e=o.createArray();var r=arguments[0];if(1===arguments.length&&"number"==typeof r)isNaN(t.legalArrayLength(r))&&o.throwException(o.RANGE_ERROR,"Invalid array length"),e.properties.length=r;else{for(var n=0;n<arguments.length;n++)e.properties[n]=arguments[n];e.properties.length=n}return e},this.ARRAY=this.createNativeFunction(i,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(e,"Array",this.ARRAY),i=function(e){return e&&"Array"===e.class},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",i=function(){return Array.prototype.pop.call(this.properties)},this.setNativeFunctionPrototype(this.ARRAY,"pop",i),i=function(){return Array.prototype.push.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"push",i),i=function(){return Array.prototype.shift.call(this.properties)},this.setNativeFunctionPrototype(this.ARRAY,"shift",i),i=function(){return Array.prototype.unshift.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",i),i=function(){return Array.prototype.reverse.call(this.properties),this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",i),i=function(){var e=Array.prototype.splice.apply(this.properties,arguments);return o.arrayNativeToPseudo(e)},this.setNativeFunctionPrototype(this.ARRAY,"splice",i),i=function(e,t){var i=Array.prototype.slice.call(this.properties,e,t);return o.arrayNativeToPseudo(i)},this.setNativeFunctionPrototype(this.ARRAY,"slice",i),i=function(e){return Array.prototype.join.call(this.properties,e)},this.setNativeFunctionPrototype(this.ARRAY,"join",i),i=function(){for(var e=[],t=0,r=o.getProperty(this,"length"),n=0;n<r;n++){if(o.hasProperty(this,n)){var i=o.getProperty(this,n);e[t]=i}t++}for(var n=0,a;n<arguments.length;n++)if(a=arguments[n],o.isa(a,o.ARRAY))for(var s=o.getProperty(a,"length"),l=0;l<s;l++)o.hasProperty(a,l)&&(e[t]=o.getProperty(a,l)),t++;else e[t]=a;return o.arrayNativeToPseudo(e)},this.setNativeFunctionPrototype(this.ARRAY,"concat",i),i=function(){return Array.prototype.indexOf.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",i),i=function(){return Array.prototype.lastIndexOf.apply(this.properties,arguments)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",i),i=function(){return Array.prototype.sort.call(this.properties),this},this.setNativeFunctionPrototype(this.ARRAY,"sort",i),this.polyfills_.push("Object.defineProperty(Array.prototype, 'every',","{configurable: true, writable: true, value:","function(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map',","{configurable: true, writable: true, value:","function(callback, thisArg) {","if (!this || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight',","{configurable: true, writable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some',","{configurable: true, writable: true, value:","function(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","(function() {","var sort_ = Array.prototype.sort;","Array.prototype.sort = function(opt_comp) {","if (typeof opt_comp !== 'function') {","return sort_.call(this);","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp(this[j], this[j + 1]) > 0) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","};","})();","Object.defineProperty(Array.prototype, 'toLocaleString',","{configurable: true, writable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},t.prototype.initString=function(e){var o=this,r;r=function(e){return e=arguments.length?e+"":"",o.calledWithNew()?(this.data=e,this):e},this.STRING=this.createNativeFunction(r,!0),this.setProperty(e,"String",this.STRING),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),t.NONENUMERABLE_DESCRIPTOR);for(var n=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],a=0;a<n.length;a++)this.setNativeFunctionPrototype(this.STRING,n[a],String.prototype[n[a]]);r=function(e,t,i){return t=t?o.pseudoToNative(t):void 0,i=i?o.pseudoToNative(i):void 0,(this+"").localeCompare(e,t,i)},this.setNativeFunctionPrototype(this.STRING,"localeCompare",r),r=function(e,i,r){var n=this+"";if(i=i?+i:void 0,o.isa(e,o.REGEXP)&&(e=e.data,o.maybeThrowRegExp(e,r),2===o.REGEXP_MODE)){if(t.vm){var a={string:n,separator:e,limit:i},s=o.vmCall("string.split(separator, limit)",a,e,r);s!==t.REGEXP_TIMEOUT&&r(o.arrayNativeToPseudo(s))}else{var l=o.createWorker(),d=o.regExpTimeout(e,l,r);l.onmessage=function(t){clearTimeout(d),r(o.arrayNativeToPseudo(t.data))},l.postMessage(["split",n,e,i])}return}var s=n.split(e,i);r(o.arrayNativeToPseudo(s))},this.setAsyncFunctionPrototype(this.STRING,"split",r),r=function(e,i){var r=this+"";if(e=o.isa(e,o.REGEXP)?e.data:new RegExp(e),o.maybeThrowRegExp(e,i),2===o.REGEXP_MODE){if(t.vm){var n={string:r,regexp:e},a=o.vmCall("string.match(regexp)",n,e,i);a!==t.REGEXP_TIMEOUT&&i(a&&o.arrayNativeToPseudo(a))}else{var s=o.createWorker(),l=o.regExpTimeout(e,s,i);s.onmessage=function(t){clearTimeout(l),i(t.data&&o.arrayNativeToPseudo(t.data))},s.postMessage(["match",r,e])}return}var a=r.match(e);i(a&&o.arrayNativeToPseudo(a))},this.setAsyncFunctionPrototype(this.STRING,"match",r),r=function(e,i){var r=this+"";if(e=o.isa(e,o.REGEXP)?e.data:new RegExp(e),o.maybeThrowRegExp(e,i),2===o.REGEXP_MODE){if(t.vm){var a={string:r,regexp:e},s=o.vmCall("string.search(regexp)",a,e,i);s!==t.REGEXP_TIMEOUT&&i(s)}else{var n=o.createWorker(),l=o.regExpTimeout(e,n,i);n.onmessage=function(t){clearTimeout(l),i(t.data)},n.postMessage(["search",r,e])}return}i(r.search(e))},this.setAsyncFunctionPrototype(this.STRING,"search",r),r=function(e,i,r){var n=this+"";if(i+="",o.isa(e,o.REGEXP)&&(e=e.data,o.maybeThrowRegExp(e,r),2===o.REGEXP_MODE)){if(t.vm){var a={string:n,substr:e,newSubstr:i},s=o.vmCall("string.replace(substr, newSubstr)",a,e,r);s!==t.REGEXP_TIMEOUT&&r(s)}else{var l=o.createWorker(),d=o.regExpTimeout(e,l,r);l.onmessage=function(t){clearTimeout(d),r(t.data)},l.postMessage(["replace",n,e,i])}return}r(n.replace(e,i))},this.setAsyncFunctionPrototype(this.STRING,"replace",r),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},t.prototype.initBoolean=function(e){var t=this,o;o=function(e){return e=!!e,t.calledWithNew()?(this.data=e,this):e},this.BOOLEAN=this.createNativeFunction(o,!0),this.setProperty(e,"Boolean",this.BOOLEAN)},t.prototype.initNumber=function(e){var o=this,r;r=function(e){return e=arguments.length?+e:0,o.calledWithNew()?(this.data=e,this):e},this.NUMBER=this.createNativeFunction(r,!0),this.setProperty(e,"Number",this.NUMBER);for(var n=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],a=0;a<n.length;a++)this.setProperty(this.NUMBER,n[a],Number[n[a]],t.READONLY_NONENUMERABLE_DESCRIPTOR);r=function(e){try{return(+this).toExponential(e)}catch(t){o.throwException(o.ERROR,t.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",r),r=function(e){try{return(+this).toFixed(e)}catch(t){o.throwException(o.ERROR,t.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",r),r=function(e){try{return(+this).toPrecision(e)}catch(t){o.throwException(o.ERROR,t.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",r),r=function(e){try{return(+this).toString(e)}catch(t){o.throwException(o.ERROR,t.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",r),r=function(e,t){return e=e?o.pseudoToNative(e):void 0,t=t?o.pseudoToNative(t):void 0,(+this).toLocaleString(e,t)},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",r)},t.prototype.initDate=function(e){var o=this,r;r=function(){if(!o.calledWithNew())return Date();var e=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(Date,e)),this},this.DATE=this.createNativeFunction(r,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(e,"Date",this.DATE),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),t.NONENUMERABLE_DESCRIPTOR);for(var n=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],a=0;a<n.length;a++)r=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=o.pseudoToNative(arguments[r]);return this.data[e].apply(this.data,t)}}(n[a]),this.setNativeFunctionPrototype(this.DATE,n[a],r)},t.prototype.initRegExp=function(e){var o=this,i;i=function(e,t){if(o.calledWithNew())var i=this;else var i=o.createObjectProto(o.REGEXP_PROTO);return e=e?e+"":"",t=t?t+"":"",o.populateRegExp(i,new RegExp(e,t)),i},this.REGEXP=this.createNativeFunction(i,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(e,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",t.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function(str) {","return String(str).search(this) !== -1","}","});"),i=function(e,i){function r(e){if(e){var t=o.arrayNativeToPseudo(e);return o.setProperty(t,"index",e.index),o.setProperty(t,"input",e.input),t}return null}var n=this.data;if(e+="",n.lastIndex=+o.getProperty(this,"lastIndex"),o.maybeThrowRegExp(n,i),2===o.REGEXP_MODE){if(t.vm){var a={string:e,regexp:n},s=o.vmCall("regexp.exec(string)",a,n,i);s!==t.REGEXP_TIMEOUT&&(o.setProperty(this,"lastIndex",n.lastIndex),i(r(s)))}else{var l=o.createWorker(),d=o.regExpTimeout(n,l,i),c=this;l.onmessage=function(t){clearTimeout(d),o.setProperty(c,"lastIndex",t.data[1]),i(r(t.data[0]))},l.postMessage(["exec",n,n.lastIndex,e])}return}var s=n.exec(e);o.setProperty(this,"lastIndex",n.lastIndex),i(r(s))},this.setAsyncFunctionPrototype(this.REGEXP,"exec",i)},t.prototype.initError=function(e){var o=this;this.ERROR=this.createNativeFunction(function(e){if(o.calledWithNew())var i=this;else var i=o.createObject(o.ERROR);return e&&o.setProperty(i,"message",e+"",t.NONENUMERABLE_DESCRIPTOR),i},!0),this.setProperty(e,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message","",t.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",t.NONENUMERABLE_DESCRIPTOR);var i=function(i){var r=o.createNativeFunction(function(e){if(o.calledWithNew())var i=this;else var i=o.createObject(r);return e&&o.setProperty(i,"message",e+"",t.NONENUMERABLE_DESCRIPTOR),i},!0);return o.setProperty(r,"prototype",o.createObject(o.ERROR),t.NONENUMERABLE_DESCRIPTOR),o.setProperty(r.properties.prototype,"name",i,t.NONENUMERABLE_DESCRIPTOR),o.setProperty(e,i,r),r};this.EVAL_ERROR=i("EvalError"),this.RANGE_ERROR=i("RangeError"),this.REFERENCE_ERROR=i("ReferenceError"),this.SYNTAX_ERROR=i("SyntaxError"),this.TYPE_ERROR=i("TypeError"),this.URI_ERROR=i("URIError")},t.prototype.initMath=function(e){var o=this,r=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"Math",r);for(var n=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],a=0;a<n.length;a++)this.setProperty(r,n[a],Math[n[a]],t.READONLY_NONENUMERABLE_DESCRIPTOR);for(var i=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"],a=0;a<i.length;a++)this.setProperty(r,i[a],this.createNativeFunction(Math[i[a]],!1),t.NONENUMERABLE_DESCRIPTOR)},t.prototype.initJSON=function(e){var t=this,o=t.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"JSON",o);var i=function(e){try{var o=JSON.parse(e+"")}catch(o){t.throwException(t.SYNTAX_ERROR,o.message)}return t.nativeToPseudo(o)};this.setProperty(o,"parse",this.createNativeFunction(i,!1)),i=function(e,o,i){o&&"Function"===o.class?t.throwException(t.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):o&&"Array"===o.class?(o=t.arrayPseudoToNative(o),o=o.filter(function(e){return"string"==typeof e||"number"==typeof e})):o=null,"string"!=typeof i&&"number"!=typeof i&&(i=void 0);var r=t.pseudoToNative(e);try{var n=JSON.stringify(r,o,i)}catch(o){t.throwException(t.TYPE_ERROR,o.message)}return n},this.setProperty(o,"stringify",this.createNativeFunction(i,!1))},t.prototype.isa=function(e,t){if(null===e||void 0===e||!t)return!1;var o=t.properties.prototype;if(e===o)return!0;for(e=this.getPrototype(e);e;){if(e===o)return!0;e=e.proto}return!1},t.prototype.populateRegExp=function(e,o){e.data=new RegExp(o.source,o.flags),this.setProperty(e,"lastIndex",o.lastIndex,t.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",o.source,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",o.global,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",o.ignoreCase,t.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",o.multiline,t.READONLY_NONENUMERABLE_DESCRIPTOR)},t.prototype.createWorker=function(){var e=this.createWorker.blob_;return e||(e=new Blob([t.WORKER_CODE.join("\n")],{type:"application/javascript"}),this.createWorker.blob_=e),new Worker(URL.createObjectURL(e))},t.prototype.vmCall=function(e,o,i,r){var n={timeout:this.REGEXP_THREAD_TIMEOUT};try{return t.vm.runInNewContext(e,o,n)}catch(t){r(null),this.throwException(this.ERROR,"RegExp Timeout: "+i)}return t.REGEXP_TIMEOUT},t.prototype.maybeThrowRegExp=function(e,i){var r;if(0===this.REGEXP_MODE)r=!1;else if(1===this.REGEXP_MODE)r=!0;else if(t.vm)r=!0;else if("function"==typeof Worker&&"function"==typeof URL)r=!0;else{try{t.vm=o(/*! vm */"./node_modules/vm-browserify/index.js")}catch(t){}r=!!t.vm}r||(i(null),this.throwException(this.ERROR,"Regular expressions not supported: "+e))},t.prototype.regExpTimeout=function(e,t,o){var i=this;return setTimeout(function(){t.terminate(),o(null);try{i.throwException(i.ERROR,"RegExp Timeout: "+e)}catch(t){}},this.REGEXP_THREAD_TIMEOUT)},t.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},t.prototype.createObjectProto=function(e){if("object"!=typeof e)throw Error("Non object prototype");var o=new t.Object(e);return this.isa(o,this.ERROR)&&(o.class="Error"),o},t.prototype.createArray=function(){var e=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(e,"length",0,{configurable:!1,enumerable:!1,writable:!0}),e.class="Array",e},t.prototype.createFunctionBase_=function(e,o){var i=this.createObjectProto(this.FUNCTION_PROTO);if(o){var r=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(i,"prototype",r,t.NONENUMERABLE_DESCRIPTOR),this.setProperty(r,"constructor",i,t.NONENUMERABLE_DESCRIPTOR)}else i.illegalConstructor=!0;return this.setProperty(i,"length",e,t.READONLY_NONENUMERABLE_DESCRIPTOR),i.class="Function",i},t.prototype.createFunction=function(e,t){var o=this.createFunctionBase_(e.params.length,!0);return o.parentScope=t,o.node=e,o},t.prototype.createNativeFunction=function(e,t){var o=this.createFunctionBase_(e.length,t);return o.nativeFunc=e,e.id=this.functionCounter_++,o},t.prototype.createAsyncFunction=function(e){var t=this.createFunctionBase_(e.length,!0);return t.asyncFunc=e,e.id=this.functionCounter_++,t},t.prototype.nativeToPseudo=function(e){if(e instanceof t.Object)throw Error("Object is already pseudo");if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(e instanceof RegExp){var o=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(o,e),o}if(e instanceof Date){var r=this.createObjectProto(this.DATE_PROTO);return r.data=new Date(e.valueOf()),r}if("function"==typeof e){var n=this,a=function(){var t=Array.prototype.slice.call(arguments).map(function(e){return n.pseudoToNative(e)}),o=e.apply(n,t);return n.nativeToPseudo(o)},s=Object.getOwnPropertyDescriptor(e,"prototype");return this.createNativeFunction(a,!!s)}if(Array.isArray(e)){for(var l=this.createArray(),d=0;d<e.length;d++)d in e&&this.setProperty(l,d,this.nativeToPseudo(e[d]));return l}var i=this.createObjectProto(this.OBJECT_PROTO);for(var c in e)this.setProperty(i,c,this.nativeToPseudo(e[c]));return i},t.prototype.pseudoToNative=function(e,o){if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(!(e instanceof t.Object))throw Error("Object is not pseudo");if(this.isa(e,this.REGEXP)){var r=new RegExp(e.data.source,e.data.flags);return r.lastIndex=e.data.lastIndex,r}if(this.isa(e,this.DATE))return new Date(e.data.valueOf());var n=o||{pseudo:[],native:[]},a=n.pseudo.indexOf(e);if(-1!==a)return n.native[a];n.pseudo.push(e);var i;if(this.isa(e,this.ARRAY)){i=[],n.native.push(i);for(var s=this.getProperty(e,"length"),a=0;a<s;a++)this.hasProperty(e,a)&&(i[a]=this.pseudoToNative(this.getProperty(e,a),n))}else{i={},n.native.push(i);var l;for(var d in e.properties)"__proto__"!==d&&(l=e.properties[d],i[d]=this.pseudoToNative(l,n))}return n.pseudo.pop(),n.native.pop(),i},t.prototype.arrayNativeToPseudo=function(e){for(var t=this.createArray(),o=Object.getOwnPropertyNames(e),r=0;r<o.length;r++)this.setProperty(t,o[r],e[o[r]]);return t},t.prototype.arrayPseudoToNative=function(e){var o=[];for(var i in e.properties)o[i]=this.getProperty(e,i);return o.length=t.legalArrayLength(this.getProperty(e,"length"))||0,o},t.prototype.getPrototype=function(e){switch(typeof e){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype;}return e?e.proto:null},t.prototype.getProperty=function(e,o){if(this.getterStep_)throw Error("Getter not supported in that context");if(o+="",(void 0===e||null===e)&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+o+"' of "+e),"object"==typeof e&&!(e instanceof t.Object))throw TypeError("Expecting native value or pseudo object");if("length"===o){if(this.isa(e,this.STRING))return(e+"").length;}else if(64>o.charCodeAt(0)&&this.isa(e,this.STRING)){var i=t.legalArrayIndex(o);if(!isNaN(i)&&i<(e+"").length)return(e+"")[i]}do if(e.properties&&o in e.properties){var r=e.getter[o];return r?(this.getterStep_=!0,r):e.properties[o]}while(e=this.getPrototype(e))},t.prototype.hasProperty=function(e,o){if(!(e instanceof t.Object))throw TypeError("Primitive data type has no properties");if(o+="","length"===o&&this.isa(e,this.STRING))return!0;if(this.isa(e,this.STRING)){var i=t.legalArrayIndex(o);if(!isNaN(i)&&i<(e+"").length)return!0}do if(e.properties&&o in e.properties)return!0;while(e=this.getPrototype(e));return!1},t.prototype.setProperty=function(e,o,r,a){if(this.setterStep_)throw Error("Setter not supported in that context");if(o+="",(void 0===e||null===e)&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+o+"' of "+e),"object"==typeof e&&!(e instanceof t.Object))throw TypeError("Expecting native value or pseudo object");a&&("get"in a||"set"in a)&&("value"in a||"writable"in a)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var s=!this.stateStack||this.getScope().strict;if(!(e instanceof t.Object))return void(s&&this.throwException(this.TYPE_ERROR,"Can't create property '"+o+"' on '"+e+"'"));if(this.isa(e,this.STRING)){var l=t.legalArrayIndex(o);if("length"===o||!isNaN(l)&&l<(e+"").length)return void(s&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+o+"' of String '"+e.data+"'"))}if("Array"===e.class){var n=e.properties.length,d;if("length"===o){if(a){if(!("value"in a))return;r=a.value}if(r=t.legalArrayLength(r),isNaN(r)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),r<n)for(d in e.properties)d=t.legalArrayIndex(d),!isNaN(d)&&r<=d&&delete e.properties[d]}else isNaN(d=t.legalArrayIndex(o))||(e.properties.length=Math.max(n,d+1))}if(e.preventExtensions&&!(o in e.properties))return void(s&&this.throwException(this.TYPE_ERROR,"Can't add property '"+o+"', object is not extensible"));if(a){"get"in a&&(a.get?e.getter[o]=a.get:delete e.getter[o]),"set"in a&&(a.set?e.setter[o]=a.set:delete e.setter[o]);var i={};"configurable"in a&&(i.configurable=a.configurable),"enumerable"in a&&(i.enumerable=a.enumerable),"writable"in a&&(i.writable=a.writable,delete e.getter[o],delete e.setter[o]),"value"in a?(i.value=a.value,delete e.getter[o],delete e.setter[o]):r!==t.VALUE_IN_DESCRIPTOR&&(i.value=r,delete e.getter[o],delete e.setter[o]);try{Object.defineProperty(e.properties,o,i)}catch(t){this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+o)}}else{if(r===t.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified.");for(var c=e;!(o in c.properties);)if(c=this.getPrototype(c),!c){c=e;break}if(c.setter&&c.setter[o])return this.setterStep_=!0,c.setter[o];if(c.getter&&c.getter[o])s&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+o+"' of object '"+e+"' which only has a getter");else try{e.properties[o]=r}catch(t){s&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+o+"' of object '"+e+"'")}}},t.prototype.setNativeFunctionPrototype=function(e,o,i){this.setProperty(e.properties.prototype,o,this.createNativeFunction(i,!1),t.NONENUMERABLE_DESCRIPTOR)},t.prototype.setAsyncFunctionPrototype=function(e,o,i){this.setProperty(e.properties.prototype,o,this.createAsyncFunction(i),t.NONENUMERABLE_DESCRIPTOR)},t.prototype.getScope=function(){var e=this.stateStack[this.stateStack.length-1].scope;if(!e)throw Error("No scope found.");return e},t.prototype.createScope=function(e,o){var i=!1;if(o&&o.strict)i=!0;else{var r=e.body&&e.body[0];r&&r.expression&&"Literal"===r.expression.type&&"use strict"===r.expression.value&&(i=!0)}var n=this.createObjectProto(null),a=new t.Scope(o,i,n);return o||this.initGlobal(a.object),this.populateScope_(e,a),a},t.prototype.createSpecialScope=function(e,o){if(!e)throw Error("parentScope required");var i=o||this.createObjectProto(null);return new t.Scope(e,e.strict,i)},t.prototype.getValueFromScope=function(e){for(var t=this.getScope();t&&t!==this.globalScope;){if(e in t.object.properties)return t.object.properties[e];t=t.parentScope}if(t===this.globalScope&&this.hasProperty(t.object,e))return this.getProperty(t.object,e);var o=this.stateStack[this.stateStack.length-1].node;"UnaryExpression"===o.type&&"typeof"===o.operator||this.throwException(this.REFERENCE_ERROR,e+" is not defined")},t.prototype.setValueToScope=function(e,t){for(var o=this.getScope(),i=o.strict;o&&o!==this.globalScope;){if(e in o.object.properties)return void(o.object.properties[e]=t);o=o.parentScope}return o===this.globalScope&&(!i||this.hasProperty(o.object,e))?this.setProperty(o.object,e,t):void this.throwException(this.REFERENCE_ERROR,e+" is not defined")},t.prototype.populateScope_=function(e,o){if("VariableDeclaration"===e.type)for(var r=0;r<e.declarations.length;r++)this.setProperty(o.object,e.declarations[r].id.name,void 0,t.VARIABLE_DESCRIPTOR);else{if("FunctionDeclaration"===e.type)return void this.setProperty(o.object,e.id.name,this.createFunction(e,o),t.VARIABLE_DESCRIPTOR);if("FunctionExpression"===e.type)return;if("ExpressionStatement"===e.type)return}var i=e.constructor;for(var n in e){var a=e[n];if(a&&"object"==typeof a)if(Array.isArray(a))for(var r=0;r<a.length;r++)a[r]&&a[r].constructor===i&&this.populateScope_(a[r],o);else a.constructor===i&&this.populateScope_(a,o)}},t.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},t.prototype.getValue=function(e){return e[0]===t.SCOPE_REFERENCE?this.getValueFromScope(e[1]):this.getProperty(e[0],e[1])},t.prototype.setValue=function(e,o){return e[0]===t.SCOPE_REFERENCE?this.setValueToScope(e[1],o):this.setProperty(e[0],e[1],o)},t.prototype.throwException=function(e,o){if(void 0===o)var i=e;else{var i=this.createObject(e);this.setProperty(i,"message",o,t.NONENUMERABLE_DESCRIPTOR)}throw this.unwind(t.Completion.THROW,i,void 0),t.STEP_ERROR},t.prototype.unwind=function(e,o,i){if(e===t.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");loop:for(var r=this.stateStack,n;0<r.length;r.pop()){switch(n=r[r.length-1],n.node.type){case"TryStatement":return void(n.cv={type:e,value:o,label:i});case"CallExpression":case"NewExpression":if(e===t.Completion.RETURN)return void(n.value=o);if(e!==t.Completion.THROW)throw Error("Unsynatctic break/continue not rejected by Acorn");break;case"Program":n.done=!0;break loop;}if(e===t.Completion.BREAK){if(i?n.labels&&-1!==n.labels.indexOf(i):n.isLoop||n.isSwitch)return void r.pop();}else if(e===t.Completion.CONTINUE&&(i?n.labels&&-1!==n.labels.indexOf(i):n.isLoop))return}var a;if(this.isa(o,this.ERROR)){var s={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},l=this.getProperty(o,"name")+"",d=this.getProperty(o,"message").valueOf(),c=s[l]||Error;a=c(d)}else a=o+"";throw a},t.prototype.createGetter_=function(e,o){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var i=Array.isArray(o)?o[0]:o,r=new this.nodeConstructor({options:{}});r.type="CallExpression";var n=new t.State(r,this.stateStack[this.stateStack.length-1].scope);return n.doneCallee_=!0,n.funcThis_=i,n.func_=e,n.doneArgs_=!0,n.arguments_=[],n},t.prototype.createSetter_=function(e,o,i){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var r=Array.isArray(o)?o[0]:this.globalObject,n=new this.nodeConstructor({options:{}});n.type="CallExpression";var a=new t.State(n,this.stateStack[this.stateStack.length-1].scope);return a.doneCallee_=!0,a.funcThis_=r,a.func_=e,a.doneArgs_=!0,a.arguments_=[i],a},t.Value,t.State=function(e,t){this.node=e,this.scope=t},t.Scope=function(e,t,o){this.parentScope=e,this.strict=t,this.object=o},t.Object=function(e){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},t.Object.prototype.proto=null,t.Object.prototype.class="Object",t.Object.prototype.data=null,t.Object.prototype.toString=function(){if(!(this instanceof t.Object))return this+"";if("Array"===this.class){var e=t.toStringCycles_;e.push(this);try{for(var o=[],r=0,i;r<this.properties.length;r++)i=this.properties[r],o[r]=i instanceof t.Object&&-1!==e.indexOf(i)?"...":i}finally{e.pop()}return o.join(",")}if("Error"===this.class){var e=t.toStringCycles_;if(-1!==e.indexOf(this))return"[object Error]";var n=this,a,s;do if("name"in n.properties){a=n.properties.name;break}while(n=n.proto);var n=this;do if("message"in n.properties){s=n.properties.message;break}while(n=n.proto);e.push(this);try{a=a&&a+"",s=s&&s+""}finally{e.pop()}return s?a+": "+s:a+""}return null===this.data?"[object "+this.class+"]":this.data+""},t.Object.prototype.valueOf=function(){return void 0===this.data||null===this.data||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data},t.prototype.stepArrayExpression=function(e,o,i){var r=i.elements,a=o.n_||0;for(o.array_?(this.setProperty(o.array_,a,o.value),a++):(o.array_=this.createArray(),o.array_.properties.length=r.length);a<r.length;){if(r[a])return o.n_=a,new t.State(r[a],o.scope);a++}e.pop(),e[e.length-1].value=o.array_},t.prototype.stepAssignmentExpression=function(e,o,i){if(!o.doneLeft_){o.doneLeft_=!0;var r=new t.State(i.left,o.scope);return r.components=!0,r}if(!o.doneRight_){if(o.leftReference_||(o.leftReference_=o.value),o.doneGetter_&&(o.leftValue_=o.value),!o.doneGetter_&&"="!==i.operator){var n=this.getValue(o.leftReference_);if(o.leftValue_=n,this.getterStep_){o.doneGetter_=!0;return this.createGetter_(n,o.leftReference_)}}return o.doneRight_=!0,new t.State(i.right,o.scope)}if(o.doneSetter_)return e.pop(),void(e[e.length-1].value=o.setterValue_);var a=o.leftValue_,s=o.value;switch(i.operator){case"=":a=s;break;case"+=":a+=s;break;case"-=":a-=s;break;case"*=":a*=s;break;case"/=":a/=s;break;case"%=":a%=s;break;case"<<=":a<<=s;break;case">>=":a>>=s;break;case">>>=":a>>>=s;break;case"&=":a&=s;break;case"^=":a^=s;break;case"|=":a|=s;break;default:throw SyntaxError("Unknown assignment expression: "+i.operator);}var l=this.setValue(o.leftReference_,a);return l?(o.doneSetter_=!0,o.setterValue_=a,this.createSetter_(l,o.leftReference_,a)):void(e.pop(),e[e.length-1].value=a)},t.prototype.stepBinaryExpression=function(e,o,i){if(!o.doneLeft_)return o.doneLeft_=!0,new t.State(i.left,o.scope);if(!o.doneRight_)return o.doneRight_=!0,o.leftValue_=o.value,new t.State(i.right,o.scope);e.pop();var r=o.leftValue_,n=o.value,a;switch(i.operator){case"==":a=r==n;break;case"!=":a=r!=n;break;case"===":a=r===n;break;case"!==":a=r!==n;break;case">":a=r>n;break;case">=":a=r>=n;break;case"<":a=r<n;break;case"<=":a=r<=n;break;case"+":a=r+n;break;case"-":a=r-n;break;case"*":a=r*n;break;case"/":a=r/n;break;case"%":a=r%n;break;case"&":a=r&n;break;case"|":a=r|n;break;case"^":a=r^n;break;case"<<":a=r<<n;break;case">>":a=r>>n;break;case">>>":a=r>>>n;break;case"in":n instanceof t.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+n+"'"),a=this.hasProperty(n,r);break;case"instanceof":this.isa(n,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Right-hand side of instanceof is not an object"),a=!!(r instanceof t.Object)&&this.isa(r,n);break;default:throw SyntaxError("Unknown binary operator: "+i.operator);}e[e.length-1].value=a},t.prototype.stepBlockStatement=function(e,o,i){var r=o.n_||0,n=i.body[r];return n?(o.n_=r+1,new t.State(n,o.scope)):void e.pop()},t.prototype.stepBreakStatement=function(e,o,i){var r=i.label&&i.label.name;this.unwind(t.Completion.BREAK,void 0,r)},t.prototype.stepCallExpression=function(o,r,n){if(!r.doneCallee_){r.doneCallee_=1;var a=new t.State(n.callee,r.scope);return a.components=!0,a}if(1===r.doneCallee_){r.doneCallee_=2;var s=r.value;if(!Array.isArray(s))r.func_=s;else if(r.func_=this.getValue(s),s[0]===t.SCOPE_REFERENCE?r.directEval_="eval"===s[1]:r.funcThis_=s[0],s=r.func_,this.getterStep_)return r.doneCallee_=1,this.createGetter_(s,r.value);r.arguments_=[],r.n_=0}var s=r.func_;if(!r.doneArgs_){if(0!==r.n_&&r.arguments_.push(r.value),n.arguments[r.n_])return new t.State(n.arguments[r.n_++],r.scope);if("NewExpression"===n.type){if(s.illegalConstructor&&this.throwException(this.TYPE_ERROR,s+" is not a constructor"),s===this.ARRAY)r.funcThis_=this.createArray();else{var l=s.properties.prototype;("object"!=typeof l||null===l)&&(l=this.OBJECT_PROTO),r.funcThis_=this.createObjectProto(l)}r.isConstructor=!0}else void 0===r.funcThis_&&(r.funcThis_=r.scope.strict?void 0:this.globalObject);r.doneArgs_=!0}if(!r.doneExec_){r.doneExec_=!0,s instanceof t.Object||this.throwException(this.TYPE_ERROR,s+" is not a function");var d=s.node;if(d){for(var c=this.createScope(d.body,s.parentScope),p=0;p<d.params.length;p++){var i=d.params[p].name,u=r.arguments_.length>p?r.arguments_[p]:void 0;this.setProperty(c.object,i,u)}for(var _=this.createArray(),p=0;p<r.arguments_.length;p++)this.setProperty(_,p,r.arguments_[p]);this.setProperty(c.object,"arguments",_);var g=d.id&&d.id.name;return g&&this.setProperty(c.object,g,s),this.setProperty(c.object,"this",r.funcThis_,t.READONLY_DESCRIPTOR),r.value=void 0,new t.State(d.body,c)}if(s.eval){var m=r.arguments_[0];if("string"!=typeof m)r.value=m;else{try{var h=e.parse(m+"",t.PARSE_OPTIONS)}catch(t){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+t.message)}var T=new this.nodeConstructor({options:{}});T.type="EvalProgram_",T.body=h.body,t.stripLocations_(T,n.start,n.end);var c=r.directEval_?r.scope:this.globalScope;return c.strict?c=this.createScope(h,c):this.populateScope_(h,c),this.value=void 0,new t.State(T,c)}}else if(s.nativeFunc)r.value=s.nativeFunc.apply(r.funcThis_,r.arguments_);else{if(s.asyncFunc){var b=this,E=function(e){r.value=e,b.paused_=!1},y=s.asyncFunc.length-1,v=r.arguments_.concat(Array(y)).slice(0,y);return v.push(E),this.paused_=!0,void s.asyncFunc.apply(r.funcThis_,v)}this.throwException(this.TYPE_ERROR,s.class+" is not callable")}}else o.pop(),o[o.length-1].value=r.isConstructor&&"object"!=typeof r.value?r.funcThis_:r.value},t.prototype.stepCatchClause=function(e,o,i){if(!o.done_){o.done_=!0;var r=this.createSpecialScope(o.scope);return this.setProperty(r.object,i.param.name,o.throwValue),new t.State(i.body,r)}e.pop()},t.prototype.stepConditionalExpression=function(e,o,i){var r=o.mode_||0;if(0===r)return o.mode_=1,new t.State(i.test,o.scope);if(1===r){o.mode_=2;var n=!!o.value;if(n&&i.consequent)return new t.State(i.consequent,o.scope);if(!n&&i.alternate)return new t.State(i.alternate,o.scope);this.value=void 0}e.pop(),"ConditionalExpression"===i.type&&(e[e.length-1].value=o.value)},t.prototype.stepContinueStatement=function(e,o,i){var r=i.label&&i.label.name;this.unwind(t.Completion.CONTINUE,void 0,r)},t.prototype.stepDebuggerStatement=function(e){e.pop()},t.prototype.stepDoWhileStatement=function(e,o,i){if("DoWhileStatement"===i.type&&void 0===o.test_&&(o.value=!0,o.test_=!0),!o.test_)return o.test_=!0,new t.State(i.test,o.scope);if(!o.value)e.pop();else if(i.body)return o.test_=!1,o.isLoop=!0,new t.State(i.body,o.scope)},t.prototype.stepEmptyStatement=function(e){e.pop()},t.prototype.stepEvalProgram_=function(e,o,i){var r=o.n_||0,n=i.body[r];return n?(o.n_=r+1,new t.State(n,o.scope)):void(e.pop(),e[e.length-1].value=this.value)},t.prototype.stepExpressionStatement=function(e,o,i){return o.done_?void(e.pop(),this.value=o.value):(o.done_=!0,new t.State(i.expression,o.scope))},t.prototype.stepForInStatement=function(e,o,i){if(!o.doneInit_&&(o.doneInit_=!0,i.left.declarations&&i.left.declarations[0].init))return o.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer."),new t.State(i.left,o.scope);if(!o.doneObject_)return o.doneObject_=!0,o.variable_||(o.variable_=o.value),new t.State(i.right,o.scope);if(o.isLoop||(o.isLoop=!0,o.object_=o.value,o.visited_=Object.create(null)),void 0===o.name_)gotPropName:for(;;){if(o.object_ instanceof t.Object)for(o.props_||(o.props_=Object.getOwnPropertyNames(o.object_.properties));;){var r=o.props_.shift();if(void 0===r)break;if(Object.prototype.hasOwnProperty.call(o.object_.properties,r)&&!o.visited_[r]&&(o.visited_[r]=!0,!!Object.prototype.propertyIsEnumerable.call(o.object_.properties,r))){o.name_=r;break gotPropName}}else if(null!==o.object_&&void 0!==o.object_)for(o.props_||(o.props_=Object.getOwnPropertyNames(o.object_));;){var r=o.props_.shift();if(void 0===r)break;if(o.visited_[r]=!0,!!Object.prototype.propertyIsEnumerable.call(o.object_,r)){o.name_=r;break gotPropName}}if(o.object_=this.getPrototype(o.object_),o.props_=null,null===o.object_)return void e.pop()}if(!o.doneVariable_){o.doneVariable_=!0;var n=i.left;if("VariableDeclaration"===n.type)o.variable_=[t.SCOPE_REFERENCE,n.declarations[0].id.name];else{o.variable_=null;var a=new t.State(n,o.scope);return a.components=!0,a}}if(o.variable_||(o.variable_=o.value),!o.doneSetter_){o.doneSetter_=!0;var s=o.name_,l=this.setValue(o.variable_,s);if(l)return this.createSetter_(l,o.variable_,s)}return(o.name_=void 0,o.doneVariable_=!1,o.doneSetter_=!1,i.body)?new t.State(i.body,o.scope):void 0},t.prototype.stepForStatement=function(e,o,i){var r=o.mode_||0;if(0===r){if(o.mode_=1,i.init)return new t.State(i.init,o.scope);}else if(1===r){if(o.mode_=2,i.test)return new t.State(i.test,o.scope);}else if(2===r){if(o.mode_=3,i.test&&!o.value)e.pop();else return o.isLoop=!0,new t.State(i.body,o.scope);}else if(3===r&&(o.mode_=1,i.update))return new t.State(i.update,o.scope)},t.prototype.stepFunctionDeclaration=function(e){e.pop()},t.prototype.stepFunctionExpression=function(e,t,o){e.pop(),e[e.length-1].value=this.createFunction(o,t.scope)},t.prototype.stepIdentifier=function(e,o,i){if(e.pop(),o.components)return void(e[e.length-1].value=[t.SCOPE_REFERENCE,i.name]);var r=this.getValueFromScope(i.name);if(this.getterStep_){for(var n=o.scope;!this.hasProperty(n,i.name);)n=n.parentScope;return this.createGetter_(r,this.globalObject)}e[e.length-1].value=r},t.prototype.stepIfStatement=t.prototype.stepConditionalExpression,t.prototype.stepLabeledStatement=function(e,o,i){e.pop();var r=o.labels||[];r.push(i.label.name);var n=new t.State(i.body,o.scope);return n.labels=r,n},t.prototype.stepLiteral=function(e,t,o){e.pop();var i=o.value;if(i instanceof RegExp){var r=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(r,i),i=r}e[e.length-1].value=i},t.prototype.stepLogicalExpression=function(e,o,i){if("&&"!==i.operator&&"||"!==i.operator)throw SyntaxError("Unknown logical operator: "+i.operator);if(!o.doneLeft_)return o.doneLeft_=!0,new t.State(i.left,o.scope);if(!!o.doneRight_)e.pop(),e[e.length-1].value=o.value;else if("&&"===i.operator&&!o.value||"||"===i.operator&&o.value)e.pop(),e[e.length-1].value=o.value;else return o.doneRight_=!0,new t.State(i.right,o.scope)},t.prototype.stepMemberExpression=function(e,o,i){if(!o.doneObject_)return o.doneObject_=!0,new t.State(i.object,o.scope);var r;if(!i.computed)o.object_=o.value,r=i.property.name;else{if(!o.doneProperty_)return o.object_=o.value,o.doneProperty_=!0,new t.State(i.property,o.scope);r=o.value}if(e.pop(),o.components)e[e.length-1].value=[o.object_,r];else{var n=this.getProperty(o.object_,r);if(this.getterStep_){return this.createGetter_(n,o.object_)}e[e.length-1].value=n}},t.prototype.stepNewExpression=t.prototype.stepCallExpression,t.prototype.stepObjectExpression=function(e,o,i){var r=o.n_||0,n=i.properties[r];if(!o.object_)o.object_=this.createObjectProto(this.OBJECT_PROTO),o.properties_=Object.create(null);else{var a=n.key;if("Identifier"===a.type)var s=a.name;else if("Literal"===a.type)var s=a.value;else throw SyntaxError("Unknown object structure: "+a.type);o.properties_[s]||(o.properties_[s]={}),o.properties_[s][n.kind]=o.value,o.n_=++r,n=i.properties[r]}if(n)return new t.State(n.value,o.scope);for(var a in o.properties_){var l=o.properties_[a];if("get"in l||"set"in l){var d={configurable:!0,enumerable:!0,get:l.get,set:l.set};this.setProperty(o.object_,a,t.VALUE_IN_DESCRIPTOR,d)}else this.setProperty(o.object_,a,l.init)}e.pop(),e[e.length-1].value=o.object_},t.prototype.stepProgram=function(e,o,i){var r=i.body.shift();return r?(o.done=!1,new t.State(r,o.scope)):void(o.done=!0)},t.prototype.stepReturnStatement=function(e,o,i){return i.argument&&!o.done_?(o.done_=!0,new t.State(i.argument,o.scope)):void this.unwind(t.Completion.RETURN,o.value,void 0)},t.prototype.stepSequenceExpression=function(e,o,i){var r=o.n_||0,n=i.expressions[r];return n?(o.n_=r+1,new t.State(n,o.scope)):void(e.pop(),e[e.length-1].value=o.value)},t.prototype.stepSwitchStatement=function(e,o,i){if(!o.test_)return o.test_=1,new t.State(i.discriminant,o.scope);for(1===o.test_&&(o.test_=2,o.switchValue_=o.value,o.defaultCase_=-1);;){var r=o.index_||0,a=i.cases[r];if(!o.matched_&&a&&!a.test){o.defaultCase_=r,o.index_=r+1;continue}if(!a&&!o.matched_&&-1!==o.defaultCase_){o.matched_=!0,o.index_=o.defaultCase_;continue}if(a){if(!o.matched_&&!o.tested_&&a.test)return o.tested_=!0,new t.State(a.test,o.scope);if(o.matched_||o.value===o.switchValue_){o.matched_=!0;var s=o.n_||0;if(a.consequent[s])return o.isSwitch=!0,o.n_=s+1,new t.State(a.consequent[s],o.scope)}o.tested_=!1,o.n_=0,o.index_=r+1}else return void e.pop()}},t.prototype.stepThisExpression=function(e){e.pop(),e[e.length-1].value=this.getValueFromScope("this")},t.prototype.stepThrowStatement=function(e,o,i){return o.done_?void this.throwException(o.value):(o.done_=!0,new t.State(i.argument,o.scope))},t.prototype.stepTryStatement=function(e,o,i){if(!o.doneBlock_)return o.doneBlock_=!0,new t.State(i.block,o.scope);if(o.cv&&o.cv.type===t.Completion.THROW&&!o.doneHandler_&&i.handler){o.doneHandler_=!0;var r=new t.State(i.handler,o.scope);return r.throwValue=o.cv.value,o.cv=void 0,r}return!o.doneFinalizer_&&i.finalizer?(o.doneFinalizer_=!0,new t.State(i.finalizer,o.scope)):void(e.pop(),o.cv&&this.unwind(o.cv.type,o.cv.value,o.cv.label))},t.prototype.stepUnaryExpression=function(e,o,i){if(!o.done_){o.done_=!0;var r=new t.State(i.argument,o.scope);return r.components="delete"===i.operator,r}e.pop();var n=o.value;if("-"===i.operator)n=-n;else if("+"===i.operator)n=+n;else if("!"===i.operator)n=!n;else if("~"===i.operator)n=~n;else if("delete"===i.operator){var a=!0;if(Array.isArray(n)){var s=n[0];s===t.SCOPE_REFERENCE&&(s=o.scope);var l=n[1]+"";try{delete s.properties[l]}catch(t){o.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+l+"' of '"+s+"'"):a=!1}}n=a}else if("typeof"===i.operator)n=n&&"Function"===n.class?"function":typeof n;else if("void"===i.operator)n=void 0;else throw SyntaxError("Unknown unary operator: "+i.operator);e[e.length-1].value=n},t.prototype.stepUpdateExpression=function(e,o,i){if(!o.doneLeft_){o.doneLeft_=!0;var r=new t.State(i.argument,o.scope);return r.components=!0,r}if(o.leftSide_||(o.leftSide_=o.value),o.doneGetter_&&(o.leftValue_=o.value),!o.doneGetter_){var n=this.getValue(o.leftSide_);if(o.leftValue_=n,this.getterStep_){o.doneGetter_=!0;var a=n;return this.createGetter_(a,o.leftSide_)}}if(o.doneSetter_)return e.pop(),void(e[e.length-1].value=o.setterValue_);var n=+o.leftValue_,s;if("++"===i.operator)s=n+1;else if("--"===i.operator)s=n-1;else throw SyntaxError("Unknown update expression: "+i.operator);var l=i.prefix?s:n,d=this.setValue(o.leftSide_,s);return d?(o.doneSetter_=!0,o.setterValue_=l,this.createSetter_(d,o.leftSide_,s)):void(e.pop(),e[e.length-1].value=l)},t.prototype.stepVariableDeclaration=function(e,o,i){var r=i.declarations,a=o.n_||0,n=r[a];for(o.init_&&n&&(this.setValueToScope(n.id.name,o.value),o.init_=!1,n=r[++a]);n;){if(n.init)return o.n_=a,o.init_=!0,new t.State(n.init,o.scope);n=r[++a]}e.pop()},t.prototype.stepWithStatement=function(e,o,i){if(!o.doneObject_)return o.doneObject_=!0,new t.State(i.object,o.scope);if(!o.doneBody_){o.doneBody_=!0;var r=this.createSpecialScope(o.scope,o.value);return new t.State(i.body,r)}e.pop()},t.prototype.stepWhileStatement=t.prototype.stepDoWhileStatement,this.Interpreter=t,t.prototype.step=t.prototype.step,t.prototype.run=t.prototype.run,t.prototype.appendCode=t.prototype.appendCode,t.prototype.createObject=t.prototype.createObject,t.prototype.createObjectProto=t.prototype.createObjectProto,t.prototype.createAsyncFunction=t.prototype.createAsyncFunction,t.prototype.createNativeFunction=t.prototype.createNativeFunction,t.prototype.getProperty=t.prototype.getProperty,t.prototype.setProperty=t.prototype.setProperty,t.prototype.nativeToPseudo=t.prototype.nativeToPseudo,t.prototype.pseudoToNative=t.prototype.pseudoToNative,t.prototype.createPrimitive=function(e){return e}}).call(this,o(/*! ./original-repo/acorn.js */"./original-repo/acorn.js"))},"./src/js-interpreter.js":/*!*******************************!*\
  !*** ./src/js-interpreter.js ***!
  \*******************************//*! exports provided: default */function(e,t,o){"use strict";o.r(t);var i=o(/*! ../original-repo/interpreter */"./original-repo/interpreter.js"),r=o.n(i);t["default"]=i.Interpreter}})["default"]})},function(e,t,o){var i,r,n;(function(a,s){r=[o(15)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){var e={};return e.Msg={},"use strict",e.Msg.ADD_COMMENT="\u6DFB\u52A0\u6CE8\u91CA",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="\u4E0D\u80FD\u5220\u9664\u53D8\u91CF\u201C%1\u201D\uFF0C\u56E0\u4E3A\u5B83\u662F\u51FD\u6570\u201C%2\u201D\u5B9A\u4E49\u7684\u4E00\u90E8\u5206",e.Msg.CHANGE_VALUE_TITLE="\u66F4\u6539\u503C\uFF1A",e.Msg.CLEAN_UP="\u6574\u7406\u5757",e.Msg.COLLAPSED_WARNINGS_WARNING="\u5DF2\u6536\u8D77\u7684\u4FE1\u606F\u5757\u5185\u5305\u542B\u8B66\u544A\u3002",e.Msg.COLLAPSE_ALL="\u6298\u53E0\u5757",e.Msg.COLLAPSE_BLOCK="\u6298\u53E0\u5757",e.Msg.COLOUR_BLEND_COLOUR1="\u989C\u82721",e.Msg.COLOUR_BLEND_COLOUR2="\u989C\u82722",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="\u6BD4\u4F8B",e.Msg.COLOUR_BLEND_TITLE="\u6DF7\u5408",e.Msg.COLOUR_BLEND_TOOLTIP="\u628A\u4E24\u79CD\u989C\u8272\u4EE5\u4E00\u4E2A\u7ED9\u5B9A\u7684\u6BD4\u4F8B(0.0-1.0)\u8FDB\u884C\u6DF7\u5408\u3002",e.Msg.COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/\u989C\u8272",e.Msg.COLOUR_PICKER_TOOLTIP="\u4ECE\u8C03\u8272\u677F\u4E2D\u9009\u62E9\u4E00\u79CD\u989C\u8272\u3002",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="\u968F\u673A\u989C\u8272",e.Msg.COLOUR_RANDOM_TOOLTIP="\u968F\u673A\u9009\u62E9\u4E00\u79CD\u989C\u8272\u3002",e.Msg.COLOUR_RGB_BLUE="\u84DD\u8272",e.Msg.COLOUR_RGB_GREEN="\u7EFF\u8272",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="\u7EA2\u8272",e.Msg.COLOUR_RGB_TITLE="\u989C\u8272",e.Msg.COLOUR_RGB_TOOLTIP="\u901A\u8FC7\u6307\u5B9A\u7EA2\u8272\u3001\u7EFF\u8272\u548C\u84DD\u8272\u7684\u91CF\u521B\u5EFA\u4E00\u79CD\u989C\u8272\u3002\u6240\u6709\u7684\u503C\u5FC5\u987B\u57280\u548C100\u4E4B\u95F4\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="\u8DF3\u51FA\u5FAA\u73AF",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="\u7EE7\u7EED\u4E0B\u4E00\u8F6E\u5FAA\u73AF",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="\u8DF3\u51FA\u5305\u542B\u5B83\u7684\u5FAA\u73AF\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="\u8DF3\u8FC7\u672C\u8F6E\u5FAA\u73AF\u7684\u5269\u4F59\u90E8\u5206\uFF0C\u5E76\u7EE7\u8FDB\u884C\u7EED\u4E0B\u4E00\u8F6E\u8FED\u4EE3\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="\u8B66\u544A\uFF1A\u8FD9\u4E2A\u5757\u53EA\u80FD\u5728\u5FAA\u73AF\u5185\u4F7F\u7528\u3002",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="\u4E3A\u5217\u8868 %2 \u91CC\u7684\u6BCF\u4E00\u9879 %1",e.Msg.CONTROLS_FOREACH_TOOLTIP="\u904D\u5386\u5217\u8868\u4E2D\u7684\u6BCF\u4E00\u9879\uFF0C\u5C06\u53D8\u91CF\u201C%1\u201D\u8BBE\u4E3A\u6240\u9009\u9879\uFF0C\u5E76\u6267\u884C\u4E00\u4E9B\u8BED\u53E5\u3002",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="\u53D8\u91CF %1 \u4ECE %2 \u6570\u5230 %3 \u6BCF\u6B21\u589E\u52A0 %4",e.Msg.CONTROLS_FOR_TOOLTIP="\u7528\u53D8\u91CF%1\u8BB0\u5F55\u4ECE\u5F00\u59CB\u6570\u503C\u5230\u7EC8\u6B62\u6570\u503C\u4E4B\u95F4\u7684\u6570\u503C\uFF0C\u6570\u503C\u6309\u6307\u5B9A\u95F4\u9694\u589E\u52A0\uFF0C\u5E76\u6267\u884C\u6307\u5B9A\u7684\u5757\u3002",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="\u5728\u8FD9\u4E2Aif\u8BED\u53E5\u5757\u4E2D\u589E\u52A0\u4E00\u4E2A\u6761\u4EF6\u3002",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="\u5728\u8FD9\u4E2Aif\u8BED\u53E5\u5757\u4E2D\u6DFB\u52A0\u4E00\u4E2A\u6700\u7EC8\u7684\uFF0C\u5305\u62EC\u6240\u6709\u5176\u4F59\u60C5\u51B5\u7684\u6761\u4EF6\u3002",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="\u589E\u52A0\u3001\u5220\u9664\u6216\u91CD\u65B0\u6392\u5217\u5404\u8282\u6765\u91CD\u65B0\u914D\u7F6E\u8FD9\u4E2Aif\u8BED\u53E5\u5757\u3002",e.Msg.CONTROLS_IF_MSG_ELSE="\u5426\u5219",e.Msg.CONTROLS_IF_MSG_ELSEIF="\u5426\u5219\u5982\u679C",e.Msg.CONTROLS_IF_MSG_IF="\u5982\u679C",e.Msg.CONTROLS_IF_TOOLTIP_1="\u5982\u679C\u503C\u4E3A\u771F\uFF0C\u6267\u884C\u4E00\u4E9B\u8BED\u53E5\u3002",e.Msg.CONTROLS_IF_TOOLTIP_2="\u5982\u679C\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u7B2C\u4E00\u5757\u8BED\u53E5\u3002\u5426\u5219\uFF0C\u5219\u6267\u884C\u7B2C\u4E8C\u5757\u8BED\u53E5\u3002",e.Msg.CONTROLS_IF_TOOLTIP_3="\u5982\u679C\u7B2C\u4E00\u4E2A\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u7B2C\u4E00\u5757\u7684\u8BED\u53E5\u3002\u5426\u5219\uFF0C\u5982\u679C\u7B2C\u4E8C\u4E2A\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u7B2C\u4E8C\u5757\u7684\u8BED\u53E5\u3002",e.Msg.CONTROLS_IF_TOOLTIP_4="\u5982\u679C\u7B2C\u4E00\u4E2A\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u7B2C\u4E00\u5757\u5BF9\u8BED\u53E5\u3002\u5426\u5219\uFF0C\u5982\u679C\u7B2C\u4E8C\u4E2A\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u8BED\u53E5\u7684\u7B2C\u4E8C\u5757\u3002\u5982\u679C\u6CA1\u6709\u503C\u4E3A\u771F\uFF0C\u5219\u6267\u884C\u6700\u540E\u4E00\u5757\u7684\u8BED\u53E5\u3002",e.Msg.CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For\u5FAA\u73AF",e.Msg.CONTROLS_REPEAT_INPUT_DO="\u6267\u884C",e.Msg.CONTROLS_REPEAT_TITLE="\u91CD\u590D %1 \u6B21",e.Msg.CONTROLS_REPEAT_TOOLTIP="\u591A\u6B21\u6267\u884C\u4E00\u4E9B\u8BED\u53E5\u3002",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="\u91CD\u590D\u76F4\u5230\u6761\u4EF6\u6EE1\u8DB3",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="\u5F53\u6761\u4EF6\u6EE1\u8DB3\u65F6\u91CD\u590D",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="\u53EA\u8981\u503C\u4E3A\u5047\uFF0C\u6267\u884C\u4E00\u4E9B\u8BED\u53E5\u3002",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="\u53EA\u8981\u503C\u4E3A\u771F\uFF0C\u6267\u884C\u4E00\u4E9B\u8BED\u53E5\u3002",e.Msg.DELETE_ALL_BLOCKS="\u5220\u9664\u6240\u6709 %1 \u4E2A\u5757\u5417\uFF1F",e.Msg.DELETE_BLOCK="\u5220\u9664\u5757",e.Msg.DELETE_VARIABLE="\u5220\u9664\u53D8\u91CF\u201C%1\u201D",e.Msg.DELETE_VARIABLE_CONFIRMATION="\u8981\u5220\u9664\u5BF9\u53D8\u91CF\u201C%2\u201D\u7684%1\u4E2A\u5F15\u7528\u5417\uFF1F",e.Msg.DELETE_X_BLOCKS="\u5220\u9664 %1 \u4E2A\u5757",e.Msg.DISABLE_BLOCK="\u7981\u7528\u5757",e.Msg.DUPLICATE_BLOCK="\u590D\u5236",e.Msg.DUPLICATE_COMMENT="\u590D\u5236\u6CE8\u91CA",e.Msg.ENABLE_BLOCK="\u542F\u7528\u5757",e.Msg.EXPAND_ALL="\u5C55\u5F00\u5757",e.Msg.EXPAND_BLOCK="\u5C55\u5F00\u5757",e.Msg.EXTERNAL_INPUTS="\u5916\u90E8\u8F93\u5165",e.Msg.HELP="\u5E2E\u52A9",e.Msg.INLINE_INPUTS="\u5355\u884C\u8F93\u5165",e.Msg.IOS_CANCEL="\u53D6\u6D88",e.Msg.IOS_ERROR="\u9519\u8BEF",e.Msg.IOS_OK="\u786E\u5B9A",e.Msg.IOS_PROCEDURES_ADD_INPUT="+\u6DFB\u52A0\u8F93\u5165",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="\u5141\u8BB8\u7684\u8BED\u53E5",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="\u8FD9\u4E2A\u51FD\u6570\u6709\u591A\u4E2A\u8F93\u5165\u3002",e.Msg.IOS_PROCEDURES_INPUTS="\u8F93\u5165",e.Msg.IOS_VARIABLES_ADD_BUTTON="\u6DFB\u52A0",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+\u6DFB\u52A0\u53D8\u91CF",e.Msg.IOS_VARIABLES_DELETE_BUTTON="\u5220\u9664",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="\u4F60\u4E0D\u80FD\u4F7F\u7528\u7A7A\u767D\u7684\u53D8\u91CF\u540D\u3002",e.Msg.IOS_VARIABLES_RENAME_BUTTON="\u91CD\u547D\u540D",e.Msg.IOS_VARIABLES_VARIABLE_NAME="\u53D8\u91CF\u540D",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="\u521B\u5EFA\u7A7A\u5217\u8868",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="\u8FD4\u56DE\u4E00\u4E2A\u5217\u8868\uFF0C\u957F\u5EA6\u4E3A 0\uFF0C\u4E0D\u5305\u542B\u4EFB\u4F55\u6570\u636E\u8BB0\u5F55",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="\u5217\u8868",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="\u589E\u52A0\u3001\u5220\u9664\u6216\u91CD\u65B0\u6392\u5217\u5404\u90E8\u5206\u4EE5\u6B64\u91CD\u65B0\u914D\u7F6E\u8FD9\u4E2A\u5217\u8868\u5757\u3002",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="\u5EFA\u7ACB\u5217\u8868\u4ECE",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="\u5C06\u4E00\u4E2A\u9879\u6DFB\u52A0\u5230\u5217\u8868\u4E2D\u3002",e.Msg.LISTS_CREATE_WITH_TOOLTIP="\u5EFA\u7ACB\u4E00\u4E2A\u5177\u6709\u4EFB\u610F\u6570\u91CF\u9879\u76EE\u7684\u5217\u8868\u3002",e.Msg.LISTS_GET_INDEX_FIRST="\u7B2C\u4E00\u4E2A",e.Msg.LISTS_GET_INDEX_FROM_END="\u5012\u6570\u7B2C#",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="\u53D6\u5F97",e.Msg.LISTS_GET_INDEX_GET_REMOVE="\u53D6\u5F97\u5E76\u79FB\u9664",e.Msg.LISTS_GET_INDEX_LAST="\u6700\u540E\u4E00\u4E2A",e.Msg.LISTS_GET_INDEX_RANDOM="\u968F\u673A\u7684",e.Msg.LISTS_GET_INDEX_REMOVE="\u79FB\u9664",e.Msg.LISTS_GET_INDEX_TAIL="-",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="\u8FD4\u56DE\u5728\u5217\u8868\u4E2D\u7684\u6307\u5B9A\u4F4D\u7F6E\u7684\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u6700\u540E\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u968F\u673A\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="\u79FB\u9664\u5E76\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="\u79FB\u9664\u5E76\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u6307\u5B9A\u4F4D\u7F6E\u7684\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="\u79FB\u9664\u5E76\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u6700\u540E\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="\u79FB\u9664\u5E76\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u968F\u673A\u4E00\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="\u79FB\u9664\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u9879",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="\u79FB\u9664\u5728\u5217\u8868\u4E2D\u7684\u6307\u5B9A\u4F4D\u7F6E\u7684\u9879\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="\u79FB\u9664\u5217\u8868\u4E2D\u7684\u6700\u540E\u4E00\u9879",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="\u5220\u9664\u5217\u8868\u4E2D\u7684\u968F\u673A\u4E00\u9879\u3002",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="\u5230\u5012\u6570\u7B2C#",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="\u5230#",e.Msg.LISTS_GET_SUBLIST_END_LAST="\u5230\u6700\u540E",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="\u83B7\u53D6\u5B50\u5217\u8868\u4ECE\u7B2C\u4E00\u4E2A",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="\u83B7\u53D6\u5B50\u5217\u8868\u4ECE\u6700\u540E\u4E00\u4E2A#",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="\u83B7\u53D6\u5B50\u5217\u8868\u4ECE#",e.Msg.LISTS_GET_SUBLIST_TAIL="-",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="\u590D\u5236\u5217\u8868\u4E2D\u6307\u5B9A\u7684\u90E8\u5206\u3002",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1\u662F\u6700\u540E\u4E00\u9879\u3002",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1\u662F\u7B2C\u4E00\u9879\u3002",e.Msg.LISTS_INDEX_OF_FIRST="\u5BFB\u627E\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u9879",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="\u5BFB\u627E\u6700\u540E\u4E00\u6B21\u51FA\u73B0\u7684\u9879",e.Msg.LISTS_INDEX_OF_TOOLTIP="\u8FD4\u56DE\u5728\u5217\u8868\u4E2D\u7684\u7B2C\u4E00/\u6700\u540E\u4E00\u4E2A\u5339\u914D\u9879\u7684\u7D22\u5F15\u503C\u3002\u5982\u679C\u627E\u4E0D\u5230\u9879\u76EE\u5219\u8FD4\u56DE%1\u3002",e.Msg.LISTS_INLIST="\u5728\u5217\u8868\u4E2D",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1\u662F\u7A7A\u7684",e.Msg.LISTS_ISEMPTY_TOOLTIP="\u5982\u679C\u6539\u5217\u8868\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1\u7684\u957F\u5EA6",e.Msg.LISTS_LENGTH_TOOLTIP="\u8FD4\u56DE\u5217\u8868\u7684\u957F\u5EA6\u3002",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="\u5EFA\u7ACB\u5217\u8868\u4F7F\u7528\u9879 %1 \u91CD\u590D %2 \u6B21",e.Msg.LISTS_REPEAT_TOOLTIP="\u5EFA\u7ACB\u5305\u542B\u6307\u5B9A\u91CD\u590D\u6B21\u6570\u7684\u503C\u7684\u5217\u8868\u3002",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="\u5012\u8F6C%1",e.Msg.LISTS_REVERSE_TOOLTIP="\u5012\u8F6C\u4E00\u4E2A\u5217\u8868\u7684\u62F7\u8D1D\u3002",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="\u503C\u4E3A",e.Msg.LISTS_SET_INDEX_INSERT="\u63D2\u5165\u5728",e.Msg.LISTS_SET_INDEX_SET="\u8BBE\u7F6E",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="\u5728\u5217\u8868\u7684\u8D77\u59CB\u5904\u6DFB\u52A0\u8BE5\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="\u63D2\u5165\u5728\u5217\u8868\u4E2D\u6307\u5B9A\u4F4D\u7F6E\u7684\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="\u5728\u5217\u8868\u7684\u672B\u5C3E\u5904\u6DFB\u52A0\u8BE5\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="\u5728\u5217\u8868\u7684\u968F\u673A\u4F4D\u7F6E\u63D2\u5165\u8BE5\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="\u8BBE\u7F6E\u5217\u8868\u4E2D\u7684\u7B2C\u4E00\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="\u8BBE\u7F6E\u5728\u5217\u8868\u4E2D\u6307\u5B9A\u4F4D\u7F6E\u7684\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="\u8BBE\u7F6E\u5217\u8868\u4E2D\u7684\u6700\u540E\u4E00\u9879\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="\u8BBE\u7F6E\u5217\u8868\u4E2D\u7684\u968F\u673A\u4E00\u9879\u3002",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="\u5347\u5E8F",e.Msg.LISTS_SORT_ORDER_DESCENDING="\u964D\u5E8F",e.Msg.LISTS_SORT_TITLE="\u6392\u5E8F%1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="\u6392\u5E8F\u4E00\u4E2A\u5217\u8868\u7684\u62F7\u8D1D\u3002",e.Msg.LISTS_SORT_TYPE_IGNORECASE="\u6309\u5B57\u6BCD\u6392\u5E8F\uFF0C\u5FFD\u7565\u5927\u5C0F\u5199",e.Msg.LISTS_SORT_TYPE_NUMERIC="\u6309\u6570\u5B57\u6392\u5E8F",e.Msg.LISTS_SORT_TYPE_TEXT="\u6309\u5B57\u6BCD\u6392\u5E8F",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="\u4ECE\u6587\u672C\u5236\u4F5C\u5217\u8868",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="\u4ECE\u5217\u8868\u62C6\u51FA\u6587\u672C",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="\u52A0\u5165\u6587\u672C\u5217\u8868\u81F3\u4E00\u4E2A\u6587\u672C\uFF0C\u7531\u5206\u9694\u7B26\u5206\u9694\u3002",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="\u62C6\u5206\u6587\u672C\u5230\u6587\u672C\u5217\u8868\uFF0C\u6309\u6BCF\u4E2A\u5206\u9694\u7B26\u62C6\u5206\u3002",e.Msg.LISTS_SPLIT_WITH_DELIMITER="\u7528\u5206\u9694\u7B26",e.Msg.LOGIC_BOOLEAN_FALSE="\u5047",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="\u8FD4\u56DE\u771F\u6216\u5047\u3002",e.Msg.LOGIC_BOOLEAN_TRUE="\u771F",e.Msg.LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/\u4E0D\u7B49",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="\u5982\u679C\u4E24\u4E2A\u8F93\u5165\u7ED3\u679C\u76F8\u7B49\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="\u5982\u679C\u7B2C\u4E00\u4E2A\u8F93\u5165\u7ED3\u679C\u6BD4\u7B2C\u4E8C\u4E2A\u5927\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="\u5982\u679C\u7B2C\u4E00\u4E2A\u8F93\u5165\u7ED3\u679C\u5927\u4E8E\u6216\u7B49\u4E8E\u7B2C\u4E8C\u4E2A\u8F93\u5165\u7ED3\u679C\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="\u5982\u679C\u7B2C\u4E00\u4E2A\u8F93\u5165\u7ED3\u679C\u6BD4\u7B2C\u4E8C\u4E2A\u5C0F\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="\u5982\u679C\u7B2C\u4E00\u4E2A\u8F93\u5165\u7ED3\u679C\u5C0F\u4E8E\u6216\u7B49\u4E8E\u7B2C\u4E8C\u4E2A\u8F93\u5165\u7ED3\u679C\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="\u5982\u679C\u4E24\u4E2A\u8F93\u5165\u7ED3\u679C\u4E0D\u76F8\u7B49\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="\u975E%1",e.Msg.LOGIC_NEGATE_TOOLTIP="\u5982\u679C\u8F93\u5165\u7ED3\u679C\u4E3A\u5047\uFF0C\u5219\u8FD4\u56DE\u771F\uFF1B\u5982\u679C\u8F93\u5165\u7ED3\u679C\u4E3A\u771F\uFF0C\u5219\u8FD4\u56DE\u5047\u3002",e.Msg.LOGIC_NULL="\u7A7A",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="\u8FD4\u56DE\u7A7A\u503C\u3002",e.Msg.LOGIC_OPERATION_AND="\u5E76\u4E14",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="\u6216",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="\u5982\u679C\u4E24\u4E2A\u8F93\u5165\u7ED3\u679C\u90FD\u4E3A\u771F\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="\u5982\u679C\u81F3\u5C11\u6709\u4E00\u4E2A\u8F93\u5165\u7ED3\u679C\u4E3A\u771F\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.LOGIC_TERNARY_CONDITION="\u65AD\u8A00",e.Msg.LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/\u6761\u4EF6\u8FD0\u7B97\u7B26",e.Msg.LOGIC_TERNARY_IF_FALSE="\u5982\u679C\u4E3A\u5047",e.Msg.LOGIC_TERNARY_IF_TRUE="\u5982\u679C\u4E3A\u771F",e.Msg.LOGIC_TERNARY_TOOLTIP="\u68C0\u67E5\u201C\u65AD\u8A00\u201D\u91CC\u7684\u6761\u4EF6\u8BED\u53E5\u3002\u5982\u679C\u6761\u4EF6\u4E3A\u771F\uFF0C\u5219\u8FD4\u56DE\u201C\u5982\u679C\u4E3A\u771F\u201D\u7684\u503C\uFF0C\u5426\u5219\uFF0C\u5219\u8FD4\u56DE\u201C\u5982\u679C\u4E3A\u5047\u201D\u7684\u503C\u3002",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/\u7B97\u672F",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="\u8FD4\u56DE\u4E24\u4E2A\u6570\u503C\u7684\u548C\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="\u8FD4\u56DE\u4E24\u4E2A\u6570\u503C\u7684\u5546\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="\u8FD4\u56DE\u4E24\u4E2A\u6570\u503C\u7684\u5DEE\u503C\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="\u8FD4\u56DE\u4E24\u4E2A\u6570\u503C\u7684\u4E58\u79EF\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="\u8FD4\u56DE\u4EE5\u7B2C\u4E00\u4E2A\u6570\u503C\u4E3A\u5E95\u6570\uFF0C\u4EE5\u7B2C\u4E8C\u4E2A\u6570\u503C\u4E3A\u5E42\u7684\u7ED3\u679C\u3002",e.Msg.MATH_ATAN2_HELPURL="https://zh.wikipedia.org/wiki/\u53CD\u6B63\u52072",e.Msg.MATH_ATAN2_TITLE="\u70B9(x:%1,y:%2)\u7684\u65B9\u4F4D\u89D2",e.Msg.MATH_ATAN2_TOOLTIP="\u8FD4\u56DE\u70B9\uFF08X\uFF0CY\uFF09\u7684\u53CD\u6B63\u5207\u503C\uFF0C\u8303\u56F4\u4E3A-180\u5230180\u5EA6\u3002",e.Msg.MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/\u52A0\u6CD5",e.Msg.MATH_CHANGE_TITLE="\u5C06 %1 \u589E\u52A0 %2",e.Msg.MATH_CHANGE_TOOLTIP="\u4E3A\u53D8\u91CF\u201C%1\u201D\u589E\u52A0\u4E00\u4E2A\u6570\u503C\u3002",e.Msg.MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/\u6570\u5B66\u5E38\u6570",e.Msg.MATH_CONSTANT_TOOLTIP="\u8FD4\u56DE\u4E00\u4E2A\u5E38\u89C1\u5E38\u91CF\uFF1A\u03C0 (3.141\u2026)\u3001e (2.718\u2026)\u3001\u03C6 (1.618\u2026)\u3001\u5E73\u65B9\u6839 (1.414\u2026)\u3001\u5F00\u5E73\u65B9\u6839 (0.707\u2026)\u6216\u221E (\u65E0\u9650\u5927)\u3002",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="\u5C06 %1 \u9650\u5236\u5728 \u6700\u4F4E %2 \u5230\u6700\u9AD8 %3 \u4E4B\u95F4",e.Msg.MATH_CONSTRAIN_TOOLTIP="\u5C06\u4E00\u4E2A\u6570\u503C\u9650\u5236\u5728\u4E24\u4E2A\u6307\u5B9A\u7684\u6570\u503C\u8303\u56F4\uFF08\u542B\u8FB9\u754C\uFF09\u4E4B\u95F4\u3002",e.Msg.MATH_DIVISION_SYMBOL="\xF7",e.Msg.MATH_IS_DIVISIBLE_BY="\u53EF\u88AB\u6574\u9664",e.Msg.MATH_IS_EVEN="\u662F\u5076\u6570",e.Msg.MATH_IS_NEGATIVE="\u662F\u8D1F\u6570",e.Msg.MATH_IS_ODD="\u662F\u5947\u6570",e.Msg.MATH_IS_POSITIVE="\u662F\u6B63\u6570",e.Msg.MATH_IS_PRIME="\u662F\u8D28\u6570",e.Msg.MATH_IS_TOOLTIP="\u68C0\u67E5\u4E00\u4E2A\u6570\u503C\u662F\u5426\u662F\u5076\u6570\u3001\u5947\u6570\u3001\u8D28\u6570\u3001\u81EA\u7136\u6570\u3001\u6B63\u6570\u3001\u8D1F\u6570\u6216\u8005\u662F\u5426\u80FD\u88AB\u67D0\u6570\u6574\u9664\u3002\u8FD4\u56DE\u771F\u6216\u5047\u3002",e.Msg.MATH_IS_WHOLE="\u662F\u6574\u6570",e.Msg.MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/\u6A21\u9664",e.Msg.MATH_MODULO_TITLE="\u53D6 %1 \xF7 %2 \u7684\u4F59\u6570",e.Msg.MATH_MODULO_TOOLTIP="\u8FD4\u56DE\u8FD9\u4E24\u4E2A\u6570\u5B57\u76F8\u9664\u540E\u7684\u4F59\u6570\u3002",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xD7",e.Msg.MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/\u6570",e.Msg.MATH_NUMBER_TOOLTIP="\u4E00\u4E2A\u6570\u503C\u3002",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="\u5217\u8868\u5E73\u5747\u503C",e.Msg.MATH_ONLIST_OPERATOR_MAX="\u5217\u8868\u6700\u5927\u503C",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="\u5217\u8868\u4E2D\u4F4D\u6570",e.Msg.MATH_ONLIST_OPERATOR_MIN="\u5217\u8868\u6700\u5C0F\u503C",e.Msg.MATH_ONLIST_OPERATOR_MODE="\u5217\u8868\u4E2D\u7684\u4F17\u6570",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\u5217\u8868\u968F\u673A\u9879",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\u5217\u8868\u7684\u6807\u51C6\u5DEE",e.Msg.MATH_ONLIST_OPERATOR_SUM="\u5217\u8868\u4E2D\u6570\u503C\u7684\u548C",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u6570\u503C\u7684\u5E73\u5747\u503C\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MAX="\u8FD4\u56DE\u5217\u8868\u4E2D\u6700\u5927\u503C\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="\u8FD4\u56DE\u5217\u8868\u4E2D\u6570\u503C\u7684\u4E2D\u4F4D\u6570\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MIN="\u8FD4\u56DE\u5217\u8868\u4E2D\u6700\u5C0F\u503C\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MODE="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u51FA\u73B0\u6B21\u6570\u6700\u591A\u7684\u9879\u7684\u5217\u8868\u3002",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="\u4ECE\u5217\u8868\u4E2D\u8FD4\u56DE\u4E00\u4E2A\u968F\u673A\u7684\u5143\u7D20\u3002",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="\u8FD4\u56DE\u5217\u8868\u7684\u6807\u51C6\u5DEE\u3002",e.Msg.MATH_ONLIST_TOOLTIP_SUM="\u8FD4\u56DE\u5217\u8868\u4E2D\u7684\u6240\u6709\u6570\u503C\u7684\u548C\u3002",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/\u968F\u673A\u6570\u751F\u6210\u5668",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="\u968F\u673A\u5C0F\u6570",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="\u8FD4\u56DE\u4E00\u4E2A\u4ECB\u4E8E0.0\u52301.0\u4E4B\u95F4\uFF08\u542B\u8FB9\u754C\uFF09\u7684\u968F\u673A\u6570\u3002",e.Msg.MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/\u968F\u673A\u6570\u751F\u6210\u5668",e.Msg.MATH_RANDOM_INT_TITLE="\u4ECE %1 \u5230 %2 \u8303\u56F4\u5185\u7684\u968F\u673A\u6574\u6570",e.Msg.MATH_RANDOM_INT_TOOLTIP="\u8FD4\u56DE\u4E00\u4E2A\u9650\u5236\u5728\u4E24\u4E2A\u6307\u5B9A\u6570\u503C\u7684\u8303\u56F4\uFF08\u542B\u8FB9\u754C\uFF09\u4E4B\u95F4\u7684\u968F\u673A\u6574\u6570\u3002",e.Msg.MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/\u6570\u503C\u4FEE\u7EA6",e.Msg.MATH_ROUND_OPERATOR_ROUND="\u56DB\u820D\u4E94\u5165",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="\u5411\u4E0B\u820D\u5165",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="\u5411\u4E0A\u820D\u5165",e.Msg.MATH_ROUND_TOOLTIP="\u6570\u5B57\u5411\u4E0A\u6216\u5411\u4E0B\u820D\u5165\u3002",e.Msg.MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/\u5E73\u65B9\u6839",e.Msg.MATH_SINGLE_OP_ABSOLUTE="\u7EDD\u5BF9\u503C",e.Msg.MATH_SINGLE_OP_ROOT="\u5E73\u65B9\u6839",e.Msg.MATH_SINGLE_TOOLTIP_ABS="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u7EDD\u5BF9\u503C\u3002",e.Msg.MATH_SINGLE_TOOLTIP_EXP="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684e\u6B21\u5E42\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LN="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u81EA\u7136\u5BF9\u6570\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u4EE510\u4E3A\u5E95\u7684\u5BF9\u6570\u3002",e.Msg.MATH_SINGLE_TOOLTIP_NEG="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u76F8\u53CD\u6570\u3002",e.Msg.MATH_SINGLE_TOOLTIP_POW10="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u768410\u6B21\u5E42\u3002",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="\u8FD4\u56DE\u4E00\u4E2A\u6570\u7684\u5E73\u65B9\u6839\u3002",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/\u4E09\u89D2\u51FD\u6570",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u53CD\u4F59\u5F26\u503C\u3002",e.Msg.MATH_TRIG_TOOLTIP_ASIN="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u53CD\u6B63\u5F26\u503C\u3002",e.Msg.MATH_TRIG_TOOLTIP_ATAN="\u8FD4\u56DE\u4E00\u4E2A\u6570\u503C\u7684\u53CD\u6B63\u5207\u503C\u3002",e.Msg.MATH_TRIG_TOOLTIP_COS="\u8FD4\u56DE\u6307\u5B9A\u89D2\u5EA6\u7684\u4F59\u5F26\u503C(\u975E\u5F27\u5EA6\uFF09\u3002",e.Msg.MATH_TRIG_TOOLTIP_SIN="\u8FD4\u56DE\u6307\u5B9A\u89D2\u5EA6\u7684\u6B63\u5F26\u503C(\u975E\u5F27\u5EA6\uFF09\u3002",e.Msg.MATH_TRIG_TOOLTIP_TAN="\u8FD4\u56DE\u6307\u5B9A\u89D2\u5EA6\u7684\u6B63\u5207\u503C(\u975E\u5F27\u5EA6\uFF09\u3002",e.Msg.NEW_COLOUR_VARIABLE="\u521B\u5EFA\u989C\u8272\u53D8\u91CF...",e.Msg.NEW_NUMBER_VARIABLE="\u521B\u5EFA\u6570\u5B57\u53D8\u91CF...",e.Msg.NEW_STRING_VARIABLE="\u521B\u5EFA\u5B57\u7B26\u4E32\u53D8\u91CF...",e.Msg.NEW_VARIABLE="\u521B\u5EFA\u53D8\u91CF...",e.Msg.NEW_VARIABLE_TITLE="\u65B0\u53D8\u91CF\u7684\u540D\u79F0\uFF1A",e.Msg.NEW_VARIABLE_TYPE_TITLE="\u65B0\u53D8\u91CF\u7684\u7C7B\u578B\uFF1A",e.Msg.ORDINAL_NUMBER_SUFFIX="-",e.Msg.PROCEDURES_ALLOW_STATEMENTS="\u5141\u8BB8\u58F0\u660E",e.Msg.PROCEDURES_BEFORE_PARAMS="\u4E0E\uFF1A",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/\u5B50\u7A0B\u5E8F",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="\u8FD0\u884C\u7528\u6237\u5B9A\u4E49\u7684\u51FD\u6570\u201C%1\u201D\u3002",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/\u5B50\u7A0B\u5E8F",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="\u8FD0\u884C\u7528\u6237\u5B9A\u4E49\u7684\u51FD\u6570\u201C%1\u201D\uFF0C\u5E76\u4F7F\u7528\u5B83\u7684\u8F93\u51FA\u503C\u3002",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\u4E0E\uFF1A",e.Msg.PROCEDURES_CREATE_DO="\u521B\u5EFA\u201C%1\u201D",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="\u63CF\u8FF0\u8BE5\u529F\u80FD...",e.Msg.PROCEDURES_DEFNORETURN_DO="-",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/\u5B50\u7A0B\u5E8F",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="\u505A\u70B9\u4EC0\u4E48",e.Msg.PROCEDURES_DEFNORETURN_TITLE="\u81F3",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="\u521B\u5EFA\u4E00\u4E2A\u4E0D\u5E26\u8F93\u51FA\u503C\u7684\u51FD\u6570\u3002",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/\u5B50\u7A0B\u5E8F",e.Msg.PROCEDURES_DEFRETURN_RETURN="\u8FD4\u56DE",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="\u521B\u5EFA\u4E00\u4E2A\u6709\u8F93\u51FA\u503C\u7684\u51FD\u6570\u3002",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="\u8B66\u544A\uFF1A\u6B64\u51FD\u6570\u5177\u6709\u91CD\u590D\u53C2\u6570\u3002",e.Msg.PROCEDURES_HIGHLIGHT_DEF="\u7A81\u51FA\u663E\u793A\u51FD\u6570\u5B9A\u4E49",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="\u5982\u679C\u503C\u4E3A\u771F\uFF0C\u5219\u8FD4\u56DE\u7B2C\u4E8C\u4E2A\u503C\u3002",e.Msg.PROCEDURES_IFRETURN_WARNING="\u8B66\u544A\uFF1A\u8FD9\u4E2A\u5757\u53EA\u80FD\u5728\u51FD\u6570\u5185\u90E8\u4F7F\u7528\u3002",e.Msg.PROCEDURES_MUTATORARG_TITLE="\u8F93\u5165\u540D\u79F0\uFF1A",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="\u6DFB\u52A0\u51FD\u6570\u8F93\u5165\u3002",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="\u8F93\u5165",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="\u6DFB\u52A0\u3001\u79FB\u9664\u6216\u91CD\u65B0\u6392\u6B64\u51FD\u6570\u7684\u8F93\u5165\u3002",e.Msg.REDO="\u91CD\u505A",e.Msg.REMOVE_COMMENT="\u5220\u9664\u6CE8\u91CA",e.Msg.RENAME_VARIABLE="\u91CD\u547D\u540D\u53D8\u91CF...",e.Msg.RENAME_VARIABLE_TITLE="\u5C06\u6240\u6709\u201C%1\u201D\u53D8\u91CF\u91CD\u547D\u540D\u4E3A:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="\u5411%1\u9644\u52A0\u6587\u672C%2",e.Msg.TEXT_APPEND_TOOLTIP="\u5C06\u4E00\u4E9B\u6587\u672C\u8FFD\u52A0\u5230\u53D8\u91CF\u201C%1\u201D\u91CC\u3002",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="\u8F6C\u4E3A\u5C0F\u5199",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="\u8F6C\u4E3A\u9996\u5B57\u6BCD\u5927\u5199",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="\u8F6C\u4E3A\u5927\u5199",e.Msg.TEXT_CHANGECASE_TOOLTIP="\u7528\u4E0D\u540C\u7684\u5927\u5C0F\u5199\u6A21\u5F0F\u590D\u5236\u5E76\u8FD4\u56DE\u8FD9\u6BB5\u6587\u5B57\u3002",e.Msg.TEXT_CHARAT_FIRST="\u5BFB\u627E\u7B2C\u4E00\u4E2A\u5B57\u6BCD",e.Msg.TEXT_CHARAT_FROM_END="\u83B7\u53D6\u5B57\u7B26\u4ECE\u5012\u6570#",e.Msg.TEXT_CHARAT_FROM_START="\u83B7\u53D6\u5B57\u7B26\u4ECE#",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="\u5BFB\u627E\u6700\u540E\u4E00\u4E2A\u5B57\u6BCD",e.Msg.TEXT_CHARAT_RANDOM="\u5BFB\u627E\u968F\u673A\u7684\u5B57\u6BCD",e.Msg.TEXT_CHARAT_TAIL="-",e.Msg.TEXT_CHARAT_TITLE="\u5728\u6587\u672C%1 \u91CC %2",e.Msg.TEXT_CHARAT_TOOLTIP="\u8FD4\u56DE\u4F4D\u4E8E\u6307\u5B9A\u4F4D\u7F6E\u7684\u5B57\u6BCD\u3002",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="\u8BA1\u7B97%1\u5728%2\u91CC\u51FA\u73B0\u7684\u6B21\u6570",e.Msg.TEXT_COUNT_TOOLTIP="\u8BA1\u7B97\u5728\u4E00\u6BB5\u6587\u672C\u4E2D\uFF0C\u67D0\u4E2A\u90E8\u5206\u6587\u672C\u91CD\u590D\u51FA\u73B0\u4E86\u591A\u5C11\u6B21\u3002",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="\u5C06\u4E00\u4E2A\u9879\u6DFB\u52A0\u5230\u6587\u672C\u4E2D\u3002",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="\u52A0\u5165",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="\u6DFB\u52A0\u3001\u79FB\u9664\u6216\u91CD\u65B0\u6392\u5217\u5404\u8282\u6765\u91CD\u65B0\u914D\u7F6E\u8FD9\u4E2A\u6587\u672C\u5757\u3002",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\u5230\u6700\u540E\u4E00\u4E2A\u5B57\u7B26#",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="\u81F3\u5B57\u7B26#",e.Msg.TEXT_GET_SUBSTRING_END_LAST="\u5230\u6700\u540E\u4E00\u4E2A\u5B57\u7B26",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="\u4ECE\u6587\u672C",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="\u53D6\u5F97\u5B50\u4E32\u81EA\u7B2C\u4E00\u4E2A\u5B57\u7B26",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\u53D6\u5F97\u5B50\u4E32\u81EA\u5012\u6570#",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\u53D6\u5F97\u5B50\u4E32\u81EA#",e.Msg.TEXT_GET_SUBSTRING_TAIL="-",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="\u8FD4\u56DE\u6587\u672C\u4E2D\u6307\u5B9A\u7684\u4E00\u90E8\u5206\u3002",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="\u5BFB\u627E\u7B2C\u4E00\u6B21\u51FA\u73B0\u7684\u6587\u672C",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="\u5BFB\u627E\u6700\u540E\u4E00\u6B21\u51FA\u73B0\u7684\u6587\u672C",e.Msg.TEXT_INDEXOF_TITLE="\u5728\u6587\u672C %1 \u91CC %2  %3",e.Msg.TEXT_INDEXOF_TOOLTIP="\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u6587\u672C\u6BB5\u5728\u7B2C\u4E8C\u4E2A\u6587\u672C\u6BB5\u4E2D\u7684\u7B2C\u4E00/\u6700\u540E\u4E00\u4E2A\u5339\u914D\u9879\u7684\u8D77\u59CB\u4F4D\u7F6E\u3002\u5982\u679C\u672A\u627E\u5230\uFF0C\u5219\u8FD4\u56DE%1\u3002",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1\u662F\u7A7A\u7684",e.Msg.TEXT_ISEMPTY_TOOLTIP="\u5982\u679C\u7ED9\u5B9A\u7684\u6587\u672C\u4E3A\u7A7A\uFF0C\u5219\u8FD4\u56DE\u771F\u3002",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="\u5EFA\u7ACB\u6587\u672C\u4ECE",e.Msg.TEXT_JOIN_TOOLTIP="\u901A\u8FC7\u4E32\u8D77\u4EFB\u610F\u6570\u91CF\u7684\u9879\u4EE5\u5EFA\u7ACB\u4E00\u6BB5\u6587\u672C\u3002",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="%1\u7684\u957F\u5EA6",e.Msg.TEXT_LENGTH_TOOLTIP="\u8FD4\u56DE\u7ED9\u5B9A\u6587\u672C\u7684\u5B57\u6BCD\u6570\uFF08\u5305\u62EC\u7A7A\u683C\uFF09\u3002",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="\u8F93\u51FA%1",e.Msg.TEXT_PRINT_TOOLTIP="\u8F93\u51FA\u6307\u5B9A\u7684\u6587\u5B57\u3001\u6570\u5B57\u6216\u5176\u4ED6\u503C\u3002",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="\u8981\u6C42\u7528\u6237\u8F93\u5165\u6570\u5B57\u3002",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="\u8981\u6C42\u7528\u6237\u8F93\u5165\u4E00\u4E9B\u6587\u672C\u3002",e.Msg.TEXT_PROMPT_TYPE_NUMBER="\u8981\u6C42\u8F93\u5165\u6570\u5B57\uFF0C\u5E76\u663E\u793A\u63D0\u793A\u6D88\u606F",e.Msg.TEXT_PROMPT_TYPE_TEXT="\u8981\u6C42\u8F93\u5165\u6587\u672C\uFF0C\u5E76\u663E\u793A\u63D0\u793A\u6D88\u606F",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="\u5728%3\u4E2D\uFF0C\u5C06%1\u66FF\u6362\u4E3A%2",e.Msg.TEXT_REPLACE_TOOLTIP="\u5728\u4E00\u6BB5\u6587\u672C\u4E2D\uFF0C\u5C06\u51FA\u73B0\u8FC7\u7684\u67D0\u90E8\u5206\u6587\u672C\u90FD\u66FF\u6362\u6389\u3002",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="\u7FFB\u8F6C\u6587\u672C%1",e.Msg.TEXT_REVERSE_TOOLTIP="\u5C06\u6587\u672C\u4E2D\u5404\u4E2A\u5B57\u7B26\u7684\u987A\u5E8F\u5012\u8F6C\u3002",e.Msg.TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/\u5B57\u7B26\u4E32",e.Msg.TEXT_TEXT_TOOLTIP="\u4E00\u4E2A\u5B57\u3001\u8BCD\u8BED\u6216\u4E00\u884C\u6587\u672C\u3002",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="\u6D88\u9664\u5176\u4E24\u4FA7\u7684\u7A7A\u767D",e.Msg.TEXT_TRIM_OPERATOR_LEFT="\u6D88\u9664\u5176\u5DE6\u4FA7\u7684\u7A7A\u767D",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="\u6D88\u9664\u5176\u53F3\u4FA7\u7684\u7A7A\u767D",e.Msg.TEXT_TRIM_TOOLTIP="\u4ECE\u67D0\u4E00\u7AEF\u6216\u540C\u65F6\u4ECE\u4E24\u7AEF\u5220\u9664\u591A\u4F59\u7684\u7A7A\u767D\uFF0C\u5E76\u8FD4\u56DE\u8FD9\u6BB5\u6587\u5B57\u7684\u4E00\u4E2A\u526F\u672C\u3002",e.Msg.TODAY="\u4ECA\u5929",e.Msg.UNDO="\u64A4\u9500",e.Msg.UNNAMED_KEY="\u533F\u540D",e.Msg.VARIABLES_DEFAULT_NAME="\u9879\u76EE",e.Msg.VARIABLES_GET_CREATE_SET="\u521B\u5EFA\u201C\u8BBE\u5B9A%1\u201D",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="\u8FD4\u56DE\u6B64\u53D8\u91CF\u7684\u503C\u3002",e.Msg.VARIABLES_SET="\u8D4B\u503C %1 \u4E3A %2",e.Msg.VARIABLES_SET_CREATE_GET="\u521B\u5EFA\u201C\u83B7\u5F97%1\u201D",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="\u8BBE\u7F6E\u6B64\u53D8\u91CF\uFF0C\u4EE5\u4F7F\u5B83\u548C\u8F93\u5165\u503C\u76F8\u7B49\u3002",e.Msg.VARIABLE_ALREADY_EXISTS="\u540D\u5B57\u53EB\u201C%1\u201D\u7684\u53D8\u91CF\u5DF2\u7ECF\u5B58\u5728\u4E86\u3002",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="\u540D\u5B57\u53EB\u201C%1\u201D\u7684\u53D8\u91CF\u5DF2\u7ECF\u6709\u4E86\u53E6\u4E00\u4E2A\u7C7B\u578B\uFF1A\u201C%2\u201D\u3002",e.Msg.WORKSPACE_ARIA_LABEL="Blockly\u5DE5\u4F5C\u533A",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="\u8BF4\u70B9\u4EC0\u4E48...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})},function(e,t,o){"use strict";(function(t){function r(e,t){for(var o=[],r=0,i;r<e.length;r++)i=e[r],!i||"."===i||(".."===i?o.length&&".."!==o[o.length-1]?o.pop():t&&o.push(".."):o.push(i));return o}function i(e){return s.exec(e).slice(1)}var n=o(116),a=function(e){return"string"==typeof e},s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};l.resolve=function(){for(var e="",o=!1,n=arguments.length-1,i;-1<=n&&!o;n--){if(i=0<=n?arguments[n]:t.cwd(),!a(i))throw new TypeError("Arguments to path.resolve must be strings");else if(!i)continue;e=i+"/"+e,o="/"===i.charAt(0)}return e=r(e.split("/"),!o).join("/"),(o?"/":"")+e||"."},l.normalize=function(e){var t=l.isAbsolute(e),o="/"===e.substr(-1);return e=r(e.split("/"),!t).join("/"),e||t||(e="."),e&&o&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){for(var e="",t=0,o;t<arguments.length;t++){if(o=arguments[t],!a(o))throw new TypeError("Arguments to path.join must be strings");o&&(e?e+="/"+o:e+=o)}return l.normalize(e)},l.relative=function(e,t){function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var o=e.length-1;0<=o&&""===e[o];o--);return t>o?[]:e.slice(t,o+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var r=o(e.split("/")),n=o(t.split("/")),a=Math.min(r.length,n.length),s=a,d=0;d<a;d++)if(r[d]!==n[d]){s=d;break}for(var i=[],d=s;d<r.length;d++)i.push("..");return i=i.concat(n.slice(s)),i.join("/")},l._makeLong=function(e){return e},l.dirname=function(e){var t=i(e),o=t[0],r=t[1];return o||r?(r&&(r=r.substr(0,r.length-1)),o+r):"."},l.basename=function(e,t){var o=i(e)[2];return t&&o.substr(-1*t.length)===t&&(o=o.substr(0,o.length-t.length)),o},l.extname=function(e){return i(e)[3]},l.format=function(e){if(!n.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!a(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var o=e.dir?e.dir+l.sep:"",i=e.base||"";return o+i},l.parse=function(e){if(!a(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=i(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,t[1].length-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},l.sep="/",l.delimiter=":",e.exports=l}).call(this,o(22))},function(e){e.exports="<div id=varialeTableSelectedVariables></div> <button id=AddVariablesToWatchButton>\u6DFB\u52A0\u9700\u8981\u89C2\u6D4B\u7684\u53D8\u91CF</button> "},function(e){e.exports="<div class=mdc-dialog> <div class=mdc-dialog__container> <div class=mdc-dialog__surface role=alertdialog aria-modal=true> <h2 class=mdc-dialog__title></h2> <div class=mdc-dialog__content> <ul class=mdc-list></ul> </div> <div class=mdc-dialog__actions> <button type=button class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=close> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u53D6\u6D88</span> </button> <button type=button class=\"mdc-button mdc-dialog__button\" data-mdc-dialog-action=accept data-mdc-dialog-initial-focus> <div class=mdc-button__ripple></div> <span class=mdc-button__label>\u786E\u8BA4</span> </button> </div> </div> </div> <div class=mdc-dialog__scrim></div> </div> "},function(e,t,o){(function(t){function o(){var e=Date.now(),t=o.last||e;return o.last=e>t?e:t+1}var i=t&&t.pid?t.pid.toString(36):"";e.exports=e.exports.default=function(e,t){return(e?e:"")+""+i+o().toString(36)+(t?t:"")},e.exports.process=function(e,t){return(e?e:"")+i+o().toString(36)+(t?t:"")},e.exports.time=function(e,t){return(e?e:"")+o().toString(36)+(t?t:"")}}).call(this,o(22))},function(e){"use strict";e.exports=function(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},o=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},a=14;a--;)n[r.key[a]]=o[a]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,o){t&&(n[r.q.name][t]=o)}),n}},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"images/file-loader-bbb0394a2cd395948e9f69e10ac316c8.svg"},function(e,t){"use strict";t.a="<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <category name=\"\u79FB\u52A8\" colour=\"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}\">\n    <block type=\"custom_turtle_environment_move\">\n      <value name=\"DISTANCE\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_move_to_coordinate\">\n      <value name=\"X\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0</field>\n        </shadow>\n      </value>\n      <value name=\"Y\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_get_coordinate\">\n    </block>\n    <block type=\"custom_turtle_environment_turn\">\n      <value name=\"ANGLE\">\n        <shadow type=\"custom_angle\">\n          <field name=\"ANGLE\">90</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_turn_to_angle\">\n      <value name=\"ANGLE\">\n        <shadow type=\"custom_angle\">\n          <field name=\"ANGLE\">90</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_get_angle\">\n    </block>\n  </category>\n  <category name=\"\u753B\u7B14\" colour=\"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}\">\n    <block type=\"custom_turtle_environment_set_pen\">\n    </block>\n    <block type=\"custom_turtle_environment_set_pen_color\">\n      <value name=\"COLOUR\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#000000</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_set_pen_width\">\n      <value name=\"WIDTH\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_fill\">\n      <value name=\"COLOUR\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#000000</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name=\"\u55B7\u6F06\" colour=\"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_DRAW_HUE}\">\n    <block type=\"custom_turtle_environment_draw_shape\">\n      <value name=\"COLOUR\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#000000</field>\n        </shadow>\n      </value>\n      <value name=\"WIDTH\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">100</field>\n        </shadow>\n      </value>\n      <value name=\"HEIGHT\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">50</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_draw_text\">\n      <value name=\"TEXT\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n      <value name=\"COLOUR\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#000000</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_turtle_environment_draw_image\">\n    </block>\n  </category>\n  <category name=\"\u8F93\u5165\" colour=\"%{BKY_CUSTOM_INPUT_HUE}\">\n    <block type=\"custom_is_key_down\">\n    </block>\n    <block type=\"custom_turtle_environment_get_mouse_coordinate\">\n    </block>\n    <block type=\"custom_turtle_environment_is_mouse_key_down\">\n    </block>\n    <block type=\"custom_input\">\n      <value name=\"HINT\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"custom_select\">\n      <value name=\"TITLE\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">\u8BF7\u9009\u62E9</field>\n        </shadow>\n      </value>\n      <value name=\"OPTIONS\">\n        <block type=\"lists_create_with\">\n          <mutation items=\"2\"></mutation>\n          <value name=\"ADD0\">\n            <block type=\"text\">\n              <field name=\"TEXT\">\u9009\u98791</field>\n            </block>\n          </value>\n          <value name=\"ADD1\">\n            <block type=\"text\">\n              <field name=\"TEXT\">\u9009\u98792</field>\n            </block>\n          </value>\n        </block>\n      </value>\n    </block>\n  </category>\n  <category name=\"\u5176\u4ED6\" colour=\"%{BKY_CUSTOM_HUE}\">\n    <block type=\"custom_turtle_environment_set_visibility\">\n    </block>\n    <block type=\"custom_turtle_environment_clear_canvas\">\n    </block>\n    <block type=\"custom_wait_seconds\">\n      <value name=\"SECONDS\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <sep></sep>\n  <category name=\"\u903B\u8F91\" colour=\"%{BKY_LOGIC_HUE}\">\n    <block type=\"controls_if\"></block>\n    <block type=\"logic_compare\"></block>\n    <block type=\"logic_operation\"></block>\n    <block type=\"logic_negate\"></block>\n    <block type=\"logic_boolean\"></block>\n    <block type=\"logic_null\"></block>\n    <block type=\"logic_ternary\"></block>\n  </category>\n  <category name=\"\u5FAA\u73AF\" colour=\"%{BKY_LOOPS_HUE}\">\n    <block type=\"controls_repeat_ext\">\n      <value name=\"TIMES\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"controls_whileUntil\"></block>\n    <block type=\"controls_for\">\n      <value name=\"FROM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n      <value name=\"TO\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">10</field>\n        </shadow>\n      </value>\n      <value name=\"BY\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"controls_forEach\"></block>\n    <block type=\"controls_flow_statements\"></block>\n  </category>\n  <category name=\"\u6570\u5B66\" colour=\"%{BKY_MATH_HUE}\">\n    <block type=\"math_number\">\n      <field name=\"NUM\">123</field>\n    </block>\n    <block type=\"math_arithmetic\">\n      <value name=\"A\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n      <value name=\"B\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_single\">\n      <value name=\"NUM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">9</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_trig\">\n      <value name=\"NUM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">45</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_constant\"></block>\n    <block type=\"math_number_property\">\n      <value name=\"NUMBER_TO_CHECK\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_round\">\n      <value name=\"NUM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">3.1</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_on_list\"></block>\n    <block type=\"math_modulo\">\n      <value name=\"DIVIDEND\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">64</field>\n        </shadow>\n      </value>\n      <value name=\"DIVISOR\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">10</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_constrain\">\n      <value name=\"VALUE\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">50</field>\n        </shadow>\n      </value>\n      <value name=\"LOW\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n      <value name=\"HIGH\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_random_int\">\n      <value name=\"FROM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n      <value name=\"TO\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">100</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"math_random_float\"></block>\n    <block type=\"math_atan2\">\n      <value name=\"X\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n      <value name=\"Y\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">1</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name=\"\u6587\u672C\" colour=\"%{BKY_TEXTS_HUE}\">\n    <block type=\"text\"></block>\n    <block type=\"text_join\"></block>\n    <block type=\"text_append\">\n      <value name=\"TEXT\">\n        <shadow type=\"text\"></shadow>\n      </value>\n    </block>\n    <block type=\"text_length\">\n      <value name=\"VALUE\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"text_isEmpty\">\n      <value name=\"VALUE\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\"></field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"text_indexOf\">\n      <value name=\"VALUE\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u6587\u672C</field>\n        </block>\n      </value>\n      <value name=\"FIND\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"text_charAt\">\n      <value name=\"VALUE\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u6587\u672C</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"text_getSubstring\">\n      <value name=\"STRING\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u6587\u672C</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"text_changeCase\">\n      <value name=\"TEXT\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"text_trim\">\n      <value name=\"TEXT\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">abc</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <category name=\"\u5217\u8868\" colour=\"%{BKY_LISTS_HUE}\">\n    <block type=\"lists_create_with\">\n      <mutation items=\"0\"></mutation>\n    </block>\n    <block type=\"lists_create_with\"></block>\n    <block type=\"lists_repeat\">\n      <value name=\"NUM\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">5</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"lists_length\"></block>\n    <block type=\"lists_isEmpty\"></block>\n    <block type=\"lists_indexOf\">\n      <value name=\"VALUE\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u5217\u8868</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"lists_getIndex\">\n      <value name=\"VALUE\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u5217\u8868</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"lists_setIndex\">\n      <value name=\"LIST\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u5217\u8868</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"lists_getSublist\">\n      <value name=\"LIST\">\n        <block type=\"variables_get\">\n          <field name=\"VAR\">\u5217\u8868</field>\n        </block>\n      </value>\n    </block>\n    <block type=\"lists_split\">\n      <value name=\"DELIM\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">,</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"lists_sort\"></block>\n  </category>\n  <category name=\"\u989C\u8272\" colour=\"%{BKY_COLOUR_HUE}\">\n    <block type=\"colour_picker\"></block>\n    <block type=\"colour_random\"></block>\n    <block type=\"colour_rgb\">\n      <value name=\"RED\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">100</field>\n        </shadow>\n      </value>\n      <value name=\"GREEN\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">50</field>\n        </shadow>\n      </value>\n      <value name=\"BLUE\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0</field>\n        </shadow>\n      </value>\n    </block>\n    <block type=\"colour_blend\">\n      <value name=\"COLOUR1\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#ff0000</field>\n        </shadow>\n      </value>\n      <value name=\"COLOUR2\">\n        <shadow type=\"colour_picker\">\n          <field name=\"COLOUR\">#3333ff</field>\n        </shadow>\n      </value>\n      <value name=\"RATIO\">\n        <shadow type=\"math_number\">\n          <field name=\"NUM\">0.5</field>\n        </shadow>\n      </value>\n    </block>\n  </category>\n  <sep></sep>\n  <category name=\"\u53D8\u91CF\" colour=\"%{BKY_VARIABLES_HUE}\" custom=\"VARIABLE\"></category>\n  <category name=\"\u51FD\u6570\" colour=\"%{BKY_PROCEDURES_HUE}\" custom=\"PROCEDURE\"></category>\n</xml>\n"},function(e,t,o){"use strict";o.d(t,"a",function(){return l});var i=o(2),r=o(9),n=o(6),a=o(1),s=o(17),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.b)(t,e),Object.defineProperty(t.prototype,"vertical",{set:function(e){this.foundation.setVerticalOrientation(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return[].slice.call(this.root.querySelectorAll("."+a.a.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{set:function(e){this.foundation.setWrapFocus(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return this.foundation.isTypeaheadInProgress()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.foundation.setHasTypeahead(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"singleSelection",{set:function(e){this.foundation.setSingleSelection(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.foundation.getSelectedIndex()},set:function(e){this.foundation.setSelectedIndex(e)},enumerable:!0,configurable:!0}),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){this.handleClick_=this.handleClickEvent_.bind(this),this.handleKeydown_=this.handleKeydownEvent_.bind(this),this.focusInEventListener_=this.handleFocusInEvent_.bind(this),this.focusOutEventListener_=this.handleFocusOutEvent_.bind(this),this.listen("keydown",this.handleKeydown_),this.listen("click",this.handleClick_),this.listen("focusin",this.focusInEventListener_),this.listen("focusout",this.focusOutEventListener_),this.layout(),this.initializeListType()},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_),this.unlisten("click",this.handleClick_),this.unlisten("focusin",this.focusInEventListener_),this.unlisten("focusout",this.focusOutEventListener_)},t.prototype.layout=function(){var e=this.root.getAttribute(a.c.ARIA_ORIENTATION);this.vertical=e!==a.c.ARIA_ORIENTATION_HORIZONTAL,[].slice.call(this.root.querySelectorAll(".mdc-list-item:not([tabindex])")).forEach(function(e){e.setAttribute("tabindex","-1")}),[].slice.call(this.root.querySelectorAll(a.c.FOCUSABLE_CHILD_ELEMENTS)).forEach(function(e){return e.setAttribute("tabindex","-1")}),this.foundation.layout()},t.prototype.getPrimaryText=function(e){var t=e.querySelector("."+a.a.LIST_ITEM_PRIMARY_TEXT_CLASS);if(t)return t.textContent||"";var o=e.querySelector("."+a.a.LIST_ITEM_TEXT_CLASS);return o&&o.textContent||""},t.prototype.initializeListType=function(){var e=this,t=this.root.querySelectorAll(a.c.ARIA_ROLE_CHECKBOX_SELECTOR),o=this.root.querySelector("\n      ."+a.a.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+a.a.LIST_ITEM_SELECTED_CLASS+"\n    "),i=this.root.querySelector(a.c.ARIA_CHECKED_RADIO_SELECTOR);if(t.length){var r=this.root.querySelectorAll(a.c.ARIA_CHECKED_CHECKBOX_SELECTOR);this.selectedIndex=[].map.call(r,function(t){return e.listElements.indexOf(t)})}else o?(o.classList.contains(a.a.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(o)):i&&(this.selectedIndex=this.listElements.indexOf(i))},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.typeaheadMatchItem=function(e,t){return this.foundation.typeaheadMatchItem(e,t,!0)},t.prototype.getDefaultFoundation=function(){var e=this;return new s.a({addClassForElementIndex:function(t,o){var i=e.listElements[t];i&&i.classList.add(o)},focusItemAtIndex:function(t){var o=e.listElements[t];o&&o.focus()},getAttributeForElementIndex:function(t,o){return e.listElements[t].getAttribute(o)},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},getListItemCount:function(){return e.listElements.length},getPrimaryTextAtIndex:function(t){return e.getPrimaryText(e.listElements[t])},hasCheckboxAtIndex:function(t){var o=e.listElements[t];return!!o.querySelector(a.c.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(t){var o=e.listElements[t];return!!o.querySelector(a.c.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(t){var o=e.listElements[t],i=o.querySelector(a.c.CHECKBOX_SELECTOR);return i.checked},isFocusInsideList:function(){return e.root.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===e.root},listItemAtIndexHasClass:function(t,o){return e.listElements[t].classList.contains(o)},notifyAction:function(t){e.emit(a.c.ACTION_EVENT,{index:t},!0)},removeClassForElementIndex:function(t,o){var i=e.listElements[t];i&&i.classList.remove(o)},setAttributeForElementIndex:function(t,o,i){var r=e.listElements[t];r&&r.setAttribute(o,i)},setCheckedCheckboxOrRadioAtIndex:function(t,o){var i=e.listElements[t],r=i.querySelector(a.c.CHECKBOX_RADIO_SELECTOR);r.checked=o;var n=document.createEvent("Event");n.initEvent("change",!0,!0),r.dispatchEvent(n)},setTabIndexForListItemChildren:function(t,o){var i=e.listElements[t],r=[].slice.call(i.querySelectorAll(a.c.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX));r.forEach(function(e){return e.setAttribute("tabindex",o)})}})},t.prototype.getListItemIndex_=function(e){var t=e.target,o=Object(n.a)(t,"."+a.a.LIST_ITEM_CLASS+", ."+a.a.ROOT);return o&&Object(n.c)(o,"."+a.a.LIST_ITEM_CLASS)?this.listElements.indexOf(o):-1},t.prototype.handleFocusInEvent_=function(e){var t=this.getListItemIndex_(e);this.foundation.handleFocusIn(e,t)},t.prototype.handleFocusOutEvent_=function(e){var t=this.getListItemIndex_(e);this.foundation.handleFocusOut(e,t)},t.prototype.handleKeydownEvent_=function(e){var t=this.getListItemIndex_(e),o=e.target;this.foundation.handleKeydown(e,o.classList.contains(a.a.LIST_ITEM_CLASS),t)},t.prototype.handleClickEvent_=function(e){var t=this.getListItemIndex_(e),o=e.target,i=!Object(n.c)(o,a.c.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(t,i)},t}(r.a);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */},,function(e,t,o){"use strict";var r=Math.pow,i=Math.floor,n=Math.min,a=String.fromCharCode;(function(e){function s(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=d.prototype):(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,o){if(!d.TYPED_ARRAY_SUPPORT&&!(this instanceof d))return new d(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _(this,e)}return c(this,e,t,o)}function c(e,t,o,i){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,o,i):"string"==typeof t?g(e,t,o):T(e,t)}function p(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");else if(0>e)throw new RangeError("\"size\" argument must not be negative")}function u(e,t,o,i){return p(t),0>=t?l(e,t):void 0===o?l(e,t):"string"==typeof i?l(e,t).fill(o,i):l(e,t).fill(o)}function _(e,t){if(p(t),e=l(e,0>t?0:0|b(t)),!d.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function g(e,t,o){if(("string"!=typeof o||""===o)&&(o="utf8"),!d.isEncoding(o))throw new TypeError("\"encoding\" must be a valid string encoding");var i=0|E(t,o);e=l(e,i);var r=e.write(t,o);return r!==i&&(e=e.slice(0,r)),e}function m(e,t){var o=0>t.length?0:0|b(t.length);e=l(e,o);for(var r=0;r<o;r+=1)e[r]=255&t[r];return e}function h(e,t,o,i){if(t.byteLength,0>o||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===o&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,o):new Uint8Array(t,o,i),d.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=d.prototype):e=m(e,t),e}function T(e,t){if(d.isBuffer(t)){var o=0|b(t.length);return(e=l(e,o),0===e.length)?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?l(e,0):m(e,t);if("Buffer"===t.type&&oe(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function E(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Z(e).length;default:if(i)return J(e).length;t=(""+t).toLowerCase(),i=!0;}}function y(e,t,o){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),0>=o)return"";if(o>>>=0,t>>>=0,o<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return w(this,t,o);case"utf8":case"utf-8":return L(this,t,o);case"ascii":return M(this,t,o);case"latin1":case"binary":return P(this,t,o);case"base64":return N(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,o);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0;}}function v(e,t,o){var r=e[t];e[t]=e[o],e[o]=r}function S(e,t,o,i,r){if(0===e.length)return-1;if("string"==typeof o?(i=o,o=0):2147483647<o?o=2147483647:-2147483648>o&&(o=-2147483648),o=+o,isNaN(o)&&(o=r?0:e.length-1),0>o&&(o=e.length+o),o>=e.length){if(r)return-1;o=e.length-1}else if(0>o)if(r)o=0;else return-1;if("string"==typeof t&&(t=d.from(t,i)),d.isBuffer(t))return 0===t.length?-1:R(e,t,o,i,r);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):R(e,[t],o,i,r);throw new TypeError("val must be string, number or Buffer")}function R(e,t,o,r,n){function a(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,l=e.length,d=t.length;if(void 0!==r&&(r=(r+"").toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,l/=2,d/=2,o/=2}var c;if(n){var i=-1;for(c=o;c<l;c++)if(a(e,c)!==a(t,-1==i?0:c-i))-1!=i&&(c-=c-i),i=-1;else if(-1==i&&(i=c),c-i+1===d)return i*s}else for(o+d>l&&(o=l-d),c=o;0<=c;c--){for(var p=!0,u=0;u<d;u++)if(a(e,c+u)!==a(t,u)){p=!1;break}if(p)return c}return-1}function I(e,t,o,r){o=+o||0;var n=e.length-o;r?(r=+r,r>n&&(r=n)):r=n;var a=t.length;if(0!=a%2)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var s=0,i;s<r;++s){if(i=parseInt(t.substr(2*s,2),16),isNaN(i))return s;e[o+s]=i}return s}function x(e,t,o,i){return Q(J(t,e.length-o),e,o,i)}function C(e,t,o,i){return Q(K(t),e,o,i)}function O(e,t,o,i){return C(e,t,o,i)}function k(e,t,o,i){return Q(Z(t),e,o,i)}function A(e,t,o,i){return Q(q(t,e.length-o),e,o,i)}function N(e,t,o){return 0===t&&o===e.length?ee.fromByteArray(e):ee.fromByteArray(e.slice(t,o))}function L(e,t,o){o=n(e.length,o);for(var r=[],a=t;a<o;){var i=e[a],s=null,l=239<i?4:223<i?3:191<i?2:1;if(a+l<=o){var d,c,p,u;1==l?128>i&&(s=i):2==l?(d=e[a+1],128==(192&d)&&(u=(31&i)<<6|63&d,127<u&&(s=u))):3==l?(d=e[a+1],c=e[a+2],128==(192&d)&&128==(192&c)&&(u=(15&i)<<12|(63&d)<<6|63&c,2047<u&&(55296>u||57343<u)&&(s=u))):4==l?(d=e[a+1],c=e[a+2],p=e[a+3],128==(192&d)&&128==(192&c)&&128==(192&p)&&(u=(15&i)<<18|(63&d)<<12|(63&c)<<6|63&p,65535<u&&1114112>u&&(s=u))):void 0}null===s?(s=65533,l=1):65535<s&&(s-=65536,r.push(55296|1023&s>>>10),s=56320|1023&s),r.push(s),a+=l}return D(r)}function D(e){var t=e.length;if(t<=ie)return a.apply(String,e);for(var o="",r=0;r<t;)o+=a.apply(String,e.slice(r,r+=ie));return o}function M(e,t,o){var r="";o=n(e.length,o);for(var s=t;s<o;++s)r+=a(127&e[s]);return r}function P(e,t,o){var r="";o=n(e.length,o);for(var s=t;s<o;++s)r+=a(e[s]);return r}function w(e,t,o){var r=e.length;(!t||0>t)&&(t=0),(!o||0>o||o>r)&&(o=r);for(var n="",a=t;a<o;++a)n+=j(e[a]);return n}function B(e,t,o){for(var r=e.slice(t,o),n="",s=0;s<r.length;s+=2)n+=a(r[s]+256*r[s+1]);return n}function F(e,t,o){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,o,i,r,n){if(!d.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>r||t<n)throw new RangeError("\"value\" argument is out of bounds");if(o+i>e.length)throw new RangeError("Index out of range")}function H(e,t,o,r){0>t&&(t=65535+t+1);for(var a=0,i=n(e.length-o,2);a<i;++a)e[o+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function G(e,t,o,r){0>t&&(t=4294967295+t+1);for(var a=0,i=n(e.length-o,4);a<i;++a)e[o+a]=255&t>>>8*(r?a:3-a)}function V(e,t,o,i){if(o+i>e.length)throw new RangeError("Index out of range");if(0>o)throw new RangeError("Index out of range")}function z(e,t,o,i,r){return r||V(e,t,o,4,34028234663852886e22,-34028234663852886e22),te.write(e,t,o,i,23,4),o+4}function W(e,t,o,i,r){return r||V(e,t,o,8,17976931348623157e292,-17976931348623157e292),te.write(e,t,o,i,52,8),o+8}function X(e){if(e=Y(e).replace(re,""),2>e.length)return"";for(;0!=e.length%4;)e+="=";return e}function Y(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function j(e){return 16>e?"0"+e.toString(16):e.toString(16)}function J(e,t){t=t||Infinity;for(var o=e.length,r=null,n=[],a=0,i;a<o;++a){if(i=e.charCodeAt(a),55295<i&&57344>i){if(!r){if(56319<i){-1<(t-=3)&&n.push(239,191,189);continue}else if(a+1===o){-1<(t-=3)&&n.push(239,191,189);continue}r=i;continue}if(56320>i){-1<(t-=3)&&n.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&-1<(t-=3)&&n.push(239,191,189);if(r=null,128>i){if(0>(t-=1))break;n.push(i)}else if(2048>i){if(0>(t-=2))break;n.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(t-=3))break;n.push(224|i>>12,128|63&i>>6,128|63&i)}else if(1114112>i){if(0>(t-=4))break;n.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}else throw new Error("Invalid code point")}return n}function K(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function q(e,t){for(var o=[],r=0,i,n,a;r<e.length&&!(0>(t-=2));++r)i=e.charCodeAt(r),n=i>>8,a=i%256,o.push(a),o.push(n);return o}function Z(e){return ee.toByteArray(X(e))}function Q(e,t,o,r){for(var n=0;n<r&&!(n+o>=t.length||n>=e.length);++n)t[n+o]=e[n];return n}function $(e){return e!==e}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var ee=o(40),te=o(41),oe=o(42);t.Buffer=d,t.SlowBuffer=function(e){return+e!=e&&(e=0),d.alloc(+e)},t.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT===void 0?function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}():e.TYPED_ARRAY_SUPPORT,t.kMaxLength=s(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,o){return c(null,e,t,o)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,o){return u(null,e,t,o)},d.allocUnsafe=function(e){return _(null,e)},d.allocUnsafeSlow=function(e){return _(null,e)},d.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,r=t.length,a=0,i=n(o,r);a<i;++a)if(e[a]!==t[a]){o=e[a],r=t[a];break}return o<r?-1:r<o?1:0},d.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},d.concat=function(e,t){if(!oe(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return d.alloc(0);var o;if(t===void 0)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var i=d.allocUnsafe(t),r=0;for(o=0;o<e.length;++o){var n=e[o];if(!d.isBuffer(n))throw new TypeError("\"list\" argument must be an Array of Buffers");n.copy(i,r),r+=n.length}return i},d.byteLength=E,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?L(this,0,e):y.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",o=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,o).match(/.{2}/g).join(" "),this.length>o&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,o,r,a){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),0>t||o>e.length||0>r||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=o)return 0;if(r>=a)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var s=a-r,l=o-t,c=n(s,l),p=this.slice(r,a),u=e.slice(t,o),_=0;_<c;++_)if(p[_]!==u[_]){s=p[_],l=u[_];break}return s<l?-1:l<s?1:0},d.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},d.prototype.indexOf=function(e,t,o){return S(this,e,t,o,!0)},d.prototype.lastIndexOf=function(e,t,o){return S(this,e,t,o,!1)},d.prototype.write=function(e,t,o,i){if(void 0===t)i="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)i=t,o=this.length,t=0;else if(isFinite(t))t|=0,isFinite(o)?(o|=0,void 0===i&&(i="utf8")):(i=o,o=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r=this.length-t;if((void 0===o||o>r)&&(o=r),0<e.length&&(0>o||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var n=!1;;)switch(i){case"hex":return I(this,e,t,o);case"utf8":case"utf-8":return x(this,e,t,o);case"ascii":return C(this,e,t,o);case"latin1":case"binary":return O(this,e,t,o);case"base64":return k(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,o);default:if(n)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),n=!0;}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ie=4096;d.prototype.slice=function(e,t){var o=this.length;e=~~e,t=t===void 0?o:~~t,0>e?(e+=o,0>e&&(e=0)):e>o&&(e=o),0>t?(t+=o,0>t&&(t=0)):t>o&&(t=o),t<e&&(t=e);var r;if(d.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=d.prototype;else{var n=t-e;r=new d(n,void 0);for(var a=0;a<n;++a)r[a]=this[a+e]}return r},d.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||F(e,t,this.length);for(var r=this[e],n=1,a=0;++a<t&&(n*=256);)r+=this[e+a]*n;return r},d.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||F(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},d.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||F(e,t,this.length);for(var n=this[e],a=1,s=0;++s<t&&(a*=256);)n+=this[e+s]*a;return a*=128,n>=a&&(n-=r(2,8*t)),n},d.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||F(e,t,this.length);for(var n=t,i=1,a=this[e+--n];0<n&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=r(2,8*t)),a},d.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},d.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},d.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),te.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),te.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),te.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),te.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,o,n){if(e=+e,t|=0,o|=0,!n){var a=r(2,8*o)-1;U(this,e,t,o,a,0)}var s=1,l=0;for(this[t]=255&e;++l<o&&(s*=256);)this[t+l]=255&e/s;return t+o},d.prototype.writeUIntBE=function(e,t,o,n){if(e=+e,t|=0,o|=0,!n){var a=r(2,8*o)-1;U(this,e,t,o,a,0)}var s=o-1,i=1;for(this[t+s]=255&e;0<=--s&&(i*=256);)this[t+s]=255&e/i;return t+o},d.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=i(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var a=r(2,8*o-1);U(this,e,t,o,a-1,-a)}var s=0,i=1,l=0;for(this[t]=255&e;++s<o&&(i*=256);)0>e&&0==l&&0!==this[t+s-1]&&(l=1),this[t+s]=255&(e/i>>0)-l;return t+o},d.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var a=r(2,8*o-1);U(this,e,t,o,a-1,-a)}var s=o-1,i=1,l=0;for(this[t+s]=255&e;0<=--s&&(i*=256);)0>e&&0==l&&0!==this[t+s+1]&&(l=1),this[t+s]=255&(e/i>>0)-l;return t+o},d.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=i(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):H(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):H(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||U(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,o){return z(this,e,t,!0,o)},d.prototype.writeFloatBE=function(e,t,o){return z(this,e,t,!1,o)},d.prototype.writeDoubleLE=function(e,t,o){return W(this,e,t,!0,o)},d.prototype.writeDoubleBE=function(e,t,o){return W(this,e,t,!1,o)},d.prototype.copy=function(e,t,o,r){if(o||(o=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<o&&(r=o),r===o)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>o||o>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-o&&(r=e.length-t+o);var n=r-o,a;if(this===e&&o<t&&t<r)for(a=n-1;0<=a;--a)e[a+t]=this[a+o];else if(1e3>n||!d.TYPED_ARRAY_SUPPORT)for(a=0;a<n;++a)e[a+t]=this[a+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+n),t);return n},d.prototype.fill=function(e,t,o,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,o=this.length):"string"==typeof o&&(r=o,o=this.length),1===e.length){var n=e.charCodeAt(0);256>n&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;t>>>=0,o=o===void 0?this.length:o>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<o;++a)this[a]=e;else{var i=d.isBuffer(e)?e:J(new d(e,r).toString()),s=i.length;for(a=0;a<o-t;++a)this[a+t]=i[a%s]}return this};var re=/[^+\/0-9A-Za-z-_]/g}).call(this,o(13))},function(e,t){"use strict";function o(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");-1===o&&(o=t);var i=o===t?0:4-o%4;return[o,i]}function r(e,t,o){return 3*(t+o)/4-o}function n(e){var t=o(e),n=t[0],a=t[1],s=new p(r(e,n,a)),l=0,d=0<a?n-4:n,u,_;for(_=0;_<d;_+=4)u=c[e.charCodeAt(_)]<<18|c[e.charCodeAt(_+1)]<<12|c[e.charCodeAt(_+2)]<<6|c[e.charCodeAt(_+3)],s[l++]=255&u>>16,s[l++]=255&u>>8,s[l++]=255&u;return 2===a&&(u=c[e.charCodeAt(_)]<<2|c[e.charCodeAt(_+1)]>>4,s[l++]=255&u),1===a&&(u=c[e.charCodeAt(_)]<<10|c[e.charCodeAt(_+1)]<<4|c[e.charCodeAt(_+2)]>>2,s[l++]=255&u>>8,s[l++]=255&u),s}function a(e){return d[63&e>>18]+d[63&e>>12]+d[63&e>>6]+d[63&e]}function s(e,t,o){for(var r=[],n=t,i;n<o;n+=3)i=(16711680&e[n]<<16)+(65280&e[n+1]<<8)+(255&e[n+2]),r.push(a(i));return r.join("")}function l(e){for(var t=e.length,o=t%3,r=[],n=16383,a=0,i=t-o,l;a<i;a+=n)r.push(s(e,a,a+n>i?i:a+n));return 1==o?(l=e[t-1],r.push(d[l>>2]+d[63&l<<4]+"==")):2==o&&(l=(e[t-2]<<8)+e[t-1],r.push(d[l>>10]+d[63&l>>4]+d[63&l<<2]+"=")),r.join("")}t.byteLength=function(e){var t=o(e),i=t[0],r=t[1];return 3*(i+r)/4-r},t.toByteArray=n,t.fromByteArray=l;for(var d=[],c=[],p="undefined"==typeof Uint8Array?Array:Uint8Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,i=u.length;_<i;++_)d[_]=u[_],c[u.charCodeAt(_)]=_;c[45]=62,c[95]=63},function(e,t){var o=Math.pow;t.read=function(t,r,n,a,l){var c=8*l-a-1,p=(1<<c)-1,u=p>>1,_=-7,g=n?l-1:0,i=n?-1:1,d=t[r+g],s,e;for(g+=i,s=d&(1<<-_)-1,d>>=-_,_+=c;0<_;s=256*s+t[r+g],g+=i,_-=8);for(e=s&(1<<-_)-1,s>>=-_,_+=a;0<_;e=256*e+t[r+g],g+=i,_-=8);if(0===s)s=1-u;else{if(s===p)return e?NaN:(d?-1:1)*Infinity;e+=o(2,a),s-=u}return(d?-1:1)*e*o(2,s-a)},t.write=function(t,r,n,a,l,p){var u=8*p-l-1,_=(1<<u)-1,g=_>>1,h=23===l?5.960464477539063e-8-6.617444900424222e-24:0,T=a?0:p-1,i=a?1:-1,d=0>r||0===r&&0>1/r?1:0,s,b,m;for(r=Math.abs(r),isNaN(r)||r===Infinity?(b=isNaN(r)?1:0,s=_):(s=Math.floor(Math.log(r)/Math.LN2),1>r*(m=o(2,-s))&&(s--,m*=2),r+=1<=s+g?h/m:h*o(2,1-g),2<=r*m&&(s++,m/=2),s+g>=_?(b=0,s=_):1<=s+g?(b=(r*m-1)*o(2,l),s+=g):(b=r*o(2,g-1)*o(2,l),s=0));8<=l;t[n+T]=255&b,T+=i,b/=256,l-=8);for(s=s<<l|b,u+=l;0<u;t[n+T]=255&s,T+=i,s/=256,u-=8);t[n+T-i]|=128*d}},function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e){(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],o=0,i=0;o<e.length;o++,i+=8)t[i>>>5]|=e[o]<<24-i%32;return t},wordsToBytes:function(e){for(var t=[],o=0;o<32*e.length;o+=8)t.push(255&e[o>>>5]>>>24-o%32);return t},bytesToHex:function(e){for(var t=[],o=0;o<e.length;o++)t.push((e[o]>>>4).toString(16)),t.push((15&e[o]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t},bytesToBase64:function(e){for(var o=[],r=0,i;r<e.length;r+=3){i=e[r]<<16|e[r+1]<<8|e[r+2];for(var n=0;4>n;n++)8*r+6*n<=8*e.length?o.push(t.charAt(63&i>>>6*(3-n))):o.push("=")}return o.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var o=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&o.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return o}};e.exports=o})()},,function(e,t,o){var i=o(19),r=o(46);r=r.__esModule?r.default:r,"string"==typeof r&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1});e.exports=r.locals||{}},function(e,t,o){var i=o(20),r=o(38),n=o(142),a=o(143),s=o(144),l=o(145);t=i(!1);var d=r(n),c=r(a),p=r(s),u=r(l);t.push([e.i,".mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic{background-color:transparent}.mdc-list-item__graphic{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-list-item--disabled .mdc-list-item__text{opacity:.38}.mdc-list-item--disabled .mdc-list-item__text,.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--selected,.mdc-list-item--activated{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list-item--selected .mdc-list-item__graphic,.mdc-list-item--activated .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;height:48px}.mdc-list-item:focus{outline:none}.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:\"\"}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double transparent;border-radius:inherit;content:\"\"}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--icon-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--icon-list .mdc-list-item,.mdc-list--icon-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--avatar-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--avatar-list .mdc-list-item,.mdc-list--avatar-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--thumbnail-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-item,.mdc-list--thumbnail-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--image-list .mdc-list-item{padding-left:16px;padding-right:16px;height:72px}[dir=rtl] .mdc-list--image-list .mdc-list-item,.mdc-list--image-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--video-list .mdc-list-item{padding-left:0px;padding-right:16px;height:72px}[dir=rtl] .mdc-list--video-list .mdc-list-item,.mdc-list--video-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:0px}.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:20px;height:20px}[dir=rtl] .mdc-list--dense .mdc-list-item__graphic,.mdc-list--dense .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;object-fit:cover;margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-list-item__graphic,.mdc-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-list--icon-list .mdc-list-item__graphic{margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-list--icon-list .mdc-list-item__graphic,.mdc-list--icon-list .mdc-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-list--avatar-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px;border-radius:50%}[dir=rtl] .mdc-list--avatar-list .mdc-list-item__graphic,.mdc-list--avatar-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--thumbnail-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-item__graphic,.mdc-list--thumbnail-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--image-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:56px;height:56px}[dir=rtl] .mdc-list--image-list .mdc-list-item__graphic,.mdc-list--image-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--video-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:100px;height:56px}[dir=rtl] .mdc-list--video-list .mdc-list-item__graphic,.mdc-list--video-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list .mdc-list-item__graphic{display:inline-flex}.mdc-list-item__meta{margin-left:auto;margin-right:0}.mdc-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}.mdc-list-item[dir=rtl] .mdc-list-item__meta,[dir=rtl] .mdc-list-item .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:\"\";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list--video-list .mdc-list-item__primary-text,.mdc-list--image-list .mdc-list-item__primary-text,.mdc-list--thumbnail-list .mdc-list-item__primary-text,.mdc-list--avatar-list .mdc-list-item__primary-text,.mdc-list--icon-list .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--video-list .mdc-list-item__primary-text::before,.mdc-list--image-list .mdc-list-item__primary-text::before,.mdc-list--thumbnail-list .mdc-list-item__primary-text::before,.mdc-list--avatar-list .mdc-list-item__primary-text::before,.mdc-list--icon-list .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:\"\";vertical-align:0}.mdc-list--video-list .mdc-list-item__primary-text::after,.mdc-list--image-list .mdc-list-item__primary-text::after,.mdc-list--thumbnail-list .mdc-list-item__primary-text::after,.mdc-list--avatar-list .mdc-list-item__primary-text::after,.mdc-list--icon-list .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list--dense .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense .mdc-list-item__primary-text::before{display:inline-block;width:0;height:24px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{font-size:inherit}.mdc-list--dense .mdc-list-item{height:40px}.mdc-list--two-line .mdc-list-item__text{align-self:flex-start}.mdc-list--two-line .mdc-list-item{height:64px}.mdc-list--two-line.mdc-list--video-list .mdc-list-item,.mdc-list--two-line.mdc-list--image-list .mdc-list-item,.mdc-list--two-line.mdc-list--thumbnail-list .mdc-list-item,.mdc-list--two-line.mdc-list--avatar-list .mdc-list-item,.mdc-list--two-line.mdc-list--icon-list .mdc-list-item{height:72px}.mdc-list--two-line.mdc-list--icon-list .mdc-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-list--two-line.mdc-list--dense .mdc-list-item,.mdc-list--avatar-list.mdc-list--dense .mdc-list-item{height:60px}.mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:36px;height:36px}[dir=rtl] .mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic,.mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}:not(.mdc-list-item--disabled).mdc-list-item{cursor:pointer}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-divider{height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid}.mdc-list-divider{border-bottom-color:rgba(0,0,0,.12)}.mdc-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list-divider--padded,.mdc-list-divider--padded[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list-divider--inset,.mdc-list-divider--inset[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list-divider--inset.mdc-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list-divider--inset.mdc-list-divider--padded,.mdc-list-divider--inset.mdc-list-divider--padded[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list .mdc-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading,.mdc-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--icon-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading,.mdc-list--icon-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--icon-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--avatar-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading,.mdc-list--avatar-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--avatar-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--thumbnail-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--image-list .mdc-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading,.mdc-list--image-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:88px}.mdc-list--image-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:88px}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--video-list .mdc-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading,.mdc-list--video-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:116px}.mdc-list--video-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:116px}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:0px;margin-right:0;width:calc(100% - 0px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:0px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-list-group .mdc-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);margin:calc((3rem - 1.5rem) / 2) 16px}@keyframes mdc-ripple-fg-radius-in{from{animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transform:translate(var(--mdc-ripple-fg-translate-start, 0)) scale(1)}to{transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}}@keyframes mdc-ripple-fg-opacity-in{from{animation-timing-function:linear;opacity:0}to{opacity:var(--mdc-ripple-fg-opacity, 0)}}@keyframes mdc-ripple-fg-opacity-out{from{animation-timing-function:linear;opacity:var(--mdc-ripple-fg-opacity, 0)}to{opacity:0}}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{background-color:#000}:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple::before{opacity:.04}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before{opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple::before{opacity:.16}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.24}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.24}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before{opacity:.08}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple::before{opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.2}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.2}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.2}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-list-item--disabled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-list-item--disabled .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{background-color:#000}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.12}.mdc-list-item--disabled .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-height:calc(100vh - 32px);margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-elevation-overlay{position:absolute;border-radius:inherit;opacity:0;pointer-events:none;transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:#fff}.mdc-menu{min-width:112px}.mdc-menu .mdc-list-item__meta{color:rgba(0,0,0,.87)}.mdc-menu .mdc-list-item__graphic{color:rgba(0,0,0,.87)}.mdc-menu .mdc-list{color:rgba(0,0,0,.87);position:relative}.mdc-menu .mdc-list .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-menu .mdc-list-divider{margin:8px 0}.mdc-menu .mdc-list-item{user-select:none}.mdc-menu .mdc-list-item--disabled{cursor:auto}.mdc-menu a.mdc-list-item .mdc-list-item__text,.mdc-menu a.mdc-list-item .mdc-list-item__graphic{pointer-events:none}.mdc-menu__selection-group{padding:0;fill:currentColor}.mdc-menu__selection-group .mdc-list-item{padding-left:56px;padding-right:16px}[dir=rtl] .mdc-menu__selection-group .mdc-list-item,.mdc-menu__selection-group .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:56px}.mdc-menu__selection-group .mdc-menu__selection-group-icon{left:16px;right:initial;display:none;position:absolute;top:50%;transform:translateY(-50%)}[dir=rtl] .mdc-menu__selection-group .mdc-menu__selection-group-icon,.mdc-menu__selection-group .mdc-menu__selection-group-icon[dir=rtl]{left:initial;right:16px}.mdc-menu-item--selected .mdc-menu__selection-group-icon{display:inline}.mdc-snackbar{z-index:8;margin:8px;display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar__surface{background-color:#333}.mdc-snackbar__label{color:rgba(255,255,255,.87)}.mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mdc-snackbar__surface{min-width:100%}}.mdc-snackbar__surface{max-width:672px}.mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2),0px 6px 10px 0px rgba(0, 0, 0, 0.14),0px 1px 18px 0px rgba(0,0,0,.12)}.mdc-snackbar__surface{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--leading{justify-content:flex-start}.mdc-snackbar--stacked .mdc-snackbar__label{padding-left:16px;padding-right:0;padding-bottom:12px}[dir=rtl] .mdc-snackbar--stacked .mdc-snackbar__label,.mdc-snackbar--stacked .mdc-snackbar__label[dir=rtl]{padding-left:0;padding-right:16px}.mdc-snackbar--stacked .mdc-snackbar__surface{flex-direction:column;align-items:flex-start}.mdc-snackbar--stacked .mdc-snackbar__actions{align-self:flex-end;margin-bottom:8px}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto;transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1);transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-snackbar__label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mdc-snackbar__action:not(:disabled){color:#bb86fc}.mdc-snackbar__action::before,.mdc-snackbar__action::after{background-color:#bb86fc}.mdc-snackbar__action:hover::before{opacity:.08}.mdc-snackbar__action.mdc-ripple-upgraded--background-focused::before,.mdc-snackbar__action:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.24}.mdc-snackbar__action:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-snackbar__action:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-snackbar__action.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-snackbar__dismiss{color:rgba(255,255,255,.87)}.mdc-snackbar__dismiss::before,.mdc-snackbar__dismiss::after{background-color:rgba(255,255,255,.87)}.mdc-snackbar__dismiss:hover::before{opacity:.08}.mdc-snackbar__dismiss.mdc-ripple-upgraded--background-focused::before,.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.24}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-snackbar__dismiss:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.24}.mdc-snackbar__dismiss.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}.mdc-snackbar__dismiss.mdc-snackbar__dismiss{width:36px;height:36px;padding:9px;font-size:18px}.mdc-snackbar__dismiss.mdc-snackbar__dismiss svg,.mdc-snackbar__dismiss.mdc-snackbar__dismiss img{width:18px;height:18px}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mdc-tab-bar{width:100%}.mdc-tab{height:48px}.mdc-tab--stacked{height:72px}.mdc-tab-scroller{overflow-y:hidden}.mdc-tab-scroller.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-scroller__test{position:absolute;top:-9999px;width:100px;height:100px;overflow-x:scroll}.mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:touch;display:flex;overflow-x:hidden}.mdc-tab-scroller__scroll-area::-webkit-scrollbar,.mdc-tab-scroller__test::-webkit-scrollbar{display:none}.mdc-tab-scroller__scroll-area--scroll{overflow-x:scroll}.mdc-tab-scroller__scroll-content{position:relative;display:flex;flex:1 0 auto;transform:none;will-change:transform}.mdc-tab-scroller--align-start .mdc-tab-scroller__scroll-content{justify-content:flex-start}.mdc-tab-scroller--align-end .mdc-tab-scroller__scroll-content{justify-content:flex-end}.mdc-tab-scroller--align-center .mdc-tab-scroller__scroll-content{justify-content:center}.mdc-tab-scroller--animating .mdc-tab-scroller__scroll-area{-webkit-overflow-scrolling:auto}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-tab-indicator .mdc-tab-indicator__content--icon{color:#018786;color:var(--mdc-theme-secondary, #018786)}.mdc-tab-indicator .mdc-tab-indicator__content--underline{border-top-width:2px}.mdc-tab-indicator .mdc-tab-indicator__content--icon{height:34px;font-size:34px}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mdc-tab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);padding-right:24px;padding-left:24px;position:relative;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;background:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab .mdc-tab__text-label{color:rgba(0,0,0,.6)}.mdc-tab .mdc-tab__icon{color:rgba(0,0,0,.54);fill:currentColor}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{position:relative;display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;width:24px;height:24px;font-size:24px;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-tab--active .mdc-tab__icon{color:#6200ee;color:var(--mdc-theme-primary, #6200ee);fill:currentColor}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab__ripple{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.mdc-tab__ripple::before,.mdc-tab__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-tab__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-tab__ripple.mdc-ripple-upgraded::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab__ripple.mdc-ripple-upgraded::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-tab__ripple.mdc-ripple-upgraded--unbounded::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-activation::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-tab__ripple.mdc-ripple-upgraded--foreground-deactivation::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-tab__ripple::before,.mdc-tab__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-tab__ripple.mdc-ripple-upgraded::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-tab__ripple::before,.mdc-tab__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-tab__ripple:hover::before{opacity:.04}.mdc-tab__ripple.mdc-ripple-upgraded--background-focused::before,.mdc-tab__ripple:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:.12}.mdc-tab__ripple:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mdc-tab__ripple:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:.12}.mdc-tab__ripple.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:\"\"}.mdc-line-ripple::before{border-bottom-width:1px;z-index:1}.mdc-line-ripple::after{transform:scaleX(0);border-bottom-width:2px;opacity:0;z-index:2}.mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-touch-target-wrapper{display:inline}.mdc-button{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-button-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-button-font-size, 0.875rem);line-height:2.25rem;line-height:var(--mdc-typography-button-line-height, 2.25rem);font-weight:500;font-weight:var(--mdc-typography-button-font-weight, 500);letter-spacing:0.0892857143em;letter-spacing:var(--mdc-typography-button-letter-spacing, 0.0892857143em);text-decoration:none;text-decoration:var(--mdc-typography-button-text-decoration, none);text-transform:uppercase;text-transform:var(--mdc-typography-button-text-transform, uppercase);padding:0 8px 0 8px;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;border-radius:4px;border-radius:var(--mdc-shape-small, 4px);height:36px}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button .mdc-button__ripple{border-radius:4px;border-radius:var(--mdc-shape-small, 4px)}.mdc-button:not(:disabled){background-color:transparent}.mdc-button:disabled{background-color:transparent}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;width:18px;height:18px;font-size:18px;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__touch{position:absolute;top:50%;right:0;height:48px;left:0;transform:translateY(-50%)}.mdc-button:not(:disabled){color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-button:disabled{color:rgba(0,0,0,.38)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--raised .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon,.mdc-button--outlined .mdc-button__icon{margin-left:-4px;margin-right:8px}[dir=rtl] .mdc-button--raised .mdc-button__icon,.mdc-button--raised .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__icon,.mdc-button--unelevated .mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__icon,.mdc-button--outlined .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mdc-button--raised .mdc-button__label+.mdc-button__icon,.mdc-button--raised .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--unelevated .mdc-button__label+.mdc-button__icon,.mdc-button--unelevated .mdc-button__label+.mdc-button__icon[dir=rtl],[dir=rtl] .mdc-button--outlined .mdc-button__label+.mdc-button__icon,.mdc-button--outlined .mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mdc-button--raised,.mdc-button--unelevated{padding:0 16px 0 16px}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button--raised:not(:disabled),.mdc-button--unelevated:not(:disabled){color:#fff;color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{background-color:rgba(0,0,0,.12)}.mdc-button--raised:disabled,.mdc-button--unelevated:disabled{color:rgba(0,0,0,.38)}.mdc-button--raised{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0,0,0,.12);transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--raised:hover,.mdc-button--raised:focus{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0,0,0,.12)}.mdc-button--raised:active{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12)}.mdc-button--raised:disabled{box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2),0px 0px 0px 0px rgba(0, 0, 0, 0.14),0px 0px 0px 0px rgba(0,0,0,.12)}.mdc-button--outlined{padding:0 15px 0 15px;border-width:1px;border-style:solid}.mdc-button--outlined .mdc-button__ripple{top:-1px;left:-1px;border:1px solid transparent}.mdc-button--outlined .mdc-button__touch{left:-1px;width:calc(100% + 2 * 1px)}.mdc-button--outlined:not(:disabled){border-color:rgba(0,0,0,.12)}.mdc-button--outlined:disabled{border-color:rgba(0,0,0,.12)}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-button .mdc-button__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-button.mdc-ripple-upgraded--unbounded .mdc-button__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-button.mdc-ripple-upgraded--foreground-activation .mdc-button__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-button.mdc-ripple-upgraded--foreground-deactivation .mdc-button__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-button.mdc-ripple-upgraded .mdc-button__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-button .mdc-button__ripple::before,.mdc-button .mdc-button__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}.mdc-button:hover .mdc-button__ripple::before{opacity:.04}.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.12}.mdc-button:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.12}.mdc-button.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-button .mdc-button__ripple{position:absolute;box-sizing:content-box;width:100%;height:100%;overflow:hidden}.mdc-button:not(.mdc-button--outlined) .mdc-button__ripple{top:0;left:0}.mdc-button--raised .mdc-button__ripple::before,.mdc-button--raised .mdc-button__ripple::after,.mdc-button--unelevated .mdc-button__ripple::before,.mdc-button--unelevated .mdc-button__ripple::after{background-color:#fff;background-color:var(--mdc-theme-on-primary, #fff)}.mdc-button--raised:hover .mdc-button__ripple::before,.mdc-button--unelevated:hover .mdc-button__ripple::before{opacity:.08}.mdc-button--raised.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button--raised:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before,.mdc-button--unelevated.mdc-ripple-upgraded--background-focused .mdc-button__ripple::before,.mdc-button--unelevated:not(.mdc-ripple-upgraded):focus .mdc-button__ripple::before{transition-duration:75ms;opacity:.24}.mdc-button--raised:not(.mdc-ripple-upgraded) .mdc-button__ripple::after,.mdc-button--unelevated:not(.mdc-ripple-upgraded) .mdc-button__ripple::after{transition:opacity 150ms linear}.mdc-button--raised:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after,.mdc-button--unelevated:not(.mdc-ripple-upgraded):active .mdc-button__ripple::after{transition-duration:75ms;opacity:.24}.mdc-button--raised.mdc-ripple-upgraded,.mdc-button--unelevated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:11px}.mdc-checkbox .mdc-checkbox__native-control:checked~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background::before,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background::before{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox.mdc-checkbox--selected:hover .mdc-checkbox__ripple::before{opacity:.04}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:.12}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox.mdc-checkbox--selected:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:.12}.mdc-checkbox.mdc-checkbox--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--selected .mdc-checkbox__ripple::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-checkbox .mdc-checkbox__background{top:11px;left:11px}.mdc-checkbox .mdc-checkbox__background::before{top:-13px;left:-13px;width:40px;height:40px}.mdc-checkbox .mdc-checkbox__native-control{top:0px;right:0px;left:0px;width:40px;height:40px}.mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0,0,0,.54);background-color:transparent}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}@keyframes mdc-checkbox-fade-in-background-8A000000secondary00000000secondary{0%{border-color:rgba(0,0,0,.54);background-color:transparent}50%{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}}@keyframes mdc-checkbox-fade-out-background-8A000000secondary00000000secondary{0%,80%{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786);background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}100%{border-color:rgba(0,0,0,.54);background-color:transparent}}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000secondary00000000secondary}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000secondary00000000secondary}.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0,0,0,.38);background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:rgba(0,0,0,.38)}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff}.mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:#fff}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:#fff}@media screen and (-ms-high-contrast: active){.mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:GrayText;background-color:transparent}.mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:GrayText;background-color:transparent}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:GrayText}.mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:GrayText}.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:transparent;pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__background .mdc-checkbox__background::before{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none !important}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:\"\";will-change:opacity,transform;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:focus~.mdc-checkbox__background::before{transform:scale(1);opacity:.12;transition:opacity 80ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 80ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-checkbox--touch .mdc-checkbox__native-control{top:-4px;right:-4px;left:-4px;width:48px;height:48px}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-checkbox .mdc-checkbox__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-checkbox.mdc-ripple-upgraded--unbounded .mdc-checkbox__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-checkbox.mdc-ripple-upgraded--foreground-activation .mdc-checkbox__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-checkbox.mdc-ripple-upgraded--foreground-deactivation .mdc-checkbox__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{background-color:#000;background-color:var(--mdc-theme-on-surface, #000)}.mdc-checkbox:hover .mdc-checkbox__ripple::before{opacity:.04}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__ripple::before,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__ripple::before{transition-duration:75ms;opacity:.12}.mdc-checkbox:not(.mdc-ripple-upgraded) .mdc-checkbox__ripple::after{transition:opacity 150ms linear}.mdc-checkbox:not(.mdc-ripple-upgraded):active .mdc-checkbox__ripple::after{transition-duration:75ms;opacity:.12}.mdc-checkbox.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-checkbox .mdc-checkbox__ripple::before,.mdc-checkbox .mdc-checkbox__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::before,.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-checkbox.mdc-ripple-upgraded .mdc-checkbox__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-checkbox__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-ripple-upgraded--background-focused .mdc-checkbox__background::before{content:none}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:7}.mdc-dialog .mdc-dialog__surface{background-color:#fff;background-color:var(--mdc-theme-surface, #fff)}.mdc-dialog .mdc-dialog__scrim{background-color:rgba(0,0,0,.32)}.mdc-dialog .mdc-dialog__title{color:rgba(0,0,0,.87)}.mdc-dialog .mdc-dialog__content{color:rgba(0,0,0,.6)}.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__title,.mdc-dialog.mdc-dialog--scrollable .mdc-dialog__actions{border-color:rgba(0,0,0,.12)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog .mdc-dialog__surface{border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2),0px 24px 38px 3px rgba(0, 0, 0, 0.14),0px 9px 46px 8px rgba(0,0,0,.12);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-dialog[dir=rtl] .mdc-dialog__surface,[dir=rtl] .mdc-dialog .mdc-dialog__surface{text-align:right}.mdc-dialog__title{display:block;margin-top:0;line-height:normal;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-headline6-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1.25rem;font-size:var(--mdc-typography-headline6-font-size, 1.25rem);line-height:2rem;line-height:var(--mdc-typography-headline6-line-height, 2rem);font-weight:500;font-weight:var(--mdc-typography-headline6-font-weight, 500);letter-spacing:0.0125em;letter-spacing:var(--mdc-typography-headline6-letter-spacing, 0.0125em);text-decoration:inherit;text-decoration:var(--mdc-typography-headline6-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-headline6-text-transform, inherit);position:relative;flex-shrink:0;box-sizing:border-box;margin:0;padding:0 24px 9px;border-bottom:1px solid transparent}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:\"\";vertical-align:0}.mdc-dialog[dir=rtl] .mdc-dialog__title,[dir=rtl] .mdc-dialog .mdc-dialog__title{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{padding-bottom:15px}.mdc-dialog__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-body1-font-size, 1rem);line-height:1.5rem;line-height:var(--mdc-typography-body1-line-height, 1.5rem);font-weight:400;font-weight:var(--mdc-typography-body1-font-weight, 400);letter-spacing:0.03125em;letter-spacing:var(--mdc-typography-body1-letter-spacing, 0.03125em);text-decoration:inherit;text-decoration:var(--mdc-typography-body1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body1-text-transform, inherit);flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;-webkit-overflow-scrolling:touch}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid transparent}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-dialog[dir=rtl] .mdc-dialog__button,[dir=rtl] .mdc-dialog .mdc-dialog__button{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-radio{padding:10px;display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0,0,0,.54)}.mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#018786;border-color:var(--mdc-theme-secondary, #018786)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0,0,0,.38)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:rgba(0,0,0,.38)}.mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:rgba(0,0,0,.38)}.mdc-radio .mdc-radio__background::before{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-radio .mdc-radio__background::before{top:-10px;left:-10px;width:40px;height:40px}.mdc-radio .mdc-radio__native-control{top:0px;right:0px;left:0px;width:40px;height:40px}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:\"\";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:-4px;right:-4px;left:-4px;width:48px;height:48px}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-radio .mdc-radio__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-radio.mdc-ripple-upgraded--unbounded .mdc-radio__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-radio.mdc-ripple-upgraded--foreground-activation .mdc-radio__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-radio.mdc-ripple-upgraded--foreground-deactivation .mdc-radio__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{top:calc(50% - 50%);left:calc(50% - 50%);width:100%;height:100%}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::before,.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{top:var(--mdc-ripple-top, calc(50% - 50%));left:var(--mdc-ripple-left, calc(50% - 50%));width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio.mdc-ripple-upgraded .mdc-radio__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-radio .mdc-radio__ripple::before,.mdc-radio .mdc-radio__ripple::after{background-color:#018786;background-color:var(--mdc-theme-secondary, #018786)}.mdc-radio:hover .mdc-radio__ripple::before{opacity:.04}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__ripple::before,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__ripple::before{transition-duration:75ms;opacity:.12}.mdc-radio:not(.mdc-ripple-upgraded) .mdc-radio__ripple::after{transition:opacity 150ms linear}.mdc-radio:not(.mdc-ripple-upgraded):active .mdc-radio__ripple::after{transition-duration:75ms;opacity:.12}.mdc-radio.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__background::before{content:none}.mdc-radio__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-list{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);line-height:1.5rem;margin:0;padding:8px 0;list-style-type:none;color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-list:focus{outline:none}.mdc-list-item{height:48px}.mdc-list-item__secondary-text{color:rgba(0,0,0,.54);color:var(--mdc-theme-text-secondary-on-background, rgba(0, 0, 0, 0.54))}.mdc-list-item__graphic{background-color:transparent}.mdc-list-item__graphic{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-icon-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-item__meta{color:rgba(0,0,0,.38);color:var(--mdc-theme-text-hint-on-background, rgba(0, 0, 0, 0.38))}.mdc-list-group__subheader{color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87))}.mdc-list-item--disabled .mdc-list-item__text{opacity:.38}.mdc-list-item--disabled .mdc-list-item__text,.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{color:#000;color:var(--mdc-theme-on-surface, #000)}.mdc-list-item--selected,.mdc-list-item--activated{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list-item--selected .mdc-list-item__graphic,.mdc-list-item--activated .mdc-list-item__graphic{color:#6200ee;color:var(--mdc-theme-primary, #6200ee)}.mdc-list--dense{padding-top:4px;padding-bottom:4px;font-size:.812rem}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;height:48px}.mdc-list-item:focus{outline:none}.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:\"\"}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double transparent;border-radius:inherit;content:\"\"}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--icon-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--icon-list .mdc-list-item,.mdc-list--icon-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--avatar-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--avatar-list .mdc-list-item,.mdc-list--avatar-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--thumbnail-list .mdc-list-item{padding-left:16px;padding-right:16px;height:56px}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-item,.mdc-list--thumbnail-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--image-list .mdc-list-item{padding-left:16px;padding-right:16px;height:72px}[dir=rtl] .mdc-list--image-list .mdc-list-item,.mdc-list--image-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list--video-list .mdc-list-item{padding-left:0px;padding-right:16px;height:72px}[dir=rtl] .mdc-list--video-list .mdc-list-item,.mdc-list--video-list .mdc-list-item[dir=rtl]{padding-left:16px;padding-right:0px}.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:20px;height:20px}[dir=rtl] .mdc-list--dense .mdc-list-item__graphic,.mdc-list--dense .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item__graphic{flex-shrink:0;align-items:center;justify-content:center;fill:currentColor;object-fit:cover;margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-list-item__graphic,.mdc-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-list--icon-list .mdc-list-item__graphic{margin-left:0;margin-right:32px;width:24px;height:24px}[dir=rtl] .mdc-list--icon-list .mdc-list-item__graphic,.mdc-list--icon-list .mdc-list-item__graphic[dir=rtl]{margin-left:32px;margin-right:0}.mdc-list--avatar-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px;border-radius:50%}[dir=rtl] .mdc-list--avatar-list .mdc-list-item__graphic,.mdc-list--avatar-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--thumbnail-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:40px;height:40px}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-item__graphic,.mdc-list--thumbnail-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--image-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:56px;height:56px}[dir=rtl] .mdc-list--image-list .mdc-list-item__graphic,.mdc-list--image-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list--video-list .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:100px;height:56px}[dir=rtl] .mdc-list--video-list .mdc-list-item__graphic,.mdc-list--video-list .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list .mdc-list-item__graphic{display:inline-flex}.mdc-list-item__meta{margin-left:auto;margin-right:0}.mdc-list-item__meta:not(.material-icons){-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit)}.mdc-list-item[dir=rtl] .mdc-list-item__meta,[dir=rtl] .mdc-list-item .mdc-list-item__meta{margin-left:0;margin-right:auto}.mdc-list-item__text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item__text[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:\"\";vertical-align:0}.mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list--video-list .mdc-list-item__primary-text,.mdc-list--image-list .mdc-list-item__primary-text,.mdc-list--thumbnail-list .mdc-list-item__primary-text,.mdc-list--avatar-list .mdc-list-item__primary-text,.mdc-list--icon-list .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--video-list .mdc-list-item__primary-text::before,.mdc-list--image-list .mdc-list-item__primary-text::before,.mdc-list--thumbnail-list .mdc-list-item__primary-text::before,.mdc-list--avatar-list .mdc-list-item__primary-text::before,.mdc-list--icon-list .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:\"\";vertical-align:0}.mdc-list--video-list .mdc-list-item__primary-text::after,.mdc-list--image-list .mdc-list-item__primary-text::after,.mdc-list--thumbnail-list .mdc-list-item__primary-text::after,.mdc-list--avatar-list .mdc-list-item__primary-text::after,.mdc-list--icon-list .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list--dense .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list--dense .mdc-list-item__primary-text::before{display:inline-block;width:0;height:24px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:\"\";vertical-align:-20px}.mdc-list-item__secondary-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:\"\";vertical-align:0}.mdc-list--dense .mdc-list-item__secondary-text{font-size:inherit}.mdc-list--dense .mdc-list-item{height:40px}.mdc-list--two-line .mdc-list-item__text{align-self:flex-start}.mdc-list--two-line .mdc-list-item{height:64px}.mdc-list--two-line.mdc-list--video-list .mdc-list-item,.mdc-list--two-line.mdc-list--image-list .mdc-list-item,.mdc-list--two-line.mdc-list--thumbnail-list .mdc-list-item,.mdc-list--two-line.mdc-list--avatar-list .mdc-list-item,.mdc-list--two-line.mdc-list--icon-list .mdc-list-item{height:72px}.mdc-list--two-line.mdc-list--icon-list .mdc-list-item__graphic{align-self:flex-start;margin-top:16px}.mdc-list--two-line.mdc-list--dense .mdc-list-item,.mdc-list--avatar-list.mdc-list--dense .mdc-list-item{height:60px}.mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic{margin-left:0;margin-right:16px;width:36px;height:36px}[dir=rtl] .mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic,.mdc-list--avatar-list.mdc-list--dense .mdc-list-item__graphic[dir=rtl]{margin-left:16px;margin-right:0}:not(.mdc-list-item--disabled).mdc-list-item{cursor:pointer}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-divider{height:0;margin:0;border:none;border-bottom-width:1px;border-bottom-style:solid}.mdc-list-divider{border-bottom-color:rgba(0,0,0,.12)}.mdc-list-divider--padded{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list-divider--padded,.mdc-list-divider--padded[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list-divider--inset{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list-divider--inset,.mdc-list-divider--inset[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list-divider--inset.mdc-list-divider--padded{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list-divider--inset.mdc-list-divider--padded,.mdc-list-divider--inset.mdc-list-divider--padded[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list .mdc-list-divider--inset-leading{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading,.mdc-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--icon-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading,.mdc-list--icon-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--icon-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--icon-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--avatar-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading,.mdc-list--avatar-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--avatar-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--avatar-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading{margin-left:72px;margin-right:0;width:calc(100% - 72px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--thumbnail-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:72px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:72px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--thumbnail-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--image-list .mdc-list-divider--inset-leading{margin-left:88px;margin-right:0;width:calc(100% - 88px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading,.mdc-list--image-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:88px}.mdc-list--image-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:88px;margin-right:0;width:calc(100% - 104px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:88px}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:16px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:16px;margin-right:0;width:calc(100% - 32px)}[dir=rtl] .mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--image-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:16px}.mdc-list--video-list .mdc-list-divider--inset-leading{margin-left:116px;margin-right:0;width:calc(100% - 116px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading,.mdc-list--video-list .mdc-list-divider--inset-leading[dir=rtl]{margin-left:0;margin-right:116px}.mdc-list--video-list .mdc-list-divider--inset-trailing{width:calc(100% - 16px)}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing{margin-left:116px;margin-right:0;width:calc(100% - 132px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing[dir=rtl]{margin-left:0;margin-right:116px}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding{margin-left:0px;margin-right:0;width:calc(100% - 0px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding{margin-left:0px;margin-right:0;width:calc(100% - 16px)}[dir=rtl] .mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding,.mdc-list--video-list .mdc-list-divider--inset-leading.mdc-list-divider--inset-trailing.mdc-list-divider--inset-padding[dir=rtl]{margin-left:0;margin-right:0px}.mdc-list-group .mdc-list{padding:0}.mdc-list-group__subheader{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);line-height:1.75rem;line-height:var(--mdc-typography-subtitle1-line-height, 1.75rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);margin:calc((3rem - 1.5rem) / 2) 16px}:not(.mdc-list-item--disabled).mdc-list-item{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple::after{background-color:#000}:not(.mdc-list-item--disabled).mdc-list-item:hover .mdc-list-item__ripple::before{opacity:.04}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.12}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before{opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}:not(.mdc-list-item--disabled).mdc-list-item--activated:hover .mdc-list-item__ripple::before{opacity:.16}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.24}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--activated:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.24}:not(.mdc-list-item--disabled).mdc-list-item--activated.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.24}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before{opacity:.08}:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected .mdc-list-item__ripple::after{background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}:not(.mdc-list-item--disabled).mdc-list-item--selected:hover .mdc-list-item__ripple::before{opacity:.12}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.2}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded) .mdc-list-item__ripple::after{transition:opacity 150ms linear}:not(.mdc-list-item--disabled).mdc-list-item--selected:not(.mdc-ripple-upgraded):active .mdc-list-item__ripple::after{transition-duration:75ms;opacity:.2}:not(.mdc-list-item--disabled).mdc-list-item--selected.mdc-ripple-upgraded{--mdc-ripple-fg-opacity: 0.2}:not(.mdc-list-item--disabled).mdc-list-item .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-list-item--disabled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-list-item--disabled .mdc-list-item__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-list-item--disabled.mdc-ripple-upgraded--unbounded .mdc-list-item__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-activation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-list-item--disabled.mdc-ripple-upgraded--foreground-deactivation .mdc-list-item__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-list-item--disabled.mdc-ripple-upgraded .mdc-list-item__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-list-item--disabled .mdc-list-item__ripple::before,.mdc-list-item--disabled .mdc-list-item__ripple::after{background-color:#000}.mdc-list-item--disabled.mdc-ripple-upgraded--background-focused .mdc-list-item__ripple::before,.mdc-list-item--disabled:not(.mdc-ripple-upgraded):focus .mdc-list-item__ripple::before{transition-duration:75ms;opacity:.12}.mdc-list-item--disabled .mdc-list-item__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-body2-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.875rem;font-size:var(--mdc-typography-body2-font-size, 0.875rem);line-height:1.25rem;line-height:var(--mdc-typography-body2-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-body2-font-weight, 400);letter-spacing:0.0178571429em;letter-spacing:var(--mdc-typography-body2-letter-spacing, 0.0178571429em);text-decoration:inherit;text-decoration:var(--mdc-typography-body2-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-body2-text-transform, inherit);color:rgba(0,0,0,.87);color:var(--mdc-theme-text-primary-on-background, rgba(0, 0, 0, 0.87));display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-text-field--filled{--mdc-ripple-fg-size: 0;--mdc-ripple-left: 0;--mdc-ripple-top: 0;--mdc-ripple-fg-scale: 1;--mdc-ripple-fg-translate-end: 0;--mdc-ripple-fg-translate-start: 0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{position:absolute;border-radius:50%;opacity:0;pointer-events:none;content:\"\"}.mdc-text-field--filled .mdc-text-field__ripple::before{transition:opacity 15ms linear,background-color 15ms linear;z-index:1}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::before{transform:scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{top:0;left:0;transform:scale(0);transform-origin:center center}.mdc-text-field--filled.mdc-ripple-upgraded--unbounded .mdc-text-field__ripple::after{top:var(--mdc-ripple-top, 0);left:var(--mdc-ripple-left, 0)}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-activation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-radius-in 225ms forwards,mdc-ripple-fg-opacity-in 75ms forwards}.mdc-text-field--filled.mdc-ripple-upgraded--foreground-deactivation .mdc-text-field__ripple::after{animation:mdc-ripple-fg-opacity-out 150ms;transform:translate(var(--mdc-ripple-fg-translate-end, 0)) scale(var(--mdc-ripple-fg-scale, 1))}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{top:calc(50% - 100%);left:calc(50% - 100%);width:200%;height:200%}.mdc-text-field--filled.mdc-ripple-upgraded .mdc-text-field__ripple::after{width:var(--mdc-ripple-fg-size, 100%);height:var(--mdc-ripple-fg-size, 100%)}.mdc-text-field__ripple{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.mdc-text-field{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0;padding:0 16px;display:inline-flex;align-items:baseline;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input{color:rgba(0,0,0,.87)}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:rgba(0,0,0,.54)}}@media all{.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.54)}}.mdc-text-field .mdc-text-field__input{caret-color:#6200ee;caret-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field-character-counter,.mdc-text-field:not(.mdc-text-field--disabled)+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--leading{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:rgba(0,0,0,.54)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:rgba(0,0,0,.6)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:rgba(0,0,0,.6)}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon,.mdc-text-field.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}[dir=rtl] .mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon,.mdc-text-field.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:0}.mdc-text-field__input{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input:-webkit-autofill{z-index:auto !important}@media all{.mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input::placeholder,.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}@media all{.mdc-text-field--fullwidth .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}}.mdc-text-field__affix{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-subtitle1-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:1rem;font-size:var(--mdc-typography-subtitle1-font-size, 1rem);font-weight:400;font-weight:var(--mdc-typography-subtitle1-font-weight, 400);letter-spacing:0.009375em;letter-spacing:var(--mdc-typography-subtitle1-letter-spacing, 0.009375em);text-decoration:inherit;text-decoration:var(--mdc-typography-subtitle1-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-subtitle1-text-transform, inherit);height:28px;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field__input:-webkit-autofill+.mdc-floating-label{transform:translateY(-50%) scale(0.75);cursor:auto}.mdc-text-field--filled{height:56px}.mdc-text-field--filled .mdc-text-field__ripple::before,.mdc-text-field--filled .mdc-text-field__ripple::after{background-color:rgba(0,0,0,.87)}.mdc-text-field--filled:hover .mdc-text-field__ripple::before{opacity:.04}.mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms;opacity:.12}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:\"\";vertical-align:0}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#f5f5f5}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--filled:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.87)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-color:#6200ee;border-bottom-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.38)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.87)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:0}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-text-field__ripple::before,.mdc-text-field--outlined .mdc-text-field__ripple::after{content:none}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:transparent}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0;transition:none}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px;line-height:1.5rem}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:\"\";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--fullwidth{padding:0;width:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.42)}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea){display:flex}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__input{height:100%}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-floating-label{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea)::before{display:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::before,.mdc-text-field--fullwidth:not(.mdc-text-field--textarea) .mdc-text-field__ripple::after{content:none}.mdc-text-field--fullwidth:not(.mdc-text-field--textarea):not(.mdc-text-field--disabled){background-color:transparent}.mdc-text-field--fullwidth.mdc-text-field--textarea .mdc-text-field__resizer{resize:vertical}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused:not(.mdc-text-field--disabled) .mdc-floating-label{color:rgba(98,0,238,.87)}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid .mdc-text-field__input{caret-color:#b00020;caret-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__icon--trailing{color:#b00020;color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:#b00020;border-bottom-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:#b00020;border-color:var(--mdc-theme-error, #b00020)}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}.mdc-text-field--disabled .mdc-text-field__input{color:rgba(0,0,0,.38)}@media all{.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:rgba(0,0,0,.38)}}@media all{.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:rgba(0,0,0,.38)}}.mdc-text-field--disabled .mdc-floating-label{color:rgba(0,0,0,.38)}.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__icon--leading{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:rgba(0,0,0,.3)}.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:rgba(0,0,0,.38)}.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:rgba(0,0,0,.06)}.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:rgba(0,0,0,.06)}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input::placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__input:-ms-input-placeholder{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-floating-label{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-helper-text{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field-character-counter,.mdc-text-field--disabled+.mdc-text-field-helper-line .mdc-text-field-character-counter{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--leading{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__icon--trailing{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--prefix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-text-field__affix--suffix{color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:GrayText}}@media screen and (-ms-high-contrast: active){.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:GrayText}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled{background-color:#fafafa}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-text-field-helper-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin:0;opacity:0;will-change:opacity;transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-text-field-helper-text::before{display:inline-block;width:0;height:16px;content:\"\";vertical-align:0}.mdc-text-field-helper-text--persistent{transition:none;opacity:1;will-change:initial}.mdc-text-field-character-counter{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:Roboto, sans-serif;font-family:var(--mdc-typography-caption-font-family, var(--mdc-typography-font-family, Roboto, sans-serif));font-size:0.75rem;font-size:var(--mdc-typography-caption-font-size, 0.75rem);line-height:1.25rem;line-height:var(--mdc-typography-caption-line-height, 1.25rem);font-weight:400;font-weight:var(--mdc-typography-caption-font-weight, 400);letter-spacing:0.0333333333em;letter-spacing:var(--mdc-typography-caption-letter-spacing, 0.0333333333em);text-decoration:inherit;text-decoration:var(--mdc-typography-caption-text-decoration, inherit);text-transform:inherit;text-transform:var(--mdc-typography-caption-text-transform, inherit);display:block;margin-top:0;line-height:normal;margin-left:auto;margin-right:0;padding-left:16px;padding-right:0;white-space:nowrap}.mdc-text-field-character-counter::before{display:inline-block;width:0;height:16px;content:\"\";vertical-align:0}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-text-field-character-counter,.mdc-text-field-character-counter[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field__icon{align-self:center;cursor:pointer}.mdc-text-field__icon:not([tabindex]),.mdc-text-field__icon[tabindex=\"-1\"]{cursor:default;pointer-events:none}.mdc-text-field__icon svg{display:block}.mdc-text-field__icon--leading{margin-left:16px;margin-right:8px}[dir=rtl] .mdc-text-field__icon--leading,.mdc-text-field__icon--leading[dir=rtl]{margin-left:8px;margin-right:16px}.mdc-text-field__icon--trailing{margin-left:12px;margin-right:12px}[dir=rtl] .mdc-text-field__icon--trailing,.mdc-text-field__icon--trailing[dir=rtl]{margin-left:12px;margin-right:12px}@font-face{font-family:\"Material Icons\";font-style:normal;font-weight:400;src:url("+d+");src:local(\"Material Icons\"),local(\"MaterialIcons-Regular\"),url("+c+") format(\"woff2\"),url("+p+") format(\"woff\"),url("+u+") format(\"truetype\")}.material-icons{font-family:\"Material Icons\";font-weight:normal;font-style:normal;font-size:24px;display:inline-block;line-height:1;text-transform:none;letter-spacing:normal;word-wrap:normal;white-space:nowrap;direction:ltr;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:\"liga\"}.navbar{background-color:#d3d3d3;height:30px;font-size:16px}#logo{vertical-align:middle;height:30px;margin-top:-4px;margin-left:8px;margin-right:8px}.navbar a{color:inherit;text-decoration:none}.navbar .subnav{display:inline-block}.navbar .navbtn,.navbar .subnavbtn{padding:4px 8px;cursor:pointer}.navbar .navbtn:hover,.navbar .subnavbtn:hover{background-color:gray}.subnav-content{display:none;position:absolute;background-color:#d3d3d3;border:1px solid gray;z-index:100}.navbar .subnav:hover .subnav-content{display:block}.navbar .selected::after{content:\"\u2713\"}.buttonsContainer{float:right;display:flex;height:30px}.buttonsContainer .mdc-button{height:auto;padding:0px 6px;margin:0px 3px}.main{display:flex;width:100%;height:calc(99.5vh - 30px);margin-top:.5vh;overflow:hidden}#blocklyWorkspaceContainer,#blocklyConsole{width:calc(50% - 5px)}#blocklyWorkspace{width:100%;height:100%}#blocklyConsole{font-family:monospace}#blocklyOutput{height:calc(80% - 5px)}#blocklyDevloperTools{height:calc(20% - 5px);background-color:#d3d3d3;overflow:hidden}#blocklyLogArea{padding:.5vw;white-space:pre}.gutter{background-color:#eee;background-repeat:no-repeat;background-position:50%}.gutter.gutter-horizontal{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==\")}.gutter.gutter-vertical{background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAFAQMAAABo7865AAAABlBMVEVHcEzMzMzyAv2sAAAAAXRSTlMAQObYZgAAABBJREFUeF5jOAMEEAIEEFwAn3kMwcB6I2AAAAAASUVORK5CYII=\")}#helpDialogShowDemoButton{visibility:hidden}#helpDialogShowSolutionButton{visibility:hidden}#helpDialogCloseButton{float:right;cursor:pointer}.mdc-dialog{z-index:200}.mdc-dialog .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-dialog .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee)}.mdc-dialog .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:rgba(0,0,0,.54);background-color:transparent}.mdc-dialog .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-dialog .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-dialog .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee);background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}@keyframes mdc-checkbox-fade-in-background-8A000000primary00000000primary{0%{border-color:rgba(0,0,0,.54);background-color:transparent}50%{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee);background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}}@keyframes mdc-checkbox-fade-out-background-8A000000primary00000000primary{0%,80%{border-color:#6200ee;border-color:var(--mdc-theme-primary, #6200ee);background-color:#6200ee;background-color:var(--mdc-theme-primary, #6200ee)}100%{border-color:rgba(0,0,0,.54);background-color:transparent}}.mdc-dialog .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-dialog .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000primary00000000primary}.mdc-dialog .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-dialog .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000primary00000000primary}#blocklySnackbar{z-index:250}#blocklySnackbar .mdc-button{min-width:24px}.mdc-tab-bar .mdc-tab{height:32px}.mdc-tab-bar .mdc-tab{height:20px;font-size:14px}.tabs__content-container{margin:0;padding:0;height:calc(100% - 20px);overflow:auto}.tabs__content{display:none}.tabs__content.active{display:block}",""]),e.exports=t},function(e,t,o){var i=o(19),r=o(48);r=r.__esModule?r.default:r,"string"==typeof r&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1});e.exports=r.locals||{}},function(e,t,o){var i=o(20),r=o(38),n=o(49),a=o(50),s=o(51),l=o(52),d=o(53),c=o(54),p=o(55),u=o(56),_=o(57),g=o(58),m=o(59),h=o(60),T=o(61),b=o(62),E=o(63),y=o(64),v=o(65),S=o(66),R=o(67),I=o(68),x=o(69),C=o(70),O=o(71),k=o(72),A=o(73),N=o(74),L=o(75),D=o(76),M=o(77),P=o(78),w=o(79),B=o(80),F=o(81),U=o(82),H=o(83),G=o(84),V=o(85),z=o(86),W=o(87),X=o(88),Y=o(89),j=o(90),J=o(91),K=o(92),q=o(93),Z=o(94),Q=o(95),$=o(96),ee=o(97),te=o(98),oe=o(99),ie=o(100),re=o(101),ne=o(102),ae=o(103),se=o(104),le=o(105),de=o(106),ce=o(107),pe=o(108);t=i(!1);var ue=r(n),_e=r(a),ge=r(s),me=r(l),he=r(d),Te=r(c),fe=r(p),be=r(u),Ee=r(_),ye=r(g),ve=r(m),Se=r(h),Re=r(T),Ie=r(b),xe=r(E),Ce=r(y),Oe=r(v),ke=r(S),Ae=r(R),Ne=r(I),Le=r(x),De=r(C),Me=r(O),Pe=r(k),we=r(A),Be=r(N),Fe=r(L),Ue=r(D),He=r(M),Ge=r(P),Ve=r(w),ze=r(B),We=r(F),Xe=r(U),Ye=r(H),je=r(G),Je=r(V),Ke=r(z),qe=r(W),Ze=r(X),Qe=r(Y),$e=r(j),et=r(J),tt=r(K),ot=r(q),it=r(Z),rt=r(Q),nt=r($),at=r(ee),st=r(te),lt=r(oe),dt=r(ie),ct=r(re),pt=r(ne),ut=r(ae),_t=r(se),gt=r(le),mt=r(de),ht=r(ce),Tt=r(pe);t.push([e.i,"@font-face{font-family:KaTeX_AMS;src:url("+ue+") format(\"woff2\"),url("+_e+") format(\"woff\"),url("+ge+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url("+me+") format(\"woff2\"),url("+he+") format(\"woff\"),url("+Te+") format(\"truetype\");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Caligraphic;src:url("+fe+") format(\"woff2\"),url("+be+") format(\"woff\"),url("+Ee+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url("+ye+") format(\"woff2\"),url("+ve+") format(\"woff\"),url("+Se+") format(\"truetype\");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Fraktur;src:url("+Re+") format(\"woff2\"),url("+Ie+") format(\"woff\"),url("+xe+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Main;src:url("+Ce+") format(\"woff2\"),url("+Oe+") format(\"woff\"),url("+ke+") format(\"truetype\");font-weight:700;font-style:normal}@font-face{font-family:KaTeX_Main;src:url("+Ae+") format(\"woff2\"),url("+Ne+") format(\"woff\"),url("+Le+") format(\"truetype\");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Main;src:url("+De+") format(\"woff2\"),url("+Me+") format(\"woff\"),url("+Pe+") format(\"truetype\");font-weight:400;font-style:italic}@font-face{font-family:KaTeX_Main;src:url("+we+") format(\"woff2\"),url("+Be+") format(\"woff\"),url("+Fe+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Math;src:url("+Ue+") format(\"woff2\"),url("+He+") format(\"woff\"),url("+Ge+") format(\"truetype\");font-weight:700;font-style:italic}@font-face{font-family:KaTeX_Math;src:url("+Ve+") format(\"woff2\"),url("+ze+") format(\"woff\"),url("+We+") format(\"truetype\");font-weight:400;font-style:italic}@font-face{font-family:\"KaTeX_SansSerif\";src:url("+Xe+") format(\"woff2\"),url("+Ye+") format(\"woff\"),url("+je+") format(\"truetype\");font-weight:700;font-style:normal}@font-face{font-family:\"KaTeX_SansSerif\";src:url("+Je+") format(\"woff2\"),url("+Ke+") format(\"woff\"),url("+qe+") format(\"truetype\");font-weight:400;font-style:italic}@font-face{font-family:\"KaTeX_SansSerif\";src:url("+Ze+") format(\"woff2\"),url("+Qe+") format(\"woff\"),url("+$e+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Script;src:url("+et+") format(\"woff2\"),url("+tt+") format(\"woff\"),url("+ot+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size1;src:url("+it+") format(\"woff2\"),url("+rt+") format(\"woff\"),url("+nt+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size2;src:url("+at+") format(\"woff2\"),url("+st+") format(\"woff\"),url("+lt+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size3;src:url("+dt+") format(\"woff2\"),url("+ct+") format(\"woff\"),url("+pt+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Size4;src:url("+ut+") format(\"woff2\"),url("+_t+") format(\"woff\"),url("+gt+") format(\"truetype\");font-weight:400;font-style:normal}@font-face{font-family:KaTeX_Typewriter;src:url("+mt+") format(\"woff2\"),url("+ht+") format(\"woff\"),url("+Tt+") format(\"truetype\");font-weight:400;font-style:normal}.katex{font:normal 1.21em KaTeX_Main,Times New Roman,serif;line-height:1.2;text-indent:0;text-rendering:auto;border-color:currentColor}.katex *{-ms-high-contrast-adjust:none!important}.katex .katex-version:after{content:\"0.12.0\"}.katex .katex-mathml{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.katex .katex-html>.newline{display:block}.katex .base{position:relative;white-space:nowrap;width:min-content}.katex .base,.katex .strut{display:inline-block}.katex .textbf{font-weight:700}.katex .textit{font-style:italic}.katex .textrm{font-family:KaTeX_Main}.katex .textsf{font-family:KaTeX_SansSerif}.katex .texttt{font-family:KaTeX_Typewriter}.katex .mathnormal{font-family:KaTeX_Math;font-style:italic}.katex .mathit{font-family:KaTeX_Main;font-style:italic}.katex .mathrm{font-style:normal}.katex .mathbf{font-family:KaTeX_Main;font-weight:700}.katex .boldsymbol{font-family:KaTeX_Math;font-weight:700;font-style:italic}.katex .amsrm,.katex .mathbb,.katex .textbb{font-family:KaTeX_AMS}.katex .mathcal{font-family:KaTeX_Caligraphic}.katex .mathfrak,.katex .textfrak{font-family:KaTeX_Fraktur}.katex .mathtt{font-family:KaTeX_Typewriter}.katex .mathscr,.katex .textscr{font-family:KaTeX_Script}.katex .mathsf,.katex .textsf{font-family:KaTeX_SansSerif}.katex .mathboldsf,.katex .textboldsf{font-family:KaTeX_SansSerif;font-weight:700}.katex .mathitsf,.katex .textitsf{font-family:KaTeX_SansSerif;font-style:italic}.katex .mainrm{font-family:KaTeX_Main;font-style:normal}.katex .vlist-t{display:inline-table;table-layout:fixed;border-collapse:collapse}.katex .vlist-r{display:table-row}.katex .vlist{display:table-cell;vertical-align:bottom;position:relative}.katex .vlist>span{display:block;height:0;position:relative}.katex .vlist>span>span{display:inline-block}.katex .vlist>span>.pstrut{overflow:hidden;width:0}.katex .vlist-t2{margin-right:-2px}.katex .vlist-s{display:table-cell;vertical-align:bottom;font-size:1px;width:2px;min-width:2px}.katex .vbox{-ms-flex-direction:column;flex-direction:column;align-items:baseline}.katex .hbox,.katex .vbox{display:-ms-inline-flexbox;display:inline-flex}.katex .hbox{-ms-flex-direction:row;flex-direction:row;width:100%}.katex .thinbox{display:inline-flex;flex-direction:row;width:0;max-width:0}.katex .msupsub{text-align:left}.katex .mfrac>span>span{text-align:center}.katex .mfrac .frac-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline,.katex .hline,.katex .mfrac .frac-line,.katex .overline .overline-line,.katex .rule,.katex .underline .underline-line{min-height:1px}.katex .mspace{display:inline-block}.katex .clap,.katex .llap,.katex .rlap{width:0;position:relative}.katex .clap>.inner,.katex .llap>.inner,.katex .rlap>.inner{position:absolute}.katex .clap>.fix,.katex .llap>.fix,.katex .rlap>.fix{display:inline-block}.katex .llap>.inner{right:0}.katex .clap>.inner,.katex .rlap>.inner{left:0}.katex .clap>.inner>span{margin-left:-50%;margin-right:50%}.katex .rule{display:inline-block;border:0 solid;position:relative}.katex .hline,.katex .overline .overline-line,.katex .underline .underline-line{display:inline-block;width:100%;border-bottom-style:solid}.katex .hdashline{display:inline-block;width:100%;border-bottom-style:dashed}.katex .sqrt>.root{margin-left:.27777778em;margin-right:-.55555556em}.katex .fontsize-ensurer.reset-size1.size1,.katex .sizing.reset-size1.size1{font-size:1em}.katex .fontsize-ensurer.reset-size1.size2,.katex .sizing.reset-size1.size2{font-size:1.2em}.katex .fontsize-ensurer.reset-size1.size3,.katex .sizing.reset-size1.size3{font-size:1.4em}.katex .fontsize-ensurer.reset-size1.size4,.katex .sizing.reset-size1.size4{font-size:1.6em}.katex .fontsize-ensurer.reset-size1.size5,.katex .sizing.reset-size1.size5{font-size:1.8em}.katex .fontsize-ensurer.reset-size1.size6,.katex .sizing.reset-size1.size6{font-size:2em}.katex .fontsize-ensurer.reset-size1.size7,.katex .sizing.reset-size1.size7{font-size:2.4em}.katex .fontsize-ensurer.reset-size1.size8,.katex .sizing.reset-size1.size8{font-size:2.88em}.katex .fontsize-ensurer.reset-size1.size9,.katex .sizing.reset-size1.size9{font-size:3.456em}.katex .fontsize-ensurer.reset-size1.size10,.katex .sizing.reset-size1.size10{font-size:4.148em}.katex .fontsize-ensurer.reset-size1.size11,.katex .sizing.reset-size1.size11{font-size:4.976em}.katex .fontsize-ensurer.reset-size2.size1,.katex .sizing.reset-size2.size1{font-size:.83333333em}.katex .fontsize-ensurer.reset-size2.size2,.katex .sizing.reset-size2.size2{font-size:1em}.katex .fontsize-ensurer.reset-size2.size3,.katex .sizing.reset-size2.size3{font-size:1.16666667em}.katex .fontsize-ensurer.reset-size2.size4,.katex .sizing.reset-size2.size4{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size2.size5,.katex .sizing.reset-size2.size5{font-size:1.5em}.katex .fontsize-ensurer.reset-size2.size6,.katex .sizing.reset-size2.size6{font-size:1.66666667em}.katex .fontsize-ensurer.reset-size2.size7,.katex .sizing.reset-size2.size7{font-size:2em}.katex .fontsize-ensurer.reset-size2.size8,.katex .sizing.reset-size2.size8{font-size:2.4em}.katex .fontsize-ensurer.reset-size2.size9,.katex .sizing.reset-size2.size9{font-size:2.88em}.katex .fontsize-ensurer.reset-size2.size10,.katex .sizing.reset-size2.size10{font-size:3.45666667em}.katex .fontsize-ensurer.reset-size2.size11,.katex .sizing.reset-size2.size11{font-size:4.14666667em}.katex .fontsize-ensurer.reset-size3.size1,.katex .sizing.reset-size3.size1{font-size:.71428571em}.katex .fontsize-ensurer.reset-size3.size2,.katex .sizing.reset-size3.size2{font-size:.85714286em}.katex .fontsize-ensurer.reset-size3.size3,.katex .sizing.reset-size3.size3{font-size:1em}.katex .fontsize-ensurer.reset-size3.size4,.katex .sizing.reset-size3.size4{font-size:1.14285714em}.katex .fontsize-ensurer.reset-size3.size5,.katex .sizing.reset-size3.size5{font-size:1.28571429em}.katex .fontsize-ensurer.reset-size3.size6,.katex .sizing.reset-size3.size6{font-size:1.42857143em}.katex .fontsize-ensurer.reset-size3.size7,.katex .sizing.reset-size3.size7{font-size:1.71428571em}.katex .fontsize-ensurer.reset-size3.size8,.katex .sizing.reset-size3.size8{font-size:2.05714286em}.katex .fontsize-ensurer.reset-size3.size9,.katex .sizing.reset-size3.size9{font-size:2.46857143em}.katex .fontsize-ensurer.reset-size3.size10,.katex .sizing.reset-size3.size10{font-size:2.96285714em}.katex .fontsize-ensurer.reset-size3.size11,.katex .sizing.reset-size3.size11{font-size:3.55428571em}.katex .fontsize-ensurer.reset-size4.size1,.katex .sizing.reset-size4.size1{font-size:.625em}.katex .fontsize-ensurer.reset-size4.size2,.katex .sizing.reset-size4.size2{font-size:.75em}.katex .fontsize-ensurer.reset-size4.size3,.katex .sizing.reset-size4.size3{font-size:.875em}.katex .fontsize-ensurer.reset-size4.size4,.katex .sizing.reset-size4.size4{font-size:1em}.katex .fontsize-ensurer.reset-size4.size5,.katex .sizing.reset-size4.size5{font-size:1.125em}.katex .fontsize-ensurer.reset-size4.size6,.katex .sizing.reset-size4.size6{font-size:1.25em}.katex .fontsize-ensurer.reset-size4.size7,.katex .sizing.reset-size4.size7{font-size:1.5em}.katex .fontsize-ensurer.reset-size4.size8,.katex .sizing.reset-size4.size8{font-size:1.8em}.katex .fontsize-ensurer.reset-size4.size9,.katex .sizing.reset-size4.size9{font-size:2.16em}.katex .fontsize-ensurer.reset-size4.size10,.katex .sizing.reset-size4.size10{font-size:2.5925em}.katex .fontsize-ensurer.reset-size4.size11,.katex .sizing.reset-size4.size11{font-size:3.11em}.katex .fontsize-ensurer.reset-size5.size1,.katex .sizing.reset-size5.size1{font-size:.55555556em}.katex .fontsize-ensurer.reset-size5.size2,.katex .sizing.reset-size5.size2{font-size:.66666667em}.katex .fontsize-ensurer.reset-size5.size3,.katex .sizing.reset-size5.size3{font-size:.77777778em}.katex .fontsize-ensurer.reset-size5.size4,.katex .sizing.reset-size5.size4{font-size:.88888889em}.katex .fontsize-ensurer.reset-size5.size5,.katex .sizing.reset-size5.size5{font-size:1em}.katex .fontsize-ensurer.reset-size5.size6,.katex .sizing.reset-size5.size6{font-size:1.11111111em}.katex .fontsize-ensurer.reset-size5.size7,.katex .sizing.reset-size5.size7{font-size:1.33333333em}.katex .fontsize-ensurer.reset-size5.size8,.katex .sizing.reset-size5.size8{font-size:1.6em}.katex .fontsize-ensurer.reset-size5.size9,.katex .sizing.reset-size5.size9{font-size:1.92em}.katex .fontsize-ensurer.reset-size5.size10,.katex .sizing.reset-size5.size10{font-size:2.30444444em}.katex .fontsize-ensurer.reset-size5.size11,.katex .sizing.reset-size5.size11{font-size:2.76444444em}.katex .fontsize-ensurer.reset-size6.size1,.katex .sizing.reset-size6.size1{font-size:.5em}.katex .fontsize-ensurer.reset-size6.size2,.katex .sizing.reset-size6.size2{font-size:.6em}.katex .fontsize-ensurer.reset-size6.size3,.katex .sizing.reset-size6.size3{font-size:.7em}.katex .fontsize-ensurer.reset-size6.size4,.katex .sizing.reset-size6.size4{font-size:.8em}.katex .fontsize-ensurer.reset-size6.size5,.katex .sizing.reset-size6.size5{font-size:.9em}.katex .fontsize-ensurer.reset-size6.size6,.katex .sizing.reset-size6.size6{font-size:1em}.katex .fontsize-ensurer.reset-size6.size7,.katex .sizing.reset-size6.size7{font-size:1.2em}.katex .fontsize-ensurer.reset-size6.size8,.katex .sizing.reset-size6.size8{font-size:1.44em}.katex .fontsize-ensurer.reset-size6.size9,.katex .sizing.reset-size6.size9{font-size:1.728em}.katex .fontsize-ensurer.reset-size6.size10,.katex .sizing.reset-size6.size10{font-size:2.074em}.katex .fontsize-ensurer.reset-size6.size11,.katex .sizing.reset-size6.size11{font-size:2.488em}.katex .fontsize-ensurer.reset-size7.size1,.katex .sizing.reset-size7.size1{font-size:.41666667em}.katex .fontsize-ensurer.reset-size7.size2,.katex .sizing.reset-size7.size2{font-size:.5em}.katex .fontsize-ensurer.reset-size7.size3,.katex .sizing.reset-size7.size3{font-size:.58333333em}.katex .fontsize-ensurer.reset-size7.size4,.katex .sizing.reset-size7.size4{font-size:.66666667em}.katex .fontsize-ensurer.reset-size7.size5,.katex .sizing.reset-size7.size5{font-size:.75em}.katex .fontsize-ensurer.reset-size7.size6,.katex .sizing.reset-size7.size6{font-size:.83333333em}.katex .fontsize-ensurer.reset-size7.size7,.katex .sizing.reset-size7.size7{font-size:1em}.katex .fontsize-ensurer.reset-size7.size8,.katex .sizing.reset-size7.size8{font-size:1.2em}.katex .fontsize-ensurer.reset-size7.size9,.katex .sizing.reset-size7.size9{font-size:1.44em}.katex .fontsize-ensurer.reset-size7.size10,.katex .sizing.reset-size7.size10{font-size:1.72833333em}.katex .fontsize-ensurer.reset-size7.size11,.katex .sizing.reset-size7.size11{font-size:2.07333333em}.katex .fontsize-ensurer.reset-size8.size1,.katex .sizing.reset-size8.size1{font-size:.34722222em}.katex .fontsize-ensurer.reset-size8.size2,.katex .sizing.reset-size8.size2{font-size:.41666667em}.katex .fontsize-ensurer.reset-size8.size3,.katex .sizing.reset-size8.size3{font-size:.48611111em}.katex .fontsize-ensurer.reset-size8.size4,.katex .sizing.reset-size8.size4{font-size:.55555556em}.katex .fontsize-ensurer.reset-size8.size5,.katex .sizing.reset-size8.size5{font-size:.625em}.katex .fontsize-ensurer.reset-size8.size6,.katex .sizing.reset-size8.size6{font-size:.69444444em}.katex .fontsize-ensurer.reset-size8.size7,.katex .sizing.reset-size8.size7{font-size:.83333333em}.katex .fontsize-ensurer.reset-size8.size8,.katex .sizing.reset-size8.size8{font-size:1em}.katex .fontsize-ensurer.reset-size8.size9,.katex .sizing.reset-size8.size9{font-size:1.2em}.katex .fontsize-ensurer.reset-size8.size10,.katex .sizing.reset-size8.size10{font-size:1.44027778em}.katex .fontsize-ensurer.reset-size8.size11,.katex .sizing.reset-size8.size11{font-size:1.72777778em}.katex .fontsize-ensurer.reset-size9.size1,.katex .sizing.reset-size9.size1{font-size:.28935185em}.katex .fontsize-ensurer.reset-size9.size2,.katex .sizing.reset-size9.size2{font-size:.34722222em}.katex .fontsize-ensurer.reset-size9.size3,.katex .sizing.reset-size9.size3{font-size:.40509259em}.katex .fontsize-ensurer.reset-size9.size4,.katex .sizing.reset-size9.size4{font-size:.46296296em}.katex .fontsize-ensurer.reset-size9.size5,.katex .sizing.reset-size9.size5{font-size:.52083333em}.katex .fontsize-ensurer.reset-size9.size6,.katex .sizing.reset-size9.size6{font-size:.5787037em}.katex .fontsize-ensurer.reset-size9.size7,.katex .sizing.reset-size9.size7{font-size:.69444444em}.katex .fontsize-ensurer.reset-size9.size8,.katex .sizing.reset-size9.size8{font-size:.83333333em}.katex .fontsize-ensurer.reset-size9.size9,.katex .sizing.reset-size9.size9{font-size:1em}.katex .fontsize-ensurer.reset-size9.size10,.katex .sizing.reset-size9.size10{font-size:1.20023148em}.katex .fontsize-ensurer.reset-size9.size11,.katex .sizing.reset-size9.size11{font-size:1.43981481em}.katex .fontsize-ensurer.reset-size10.size1,.katex .sizing.reset-size10.size1{font-size:.24108004em}.katex .fontsize-ensurer.reset-size10.size2,.katex .sizing.reset-size10.size2{font-size:.28929605em}.katex .fontsize-ensurer.reset-size10.size3,.katex .sizing.reset-size10.size3{font-size:.33751205em}.katex .fontsize-ensurer.reset-size10.size4,.katex .sizing.reset-size10.size4{font-size:.38572806em}.katex .fontsize-ensurer.reset-size10.size5,.katex .sizing.reset-size10.size5{font-size:.43394407em}.katex .fontsize-ensurer.reset-size10.size6,.katex .sizing.reset-size10.size6{font-size:.48216008em}.katex .fontsize-ensurer.reset-size10.size7,.katex .sizing.reset-size10.size7{font-size:.57859209em}.katex .fontsize-ensurer.reset-size10.size8,.katex .sizing.reset-size10.size8{font-size:.69431051em}.katex .fontsize-ensurer.reset-size10.size9,.katex .sizing.reset-size10.size9{font-size:.83317261em}.katex .fontsize-ensurer.reset-size10.size10,.katex .sizing.reset-size10.size10{font-size:1em}.katex .fontsize-ensurer.reset-size10.size11,.katex .sizing.reset-size10.size11{font-size:1.19961427em}.katex .fontsize-ensurer.reset-size11.size1,.katex .sizing.reset-size11.size1{font-size:.20096463em}.katex .fontsize-ensurer.reset-size11.size2,.katex .sizing.reset-size11.size2{font-size:.24115756em}.katex .fontsize-ensurer.reset-size11.size3,.katex .sizing.reset-size11.size3{font-size:.28135048em}.katex .fontsize-ensurer.reset-size11.size4,.katex .sizing.reset-size11.size4{font-size:.32154341em}.katex .fontsize-ensurer.reset-size11.size5,.katex .sizing.reset-size11.size5{font-size:.36173633em}.katex .fontsize-ensurer.reset-size11.size6,.katex .sizing.reset-size11.size6{font-size:.40192926em}.katex .fontsize-ensurer.reset-size11.size7,.katex .sizing.reset-size11.size7{font-size:.48231511em}.katex .fontsize-ensurer.reset-size11.size8,.katex .sizing.reset-size11.size8{font-size:.57877814em}.katex .fontsize-ensurer.reset-size11.size9,.katex .sizing.reset-size11.size9{font-size:.69453376em}.katex .fontsize-ensurer.reset-size11.size10,.katex .sizing.reset-size11.size10{font-size:.83360129em}.katex .fontsize-ensurer.reset-size11.size11,.katex .sizing.reset-size11.size11{font-size:1em}.katex .delimsizing.size1{font-family:KaTeX_Size1}.katex .delimsizing.size2{font-family:KaTeX_Size2}.katex .delimsizing.size3{font-family:KaTeX_Size3}.katex .delimsizing.size4{font-family:KaTeX_Size4}.katex .delimsizing.mult .delim-size1>span{font-family:KaTeX_Size1}.katex .delimsizing.mult .delim-size4>span{font-family:KaTeX_Size4}.katex .nulldelimiter{display:inline-block;width:.12em}.katex .delimcenter,.katex .op-symbol{position:relative}.katex .op-symbol.small-op{font-family:KaTeX_Size1}.katex .op-symbol.large-op{font-family:KaTeX_Size2}.katex .op-limits>.vlist-t{text-align:center}.katex .accent>.vlist-t{text-align:center}.katex .accent .accent-body{position:relative}.katex .accent .accent-body:not(.accent-full){width:0}.katex .overlay{display:block}.katex .mtable .vertical-separator{display:inline-block;min-width:1px}.katex .mtable .arraycolsep{display:inline-block}.katex .mtable .col-align-c>.vlist-t{text-align:center}.katex .mtable .col-align-l>.vlist-t{text-align:left}.katex .mtable .col-align-r>.vlist-t{text-align:right}.katex .svg-align{text-align:left}.katex svg{display:block;position:absolute;width:100%;height:inherit;fill:currentColor;stroke:currentColor;fill-rule:nonzero;fill-opacity:1;stroke-width:1;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1}.katex svg path{stroke:none}.katex img{border-style:none;min-width:0;min-height:0;max-width:none;max-height:none}.katex .stretchy{width:100%;display:block;position:relative;overflow:hidden}.katex .stretchy:after,.katex .stretchy:before{content:\"\"}.katex .hide-tail{width:100%;position:relative;overflow:hidden}.katex .halfarrow-left{position:absolute;left:0;width:50.2%;overflow:hidden}.katex .halfarrow-right{position:absolute;right:0;width:50.2%;overflow:hidden}.katex .brace-left{position:absolute;left:0;width:25.1%;overflow:hidden}.katex .brace-center{position:absolute;left:25%;width:50%;overflow:hidden}.katex .brace-right{position:absolute;right:0;width:25.1%;overflow:hidden}.katex .x-arrow-pad{padding:0 .5em}.katex .mover,.katex .munder,.katex .x-arrow{text-align:center}.katex .boxpad{padding:0 .3em}.katex .fbox,.katex .fcolorbox{box-sizing:border-box;border:.04em solid}.katex .cancel-pad{padding:0 .2em}.katex .cancel-lap{margin-left:-.2em;margin-right:-.2em}.katex .sout{border-bottom-style:solid;border-bottom-width:.08em}.katex-display{display:block;margin:1em 0;text-align:center}.katex-display>.katex{display:block;text-align:center;white-space:nowrap}.katex-display>.katex>.katex-html{display:block;position:relative}.katex-display>.katex>.katex-html>.tag{position:absolute;right:0}.katex-display.leqno>.katex>.katex-html>.tag{left:0;right:auto}.katex-display.fleqn>.katex{text-align:left;padding-left:2em}\n",""]),e.exports=t},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-cf3cce94764c737eac33ed35700a6859.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-25df3eee39c479c5dbd82a5a27f5c862.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-1436d720bab5540f6042b9dd39f05ee4.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-13c778b4e516e728a883a2f9c1606872.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-48247fb2230012c6f18ccef4c60208bf.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-a918d0d4efa82bcd404428e97b933b25.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-3f5d46fccdabd999330b96fa3754271e.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-bdf9b837cc72d077e02944e9fcda47e9.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-4ec4acf1f29004681007c4222285d23e.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-df40f734ebd7396509f1bded021d8c6b.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-6e777b1c03b095c759b5885c236f120c.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-dd0877ebec8f48a099708063de2a3af3.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-ce898e4cf9b1d7e7c8ea6e48249d9795.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-325384968866dbe03ec934c6a000fb1e.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-d9979391edeea4fc2712a0bee8f1328c.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-8d75a1e6ecd58a4eb9940ede7279c3a2.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-f39f77257d3598b25c4d6de65ca976fa.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-fa009f3b39d732e29b43629e08731367.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-b7ed9854ec19978153f4c43b1e33e555.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-6496af04088456784f0bdeb1b206a834.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-cd9f7de501f4712d8395f408f87d2589.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-477273ae2349c76afee0bda356c3e25f.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-d0f5089f412907de2fd3804f6dec9161.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-8e740c89602084adfd96dc754e66f654.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-94c5cef0897080e2abc2c4016240df28.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-b6fd45af6cc2dd38df466371b3d2ebc5.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-1f59b6fa39fdefdd8d5d3c0e6d1a1068.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-d3d8666a4632abee40f4414585d92110.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-0bbce4d2239847d51ef618510405f213.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-58d4a875a5aab4cfeef8ef3cfe67fef9.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-4fe95573161da2448789360783f39816.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-95efd25798405abac123add1b4eeca2d.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-a8101f5976ce6c54168148b48bd5ff52.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-02293ffdf75b14c169db631a51110638.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-e20da50e1dda67ed7e88c09276a270cc.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-219aa2d692ab036bee6adfdebaf2d52b.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-652da4643001144184456ef7faf2015b.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-cd98aad09d106ffeef20b9bb36573f4d.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-ab042de625e5f6cb75185a6a53556fc1.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-39626825863f8ae552747a74f1614406.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-a7167350e99b92f405ae8801435494c3.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-927a3bab5c885b4747e4455e5d944c8a.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-330012c54cab64b6abfd8e861dbe36e7.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-914df03ff7507e9205a4ecd7e0cfea0d.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-ba6b006acc2d150f6bc4c28091c70357.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-c03114ec648cbd34e5226cd53e410ac2.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-4ee32d5b4bd0a456f02cdd89f0a1cfd0.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-6ca578961bf9f8cf4cd915db7048a245.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-a136fd4c0c02449d27e20d6017d36078.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-9ebe93f9fe71c49b7ceda9c93c510155.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-1037f625f0d4e4b828b178837918f9ed.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-5cce6e91e556438f05bc2903c0c0e568.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-a562474e7cb5eaa89d50a4db1e1025db.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-b6c1d32bceb9a905cbb280807caf3215.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-cf8982ba6667cc82989a020c8e8749c7.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-9e74796262fa0108b4d0f064d92d4306.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-97bb202f822b59c00fa4ed25ce6cb14b.ttf"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-e613fbb875f1961b19acbde0799e684d.woff2"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-bbc3c89c9e69cab89642ddf1150018c2.woff"},function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"fonts/file-loader-ea67dc3c167e3d749122eddf7661d3eb.ttf"},function(e,t,o){var i,r,n;(function(a,s){r=[o(15),o(111),o(112),o(114)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e,t,o,i){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e.setLocale(t),e.Blocks=e.Blocks||{},Object.keys(o).forEach(function(t){e.Blocks[t]=o[t]}),e.JavaScript=i,e})},function(e,t,o){var i,r,n;(function(a,s){r=[o(21)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e})},function(e,t,o){var i,r,n;(function(a,s){r=[o(15)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){var e={};return e.Msg={},"use strict",e.Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03C0 (3.141\u2026), e (2.718\u2026), \u03C6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xBD) (0.707\u2026), or \u221E (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xF7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xF7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xD7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})},function(e,t,o){var i,r,n;(function(a,s){r=[o(113)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e.Blocks={},e.Blocks})},function(e,t,o){var i,r,n;(function(a,s){r=[o(21)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(t){"use strict";return t.Blocks.colour={},t.Constants={},t.Constants.Colour={},t.Constants.Colour.HUE=20,t.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),t.Blocks.lists={},t.Constants.Lists={},t.Constants.Lists.HUE=260,t.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),t.Blocks.lists_create_with={init:function(){this.setHelpUrl(t.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator(["lists_create_with_item"])),this.setTooltip(t.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var o=t.newBlock("lists_create_with_container");o.initSvg();for(var i=o.getInput("STACK").connection,r=0,n;r<this.itemCount_;r++)n=t.newBlock("lists_create_with_item"),n.initSvg(),i.connect(n.previousConnection),i=n.nextConnection;return o},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o;)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var i=this.getInput("ADD"+o).connection.targetConnection;i&&-1==e.indexOf(i)&&i.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0,o;e;)o=this.getInput("ADD"+t),e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e).setAlign(t.ALIGN_RIGHT);0==e&&o.appendField(t.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},t.Blocks.lists_indexOf={init:function(){var e=[[t.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(t.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new t.FieldDropdown(e),"END"),this.setInputsInline(!0);var o=this;this.setTooltip(function(){return t.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"0":"-1")})}},t.Blocks.lists_getIndex={init:function(){var e=[[t.Msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new t.FieldDropdown(e,function(e){e="REMOVE"==e,this.getSourceBlock().updateStatement_(e)}),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var o=this;this.setTooltip(function(){var i=o.getFieldValue("MODE"),r=o.getFieldValue("WHERE"),n="";switch(i+" "+r){case"GET FROM_START":case"GET FROM_END":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":n=t.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM;}return("FROM_START"==r||"FROM_END"==r)&&(n+="  "+("FROM_START"==r?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),n})},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);var o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(o){this.removeInput("AT"),this.removeInput("ORDINAL",!0),o?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var e=new t.FieldDropdown(this.WHERE_OPTIONS,function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=o){var r=this.getSourceBlock();return r.updateAt_(i),r.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(e,"WHERE"),t.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_setIndex={init:function(){var e=[[t.Msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new t.FieldDropdown(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var o=this;this.setTooltip(function(){var i=o.getFieldValue("MODE"),r=o.getFieldValue("WHERE"),n="";switch(i+" "+r){case"SET FROM_START":case"SET FROM_END":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":n=t.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM;}return("FROM_START"==r||"FROM_END"==r)&&(n+="  "+t.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),n})},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT").type==t.INPUT_VALUE;return e.setAttribute("at",o),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(o){this.removeInput("AT"),this.removeInput("ORDINAL",!0),o?(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var e=new t.FieldDropdown(this.WHERE_OPTIONS,function(t){var i="FROM_START"==t||"FROM_END"==t;if(i!=o){var r=this.getSourceBlock();return r.updateAt_(i),r.setFieldValue(t,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(e,"WHERE")}},t.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(o,i){this.removeInput("AT"+o),this.removeInput("ORDINAL"+o,!0),i?(this.appendValueInput("AT"+o).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+o).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+o);var e=new t.FieldDropdown(this["WHERE_OPTIONS_"+o],function(t){var r="FROM_START"==t||"FROM_END"==t;if(r!=i){var e=this.getSourceBlock();return e.updateAt_(o,r),e.setFieldValue(t,"WHERE"+o),null}});this.getInput("AT"+o).appendField(e,"WHERE"+o),1==o&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},t.Blocks.lists_sort={init:function(){this.jsonInit({message0:t.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[t.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[t.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[t.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[t.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[t.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:t.Msg.LISTS_SORT_TOOLTIP,helpUrl:t.Msg.LISTS_SORT_HELPURL})}},t.Blocks.lists_split={init:function(){var e=this,o=new t.FieldDropdown([[t.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(t){e.updateType_(t)});this.setHelpUrl(t.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(o,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var o=e.getFieldValue("MODE");if("SPLIT"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==o)return t.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+o)})},updateType_:function(e){if(this.getFieldValue("MODE")!=e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var o=t.targetBlock();o&&(t.disconnect(),o.isShadow()?o.dispose():this.bumpNeighbours())}"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},t.Blocks.logic={},t.Constants.Logic={},t.Constants.Logic.HUE=210,t.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200F<","LT"],["\u200F\u2264","LTE"],["\u200F>","GT"],["\u200F\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),t.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),t.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},t.Extensions.register("logic_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Logic.TOOLTIPS_BY_OP)),t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.utils.xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(t){var o=t.newBlock("controls_if_if");o.initSvg();for(var i=o.nextConnection,r=1,n;r<=this.elseifCount_;r++)n=t.newBlock("controls_if_elseif"),n.initSvg(),i.connect(n.previousConnection),i=n.nextConnection;return this.elseCount_&&(t=t.newBlock("controls_if_else"),t.initSvg(),i.connect(t.previousConnection)),o},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],o=[null],i=null;e;){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),o.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,i=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type);}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,o,i)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var o=this.getInput("IF"+t),i=this.getInput("DO"+t);e.valueConnection_=o&&o.connection.targetConnection,e.statementConnection_=i&&i.connection.targetConnection,t++;break;case"controls_if_else":i=this.getInput("ELSE"),e.statementConnection_=i&&i.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type);}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var t=[null],o=[null],i=null;this.getInput("ELSE")&&(i=this.getInput("ELSE").connection.targetConnection);for(var r=1;this.getInput("IF"+r);){var n=this.getInput("IF"+r),e=this.getInput("DO"+r);t.push(n.connection.targetConnection),o.push(e.connection.targetConnection),r++}this.updateShape_(),this.reconnectChildBlocks_(t,o,i)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);)this.removeInput("IF"+e),this.removeInput("DO"+e),e++;for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,o,i){for(var r=1;r<=this.elseifCount_;r++)t.Mutator.reconnect(e[r],this,"IF"+r),t.Mutator.reconnect(o[r],this,"DO"+r);t.Mutator.reconnect(i,this,"ELSE")}},t.Extensions.registerMutator("controls_if_mutator",t.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return t.Msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return t.Msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return t.Msg.CONTROLS_IF_TOOLTIP_4}else return t.Msg.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))},t.Extensions.register("controls_if_tooltip",t.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var o=this.getInputTargetBlock("A"),i=this.getInputTargetBlock("B");o&&i&&!o.outputConnection.checkType(i.outputConnection)&&(t.Events.setGroup(e.group),e=this.prevBlocks_[0],e!==o&&(o.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),o=this.prevBlocks_[1],o!==i&&(i.unplug(),!o||o.isDisposed()||o.isShadow()||this.getInput("B").connection.connect(o.outputConnection)),this.bumpNeighbours(),t.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},t.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(t.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},t.Extensions.register("logic_compare",t.Constants.Logic.LOGIC_COMPARE_EXTENSION),t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(o){var i=this.getInputTargetBlock("THEN"),r=this.getInputTargetBlock("ELSE"),n=this.outputConnection.targetConnection;if((i||r)&&n)for(var a=0,e;2>a;a++)e=1==a?i:r,e&&!e.outputConnection.checkType(n)&&(t.Events.setGroup(o.group),n===this.prevParentConnection_?(this.unplug(),n.getSourceBlock().bumpNeighbours()):(e.unplug(),e.bumpNeighbours()),t.Events.setGroup(!1));this.prevParentConnection_=n}},t.Extensions.registerMixin("logic_ternary",t.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),t.Blocks.loops={},t.Constants.Loops={},t.Constants.Loops.HUE=120,t.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),t.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},t.Extensions.register("controls_whileUntil_tooltip",t.Extensions.buildTooltipForDropdown("MODE",t.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},t.Extensions.register("controls_flow_tooltip",t.Extensions.buildTooltipForDropdown("FLOW",t.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(e){if(!this.isInFlyout){var o=this.getField("VAR").getVariable(),i=o.name;if(!this.isCollapsed()&&null!=i){var r={enabled:!0};r.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i),o=t.Variables.generateVariableFieldDom(o),i=t.utils.xml.createElement("block"),i.setAttribute("type","variables_get"),i.appendChild(o),r.callback=t.ContextMenu.callbackFactory(this,i),e.push(r)}}}},t.Extensions.registerMixin("contextMenu_newGetVariableBlock",t.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),t.Extensions.register("controls_for_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.Extensions.register("controls_forEach_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(e){do{if(-1!=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()&&e.type==t.Events.BLOCK_MOVE&&e.blockId==this.id){var o=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(o?null:t.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var i=t.Events.getGroup();t.Events.setGroup(e.group),this.setEnabled(o),t.Events.setGroup(i)}}}},t.Extensions.registerMixin("controls_flow_in_loop_check",t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),t.Blocks.math={},t.Constants.Math={},t.Constants.Math.HUE=230,t.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03C0","PI"],["e","E"],["\u03C6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xBD)","SQRT1_2"],["\u221E","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),t.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},t.Extensions.register("math_op_tooltip",t.Extensions.buildTooltipForDropdown("OP",t.Constants.Math.TOOLTIPS_BY_OP)),t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",o),e},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(e){e="DIVISIBLE_BY"==e,this.getSourceBlock().updateShape_(e)})},t.Extensions.registerMutator("math_is_divisibleby_mutator",t.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,t.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),t.Extensions.register("math_change_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),t.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))},t.Extensions.registerMutator("math_modes_of_list_mutator",t.Constants.Math.LIST_MODES_MUTATOR_MIXIN,t.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),t.Blocks.procedures={},t.Blocks.procedures_defnoreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.Events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.Events.enable()}},mutationToDom:function(o){var i=t.utils.xml.createElement("mutation");o&&i.setAttribute("name",this.getFieldValue("NAME"));for(var r=0;r<this.argumentVarModels_.length;r++){var n=t.utils.xml.createElement("arg"),a=this.argumentVarModels_[r];n.setAttribute("name",a.name),n.setAttribute("varid",a.getId()),o&&this.paramIds_&&n.setAttribute("paramId",this.paramIds_[r]),i.appendChild(n)}return this.hasStatements_||i.setAttribute("statements","false"),i},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var o=0,i;i=e.childNodes[o];o++)if("arg"==i.nodeName.toLowerCase()){var r=i.getAttribute("name");i=i.getAttribute("varid")||i.getAttribute("varId"),this.arguments_.push(r),i=t.Variables.getOrCreateVariablePackage(this.workspace,i,r,""),null==i?console.log("Failed to create a variable with name "+r+", ignoring."):this.argumentVarModels_.push(i)}this.updateParams_(),t.Procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},decompose:function(o){var i=t.utils.xml.createElement("block");i.setAttribute("type","procedures_mutatorcontainer");var r=t.utils.xml.createElement("statement");r.setAttribute("name","STACK"),i.appendChild(r);for(var n=0,a;n<this.arguments_.length;n++){a=t.utils.xml.createElement("block"),a.setAttribute("type","procedures_mutatorarg");var e=t.utils.xml.createElement("field");e.setAttribute("name","NAME");var s=t.utils.xml.createTextNode(this.arguments_[n]);e.appendChild(s),a.appendChild(e),e=t.utils.xml.createElement("next"),a.appendChild(e),r.appendChild(a),r=e}return o=t.Xml.domToBlock(i,o),"procedures_defreturn"==this.type?o.setFieldValue(this.hasStatements_,"STATEMENTS"):o.removeInput("STATEMENT_INPUT"),t.Procedures.mutateCallers(this),o},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var o=e.getInputTargetBlock("STACK"),i;o;)i=o.getFieldValue("NAME"),this.arguments_.push(i),i=this.workspace.getVariable(i,""),this.argumentVarModels_.push(i),this.paramIds_.push(o.id),o=o.nextConnection&&o.nextConnection.targetBlock();this.updateParams_(),t.Procedures.mutateCallers(this),e=e.getFieldValue("STATEMENTS"),null!==e&&(e="TRUE"==e,this.hasStatements_!=e)&&(e?(this.setStatements_(!0),t.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&(e=e.targetBlock(),e.unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(o,i){var r=this.workspace.getVariableById(o);if(""==r.type){r=r.name,i=this.workspace.getVariableById(i);for(var n=!1,a=0;a<this.argumentVarModels_.length;a++)this.argumentVarModels_[a].getId()==o&&(this.arguments_[a]=i.name,this.argumentVarModels_[a]=i,n=!0);n&&(this.displayRenamedVar_(r,i.name),t.Procedures.mutateCallers(this))}},updateVarName:function(o){for(var i=o.name,r=!1,n=0;n<this.argumentVarModels_.length;n++)if(this.argumentVarModels_[n].getId()==o.getId()){var a=this.arguments_[n];this.arguments_[n]=i,r=!0}r&&(this.displayRenamedVar_(a,i),t.Procedures.mutateCallers(this))},displayRenamedVar_:function(o,i){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var r=this.mutator.workspace_.getAllBlocks(!1),n=0,a;a=r[n];n++)"procedures_mutatorarg"==a.type&&t.Names.equals(o,a.getFieldValue("NAME"))&&a.setFieldValue(i,"NAME")},customContextMenu:function(o){if(!this.isInFlyout){var i={enabled:!0},r=this.getFieldValue("NAME");i.text=t.Msg.PROCEDURES_CREATE_DO.replace("%1",r);var n=t.utils.xml.createElement("mutation");for(n.setAttribute("name",r),r=0;r<this.arguments_.length;r++){var a=t.utils.xml.createElement("arg");a.setAttribute("name",this.arguments_[r]),n.appendChild(a)}if(r=t.utils.xml.createElement("block"),r.setAttribute("type",this.callType_),r.appendChild(n),i.callback=t.ContextMenu.callbackFactory(this,r),o.push(i),!this.isCollapsed())for(r=0;r<this.argumentVarModels_.length;r++)i={enabled:!0},n=this.argumentVarModels_[r],i.text=t.Msg.VARIABLES_SET_CREATE_GET.replace("%1",n.name),n=t.Variables.generateVariableFieldDom(n),a=t.utils.xml.createElement("block"),a.setAttribute("type","variables_get"),a.appendChild(n),i.callback=t.ContextMenu.callbackFactory(this,a),o.push(i)}},callType_:"procedures_callnoreturn"},t.Blocks.procedures_defreturn={init:function(){var e=new t.FieldTextInput("",t.Procedures.rename);e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.ALIGN_RIGHT).appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:t.Blocks.procedures_defnoreturn.setStatements_,updateParams_:t.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:t.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_defnoreturn.domToMutation,decompose:t.Blocks.procedures_defnoreturn.decompose,compose:t.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:t.Blocks.procedures_defnoreturn.getVars,getVarModels:t.Blocks.procedures_defnoreturn.getVarModels,renameVarById:t.Blocks.procedures_defnoreturn.renameVarById,updateVarName:t.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:t.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:t.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},t.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},t.Blocks.procedures_mutatorarg={init:function(){var e=new t.FieldTextInput(t.Procedures.DEFAULT_ARG,this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(o){var i=this.getSourceBlock(),r=t.Mutator.findParentWs(i.workspace);if(o=o.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!o)return null;for(var n=(i.workspace.targetWorkspace||i.workspace).getAllBlocks(!1),s=o.toLowerCase(),e=0;e<n.length;e++)if(n[e].id!=this.getSourceBlock().id){var l=n[e].getFieldValue("NAME");if(l&&l.toLowerCase()==s)return null}return i.isInFlyout?o:((i=r.getVariable(o,""))&&i.name!=o&&r.renameVariableById(i.getId(),o),i||(i=r.createVariable(o,""))&&this.createdVariables_&&this.createdVariables_.push(i),o)},deleteIntermediateVars_:function(e){var o=t.Mutator.findParentWs(this.getSourceBlock().workspace);if(o)for(var i=0,r;i<this.createdVariables_.length;i++)r=this.createdVariables_[i],r.name!=e&&o.deleteVariableById(r.getId())}},t.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,o){t.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(o,"NAME"),this.setTooltip((this.outputConnection?t.Msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",o)))},setProcedureParameters_:function(o,i){var r=t.Procedures.getDefinition(this.getProcedureCall(),this.workspace),n=r&&r.mutator&&r.mutator.isVisible();if(n||(this.quarkConnections_={},this.quarkIds_=null),i)if(o.join("\n")==this.arguments_.join("\n"))this.quarkIds_=i;else{if(i.length!=o.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),r=this.rendered,this.rendered=!1;for(var a=0,e;a<this.arguments_.length;a++)e=this.getInput("ARG"+a),e&&(e=e.connection.targetConnection,this.quarkConnections_[this.quarkIds_[a]]=e,n&&e&&-1==i.indexOf(this.quarkIds_[a])&&(e.disconnect(),e.getSourceBlock().bumpNeighbours()));for(this.arguments_=[].concat(o),this.argumentVarModels_=[],a=0;a<this.arguments_.length;a++)o=t.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[a],""),this.argumentVarModels_.push(o);if(this.updateShape_(),this.quarkIds_=i)for(a=0;a<this.arguments_.length;a++)i=this.quarkIds_[a],i in this.quarkConnections_&&(e=this.quarkConnections_[i],t.Mutator.reconnect(e,this,"ARG"+a)||delete this.quarkConnections_[i]);(this.rendered=r)&&this.render()}},updateShape_:function(){for(var e=0,o;e<this.arguments_.length;e++)if(o=this.getField("ARGNAME"+e),o){t.Events.disable();try{o.setValue(this.arguments_[e])}finally{t.Events.enable()}}else o=new t.FieldLabel(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.ALIGN_RIGHT).appendField(o,"ARGNAME"+e).init();for(;this.getInput("ARG"+e);)this.removeInput("ARG"+e),e++;(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(var o=0,i;o<this.arguments_.length;o++)i=t.utils.xml.createElement("arg"),i.setAttribute("name",this.arguments_[o]),e.appendChild(i);return e},domToMutation:function(t){var o=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),o),o=[];for(var i=[],r=0,n;n=t.childNodes[r];r++)"arg"==n.nodeName.toLowerCase()&&(o.push(n.getAttribute("name")),i.push(n.getAttribute("paramId")));this.setProcedureParameters_(o,i)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type==t.Events.BLOCK_CREATE&&-1!=e.ids.indexOf(this.id)){var o=this.getProcedureCall();if(o=t.Procedures.getDefinition(o,this.workspace),o&&(o.type!=this.defType_||JSON.stringify(o.getVars())!=JSON.stringify(this.arguments_))&&(o=null),!o){t.Events.setGroup(e.group),e=t.utils.xml.createElement("xml"),o=t.utils.xml.createElement("block"),o.setAttribute("type",this.defType_);var i=this.getRelativeToSurfaceXY(),r=i.y+2*t.SNAP_RADIUS;o.setAttribute("x",i.x+t.SNAP_RADIUS*(this.RTL?-1:1)),o.setAttribute("y",r),i=this.mutationToDom(),o.appendChild(i),i=t.utils.xml.createElement("field"),i.setAttribute("name","NAME"),i.appendChild(t.utils.xml.createTextNode(this.getProcedureCall())),o.appendChild(i),e.appendChild(o),t.Xml.domToWorkspace(e,this.workspace),t.Events.setGroup(!1)}}else e.type==t.Events.BLOCK_DELETE?(o=this.getProcedureCall(),o=t.Procedures.getDefinition(o,this.workspace),o||(t.Events.setGroup(e.group),this.dispose(!0),t.Events.setGroup(!1))):e.type==t.Events.CHANGE&&"disabled"==e.element&&(o=this.getProcedureCall(),(o=t.Procedures.getDefinition(o,this.workspace))&&o.id==e.blockId&&((o=t.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.Events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.Events.setGroup(o)))},customContextMenu:function(e){if(this.workspace.isMovable()){var o={enabled:!0,text:t.Msg.PROCEDURES_HIGHLIGHT_DEF},i=this.getProcedureCall(),r=this.workspace;o.callback=function(){var e=t.Procedures.getDefinition(i,r);e&&(r.centerOnBlock(e.id),e.select())},e.push(o)}},defType_:"procedures_defnoreturn"},t.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:t.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:t.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:t.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:t.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:t.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:t.Blocks.procedures_callnoreturn.domToMutation,getVars:t.Blocks.procedures_callnoreturn.getVars,getVarModels:t.Blocks.procedures_callnoreturn.getVarModels,onchange:t.Blocks.procedures_callnoreturn.onchange,customContextMenu:t.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},t.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("value",+this.hasReturnValue_),e},domToMutation:function(e){this.hasReturnValue_=1==e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()){e=!1;var o=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(o.type)){e=!0;break}o=o.getSurroundParent()}while(o);e?("procedures_defnoreturn"==o.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=o.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(t.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},t.Blocks.texts={},t.Constants.Text={},t.Constants.Text.HUE=160,t.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xB6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),t.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[t.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.utils.xml.createElement("mutation"),o=this.getInput("AT1").type==t.INPUT_VALUE;return e.setAttribute("at1",o),o=this.getInput("AT2").type==t.INPUT_VALUE,e.setAttribute("at2",o),e},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(o,i){this.removeInput("AT"+o),this.removeInput("ORDINAL"+o,!0),i?(this.appendValueInput("AT"+o).setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+o).appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+o),2==o&&t.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_GET_SUBSTRING_TAIL));var e=new t.FieldDropdown(this["WHERE_OPTIONS_"+o],function(t){var r="FROM_START"==t||"FROM_END"==t;if(r!=i){var e=this.getSourceBlock();return e.updateAt_(o,r),e.setFieldValue(t,"WHERE"+o),null}});this.getInput("AT"+o).appendField(e,"WHERE"+o),1==o&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},t.Blocks.text_changeCase={init:function(){var e=[[t.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_CHANGECASE_TOOLTIP)}},t.Blocks.text_trim={init:function(){var e=[[t.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new t.FieldDropdown(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg.TEXT_TRIM_TOOLTIP)}},t.Blocks.text_print={init:function(){this.jsonInit({message0:t.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg.TEXT_PRINT_HELPURL})}},t.Blocks.text_prompt_ext={init:function(){var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var o=this;e=new t.FieldDropdown(e,function(e){o.updateType_(e)}),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},t.Blocks.text_prompt={init:function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN);var e=[[t.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],o=this;this.setHelpUrl(t.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new t.FieldDropdown(e,function(e){o.updateType_(e)}),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==o.getFieldValue("TYPE")?t.Msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:t.Blocks.text_prompt_ext.updateType_,mutationToDom:t.Blocks.text_prompt_ext.mutationToDom,domToMutation:t.Blocks.text_prompt_ext.domToMutation},t.Blocks.text_count={init:function(){this.jsonInit({message0:t.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg.TEXT_COUNT_HELPURL})}},t.Blocks.text_replace={init:function(){this.jsonInit({message0:t.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg.TEXT_REPLACE_HELPURL})}},t.Blocks.text_reverse={init:function(){this.jsonInit({message0:t.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg.TEXT_REVERSE_HELPURL})}},t.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var o=0,i;i=this.inputList[o];o++)for(var r=0,n;n=i.fieldRow[r];r++)if(t==n.name)return i.insertFieldAt(r,this.newQuote_(!0)),void i.insertFieldAt(r+2,this.newQuote_(!1));console.warn("field named \""+t+"\" not found in "+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"\u201C":"\u201D")}},t.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var o=t.newBlock("text_create_join_container");o.initSvg();for(var i=o.getInput("STACK").connection,r=0,n;r<this.itemCount_;r++)n=t.newBlock("text_create_join_item"),n.initSvg(),i.connect(n.previousConnection),i=n.nextConnection;return o},compose:function(e){var o=e.getInputTargetBlock("STACK");for(e=[];o;)e.push(o.valueConnection_),o=o.nextConnection&&o.nextConnection.targetBlock();for(o=0;o<this.itemCount_;o++){var i=this.getInput("ADD"+o).connection.targetConnection;i&&-1==e.indexOf(i)&&i.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),o=0;o<this.itemCount_;o++)t.Mutator.reconnect(e[o],this,"ADD"+o)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0,o;e;)o=this.getInput("ADD"+t),e.valueConnection_=o&&o.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var o=this.appendValueInput("ADD"+e).setAlign(t.ALIGN_RIGHT);0==e&&o.appendField(t.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++}},t.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(t.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator(["text_create_join_item"]))},t.Extensions.register("text_append_tooltip",t.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var e=this;this.setTooltip(function(){return t.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")})},t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var e=t.utils.xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg.ORDINAL_NUMBER_SUFFIX)),t.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},t.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(e){e="FROM_START"==e||"FROM_END"==e,e!=this.isAt_&&this.getSourceBlock().updateAt_(e)}),this.updateAt_(!0);var e=this;this.setTooltip(function(){var o=e.getFieldValue("WHERE"),i=t.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==o||"FROM_END"==o)&&(o="FROM_START"==o?t.Msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(i+="  "+o.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),i})},t.Extensions.register("text_indexOf_tooltip",t.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),t.Extensions.register("text_quotes",t.Constants.Text.TEXT_QUOTES_EXTENSION),t.Extensions.registerMutator("text_join_mutator",t.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,t.Constants.Text.TEXT_JOIN_EXTENSION),t.Extensions.registerMutator("text_charAt_mutator",t.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,t.Constants.Text.TEXT_CHARAT_EXTENSION),t.Blocks.variables={},t.Constants.Variables={},t.Constants.Variables.HUE=330,t.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(o){if(!this.isInFlyout){if("variables_get"==this.type)var i="variables_set",r=t.Msg.VARIABLES_GET_CREATE_SET;else i="variables_get",r=t.Msg.VARIABLES_SET_CREATE_GET;var n={enabled:0<this.workspace.remainingCapacity()},a=this.getField("VAR").getText();n.text=r.replace("%1",a),r=t.utils.xml.createElement("field"),r.setAttribute("name","VAR"),r.appendChild(t.utils.xml.createTextNode(a)),a=t.utils.xml.createElement("block"),a.setAttribute("type",i),a.appendChild(r),n.callback=t.ContextMenu.callbackFactory(this,a),o.push(n)}else("variables_get"==this.type||"variables_get_reporter"==this.type)&&(i={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},a=this.getField("VAR").getText(),n={text:t.Msg.DELETE_VARIABLE.replace("%1",a),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},o.unshift(i),o.unshift(n))}},t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,i=e.getField("VAR").getVariable();t.Variables.renameVariable(o,i)}},t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,o=e.getField("VAR").getVariable();t.deleteVariableById(o.getId()),t.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableSetterGetter",t.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Constants.VariablesDynamic={},t.Constants.VariablesDynamic.HUE=310,t.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(o){if(!this.isInFlyout){var i=this.getFieldValue("VAR"),r=this.workspace.getVariableById(i).type;if("variables_get_dynamic"==this.type){i="variables_set_dynamic";var n=t.Msg.VARIABLES_GET_CREATE_SET}else i="variables_get_dynamic",n=t.Msg.VARIABLES_SET_CREATE_GET;var a={enabled:0<this.workspace.remainingCapacity()},e=this.getField("VAR").getText();a.text=n.replace("%1",e),n=t.utils.xml.createElement("field"),n.setAttribute("name","VAR"),n.setAttribute("variabletype",r),n.appendChild(t.utils.xml.createTextNode(e)),e=t.utils.xml.createElement("block"),e.setAttribute("type",i),e.appendChild(n),a.callback=t.ContextMenu.callbackFactory(this,e),o.push(a)}else("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type)&&(i={text:t.Msg.RENAME_VARIABLE,enabled:!0,callback:t.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},e=this.getField("VAR").getText(),a={text:t.Msg.DELETE_VARIABLE.replace("%1",e),enabled:!0,callback:t.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},o.unshift(i),o.unshift(a))},onchange:function(e){e=this.getFieldValue("VAR"),e=t.Variables.getVariable(this.workspace,e),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},t.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(e){return function(){var o=e.workspace,i=e.getField("VAR").getVariable();t.Variables.renameVariable(o,i)}},t.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,o=e.getField("VAR").getVariable();t.deleteVariableById(o.getId()),t.refreshToolboxSelection()}},t.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",t.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),t.Blocks})},function(e,t,o){var i,r,n;(function(a,s){r=[o(15),o(115)],i=s,n="function"==typeof i?i.apply(t,r):i,!(n!==void 0&&(e.exports=n))})(this,function(e,t){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */"use strict";return e.JavaScript=t,t})},function(e,t,o){var i=Math.abs,r=Math.floor,n,a,s;(function(i,r){a=[o(21)],n=r,s="function"==typeof n?n.apply(t,a):n,!(s!==void 0&&(e.exports=s))})(this,function(t){"use strict";return t.JavaScript=new t.Generator("JavaScript"),t.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(t.utils.global).join(",")),t.JavaScript.ORDER_ATOMIC=0,t.JavaScript.ORDER_NEW=1.1,t.JavaScript.ORDER_MEMBER=1.2,t.JavaScript.ORDER_FUNCTION_CALL=2,t.JavaScript.ORDER_INCREMENT=3,t.JavaScript.ORDER_DECREMENT=3,t.JavaScript.ORDER_BITWISE_NOT=4.1,t.JavaScript.ORDER_UNARY_PLUS=4.2,t.JavaScript.ORDER_UNARY_NEGATION=4.3,t.JavaScript.ORDER_LOGICAL_NOT=4.4,t.JavaScript.ORDER_TYPEOF=4.5,t.JavaScript.ORDER_VOID=4.6,t.JavaScript.ORDER_DELETE=4.7,t.JavaScript.ORDER_AWAIT=4.8,t.JavaScript.ORDER_EXPONENTIATION=5,t.JavaScript.ORDER_MULTIPLICATION=5.1,t.JavaScript.ORDER_DIVISION=5.2,t.JavaScript.ORDER_MODULUS=5.3,t.JavaScript.ORDER_SUBTRACTION=6.1,t.JavaScript.ORDER_ADDITION=6.2,t.JavaScript.ORDER_BITWISE_SHIFT=7,t.JavaScript.ORDER_RELATIONAL=8,t.JavaScript.ORDER_IN=8,t.JavaScript.ORDER_INSTANCEOF=8,t.JavaScript.ORDER_EQUALITY=9,t.JavaScript.ORDER_BITWISE_AND=10,t.JavaScript.ORDER_BITWISE_XOR=11,t.JavaScript.ORDER_BITWISE_OR=12,t.JavaScript.ORDER_LOGICAL_AND=13,t.JavaScript.ORDER_LOGICAL_OR=14,t.JavaScript.ORDER_CONDITIONAL=15,t.JavaScript.ORDER_ASSIGNMENT=16,t.JavaScript.ORDER_YIELD=17,t.JavaScript.ORDER_COMMA=18,t.JavaScript.ORDER_NONE=99,t.JavaScript.ORDER_OVERRIDES=[[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_FUNCTION_CALL,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_MEMBER],[t.JavaScript.ORDER_MEMBER,t.JavaScript.ORDER_FUNCTION_CALL],[t.JavaScript.ORDER_LOGICAL_NOT,t.JavaScript.ORDER_LOGICAL_NOT],[t.JavaScript.ORDER_MULTIPLICATION,t.JavaScript.ORDER_MULTIPLICATION],[t.JavaScript.ORDER_ADDITION,t.JavaScript.ORDER_ADDITION],[t.JavaScript.ORDER_LOGICAL_AND,t.JavaScript.ORDER_LOGICAL_AND],[t.JavaScript.ORDER_LOGICAL_OR,t.JavaScript.ORDER_LOGICAL_OR]],t.JavaScript.init=function(e){t.JavaScript.definitions_=Object.create(null),t.JavaScript.functionNames_=Object.create(null),t.JavaScript.variableDB_?t.JavaScript.variableDB_.reset():t.JavaScript.variableDB_=new t.Names(t.JavaScript.RESERVED_WORDS_),t.JavaScript.variableDB_.setVariableMap(e.getVariableMap());for(var o=[],i=t.Variables.allDeveloperVariables(e),r=0;r<i.length;r++)o.push(t.JavaScript.variableDB_.getName(i[r],t.Names.DEVELOPER_VARIABLE_TYPE));for(e=t.Variables.allUsedVarModels(e),r=0;r<e.length;r++)o.push(t.JavaScript.variableDB_.getName(e[r].getId(),t.VARIABLE_CATEGORY_NAME));o.length&&(t.JavaScript.definitions_.variables="var "+o.join(", ")+";")},t.JavaScript.finish=function(e){var o=[],i;for(i in t.JavaScript.definitions_)o.push(t.JavaScript.definitions_[i]);return delete t.JavaScript.definitions_,delete t.JavaScript.functionNames_,t.JavaScript.variableDB_.reset(),o.join("\n\n")+"\n\n\n"+e},t.JavaScript.scrubNakedValue=function(e){return e+";\n"},t.JavaScript.quote_=function(e){return e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"),"'"+e+"'"},t.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(t.JavaScript.quote_).join(" + '\\n' +\n")},t.JavaScript.scrub_=function(o,i,r){var n="";if(!o.outputConnection||!o.outputConnection.targetConnection){var a=o.getCommentText();a&&(a=t.utils.string.wrap(a,t.JavaScript.COMMENT_WRAP-3),n+=t.JavaScript.prefixLines(a+"\n","// "));for(var e=0;e<o.inputList.length;e++)o.inputList[e].type==t.INPUT_VALUE&&(a=o.inputList[e].connection.targetBlock())&&(a=t.JavaScript.allNestedComments(a))&&(n+=t.JavaScript.prefixLines(a,"// "))}return o=o.nextConnection&&o.nextConnection.targetBlock(),r=r?"":t.JavaScript.blockToCode(o),n+i+r},t.JavaScript.getAdjusted=function(o,i,n,s,l){n=n||0,l=l||t.JavaScript.ORDER_NONE,o.workspace.options.oneBasedIndex&&n--;var e=o.workspace.options.oneBasedIndex?"1":"0";if(o=0<n?t.JavaScript.valueToCode(o,i,t.JavaScript.ORDER_ADDITION)||e:0>n?t.JavaScript.valueToCode(o,i,t.JavaScript.ORDER_SUBTRACTION)||e:s?t.JavaScript.valueToCode(o,i,t.JavaScript.ORDER_UNARY_NEGATION)||e:t.JavaScript.valueToCode(o,i,l)||e,t.isNumber(o))o=+o+n,s&&(o=-o);else{if(0<n){o=o+" + "+n;var d=t.JavaScript.ORDER_ADDITION}else 0>n&&(o=o+" - "+-n,d=t.JavaScript.ORDER_SUBTRACTION);s&&(o=n?"-("+o+")":"-"+o,d=t.JavaScript.ORDER_UNARY_NEGATION),d=r(d),l=r(l),d&&l>=d&&(o="("+o+")")}return o},t.JavaScript.colour={},t.JavaScript.colour_picker=function(e){return[t.JavaScript.quote_(e.getFieldValue("COLOUR")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.colour_random=function(){return[t.JavaScript.provideFunction_("colourRandom",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_rgb=function(e){var o=t.JavaScript.valueToCode(e,"RED",t.JavaScript.ORDER_COMMA)||0,i=t.JavaScript.valueToCode(e,"GREEN",t.JavaScript.ORDER_COMMA)||0;return e=t.JavaScript.valueToCode(e,"BLUE",t.JavaScript.ORDER_COMMA)||0,[t.JavaScript.provideFunction_("colourRgb",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+i+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.colour_blend=function(e){var o=t.JavaScript.valueToCode(e,"COLOUR1",t.JavaScript.ORDER_COMMA)||"'#000000'",i=t.JavaScript.valueToCode(e,"COLOUR2",t.JavaScript.ORDER_COMMA)||"'#000000'";return e=t.JavaScript.valueToCode(e,"RATIO",t.JavaScript.ORDER_COMMA)||.5,[t.JavaScript.provideFunction_("colourBlend",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+o+", "+i+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists={},t.JavaScript.lists_create_empty=function(){return["[]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_create_with=function(e){for(var o=Array(e.itemCount_),i=0;i<e.itemCount_;i++)o[i]=t.JavaScript.valueToCode(e,"ADD"+i,t.JavaScript.ORDER_COMMA)||"null";return["["+o.join(", ")+"]",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.lists_repeat=function(e){var o=t.JavaScript.provideFunction_("listsRepeat",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),i=t.JavaScript.valueToCode(e,"ITEM",t.JavaScript.ORDER_COMMA)||"null";return e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_COMMA)||"0",[o+"("+i+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.lists_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.lists_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",i=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"[]")+"."+o+"("+i+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_getIndex=function(e){var o=e.getFieldValue("MODE")||"GET",i=e.getFieldValue("WHERE")||"FROM_START",r=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==i?t.JavaScript.ORDER_COMMA:t.JavaScript.ORDER_MEMBER)||"[]";switch(i){case"FIRST":if("GET"==o)return[r+"[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".shift()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".shift();\n";break;case"LAST":if("GET"==o)return[r+".slice(-1)[0]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".pop()",t.JavaScript.ORDER_MEMBER];if("REMOVE"==o)return r+".pop();\n";break;case"FROM_START":if(e=t.JavaScript.getAdjusted(e,"AT"),"GET"==o)return[r+"["+e+"]",t.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);\n";break;case"FROM_END":if(e=t.JavaScript.getAdjusted(e,"AT",1,!0),"GET"==o)return[r+".slice("+e+")[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==o)return[r+".splice("+e+", 1)[0]",t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+".splice("+e+", 1);";break;case"RANDOM":if(r=t.JavaScript.provideFunction_("listsGetRandomItem",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+r+", "+("GET"!=o)+")","GET"==o||"GET_REMOVE"==o)return[r,t.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==o)return r+";\n";}throw Error("Unhandled combination (lists_getIndex).")},t.JavaScript.lists_setIndex=function(o){function i(){if(r.match(/^\w+$/))return"";var e=t.JavaScript.variableDB_.getDistinctName("tmpList",t.VARIABLE_CATEGORY_NAME),o="var "+e+" = "+r+";\n";return r=e,o}var r=t.JavaScript.valueToCode(o,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",n=o.getFieldValue("MODE")||"GET",a=o.getFieldValue("WHERE")||"FROM_START",e=t.JavaScript.valueToCode(o,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"null";switch(a){case"FIRST":if("SET"==n)return r+"[0] = "+e+";\n";if("INSERT"==n)return r+".unshift("+e+");\n";break;case"LAST":if("SET"==n)return o=i(),o+(r+"["+r+".length - 1] = "+e+";\n");if("INSERT"==n)return r+".push("+e+");\n";break;case"FROM_START":if(a=t.JavaScript.getAdjusted(o,"AT"),"SET"==n)return r+"["+a+"] = "+e+";\n";if("INSERT"==n)return r+".splice("+a+", 0, "+e+");\n";break;case"FROM_END":if(a=t.JavaScript.getAdjusted(o,"AT",1,!1,t.JavaScript.ORDER_SUBTRACTION),o=i(),"SET"==n)return o+(r+"["+r+".length - "+a+"] = "+e+";\n");if("INSERT"==n)return o+(r+".splice("+r+".length - "+a+", 0, "+e+");\n");break;case"RANDOM":if(o=i(),a=t.JavaScript.variableDB_.getDistinctName("tmpX",t.VARIABLE_CATEGORY_NAME),o+="var "+a+" = Math.floor(Math.random() * "+r+".length);\n","SET"==n)return o+(r+"["+a+"] = "+e+";\n");if("INSERT"==n)return o+(r+".splice("+a+", 0, "+e+");\n");}throw Error("Unhandled combination (lists_setIndex).")},t.JavaScript.lists.getIndex_=function(e,t,o){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+o:"LAST"==t?e+".length - 1":o},t.JavaScript.lists_getSublist=function(o){var i=t.JavaScript.valueToCode(o,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",r=o.getFieldValue("WHERE1"),n=o.getFieldValue("WHERE2");if("FIRST"==r&&"LAST"==n)i+=".slice(0)";else if(i.match(/^\w+$/)||"FROM_END"!=r&&"FROM_START"==n){switch(r){case"FROM_START":var a=t.JavaScript.getAdjusted(o,"AT1");break;case"FROM_END":a=t.JavaScript.getAdjusted(o,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION),a=i+".length - "+a;break;case"FIRST":a="0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(n){case"FROM_START":o=t.JavaScript.getAdjusted(o,"AT2",1);break;case"FROM_END":o=t.JavaScript.getAdjusted(o,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION),o=i+".length - "+o;break;case"LAST":o=i+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}i=i+".slice("+a+", "+o+")"}else{a=t.JavaScript.getAdjusted(o,"AT1"),o=t.JavaScript.getAdjusted(o,"AT2");var e=t.JavaScript.lists.getIndex_,s={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};i=t.JavaScript.provideFunction_("subsequence"+s[r]+s[n],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==r||"FROM_START"==r?", at1":"")+("FROM_END"==n||"FROM_START"==n?", at2":"")+") {","  var start = "+e("sequence",r,"at1")+";","  var end = "+e("sequence",n,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==r||"FROM_START"==r?", "+a:"")+("FROM_END"==n||"FROM_START"==n?", "+o:"")+")"}return[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_sort=function(e){var o=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]",i="1"===e.getFieldValue("DIRECTION")?1:-1;e=e.getFieldValue("TYPE");var r=t.JavaScript.provideFunction_("listsGetSortCompare",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {","    \"NUMERIC\": function(a, b) {","        return Number(a) - Number(b); },","    \"TEXT\": function(a, b) {","        return a.toString() > b.toString() ? 1 : -1; },","    \"IGNORE_CASE\": function(a, b) {","        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[o+".slice().sort("+r+"(\""+e+"\", "+i+"))",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_split=function(e){var o=t.JavaScript.valueToCode(e,"INPUT",t.JavaScript.ORDER_MEMBER),i=t.JavaScript.valueToCode(e,"DELIM",t.JavaScript.ORDER_NONE)||"''";if(e=e.getFieldValue("MODE"),"SPLIT"==e)o||(o="''"),e="split";else if("JOIN"==e)o||(o="[]"),e="join";else throw Error("Unknown mode: "+e);return[o+"."+e+"("+i+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.lists_reverse=function(e){return[(t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.logic={},t.JavaScript.controls_if=function(o){var i=0,r="";t.JavaScript.STATEMENT_PREFIX&&(r+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,o));do{var n=t.JavaScript.valueToCode(o,"IF"+i,t.JavaScript.ORDER_NONE)||"false",a=t.JavaScript.statementToCode(o,"DO"+i);t.JavaScript.STATEMENT_SUFFIX&&(a=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,o),t.JavaScript.INDENT)+a),r+=(0<i?" else ":"")+"if ("+n+") {\n"+a+"}",++i}while(o.getInput("IF"+i));return(o.getInput("ELSE")||t.JavaScript.STATEMENT_SUFFIX)&&(a=t.JavaScript.statementToCode(o,"ELSE"),t.JavaScript.STATEMENT_SUFFIX&&(a=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,o),t.JavaScript.INDENT)+a),r+=" else {\n"+a+"}"),r+"\n"},t.JavaScript.controls_ifelse=t.JavaScript.controls_if,t.JavaScript.logic_compare=function(e){var o={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],i="=="==o||"!="==o?t.JavaScript.ORDER_EQUALITY:t.JavaScript.ORDER_RELATIONAL,r=t.JavaScript.valueToCode(e,"A",i)||"0";return e=t.JavaScript.valueToCode(e,"B",i)||"0",[r+" "+o+" "+e,i]},t.JavaScript.logic_operation=function(o){var i="AND"==o.getFieldValue("OP")?"&&":"||",r="&&"==i?t.JavaScript.ORDER_LOGICAL_AND:t.JavaScript.ORDER_LOGICAL_OR,n=t.JavaScript.valueToCode(o,"A",r);if(o=t.JavaScript.valueToCode(o,"B",r),n||o){var a="&&"==i?"true":"false";n||(n=a),o||(o=a)}else o=n="false";return[n+" "+i+" "+o,r]},t.JavaScript.logic_negate=function(e){var o=t.JavaScript.ORDER_LOGICAL_NOT;return["!"+(t.JavaScript.valueToCode(e,"BOOL",o)||"true"),o]},t.JavaScript.logic_boolean=function(e){return["TRUE"==e.getFieldValue("BOOL")?"true":"false",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_null=function(){return["null",t.JavaScript.ORDER_ATOMIC]},t.JavaScript.logic_ternary=function(e){var o=t.JavaScript.valueToCode(e,"IF",t.JavaScript.ORDER_CONDITIONAL)||"false",i=t.JavaScript.valueToCode(e,"THEN",t.JavaScript.ORDER_CONDITIONAL)||"null";return e=t.JavaScript.valueToCode(e,"ELSE",t.JavaScript.ORDER_CONDITIONAL)||"null",[o+" ? "+i+" : "+e,t.JavaScript.ORDER_CONDITIONAL]},t.JavaScript.loops={},t.JavaScript.controls_repeat_ext=function(o){var i=o.getField("TIMES")?+o.getFieldValue("TIMES")+"":t.JavaScript.valueToCode(o,"TIMES",t.JavaScript.ORDER_ASSIGNMENT)||"0",r=t.JavaScript.statementToCode(o,"DO");r=t.JavaScript.addLoopTrap(r,o),o="";var n=t.JavaScript.variableDB_.getDistinctName("count",t.VARIABLE_CATEGORY_NAME),a=i;return i.match(/^\w+$/)||t.isNumber(i)||(a=t.JavaScript.variableDB_.getDistinctName("repeat_end",t.VARIABLE_CATEGORY_NAME),o+="var "+a+" = "+i+";\n"),o+("for (var "+n+" = 0; "+n+" < "+a+"; "+n+"++) {\n"+r+"}\n")},t.JavaScript.controls_repeat=t.JavaScript.controls_repeat_ext,t.JavaScript.controls_whileUntil=function(e){var o="UNTIL"==e.getFieldValue("MODE"),i=t.JavaScript.valueToCode(e,"BOOL",o?t.JavaScript.ORDER_LOGICAL_NOT:t.JavaScript.ORDER_NONE)||"false",r=t.JavaScript.statementToCode(e,"DO");return r=t.JavaScript.addLoopTrap(r,e),o&&(i="!"+i),"while ("+i+") {\n"+r+"}\n"},t.JavaScript.controls_for=function(o){var r=t.JavaScript.variableDB_.getName(o.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),n=t.JavaScript.valueToCode(o,"FROM",t.JavaScript.ORDER_ASSIGNMENT)||"0",a=t.JavaScript.valueToCode(o,"TO",t.JavaScript.ORDER_ASSIGNMENT)||"0",s=t.JavaScript.valueToCode(o,"BY",t.JavaScript.ORDER_ASSIGNMENT)||"1",l=t.JavaScript.statementToCode(o,"DO");if(l=t.JavaScript.addLoopTrap(l,o),t.isNumber(n)&&t.isNumber(a)&&t.isNumber(s)){var p=+n<=+a;o="for ("+r+" = "+n+"; "+r+(p?" <= ":" >= ")+a+"; "+r,r=i(+s),o=(1==r?o+(p?"++":"--"):o+((p?" += ":" -= ")+r))+(") {\n"+l+"}\n")}else o="",p=n,n.match(/^\w+$/)||t.isNumber(n)||(p=t.JavaScript.variableDB_.getDistinctName(r+"_start",t.VARIABLE_CATEGORY_NAME),o+="var "+p+" = "+n+";\n"),n=a,a.match(/^\w+$/)||t.isNumber(a)||(n=t.JavaScript.variableDB_.getDistinctName(r+"_end",t.VARIABLE_CATEGORY_NAME),o+="var "+n+" = "+a+";\n"),a=t.JavaScript.variableDB_.getDistinctName(r+"_inc",t.VARIABLE_CATEGORY_NAME),o+="var "+a+" = ",o=t.isNumber(s)?o+(i(s)+";\n"):o+("Math.abs("+s+");\n"),o=o+("if ("+p+" > "+n+") {\n")+(t.JavaScript.INDENT+a+" = -"+a+";\n"),o+="}\n",o+="for ("+r+" = "+p+"; "+a+" >= 0 ? "+r+" <= "+n+" : "+r+" >= "+n+"; "+r+" += "+a+") {\n"+l+"}\n";return o},t.JavaScript.controls_forEach=function(o){var i=t.JavaScript.variableDB_.getName(o.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),r=t.JavaScript.valueToCode(o,"LIST",t.JavaScript.ORDER_ASSIGNMENT)||"[]",n=t.JavaScript.statementToCode(o,"DO");n=t.JavaScript.addLoopTrap(n,o),o="";var a=r;return r.match(/^\w+$/)||(a=t.JavaScript.variableDB_.getDistinctName(i+"_list",t.VARIABLE_CATEGORY_NAME),o+="var "+a+" = "+r+";\n"),r=t.JavaScript.variableDB_.getDistinctName(i+"_index",t.VARIABLE_CATEGORY_NAME),n=t.JavaScript.INDENT+i+" = "+a+"["+r+"];\n"+n,o+("for (var "+r+" in "+a+") {\n"+n+"}\n")},t.JavaScript.controls_flow_statements=function(e){var o="";if(t.JavaScript.STATEMENT_PREFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,e)),t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e)),t.JavaScript.STATEMENT_PREFIX){var i=t.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(e);i&&!i.suppressPrefixSuffix&&(o+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,i))}switch(e.getFieldValue("FLOW")){case"BREAK":return o+"break;\n";case"CONTINUE":return o+"continue;\n";}throw Error("Unknown flow statement.")},t.JavaScript.math={},t.JavaScript.math_number=function(e){return e=+e.getFieldValue("NUM"),[e,0<=e?t.JavaScript.ORDER_ATOMIC:t.JavaScript.ORDER_UNARY_NEGATION]},t.JavaScript.math_arithmetic=function(e){var o={ADD:[" + ",t.JavaScript.ORDER_ADDITION],MINUS:[" - ",t.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",t.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",t.JavaScript.ORDER_DIVISION],POWER:[null,t.JavaScript.ORDER_COMMA]}[e.getFieldValue("OP")],i=o[0];o=o[1];var r=t.JavaScript.valueToCode(e,"A",o)||"0";return e=t.JavaScript.valueToCode(e,"B",o)||"0",i?[r+i+e,o]:["Math.pow("+r+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_single=function(e){var o=e.getFieldValue("OP");if("NEG"==o)return e=t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==e[0]&&(e=" "+e),["-"+e,t.JavaScript.ORDER_UNARY_NEGATION];switch(e="SIN"==o||"COS"==o||"TAN"==o?t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_DIVISION)||"0":t.JavaScript.valueToCode(e,"NUM",t.JavaScript.ORDER_NONE)||"0",o){case"ABS":var i="Math.abs("+e+")";break;case"ROOT":i="Math.sqrt("+e+")";break;case"LN":i="Math.log("+e+")";break;case"EXP":i="Math.exp("+e+")";break;case"POW10":i="Math.pow(10,"+e+")";break;case"ROUND":i="Math.round("+e+")";break;case"ROUNDUP":i="Math.ceil("+e+")";break;case"ROUNDDOWN":i="Math.floor("+e+")";break;case"SIN":i="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":i="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":i="Math.tan("+e+" / 180 * Math.PI)";}if(i)return[i,t.JavaScript.ORDER_FUNCTION_CALL];switch(o){case"LOG10":i="Math.log("+e+") / Math.log(10)";break;case"ASIN":i="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":i="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":i="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+o);}return[i,t.JavaScript.ORDER_DIVISION]},t.JavaScript.math_constant=function(e){return{PI:["Math.PI",t.JavaScript.ORDER_MEMBER],E:["Math.E",t.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",t.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",t.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",t.JavaScript.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},t.JavaScript.math_number_property=function(e){var o=t.JavaScript.valueToCode(e,"NUMBER_TO_CHECK",t.JavaScript.ORDER_MODULUS)||"0",i=e.getFieldValue("PROPERTY");if("PRIME"==i)return[t.JavaScript.provideFunction_("mathIsPrime",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+o+")",t.JavaScript.ORDER_FUNCTION_CALL];switch(i){case"EVEN":var r=o+" % 2 == 0";break;case"ODD":r=o+" % 2 == 1";break;case"WHOLE":r=o+" % 1 == 0";break;case"POSITIVE":r=o+" > 0";break;case"NEGATIVE":r=o+" < 0";break;case"DIVISIBLE_BY":e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0",r=o+" % "+e+" == 0";}return[r,t.JavaScript.ORDER_EQUALITY]},t.JavaScript.math_change=function(e){var o=t.JavaScript.valueToCode(e,"DELTA",t.JavaScript.ORDER_ADDITION)||"0";return e=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),e+" = (typeof "+e+" == 'number' ? "+e+" : 0) + "+o+";\n"},t.JavaScript.math_round=t.JavaScript.math_single,t.JavaScript.math_trig=t.JavaScript.math_single,t.JavaScript.math_on_list=function(e){var o=e.getFieldValue("OP");switch(o){case"SUM":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;})";break;case"MIN":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]",e="Math.min.apply(null, "+e+")";break;case"MAX":e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_COMMA)||"[]",e="Math.max.apply(null, "+e+")";break;case"AVERAGE":o=t.JavaScript.provideFunction_("mathMean",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=o+"("+e+")";break;case"MEDIAN":o=t.JavaScript.provideFunction_("mathMedian",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=o+"("+e+")";break;case"MODE":o=t.JavaScript.provideFunction_("mathModes",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=o+"("+e+")";break;case"STD_DEV":o=t.JavaScript.provideFunction_("mathStandardDeviation",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=o+"("+e+")";break;case"RANDOM":o=t.JavaScript.provideFunction_("mathRandomList",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]),e=t.JavaScript.valueToCode(e,"LIST",t.JavaScript.ORDER_NONE)||"[]",e=o+"("+e+")";break;default:throw Error("Unknown operator: "+o);}return[e,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_modulo=function(e){var o=t.JavaScript.valueToCode(e,"DIVIDEND",t.JavaScript.ORDER_MODULUS)||"0";return e=t.JavaScript.valueToCode(e,"DIVISOR",t.JavaScript.ORDER_MODULUS)||"0",[o+" % "+e,t.JavaScript.ORDER_MODULUS]},t.JavaScript.math_constrain=function(e){var o=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_COMMA)||"0",i=t.JavaScript.valueToCode(e,"LOW",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"HIGH",t.JavaScript.ORDER_COMMA)||"Infinity",["Math.min(Math.max("+o+", "+i+"), "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_int=function(e){var o=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_COMMA)||"0";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_COMMA)||"0",[t.JavaScript.provideFunction_("mathRandomInt",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_random_float=function(){return["Math.random()",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.math_atan2=function(e){var o=t.JavaScript.valueToCode(e,"X",t.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(t.JavaScript.valueToCode(e,"Y",t.JavaScript.ORDER_COMMA)||"0")+", "+o+") / Math.PI * 180",t.JavaScript.ORDER_DIVISION]},t.JavaScript.procedures={},t.JavaScript.procedures_defreturn=function(o){var i=t.JavaScript.variableDB_.getName(o.getFieldValue("NAME"),t.PROCEDURE_CATEGORY_NAME),r="";t.JavaScript.STATEMENT_PREFIX&&(r+=t.JavaScript.injectId(t.JavaScript.STATEMENT_PREFIX,o)),t.JavaScript.STATEMENT_SUFFIX&&(r+=t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,o)),r&&(r=t.JavaScript.prefixLines(r,t.JavaScript.INDENT));var n="";t.JavaScript.INFINITE_LOOP_TRAP&&(n=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.INFINITE_LOOP_TRAP,o),t.JavaScript.INDENT));var a=t.JavaScript.statementToCode(o,"STACK"),e=t.JavaScript.valueToCode(o,"RETURN",t.JavaScript.ORDER_NONE)||"",s="";a&&e&&(s=r),e&&(e=t.JavaScript.INDENT+"return "+e+";\n");for(var d=[],c=o.getVars(),l=0;l<c.length;l++)d[l]=t.JavaScript.variableDB_.getName(c[l],t.VARIABLE_CATEGORY_NAME);return r="function "+i+"("+d.join(", ")+") {\n"+r+n+a+s+e+"}",r=t.JavaScript.scrub_(o,r),t.JavaScript.definitions_["%"+i]=r,null},t.JavaScript.procedures_defnoreturn=t.JavaScript.procedures_defreturn,t.JavaScript.procedures_callreturn=function(o){for(var i=t.JavaScript.variableDB_.getName(o.getFieldValue("NAME"),t.PROCEDURE_CATEGORY_NAME),r=[],n=o.getVars(),a=0;a<n.length;a++)r[a]=t.JavaScript.valueToCode(o,"ARG"+a,t.JavaScript.ORDER_COMMA)||"null";return[i+"("+r.join(", ")+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.procedures_callnoreturn=function(e){return t.JavaScript.procedures_callreturn(e)[0]+";\n"},t.JavaScript.procedures_ifreturn=function(e){var o="if ("+(t.JavaScript.valueToCode(e,"CONDITION",t.JavaScript.ORDER_NONE)||"false")+") {\n";return t.JavaScript.STATEMENT_SUFFIX&&(o+=t.JavaScript.prefixLines(t.JavaScript.injectId(t.JavaScript.STATEMENT_SUFFIX,e),t.JavaScript.INDENT)),e.hasReturnValue_?(e=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_NONE)||"null",o+=t.JavaScript.INDENT+"return "+e+";\n"):o+=t.JavaScript.INDENT+"return;\n",o+"}\n"},t.JavaScript.texts={},t.JavaScript.text=function(e){return[t.JavaScript.quote_(e.getFieldValue("TEXT")),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text_multiline=function(e){return e=t.JavaScript.multiline_quote_(e.getFieldValue("TEXT")),-1!=e.indexOf("\n")&&(e="("+e+")"),[e,t.JavaScript.ORDER_ATOMIC]},t.JavaScript.text.forceString_=function(e){return t.JavaScript.text.forceString_.strRegExp.test(e)?e:"String("+e+")"},t.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,t.JavaScript.text_join=function(e){switch(e.itemCount_){case 0:return["''",t.JavaScript.ORDER_ATOMIC];case 1:return e=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''",e=t.JavaScript.text.forceString_(e),[e,t.JavaScript.ORDER_FUNCTION_CALL];case 2:var o=t.JavaScript.valueToCode(e,"ADD0",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"ADD1",t.JavaScript.ORDER_NONE)||"''",e=t.JavaScript.text.forceString_(o)+" + "+t.JavaScript.text.forceString_(e),[e,t.JavaScript.ORDER_ADDITION];default:o=Array(e.itemCount_);for(var i=0;i<e.itemCount_;i++)o[i]=t.JavaScript.valueToCode(e,"ADD"+i,t.JavaScript.ORDER_COMMA)||"''";return e="["+o.join(",")+"].join('')",[e,t.JavaScript.ORDER_FUNCTION_CALL];}},t.JavaScript.text_append=function(e){var o=t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME);return e=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''",o+" += "+t.JavaScript.text.forceString_(e)+";\n"},t.JavaScript.text_length=function(e){return[(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_isEmpty=function(e){return["!"+(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+".length",t.JavaScript.ORDER_LOGICAL_NOT]},t.JavaScript.text_indexOf=function(e){var o="FIRST"==e.getFieldValue("END")?"indexOf":"lastIndexOf",i=t.JavaScript.valueToCode(e,"FIND",t.JavaScript.ORDER_NONE)||"''";return o=(t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_MEMBER)||"''")+"."+o+"("+i+")",e.workspace.options.oneBasedIndex?[o+" + 1",t.JavaScript.ORDER_ADDITION]:[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_charAt=function(e){var o=e.getFieldValue("WHERE")||"FROM_START",i=t.JavaScript.valueToCode(e,"VALUE","RANDOM"==o?t.JavaScript.ORDER_NONE:t.JavaScript.ORDER_MEMBER)||"''";switch(o){case"FIRST":return[i+".charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[i+".slice(-1)",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return e=t.JavaScript.getAdjusted(e,"AT"),[i+".charAt("+e+")",t.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return e=t.JavaScript.getAdjusted(e,"AT",1,!0),[i+".slice("+e+").charAt(0)",t.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[t.JavaScript.provideFunction_("textRandomLetter",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+i+")",t.JavaScript.ORDER_FUNCTION_CALL];}throw Error("Unhandled option (text_charAt).")},t.JavaScript.text.getIndex_=function(e,t,o){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+o:"LAST"==t?e+".length - 1":o},t.JavaScript.text_getSubstring=function(o){var i=t.JavaScript.valueToCode(o,"STRING",t.JavaScript.ORDER_FUNCTION_CALL)||"''",r=o.getFieldValue("WHERE1"),n=o.getFieldValue("WHERE2");if("FIRST"!=r||"LAST"!=n)if(i.match(/^'?\w+'?$/)||"FROM_END"!=r&&"LAST"!=r&&"FROM_END"!=n&&"LAST"!=n){switch(r){case"FROM_START":var a=t.JavaScript.getAdjusted(o,"AT1");break;case"FROM_END":a=t.JavaScript.getAdjusted(o,"AT1",1,!1,t.JavaScript.ORDER_SUBTRACTION),a=i+".length - "+a;break;case"FIRST":a="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(n){case"FROM_START":o=t.JavaScript.getAdjusted(o,"AT2",1);break;case"FROM_END":o=t.JavaScript.getAdjusted(o,"AT2",0,!1,t.JavaScript.ORDER_SUBTRACTION),o=i+".length - "+o;break;case"LAST":o=i+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}i=i+".slice("+a+", "+o+")"}else{a=t.JavaScript.getAdjusted(o,"AT1"),o=t.JavaScript.getAdjusted(o,"AT2");var e=t.JavaScript.text.getIndex_,s={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};i=t.JavaScript.provideFunction_("subsequence"+s[r]+s[n],["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==r||"FROM_START"==r?", at1":"")+("FROM_END"==n||"FROM_START"==n?", at2":"")+") {","  var start = "+e("sequence",r,"at1")+";","  var end = "+e("sequence",n,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+i+("FROM_END"==r||"FROM_START"==r?", "+a:"")+("FROM_END"==n||"FROM_START"==n?", "+o:"")+")"}return[i,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_changeCase=function(e){var o={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=t.JavaScript.valueToCode(e,"TEXT",o?t.JavaScript.ORDER_MEMBER:t.JavaScript.ORDER_NONE)||"''",[o?e+o:t.JavaScript.provideFunction_("textToTitleCase",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+e+")",t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_trim=function(e){var o={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_print=function(e){return"window.alert("+(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+");\n"},t.JavaScript.text_prompt_ext=function(e){var o="window.prompt("+(e.getField("TEXT")?t.JavaScript.quote_(e.getFieldValue("TEXT")):t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==e.getFieldValue("TYPE")&&(o="Number("+o+")"),[o,t.JavaScript.ORDER_FUNCTION_CALL]},t.JavaScript.text_prompt=t.JavaScript.text_prompt_ext,t.JavaScript.text_count=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''";return e=t.JavaScript.valueToCode(e,"SUB",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textCount",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+o+", "+e+")",t.JavaScript.ORDER_SUBTRACTION]},t.JavaScript.text_replace=function(e){var o=t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''",i=t.JavaScript.valueToCode(e,"FROM",t.JavaScript.ORDER_NONE)||"''";return e=t.JavaScript.valueToCode(e,"TO",t.JavaScript.ORDER_NONE)||"''",[t.JavaScript.provideFunction_("textReplace",["function "+t.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {","  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,\"\\\\$1\")","                 .replace(/\\x08/g,\"\\\\x08\");","  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+o+", "+i+", "+e+")",t.JavaScript.ORDER_MEMBER]},t.JavaScript.text_reverse=function(e){return[(t.JavaScript.valueToCode(e,"TEXT",t.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",t.JavaScript.ORDER_MEMBER]},t.JavaScript.variables={},t.JavaScript.variables_get=function(e){return[t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME),t.JavaScript.ORDER_ATOMIC]},t.JavaScript.variables_set=function(e){var o=t.JavaScript.valueToCode(e,"VALUE",t.JavaScript.ORDER_ASSIGNMENT)||"0";return t.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),t.VARIABLE_CATEGORY_NAME)+" = "+o+";\n"},t.JavaScript.variablesDynamic={},t.JavaScript.variables_get_dynamic=t.JavaScript.variables_get,t.JavaScript.variables_set_dynamic=t.JavaScript.variables_set,t.JavaScript})},function(e,t,o){(function(e){function r(e,o){var r={seen:[],stylize:n};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),g(o)?r.showHidden=o:o&&t._extend(r,o),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var o=r.styles[t];return o?"\x1B["+r.colors[o][0]+"m"+e+"\x1B["+r.colors[o][1]+"m":e}function n(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function s(e,o,i){if(e.customInspect&&o&&R(o.inspect)&&o.inspect!==t.inspect&&!(o.constructor&&o.constructor.prototype===o)){var r=o.inspect(i,e);return T(r)||(r=s(e,r,i)),r}var g=l(e,o);if(g)return g;var m=Object.keys(o),h=a(m);if(e.showHidden&&(m=Object.getOwnPropertyNames(o)),S(o)&&(0<=m.indexOf("message")||0<=m.indexOf("description")))return d(o);if(0===m.length){if(R(o)){var b=o.name?": "+o.name:"";return e.stylize("[Function"+b+"]","special")}if(E(o))return e.stylize(RegExp.prototype.toString.call(o),"regexp");if(v(o))return e.stylize(Date.prototype.toString.call(o),"date");if(S(o))return d(o)}var y="",I=!1,x=["{","}"];if(_(o)&&(I=!0,x=["[","]"]),R(o)){var C=o.name?": "+o.name:"";y=" [Function"+C+"]"}if(E(o)&&(y=" "+RegExp.prototype.toString.call(o)),v(o)&&(y=" "+Date.prototype.toUTCString.call(o)),S(o)&&(y=" "+d(o)),0===m.length&&(!I||0==o.length))return x[0]+y+x[1];if(0>i)return E(o)?e.stylize(RegExp.prototype.toString.call(o),"regexp"):e.stylize("[Object]","special");e.seen.push(o);var n;return n=I?c(e,o,i,h,m):m.map(function(t){return p(e,o,i,h,t,I)}),e.seen.pop(),u(n,y,x)}function l(e,t){if(b(t))return e.stylize("undefined","undefined");if(T(t)){var o="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\"")+"'";return e.stylize(o,"string")}return h(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,o,r,n){for(var a=[],s=0,i=t.length;s<i;++s)O(t,s+"")?a.push(p(e,t,o,r,s+"",!0)):a.push("");return n.forEach(function(i){i.match(/^\d+$/)||a.push(p(e,t,o,r,i,!0))}),a}function p(e,t,o,i,r,n){var a,l,d;if(d=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},d.get?d.set?l=e.stylize("[Getter/Setter]","special"):l=e.stylize("[Getter]","special"):d.set&&(l=e.stylize("[Setter]","special")),O(i,r)||(a="["+r+"]"),l||(0>e.seen.indexOf(d.value)?(l=m(o)?s(e,d.value,null):s(e,d.value,o-1),-1<l.indexOf("\n")&&(n?l=l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):l="\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),b(a)){if(n&&r.match(/^\d+$/))return l;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,"\"").replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}function u(e,t,o){var i=0,r=e.reduce(function(e,t){return i++,0<=t.indexOf("\n")&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return 60<r?o[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+o[1]:o[0]+t+" "+e.join(", ")+" "+o[1]}function _(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function h(e){return"number"==typeof e}function T(e){return"string"==typeof e}function b(e){return void 0===e}function E(e){return y(e)&&"[object RegExp]"===I(e)}function y(e){return"object"==typeof e&&null!==e}function v(e){return y(e)&&"[object Date]"===I(e)}function S(t){return y(t)&&("[object Error]"===I(t)||t instanceof Error)}function R(e){return"function"==typeof e}function I(e){return Object.prototype.toString.call(e)}function x(e){return 10>e?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){if(!e){var o=new Error("Promise was rejected with a falsy value");o.reason=e,e=o}return t(e)}var A=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),o={},r=0;r<t.length;r++)o[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return o},N=/%[sdj%]/g;t.format=function(e){if(!T(e)){for(var t=[],o=0;o<arguments.length;o++)t.push(r(arguments[o]));return t.join(" ")}for(var o=1,i=arguments,n=i.length,a=(e+"").replace(N,function(e){if("%%"===e)return"%";if(o>=n)return e;switch(e){case"%s":return i[o++]+"";case"%d":return+i[o++];case"%j":try{return JSON.stringify(i[o++])}catch(e){return"[Circular]"}default:return e;}}),s=i[o];o<n;s=i[++o])a+=m(s)||!y(s)?" "+s:" "+r(s);return a},t.deprecate=function(o,i){function r(){if(!n){if(e.throwDeprecation)throw new Error(i);else e.traceDeprecation?console.trace(i):console.error(i);n=!0}return o.apply(this,arguments)}if("undefined"!=typeof e&&!0===e.noDeprecation)return o;if("undefined"==typeof e)return function(){return t.deprecate(o,i).apply(this,arguments)};var n=!1;return r};var L={},D;t.debuglog=function(o){if(b(D)&&(D=e.env.NODE_DEBUG||""),o=o.toUpperCase(),!L[o])if(new RegExp("\\b"+o+"\\b","i").test(D)){var i=e.pid;L[o]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",o,i,e)}}else L[o]=function(){};return L[o]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=_,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=T,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=E,t.isObject=y,t.isDate=v,t.isError=S,t.isFunction=R,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e},t.isBuffer=o(117);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=o(118),t._extend=function(e,t){if(!t||!y(t))return e;for(var o=Object.keys(t),r=o.length;r--;)e[o[r]]=t[o[r]];return e};var P="undefined"==typeof Symbol?void 0:Symbol("util.promisify.custom");t.promisify=function(e){function t(){for(var o=new Promise(function(e,t){i=e,a=t}),r=[],n=0,i,a;n<arguments.length;n++)r.push(arguments[n]);r.push(function(e,t){e?a(e):i(t)});try{e.apply(this,r)}catch(e){a(e)}return o}if("function"!=typeof e)throw new TypeError("The \"original\" argument must be of type Function");if(P&&e[P]){var t=e[P];if("function"!=typeof t)throw new TypeError("The \"util.promisify.custom\" argument must be of type Function");return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,A(e))},t.promisify.custom=P,t.callbackify=function(t){function o(){for(var o=[],r=0;r<arguments.length;r++)o.push(arguments[r]);var i=o.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var n=this,a=function(){return i.apply(n,arguments)};t.apply(this,o).then(function(t){e.nextTick(a,null,t)},function(t){e.nextTick(k,t,a)})}if("function"!=typeof t)throw new TypeError("The \"original\" argument must be of type Function");return Object.setPrototypeOf(o,Object.getPrototypeOf(t)),Object.defineProperties(o,A(t)),o}}).call(this,o(22))},function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},function(e,t,o){var i=o(19),r=o(120);r=r.__esModule?r.default:r,"string"==typeof r&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1});e.exports=r.locals||{}},function(e,t,o){var i=o(20);t=i(!1),t.push([e.i,"#blocklyVariableTable {\n  padding: 0.5vw;\n  font-size: 13px;\n}\n#varialeTableSelectedVariables .variableName {\n  background-color: white;\n  margin-right: 10px;\n}\n#varialeTableSelectedVariables .variableWrapper {\n  white-space: pre;\n}\n#varialeTableSelectedVariables .material-icons {\n  font-size: 13px;\n}\n#varialeTableSelectedVariables .unselectVariable {\n  cursor: pointer;\n}\n",""]),e.exports=t},function(e){"use strict";function t(){}function o(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function i(e,t,i,r,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new o(i,r||e,n),l=s?s+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function r(e,o){0==--e._eventsCount?e._events=new t:delete e._events[o]}function n(){this._events=new t,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(s=!1)),n.prototype.eventNames=function(){var e=[],t,o;if(0===this._eventsCount)return e;for(o in t=this._events)a.call(t,o)&&e.push(s?o.slice(1):o);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e},n.prototype.listeners=function(e){var t=s?s+e:e,o=this._events[t];if(!o)return[];if(o.fn)return[o.fn];for(var r=0,i=o.length,n=Array(i);r<i;r++)n[r]=o[r].fn;return n},n.prototype.listenerCount=function(e){var t=s?s+e:e,o=this._events[t];return o?o.fn?1:o.length:0},n.prototype.emit=function(e,t,o,r,n,a){var l=s?s+e:e;if(!this._events[l])return!1;var d=this._events[l],c=arguments.length,p,u;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,o),!0;case 4:return d.fn.call(d.context,t,o,r),!0;case 5:return d.fn.call(d.context,t,o,r,n),!0;case 6:return d.fn.call(d.context,t,o,r,n,a),!0;}for(u=1,p=Array(c-1);u<c;u++)p[u-1]=arguments[u];d.fn.apply(d.context,p)}else{var i=d.length,_;for(u=0;u<i;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,o);break;case 4:d[u].fn.call(d[u].context,t,o,r);break;default:if(!p)for(_=1,p=Array(c-1);_<c;_++)p[_-1]=arguments[_];d[u].fn.apply(d[u].context,p);}}return!0},n.prototype.on=function(e,t,o){return i(this,e,t,o,!1)},n.prototype.once=function(e,t,o){return i(this,e,t,o,!0)},n.prototype.removeListener=function(e,t,o,n){var a=s?s+e:e;if(!this._events[a])return this;if(!t)return r(this,a),this;var l=this._events[a];if(l.fn)l.fn!==t||n&&!l.once||o&&l.context!==o||r(this,a);else{for(var d=0,i=[],c=l.length;d<c;d++)(l[d].fn!==t||n&&!l[d].once||o&&l[d].context!==o)&&i.push(l[d]);i.length?this._events[a]=1===i.length?i[0]:i:r(this,a)}return this},n.prototype.removeAllListeners=function(e){var o;return e?(o=s?s+e:e,this._events[o]&&r(this,o)):(this._events=new t,this._eventsCount=0),this},n.prototype.off=n.prototype.removeListener,n.prototype.addListener=n.prototype.on,n.prefixed=s,n.EventEmitter=n,e.exports=n},function(e){"use strict";function t(e,t,r){r=r||2;var a=t&&t.length,s=a?t[0]*r:e.length,l=o(e,0,s,r,!0),c=[];if(!l||l.next===l.prev)return c;var p,u,_,g,m,h,T;if(a&&(l=d(e,t,l,r)),e.length>80*r){p=_=e[0],u=g=e[1];for(var b=r;b<s;b+=r)m=e[b],h=e[b+1],m<p&&(p=m),h<u&&(u=h),m>_&&(_=m),h>g&&(g=h);T=P(_-p,g-u),T=0===T?0:1/T}return n(l,c,r,p,u,T),c}function o(e,t,o,r,n){var a,i;if(n===0<D(e,t,o,r))for(a=t;a<o;a+=r)i=A(a,e[a],e[a+1],i);else for(a=o-r;a>=t;a-=r)i=A(a,e[a],e[a+1],i);return i&&S(i,i.next)&&(N(i),i=i.next),i}function r(e,t){if(!e)return e;t||(t=e);var o=e,i;do if(i=!1,!o.steiner&&(S(o,o.next)||0===v(o.prev,o,o.next))){if(N(o),o=t=o.prev,o===o.next)break;i=!0}else o=o.next;while(i||o!==t);return t}function n(e,t,o,d,c,p,u){if(e){!u&&p&&g(e,d,c,p);for(var _=e,m,h;e.prev!==e.next;){if(m=e.prev,h=e.next,p?a(e,d,c,p):i(e)){t.push(m.i/o),t.push(e.i/o),t.push(h.i/o),N(e),e=h.next,_=h.next;continue}if(e=h,e===_){u?1===u?(e=s(r(e),t,o),n(e,t,o,d,c,p,2)):2==u&&l(e,t,o,d,c,p):n(r(e),t,o,d,c,p,1);break}}}}function i(e){var t=e.prev,o=e,i=e.next;if(0<=v(t,o,i))return!1;for(var r=e.next.next;r!==e.prev;){if(E(t.x,t.y,o.x,o.y,i.x,i.y,r.x,r.y)&&0<=v(r.prev,r,r.next))return!1;r=r.next}return!0}function a(e,t,o,i){var r=e.prev,a=e,s=e.next;if(0<=v(r,a,s))return!1;for(var l=r.x<a.x?r.x<s.x?r.x:s.x:a.x<s.x?a.x:s.x,d=r.y<a.y?r.y<s.y?r.y:s.y:a.y<s.y?a.y:s.y,c=r.x>a.x?r.x>s.x?r.x:s.x:a.x>s.x?a.x:s.x,u=r.y>a.y?r.y>s.y?r.y:s.y:a.y>s.y?a.y:s.y,_=h(l,d,t,o,i),g=h(c,u,t,o,i),m=e.prevZ,p=e.nextZ;m&&m.z>=_&&p&&p.z<=g;){if(m!==e.prev&&m!==e.next&&E(r.x,r.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=v(m.prev,m,m.next))return!1;if(m=m.prevZ,p!==e.prev&&p!==e.next&&E(r.x,r.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=v(p.prev,p,p.next))return!1;p=p.nextZ}for(;m&&m.z>=_;){if(m!==e.prev&&m!==e.next&&E(r.x,r.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=v(m.prev,m,m.next))return!1;m=m.prevZ}for(;p&&p.z<=g;){if(p!==e.prev&&p!==e.next&&E(r.x,r.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=v(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function s(e,t,o){var i=e;do{var n=i.prev,a=i.next.next;!S(n,a)&&R(n,i,i.next,a)&&C(n,a)&&C(a,n)&&(t.push(n.i/o),t.push(i.i/o),t.push(a.i/o),N(i),N(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function l(e,t,o,i,s,l){var d=e;do{for(var a=d.next.next;a!==d.prev;){if(d.i!==a.i&&y(d,a)){var p=k(d,a);return d=r(d,d.next),p=r(p,p.next),n(d,t,o,i,s,l),void n(p,t,o,i,s,l)}a=a.next}d=d.next}while(d!==e)}function d(e,t,n,a){var s=[],l,i,d,u,_;for(l=0,i=t.length;l<i;l++)d=t[l]*a,u=l<i-1?t[l+1]*a:e.length,_=o(e,d,u,a,!1),_===_.next&&(_.steiner=!0),s.push(T(_));for(s.sort(c),l=0;l<s.length;l++)p(s[l],n),n=r(n,n.next);return n}function c(e,t){return e.x-t.x}function p(e,t){if(t=u(e,t),t){var o=k(t,e);r(t,t.next),r(o,o.next)}}function u(e,t){var o=t,i=e.x,r=e.y,n=-Infinity,a;do{if(r<=o.y&&r>=o.next.y&&o.next.y!==o.y){var s=o.x+(r-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(s<=i&&s>n){if(n=s,s===i){if(r===o.y)return o;if(r===o.next.y)return o.next}a=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!a)return null;if(i===n)return a;var l=a,d=a.x,c=a.y,p=Infinity,u;o=a;do i>=o.x&&o.x>=d&&i!==o.x&&E(r<c?i:n,r,d,c,r<c?n:i,r,o.x,o.y)&&(u=M(r-o.y)/(i-o.x),C(o,e)&&(u<p||u===p&&(o.x>a.x||o.x===a.x&&_(a,o)))&&(a=o,p=u)),o=o.next;while(o!==l);return a}function _(e,t){return 0>v(e.prev,e,t.prev)&&0>v(t.next,e,e.next)}function g(e,t,o,i){var r=e;do null===r.z&&(r.z=h(r.x,r.y,t,o,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var o=1,r,i,n,a,e,s,l,d;do{for(i=t,t=null,e=null,s=0;i;){for(s++,n=i,l=0,r=0;r<o&&(l++,n=n.nextZ,!!n);r++);for(d=o;0<l||0<d&&n;)0!==l&&(0===d||!n||i.z<=n.z)?(a=i,i=i.nextZ,l--):(a=n,n=n.nextZ,d--),e?e.nextZ=a:t=a,a.prevZ=e,e=a;i=n}e.nextZ=null,o*=2}while(1<s);return t}function h(e,t,o,i,r){return e=32767*(e-o)*r,t=32767*(t-i)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function T(e){var t=e,o=e;do(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next;while(t!==e);return o}function E(e,t,o,i,r,n,a,s){return 0<=(r-a)*(t-s)-(e-a)*(n-s)&&0<=(e-a)*(i-s)-(o-a)*(t-s)&&0<=(o-a)*(n-s)-(r-a)*(i-s)}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!x(e,t)&&(C(e,t)&&C(t,e)&&O(e,t)&&(v(e.prev,e,t.prev)||v(e,t.prev,t))||S(e,t)&&0<v(e.prev,e,e.next)&&0<v(t.prev,t,t.next))}function v(e,t,o){return(t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y)}function S(e,t){return e.x===t.x&&e.y===t.y}function R(e,t,o,i){var r=I(v(e,t,o)),n=I(v(e,t,i)),a=I(v(o,i,e)),s=I(v(o,i,t));return!(r===n||a===s)||!!(0===r&&b(e,o,t))||!!(0===n&&b(e,i,t))||!!(0===a&&b(o,e,i))||!!(0===s&&b(o,t,i))}function b(e,t,o){return t.x<=P(e.x,o.x)&&t.x>=w(e.x,o.x)&&t.y<=P(e.y,o.y)&&t.y>=w(e.y,o.y)}function I(e){return 0<e?1:0>e?-1:0}function x(e,t){var o=e;do{if(o.i!==e.i&&o.next.i!==e.i&&o.i!==t.i&&o.next.i!==t.i&&R(o,o.next,e,t))return!0;o=o.next}while(o!==e);return!1}function C(e,t){return 0>v(e.prev,e,e.next)?0<=v(e,t,e.next)&&0<=v(e,e.prev,t):0>v(e,t,e.prev)||0>v(e,e.next,t)}function O(e,t){var o=e,i=!1,r=(e.x+t.x)/2,n=(e.y+t.y)/2;do o.y>n!=o.next.y>n&&o.next.y!==o.y&&r<(o.next.x-o.x)*(n-o.y)/(o.next.y-o.y)+o.x&&(i=!i),o=o.next;while(o!==e);return i}function k(e,t){var o=new L(e.i,e.x,e.y),i=new L(t.i,t.x,t.y),r=e.next,n=t.prev;return e.next=t,t.prev=e,o.next=r,r.prev=o,i.next=o,o.prev=i,n.next=i,i.prev=n,i}function A(e,t,o,i){var r=new L(e,t,o);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function N(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function L(e,t,o){this.i=e,this.x=t,this.y=o,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,o,r){for(var n=0,a=t,i=o-r;a<o;a+=r)n+=(e[i]-e[a])*(e[a+1]+e[i+1]),i=a;return n}var M=Math.abs,P=Math.max,w=Math.min;e.exports=t,e.exports.default=t,t.deviation=function(e,t,o,r){var n=t&&t.length,s=n?t[0]*o:e.length,l=M(D(e,0,s,o));if(n)for(var d=0,i=t.length;d<i;d++){var p=t[d]*o,u=d<i-1?t[d+1]*o:e.length;l-=M(D(e,p,u,o))}var _=0;for(d=0;d<r.length;d+=3){var g=r[d]*o,a=r[d+1]*o,m=r[d+2]*o;_+=M((e[g]-e[m])*(e[a+1]-e[g+1])-(e[g]-e[a])*(e[m+1]-e[g+1]))}return 0===l&&0===_?0:M((_-l)/l)},t.flatten=function(e){for(var t=e[0][0].length,o={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var i=0;i<e[n].length;i++)for(var a=0;a<t;a++)o.vertices.push(e[n][i][a]);0<n&&(r+=e[n-1].length,o.holes.push(r))}return o}},function(e){e.exports="<div id=pixiOutput> <canvas id=pixiCanvas></canvas> <div id=pixiContainer></div> </div> <div id=contextMenu class=\"mdc-menu mdc-menu-surface\"> <ul class=mdc-list role=menu aria-hidden=true aria-orientation=vertical tabindex=-1> <li class=mdc-list-item role=menuitem> <span class=mdc-list-item__ripple></span> <span class=mdc-list-item__text>\u622A\u533A\u5F53\u524D\u753B\u9762\uFF08\u6807\u51C6\u5927\u5C0F400\u2715400\uFF09</span> </li> <li class=mdc-list-item role=menuitem> <span class=mdc-list-item__ripple></span> <span class=mdc-list-item__text>\u622A\u533A\u5F53\u524D\u753B\u9762\uFF08\u9AD8\u6E05\u5927\u56FE2000\u27152000\uFF09</span> </li> </ul> </div> "},function(e,t,o){(function(i,r){var n;(function(i){function a(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(){for(var e=0;e<O.length;e++)O[e][0](O[e][1]);O=[],k=!1}function l(e,t){O.push([e,t]),k||(k=!0,C(s,0))}function d(e,t){function o(e){u(t,e)}function i(e){g(t,e)}try{e(o,i)}catch(t){i(t)}}function c(e){var t=e.owner,o=t.state_,i=t.data_,r=e[o],n=e.then;if("function"==typeof r){o=R;try{i=r(i)}catch(t){g(n,t)}}p(n,i)||(o===R&&u(n,i),o===I&&g(n,i))}function p(t,e){var o;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(i){o||(o=!0,e===i?_(t,i):u(t,i))},function(e){o||(o=!0,g(t,e))}),!0}}catch(i){return o||g(t,i),!0}return!1}function u(e,t){e!==t&&p(e,t)||_(e,t)}function _(e,t){e.state_===v&&(e.state_=S,e.data_=t,l(h,e))}function g(e,t){e.state_===v&&(e.state_=S,e.data_=t,l(T,e))}function m(e){var t=e.then_;e.then_=void 0;for(var o=0;o<t.length;o++)c(t[o])}function h(e){e.state_=R,m(e)}function T(e){e.state_=I,m(e)}function b(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(!1==this instanceof b)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],d(e,this)}var E=i.Promise,y=E&&"resolve"in E&&"reject"in E&&"all"in E&&"race"in E&&function(){var e;return new E(function(t){e=t}),"function"==typeof e}();t?(t.Promise=y?E:b,t.Polyfill=b):(n=function(){return y?E:b}.call(t,o,t,e),!(n!==void 0&&(e.exports=n)));var v="pending",S="sealed",R="fulfilled",I="rejected",x=function(){},C="undefined"==typeof r?setTimeout:r,O=[],k;b.prototype={constructor:b,state_:v,then_:null,data_:void 0,then:function(e,t){var o={owner:this,then:new this.constructor(x),fulfilled:e,rejected:t};return this.state_===R||this.state_===I?l(c,o):this.then_.push(o),o.then},catch:function(e){return this.then(null,e)}},b.all=function(e){var t=this;if(!a(e))throw new TypeError("You must pass an array to Promise.all().");return new t(function(t,o){function r(e){return a++,function(o){n[e]=o,--a||t(n)}}for(var n=[],a=0,s=0,i;s<e.length;s++)i=e[s],i&&"function"==typeof i.then?i.then(r(s),o):n[s]=i;a||t(n)})},b.race=function(e){var t=this;if(!a(e))throw new TypeError("You must pass an array to Promise.race().");return new t(function(t,o){for(var r=0,i;r<e.length;r++)i=e[r],i&&"function"==typeof i.then?i.then(t,o):t(i)})},b.resolve=function(e){var t=this;return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},b.reject=function(e){var t=this;return new t(function(t,o){o(e)})}})("undefined"==typeof window?"undefined"==typeof i?"undefined"==typeof self?this:self:i:window)}).call(this,o(13),o(130).setImmediate)},function(e){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function t(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;10>o;o++)t["_"+String.fromCharCode(o)]=o;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var r={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var n=t(e),a=1,s,l;a<arguments.length;a++){for(var d in s=Object(arguments[a]),s)i.call(s,d)&&(n[d]=s[d]);if(o){l=o(s);for(var c=0;c<l.length;c++)r.call(s,l[c])&&(n[l[c]]=s[l[c]])}}return n}},function(e){e.exports="<div class=container id=uploadImageButton> <i class=material-icons style=font-size:48px>add</i> </div> "},function(e,t,o){"use strict";function i(e){return function(t){return t.test(e)}}/*!
 * @pixi/settings - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function r(e){var t;if(!qo){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){(t=window.console).log.apply(t,["\n %c %c %c PixiJS "+Zo+" - \u2730 "+e+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"])}else window.console&&window.console.log("PixiJS "+Zo+" - "+e+" - http://www.pixijs.com/");qo=!0}}function n(){return"undefined"==typeof li&&(li=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:xo.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),o=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!!(o&&o.getContextAttributes().stencil);if(o){var r=o.getExtension("WEBGL_lose_context");r&&r.loseContext()}return o=null,i}catch(t){return!1}}()),li}function a(e,t){return void 0===t&&(t=[]),t[0]=(255&e>>16)/255,t[1]=(255&e>>8)/255,t[2]=(255&e)/255,t}function s(e){var t=e.toString(16);return t="000000".substr(0,6-t.length)+t,"#"+t}function l(e){return"string"==typeof e&&"#"===e[0]&&(e=e.substr(1)),parseInt(e,16)}function d(e){return(255*e[0]<<16)+(255*e[1]<<8)+(0|255*e[2])}function c(){for(var e=[],t=[],o=0;32>o;o++)e[o]=o,t[o]=o;e[wo.NORMAL_NPM]=wo.NORMAL,e[wo.ADD_NPM]=wo.ADD,e[wo.SCREEN_NPM]=wo.SCREEN,t[wo.NORMAL]=wo.NORMAL_NPM,t[wo.ADD]=wo.ADD_NPM,t[wo.SCREEN]=wo.SCREEN_NPM;return[t,e]}function p(e,t){return Qo[t?1:0][e]}function u(e,t,o,i){return o=o||new Float32Array(4),i||void 0===i?(o[0]=e[0]*t,o[1]=e[1]*t,o[2]=e[2]*t):(o[0]=e[0],o[1]=e[1],o[2]=e[2]),o[3]=t,o}function _(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var o=255&e>>16,i=255&e>>8,r=255&e;return o=0|o*t+.5,i=0|i*t+.5,r=0|r*t+.5,(255*t<<24)+(o<<16)+(i<<8)+r}function g(e,t,o,i){return o=o||new Float32Array(4),o[0]=(255&e>>16)/255,o[1]=(255&e>>8)/255,o[2]=(255&e)/255,(i||void 0===i)&&(o[0]*=t,o[1]*=t,o[2]*=t),o[3]=t,o}function m(e,t){void 0===t&&(t=null);var o=6*e;if(t=t||new Uint16Array(o),t.length!==o)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+o);for(var r=0,i=0;r<o;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function h(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function T(e){return!(e&e-1)&&!!e}function b(e){var t=(65535<e?1:0)<<4;e>>>=t;var o=(255<e?1:0)<<3;return e>>>=o,t|=o,o=(15<e?1:0)<<2,e>>>=o,t|=o,o=(3<e?1:0)<<1,e>>>=o,t|=o,t|e>>1}function E(e,t,o){var r=e.length,n;if(!(t>=r||0===o)){o=t+o>r?r-t:o;var i=r-o;for(n=t;n<i;++n)e[n]=e[n+o];e.length=i}}function y(e){return 0===e?0:0>e?-1:1}function v(){return++ei}function S(e,t,o){if(void 0===o&&(o=3),!ti[t]){var i=new Error().stack;"undefined"==typeof i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(i=i.split("\n").splice(o).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(i))),ti[t]=!0}}function R(e){var t=e.width,o=e.height,r=e.getContext("2d"),n=r.getImageData(0,0,t,o),a=n.data,s=a.length,l={top:null,left:null,right:null,bottom:null},d=null,c,i,p;for(c=0;c<s;c+=4)0!==a[c+3]&&(i=c/4%t,p=~~(c/4/t),null===l.top&&(l.top=p),null===l.left?l.left=i:i<l.left&&(l.left=i),null===l.right?l.right=i+1:l.right<i&&(l.right=i+1),null===l.bottom?l.bottom=p:l.bottom<p&&(l.bottom=p));return null!==l.top&&(t=l.right-l.left,o=l.bottom-l.top+1,d=r.getImageData(l.left,l.top,t,o)),{height:o,width:t,data:d}}function I(e,t){if(void 0===t&&(t=window.location),0===e.indexOf("data:"))return"";t=t||window.location,di||(di=document.createElement("a")),di.href=e;var o=Object(No.parse)(di.href),i=!o.port&&""===t.port||o.port===t.port;return o.hostname===t.hostname&&i&&o.protocol===t.protocol?"":"anonymous"}function C(e,t){var o=xo.RETINA_PREFIX.exec(e);return o?parseFloat(o[1]):void 0===t?1:t}/*!
 * @pixi/math - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function x(e,t){function o(){this.constructor=e}ki(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function O(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}function k(e,t){function o(){this.constructor=e}Vi(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function A(e,t){if(!e)return null;var o="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(o=r[1].toLowerCase())}for(var n=Zi.length-1,i;0<=n;--n)if(i=Zi[n],i.test&&i.test(e,o))return new i(e,t);throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function N(e,t){function o(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function L(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}function D(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array";}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function M(e,t){for(var o=0,r=0,n={},a=0;a<e.length;a++)r+=t[a],o+=e[a].length;for(var i=new ArrayBuffer(4*o),s=null,l=0,a=0;a<e.length;a++){var d=t[a],c=e[a],p=D(c);n[p]||(n[p]=new Ir[p](i)),s=n[p];for(var u=0;u<c.length;u++){var _=(0|u/d)*r+l,g=u%d;s[_+g]=c[u]}l+=d}return new Float32Array(i)}function P(e,t,o){var i=e.createShader(t);return e.shaderSource(i,o),e.compileShader(i),i}function w(e,t,o,r){var n=P(e,e.VERTEX_SHADER,t),a=P(e,e.FRAGMENT_SHADER,o),s=e.createProgram();if(e.attachShader(s,n),e.attachShader(s,a),r)for(var l in r)e.bindAttribLocation(s,r[l],l);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(!e.getShaderParameter(n,e.COMPILE_STATUS)&&(console.warn(t),console.error(e.getShaderInfoLog(n))),!e.getShaderParameter(a,e.COMPILE_STATUS)&&(console.warn(o),console.error(e.getShaderInfoLog(a))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(n),e.deleteShader(a),s}function B(e){for(var t=Array(e),o=0;o<t.length;o++)t[o]=!1;return t}function F(e,t){return"float"===e?0:"vec2"===e?new Float32Array(2*t):"vec3"===e?new Float32Array(3*t):"vec4"===e?new Float32Array(4*t):"int"===e||"sampler2D"===e||"sampler2DArray"===e?0:"ivec2"===e?new Int32Array(2*t):"ivec3"===e?new Int32Array(3*t):"ivec4"===e?new Int32Array(4*t):"bool"!=e&&("bvec2"===e?B(2*t):"bvec3"===e?B(3*t):"bvec4"===e?B(4*t):"mat2"===e?new Float32Array([1,0,0,1]):"mat3"===e?new Float32Array([1,0,0,0,1,0,0,0,1]):"mat4"===e?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):null)}function U(){if(Jr===jr||Jr&&Jr.isContextLost()){var e=document.createElement("canvas"),t=void 0;xo.PREFER_ENV>=Do.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Jr=t}return Jr}function H(){if(!qn){qn=jo.MEDIUM;var e=U();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);qn=t.precision?jo.HIGH:jo.MEDIUM}}return qn}function G(e,t,o){if("precision"!==e.substring(0,9)){var i=t;return t===jo.HIGH&&o!==jo.HIGH&&(i=jo.MEDIUM),"precision "+i+" float;\n"+e}return o!==jo.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}function V(e){return Kr[e]}function z(e,t){if(!qr){var o=Object.keys(Zr);qr={};for(var r=0,i;r<o.length;++r)i=o[r],qr[e[i]]=Zr[i]}return qr[t]}function W(e,t){var o=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in e.uniforms){var i=t[r];if(!i){e.uniforms[r].group&&o.push("\n                    renderer.shader.syncUniformGroup(uv[\""+r+"\"], syncData);\n                ");continue}for(var n=e.uniforms[r],a=!1,s=0;s<Qr.length;s++)if(Qr[s].test(i,n)){o.push(Qr[s].code(r,n)),a=!0;break}if(!a){var l=1===i.size?$r:en,d=l[i.type].replace("location","ud[\""+r+"\"].location");o.push("\n            cv = ud[\""+r+"\"].value;\n            v = uv[\""+r+"\"];\n            "+d+";")}}return new Function("ud","uv","renderer","syncData",o.join("\n"))}function X(e){for(var t="",o=0;o<e;++o)0<o&&(t+="\nelse "),o<e-1&&(t+="if(test == "+o+".0){}");return t}function Y(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var o=t.createShader(t.FRAGMENT_SHADER),i;i=tn.replace(/%forloop%/gi,X(e)),t.shaderSource(o,i),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS);)e=0|e/2;return e}function j(){if("boolean"==typeof Zn)return Zn;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Zn=!0===e({a:"b"},"a","b")}catch(t){Zn=!1}return Zn}function J(e,t){return void 0===t&&(t=[]),t[wo.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.ADD]=[e.ONE,e.ONE],t[wo.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.NONE]=[0,0],t[wo.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[wo.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[wo.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[wo.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[wo.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[wo.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[wo.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[wo.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[wo.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[wo.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[wo.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}function K(e){return Bn.create(e)}/*!
 * resource-loader - v3.0.1
 * https://github.com/pixijs/pixi-sound
 * Compiled Tue, 02 Jul 2019 14:06:18 UTC
 *
 * resource-loader is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */function Z(){}function q(e,t,o,r){var n=0,i=e.length;(function a(s){return s||n===i?void(o&&o(s)):void(r?setTimeout(function(){t(e[n++],a)},1):t(e[n++],a))})()}function Q(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function $(e,t){function o(e,t,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");if(n.started=!0,null==e&&n.idle())return void setTimeout(function(){return n.drain()},1);var i={data:e,callback:"function"==typeof o?o:Z};t?n._tasks.unshift(i):n._tasks.push(i),setTimeout(function(){return n.process()},1)}function i(e){return function(){r-=1,e.callback.apply(e,arguments),null!=arguments[0]&&n.error(arguments[0],e.data),r<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var r=0,n={_tasks:[],concurrency:t,saturated:Z,unsaturated:Z,buffer:t/4,empty:Z,drain:Z,error:Z,started:!1,paused:!1,push:function(e,t){o(e,!1,t)},kill:function(){r=0,n.drain=Z,n.started=!1,n._tasks=[]},unshift:function(e,t){o(e,!0,t)},process:function(){for(;!n.paused&&r<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),r+=1,r===n.concurrency&&n.saturated(),e(t.data,Q(i(t)))}},length:function(){return n._tasks.length},running:function(){return r},idle:function(){return 0===n._tasks.length+r},pause:function(){!0===n.paused||(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var e=1;e<=n.concurrency;e++)n.process()}}};return n}function ee(e,t){for(var o=0,i;o<t.length;o++)i=t[o],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function te(e,t,o){return t&&ee(e.prototype,t),o&&ee(e,o),e}function oe(){}function ie(e,t,o){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=o)}function re(e){return e.toString().replace("object ","")}function ne(e){for(var t="",o=0;o<e.length;){for(var i=[0,0,0],r=[0,0,0,0],n=0;n<i.length;++n)i[n]=o<e.length?255&e.charCodeAt(o++):0;r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2];var a=o-(e.length-1);switch(a){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64;break;default:}for(var s=0;s<r.length;++s)t+=pa.charAt(r[s])}return t}function ae(e,t){function o(){this.constructor=e}Ta(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function se(e,t){function o(){this.constructor=e}ya(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function le(e,t){function o(){this.constructor=e}ka(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function de(e,t,o){return e+(t-e)*o}function ce(e,t,o,r,a,s,l){void 0===l&&(l=[]);for(var d=20,n=l,c=0,p=0,u=0,_=0,g=0,m=0,h=0,i=0;h<=d;++h)i=h/d,c=de(e,o,i),p=de(t,r,i),u=de(o,a,i),_=de(r,s,i),g=de(c,u,i),m=de(p,_,i),n.push(g,m);return n}function pe(e,t,o,i,r,n,a,s){var l,d;a?(l=i,d=-o):(l=-i,d=o);var c=e-o*r+l,p=t-i*r+d,u=e+o*n+l,_=t+i*n+d;return s.push(c,p),s.push(u,_),2}function ue(e,t,o,r,n,a,s,l){var d=o-e,c=r-t,p=Ft(d,c),u=Ft(n-e,a-t);l&&p<u?p+=2*Gt:!l&&p>u&&(u+=2*Gt);var _=p,g=u-p,m=Vt(g),h=Wt(d*d+c*c),T=(15*m*Wt(h)/Gt>>0)+1,b=g/T;if(_+=b,l){s.push(e,t),s.push(o,r);for(var E=1,i=_;E<T;E++,i+=b)s.push(e,t),s.push(e+Ht(i)*h,t+Ut(i)*h);s.push(e,t),s.push(n,a)}else{s.push(o,r),s.push(e,t);for(var E=1,i=_;E<T;E++,i+=b)s.push(e+Ht(i)*h,t+Ut(i)*h),s.push(e,t);s.push(n,a),s.push(e,t)}return 2*T}function _e(e,t){var o=e.shape,r=e.points||o.points.slice(),n=t.closePointEps;if(0!==r.length){var a=e.lineStyle,s=new hi(r[0],r[1]),l=new hi(r[r.length-2],r[r.length-1]),d=o.type!==ci.POLY||o.closeStroke,c=Vt(s.x-l.x)<n&&Vt(s.y-l.y)<n;if(d){r=r.slice(),c&&(r.pop(),r.pop(),l.set(r[r.length-2],r[r.length-1]));var p=.5*(s.x+l.x),u=.5*(l.y+s.y);r.unshift(p,u),r.push(p,u)}var _=t.points,g=r.length/2,m=r.length,h=_.length/2,T=a.width/2,b=a.miterLimit*a.miterLimit,E=r[0],y=r[1],v=r[2],S=r[3],R=0,I=0,x=-(y-S),C=E-v,O=0,k=0,A=Wt(x*x+C*C);x/=A,C/=A,x*=T,C*=T;var N=a.alignment,L=2*(1-N),D=2*N;d||(a.cap===xa.ROUND?m+=ue(E-.5*(x*(L-D)),y-.5*(C*(L-D)),E-x*L,y-C*L,E+x*D,y+C*D,_,!0)+2:a.cap===xa.SQUARE&&(m+=pe(E,y,x,C,L,D,!0,_))),_.push(E-x*L,y-C*L),_.push(E+x*D,y+C*D);for(var M=1;M<g-1;++M){E=r[2*(M-1)],y=r[2*(M-1)+1],v=r[2*M],S=r[2*M+1],R=r[2*(M+1)],I=r[2*(M+1)+1],x=-(y-S),C=E-v,A=Wt(x*x+C*C),x/=A,C/=A,x*=T,C*=T,O=-(S-I),k=v-R,A=Wt(O*O+k*k),O/=A,k/=A,O*=T,k*=T;var i=v-E,P=y-S,w=v-R,B=I-S,F=P*w-B*i,U=0>F;if(.1>Vt(F)){_.push(v-x*L,S-C*L),_.push(v+x*D,S+C*D);continue}var H=(-x+E)*(-C+S)-(-x+v)*(-C+y),G=(-O+R)*(-k+S)-(-O+v)*(-k+I),V=(i*G-w*H)/F,z=(B*H-P*G)/F,W=(V-v)*(V-v)+(z-S)*(z-S),X=v+(V-v)*L,Y=S+(z-S)*L,j=v-(V-v)*D,J=S-(z-S)*D;a.join===Ia.BEVEL||W/(T*T)>b?(U?(_.push(X,Y),_.push(v+x*D,S+C*D),_.push(X,Y),_.push(v+O*D,S+k*D)):(_.push(v-x*L,S-C*L),_.push(j,J),_.push(v-O*L,S-k*L),_.push(j,J)),m+=2):a.join===Ia.ROUND?U?(_.push(X,Y),_.push(v+x*D,S+C*D),m+=ue(v,S,v+x*D,S+C*D,v+O*D,S+k*D,_,!0)+4,_.push(X,Y),_.push(v+O*D,S+k*D)):(_.push(v-x*L,S-C*L),_.push(j,J),m+=ue(v,S,v-x*L,S-C*L,v-O*L,S-k*L,_,!1)+4,_.push(v-O*L,S-k*L),_.push(j,J)):(_.push(X,Y),_.push(j,J))}E=r[2*(g-2)],y=r[2*(g-2)+1],v=r[2*(g-1)],S=r[2*(g-1)+1],x=-(y-S),C=E-v,A=Wt(x*x+C*C),x/=A,C/=A,x*=T,C*=T,_.push(v-x*L,S-C*L),_.push(v+x*D,S+C*D),d||(a.cap===xa.ROUND?m+=ue(v-.5*(x*(L-D)),S-.5*(C*(L-D)),v-x*L,S-C*L,v+x*D,S+C*D,_,!1)+2:a.cap===xa.SQUARE&&(m+=pe(v,S,x,C,L,D,!1,_)));for(var K=t.indices,q=Ca.epsilon*Ca.epsilon,M=h;M<m+h-2;++M)(E=_[2*M],y=_[2*M+1],v=_[2*(M+1)],S=_[2*(M+1)+1],R=_[2*(M+2)],I=_[2*(M+2)+1],!(Vt(E*(S-I)+v*(I-y)+R*(y-S))<q))&&K.push(M,M+1,M+2)}}function ge(e,t){var o=0,i=e.shape,r=e.points||i.points,n=i.type!==ci.POLY||i.closeStroke;if(0!==r.length){var a=t.points,s=t.indices,l=r.length/2,d=a.length/2,c=d;for(a.push(r[0],r[1]),o=1;o<l;o++)a.push(r[2*o],r[2*o+1]),s.push(c,c+1),c++;n&&s.push(c,d)}}function me(e,t){e.lineStyle.native?ge(e,t):_e(e,t)}function he(e,t){function o(){this.constructor=e}qa(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Te(e,t){function o(){this.constructor=e}es(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function fe(e){return"number"==typeof e?s(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function be(e){if(!Array.isArray(e))return fe(e);for(var t=0;t<e.length;++t)e[t]=fe(e[t]);return e}function Ee(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(e[o]!==t[o])return!1;return!0}function ye(e,t,o){for(var i in o)e[i]=Array.isArray(t[i])?t[i].slice():t[i]}function ve(e,t){function o(){this.constructor=e}cs(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Se(e,t){var o=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof br){var i=e._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),o=!0)}return o}function Re(e,t){if(e.baseTexture instanceof or){var o=e.baseTexture;return-1===t.indexOf(o)&&t.push(o),!0}return!1}function Ie(e,t){if(e._texture&&e._texture instanceof br){var o=e._texture.baseTexture;return-1===t.indexOf(o)&&t.push(o),!0}return!1}function xe(e,t){return!!(t instanceof ds)&&(t.updateText(!0),!0)}function Ce(e,t){if(t instanceof ns){var o=t.toFontString();return as.measureFont(o),!0}return!1}function Oe(e,t){if(e instanceof ds){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var o=e._texture.baseTexture;return-1===t.indexOf(o)&&t.push(o),!0}return!1}function ke(e,t){return!!(e instanceof ns)&&(-1===t.indexOf(e)&&t.push(e),!0)}function Ae(e,t){return!!(t instanceof or)&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Ne(e,t){if(!(t instanceof Ka))return!1;var o=t.geometry;t.finishPoly(),o.updateBatches();for(var r=o.batches,n=0,i;n<r.length;n++)i=r[n].style.texture,i&&Ae(e,i.baseTexture);return o.batchable||e.geometry.bind(o,t._resolveDirectShader(e)),!0}function Le(e,t){return!!(e instanceof Ka)&&(t.push(e),!0)}function De(e,t){function o(){this.constructor=e}Ts(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Me(e,t){function o(){this.constructor=e}Ss(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Pe(e,t){function o(){this.constructor=e}As(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function we(e){for(var t=0;t<Ms.length;t++)if(Ms[t].test(e))return Ms[t];return null}function Be(e,t,o,r,n,a){var s=o.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l=o.dropShadow?o.dropShadowDistance:0,d=o.padding||0,c=Pt(e.width/r)-l-2*d,p=Pt(e.height/r)-l-2*d,u=s.slice(),_=o.fillGradientStops.slice(),g;if(!_.length)for(var m=u.length+1,h=1;h<m;++h)_.push(h/m);if(u.unshift(s[0]),_.unshift(0),u.push(s[s.length-1]),_.push(1),o.fillGradientType===os.LINEAR_VERTICAL){g=t.createLinearGradient(c/2,d,c/2,p+d);for(var i=0,T=a.fontProperties.fontSize+o.strokeThickness,h=0,b;h<n.length;h++){b=a.lineHeight*h;for(var E=0,y;E<u.length;E++){y=0,y="number"==typeof _[E]?_[E]:E/u.length;var v=b/p+y*(T/p),S=zt(i,v);S=jt(S,1),g.addColorStop(S,u[E]),i=S}}}else{g=t.createLinearGradient(d,p/2,c+d,p/2);for(var R=u.length+1,I=1,h=0,x;h<u.length;h++)x=void 0,x="number"==typeof _[h]?_[h]:I/R,g.addColorStop(x,u[h]),I++}return g}function Fe(e,t,o,i,r,n,s){var d=o.text,c=o.fontProperties;t.translate(i,r),t.scale(n,n);var p=s.strokeThickness/2,u=-(s.strokeThickness/2);t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=Be(e,t,s,n,[d],o),t.strokeStyle=s.stroke,t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=Be(e,t,s,n,[d],o),t.strokeStyle=s.stroke;var _=s.dropShadowColor,g=a("number"==typeof _?_:l(_));s.dropShadow?(t.shadowColor="rgba("+255*g[0]+","+255*g[1]+","+255*g[2]+","+s.dropShadowAlpha+")",t.shadowBlur=s.dropShadowBlur,t.shadowOffsetX=Ut(s.dropShadowAngle)*s.dropShadowDistance,t.shadowOffsetY=Ht(s.dropShadowAngle)*s.dropShadowDistance):(t.shadowColor="0",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0),s.stroke&&s.strokeThickness&&t.strokeText(d,p,u+o.lineHeight-c.descent),s.fill&&t.fillText(d,p,u+o.lineHeight-c.descent),t.setTransform(),t.fillStyle="rgba(0, 0, 0, 0)"}function Ue(e){"string"==typeof e&&(e=[e]);for(var t=[],o=0,i=e.length,r;o<i;o++)if(r=e[o],Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var n=r[0].charCodeAt(0),a=r[1].charCodeAt(0);if(a<n)throw new Error("[BitmapFont]: Invalid character range.");for(var s=n;s<=a;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,r.split(""));if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function He(e,t){function o(){this.constructor=e}Hs(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Ge(e,t){function o(){this.constructor=e}Vs(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Ve(e,t){var o=Pt(e/2),r=zs,n="",a;a=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0,i;s<e;s++)i=a.replace("%index%",s.toString()),i=i.replace("%sampleIndex%",s-(o-1)+".0"),n+=i,n+="\n";return r=r.replace("%blur%",n),r=r.replace("%size%",e.toString()),r}function ze(e){for(var t=Ws[e],o=t.length,r=Xs,n="",a=0,i,s;a<e;a++)s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString()),i=a,a>=o&&(i=e-a-1),s=s.replace("%value%",t[i].toString()),n+=s,n+="\n";return r=r.replace("%blur%",n),r=r.replace("%size%",e.toString()),r}function We(e,t){function o(){this.constructor=e}pl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Xe(e,t){function o(){this.constructor=e}_l(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Ye(e,t){function o(){this.constructor=e}ml(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function je(e,t){function o(){this.constructor=e}Tl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Je(e,t){function o(){this.constructor=e}yl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Ke(e,t){function o(){this.constructor=e}kl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function qe(e,t){function o(){this.constructor=e}Dl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function Ze(e){var t=document.createElement("canvas");t.width=6,t.height=1;var o=t.getContext("2d");return o.fillStyle=e,o.fillRect(0,0,6,1),t}function Qe(){if("undefined"==typeof document)return!1;var e=Ze("#ff00ff"),t=Ze("#ffff00"),o=document.createElement("canvas");o.width=6,o.height=1;var i=o.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(e,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var n=r.data;return 255===n[0]&&0===n[1]&&0===n[2]}function $e(e){return void 0===e&&(e=[]),Qe()?(e[wo.NORMAL]="source-over",e[wo.ADD]="lighter",e[wo.MULTIPLY]="multiply",e[wo.SCREEN]="screen",e[wo.OVERLAY]="overlay",e[wo.DARKEN]="darken",e[wo.LIGHTEN]="lighten",e[wo.COLOR_DODGE]="color-dodge",e[wo.COLOR_BURN]="color-burn",e[wo.HARD_LIGHT]="hard-light",e[wo.SOFT_LIGHT]="soft-light",e[wo.DIFFERENCE]="difference",e[wo.EXCLUSION]="exclusion",e[wo.HUE]="hue",e[wo.SATURATION]="saturate",e[wo.COLOR]="color",e[wo.LUMINOSITY]="luminosity"):(e[wo.NORMAL]="source-over",e[wo.ADD]="lighter",e[wo.MULTIPLY]="source-over",e[wo.SCREEN]="source-over",e[wo.OVERLAY]="source-over",e[wo.DARKEN]="source-over",e[wo.LIGHTEN]="source-over",e[wo.COLOR_DODGE]="source-over",e[wo.COLOR_BURN]="source-over",e[wo.HARD_LIGHT]="source-over",e[wo.SOFT_LIGHT]="source-over",e[wo.DIFFERENCE]="source-over",e[wo.EXCLUSION]="source-over",e[wo.HUE]="source-over",e[wo.SATURATION]="source-over",e[wo.COLOR]="source-over",e[wo.LUMINOSITY]="source-over"),e[wo.NORMAL_NPM]=e[wo.NORMAL],e[wo.ADD_NPM]=e[wo.ADD],e[wo.SCREEN_NPM]=e[wo.SCREEN],e[wo.SRC_IN]="source-in",e[wo.SRC_OUT]="source-out",e[wo.SRC_ATOP]="source-atop",e[wo.DST_OVER]="destination-over",e[wo.DST_IN]="destination-in",e[wo.DST_OUT]="destination-out",e[wo.DST_ATOP]="destination-atop",e[wo.XOR]="xor",e[wo.SUBTRACT]="source-over",e}function et(e,t){function o(){this.constructor=e}Jl(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function tt(e,t){var o=e;if(t instanceof or){var i=t.source,r=0===i.width?o.canvas.width:jt(o.canvas.width,i.width),n=0===i.height?o.canvas.height:jt(o.canvas.height,i.height);return o.ctx.drawImage(i,0,0,r,n,0,0,o.canvas.width,o.canvas.height),!0}return!1}function ot(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function it(o,e){var i=Object.keys(o);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(o);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})),i.push.apply(i,r)}return i}function rt(t){for(var e=1,o;e<arguments.length;e++)o=null==arguments[e]?{}:arguments[e],e%2?it(Object(o),!0).forEach(function(e){ot(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):it(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))});return t}function nt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(l,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(l)){var d=[],n=!0,t=!1,a;try{for(var i=l[Symbol.iterator](),s;!(n=(s=i.next()).done)&&(d.push(s.value),!e||d.length!==e);n=!0);}catch(o){t=!0,a=o}finally{try{n||null==i.return||i.return()}finally{if(t)throw a}}return d}}(t,e)||function(t,o){if(t){if("string"==typeof t)return at(t,o);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?at(t,o):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(o,e){(null==e||e>o.length)&&(e=o.length);for(var i=0,r=Array(e);i<e;i++)r[i]=o[i];return r}function st(o){return new Promise(function(e,i){var r=new id;r.onload=function(){return e(r.result)},r.onerror=function(t){return i(t)},r.readAsDataURL(o)})}function lt(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Date.now();return new Promise(function(n){for(var l=t.split(","),a=l[0].match(/:(.*?);/)[1],d=window.atob(l[1]),o=d.length,s=new Uint8Array(o);o--;)s[o]=d.charCodeAt(o);var c=new Blob([s],{type:a});c.name=e,c.lastModified=r,n(c)})}function dt(o){return new Promise(function(e,i){var r=new Image;r.onload=function(){return e(r)},r.onerror=function(t){return i(t)},r.src=o})}function ct(t){var e=nt(ht(t.width,t.height),2),o=e[0];return e[1].drawImage(t,0,0,o.width,o.height),o}function pt(r){return new Promise(function(e,s){var n=function(){try{return t=ct(o),e([o,t])}catch(t){return s(t)}},i=function(){try{return st(r).then(function(t){try{return dt(t).then(function(t){try{return o=t,n()}catch(t){return s(t)}},s)}catch(t){return s(t)}},s)}catch(t){return s(t)}},o,t;try{return createImageBitmap(r).then(function(t){try{return o=t,n()}catch(t){return i()}},i)}catch(t){i()}})}function ut(l,e,d,n){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;return new Promise(function(c,i){function o(){return c(p)}var p;return"function"==typeof OffscreenCanvas&&l instanceof OffscreenCanvas?l.convertToBlob({type:e,quality:t}).then(function(t){try{return(p=t).name=d,p.lastModified=n,o.call(this)}catch(t){return i(t)}}.bind(this),i):lt(l.toDataURL(e,t),d,n).then(function(t){try{return p=t,o.call(this)}catch(t){return i(t)}}.bind(this),i)})}function _t(o){return new Promise(function(l,i){var e=new id;e.onload=function(r){var e=new DataView(r.target.result);if(65496!=e.getUint16(0,!1))return l(-2);for(var n=e.byteLength,t=2;t<n;){if(8>=e.getUint16(t+2,!1))return l(-1);var a=e.getUint16(t,!1);if(t+=2,65505==a){if(1165519206!=e.getUint32(t+=2,!1))return l(-1);var i=18761==e.getUint16(t+=6,!1);t+=e.getUint32(t+4,i);var o=e.getUint16(t,i);t+=2;for(var s=0;s<o;s++)if(274==e.getUint16(t+12*s,i))return l(e.getUint16(t+12*s+8,i))}else{if(65280!=(65280&a))break;t+=e.getUint16(t,!1)}}return l(-1)},e.onerror=function(t){return i(t)},e.readAsArrayBuffer(o)})}function gt(l,e){var r=l.width,t=l.height,a=e.maxWidthOrHeight,i=l,o;if(isFinite(a)&&(r>a||t>a)){var n=nt(ht(r,t),2);i=n[0],o=n[1],r>t?(i.width=a,i.height=t/r*a):(i.width=r/t*a,i.height=a),o.drawImage(l,0,0,i.width,i.height),Tt(l)}return i}function mt(s,e){var r=s.width,n=s.height,t=nt(ht(r,n),2),a=t[0],i=t[1];switch(4<e&&9>e?(a.width=n,a.height=r):(a.width=r,a.height=n),e){case 2:i.transform(-1,0,0,1,r,0);break;case 3:i.transform(-1,0,0,-1,r,n);break;case 4:i.transform(1,0,0,-1,0,n);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,n,0);break;case 7:i.transform(0,-1,-1,0,n,r);break;case 8:i.transform(0,-1,1,0,0,r);}return i.drawImage(s,0,0,r,n),Tt(s),a}function ht(o,e){var i,r;try{if(null===(r=(i=new OffscreenCanvas(o,e)).getContext("2d")))throw new Error("getContext of OffscreenCanvas returns null")}catch(t){r=(i=document.createElement("canvas")).getContext("2d")}return i.width=o,i.height=e,[i,r]}function Tt(t){t.width=0,t.height=0}function ft(_,T){return new Promise(function(e,r){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5;n+=t,T.onProgress(jt(n,100))}function a(t){n=jt(zt(t,n),100),T.onProgress(n)}var n,b,o,s,c,u,l,E,m,S,R,d,p,i,h,y;return n=0,b=T.maxIteration||10,o=1024*(1024*T.maxSizeMB),t(),pt(_).then(function(n){try{var v=nt(n,2);return v[0],s=v[1],t(),c=gt(s,T),t(),new Promise(function(e,o){function t(){return e(i)}var i;return(i=T.exifOrientation)?t.call(this):_t(_).then(function(r){try{return i=r,t.call(this)}catch(t){return o(t)}}.bind(this),o)}).then(function(n){try{return T.exifOrientation=n,t(),rd.then(function(v){try{return u=v?c:mt(c,T.exifOrientation),t(),l=1,ut(u,T.fileType||_.type,_.name,_.lastModified,l).then(function(v){try{{function I(){if(b--&&(p>o||p>R)){var e=nt(ht(s=m?.95*y.width:y.width,n=m?.95*y.height:y.height),2),s,n;return h=e[0],e[1].drawImage(y,0,0,s,n),"image/jpeg"===_.type&&(l*=.95),ut(h,T.fileType||_.type,_.name,_.lastModified,l).then(function(t){try{return i=t,Tt(y),y=h,p=i.size,a(jt(99,Xt(100*((d-p)/(d-o))))),I}catch(t){return r(t)}},r)}return[1]}function x(){return Tt(y),Tt(h),Tt(c),Tt(u),Tt(s),a(100),e(i)}if(E=v,t(),m=E.size>o,S=E.size>_.size,!m&&!S)return a(100),e(E);var n;return R=_.size,d=E.size,p=d,y=u,(n=function(t){for(;t;){if(t.then)return void t.then(n,r);try{if(t.pop){if(t.length)return t.pop()?x.call(this):t;t=I}else t=t.call(this)}catch(t){return r(t)}}}.bind(this))(I)}}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)}catch(t){return r(t)}}.bind(this),r)})}function bt(){return function(t){return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}("\n    function imageCompression (){return (".concat(yt,").apply(null, arguments)}\n\n    imageCompression.getDataUrlFromFile = ").concat(yt.getDataUrlFromFile,"\n    imageCompression.getFilefromDataUrl = ").concat(yt.getFilefromDataUrl,"\n    imageCompression.loadImage = ").concat(yt.loadImage,"\n    imageCompression.drawImageInCanvas = ").concat(yt.drawImageInCanvas,"\n    imageCompression.drawFileInCanvas = ").concat(yt.drawFileInCanvas,"\n    imageCompression.canvasToFile = ").concat(yt.canvasToFile,"\n    imageCompression.getExifOrientation = ").concat(yt.getExifOrientation,"\n    imageCompression.handleMaxWidthOrHeight = ").concat(yt.handleMaxWidthOrHeight,"\n    imageCompression.followExifOrientation = ").concat(yt.followExifOrientation,"\n    imageCompression.cleanupMemory = ").concat(yt.cleanupMemory,"\n\n    getDataUrlFromFile = imageCompression.getDataUrlFromFile\n    getFilefromDataUrl = imageCompression.getFilefromDataUrl\n    loadImage = imageCompression.loadImage\n    drawImageInCanvas = imageCompression.drawImageInCanvas\n    drawFileInCanvas = imageCompression.drawFileInCanvas\n    canvasToFile = imageCompression.canvasToFile\n    getExifOrientation = imageCompression.getExifOrientation\n    handleMaxWidthOrHeight = imageCompression.handleMaxWidthOrHeight\n    followExifOrientation = imageCompression.followExifOrientation\n    cleanupMemory = imageCompression.cleanupMemory\n\n    getNewCanvasAndCtx = ").concat(ht,"\n    \n    CustomFileReader = FileReader\n    \n    CustomFile = File\n    \n    function _slicedToArray(arr, n) { return arr }\n    \n    function _typeof(a) { return typeof a }\n\n    function compress (){return (").concat(ft,").apply(null, arguments)}\n    "))}function Et(){return function(t){return"function"==typeof t&&(t="(".concat(f,")()")),new Worker(URL.createObjectURL(new Blob([t])))}("\n    let scriptImported = false\n    self.addEventListener('message', async (e) => {\n      const { file, id, imageCompressionLibUrl, options } = e.data\n      options.onProgress = (progress) => self.postMessage({ progress, id })\n      try {\n        if (!scriptImported) {\n          // console.log('[worker] importScripts', imageCompressionLibUrl)\n          self.importScripts(imageCompressionLibUrl)\n          scriptImported = true\n        }\n        // console.log('[worker] self', self)\n        const compressedFile = await imageCompression(file, options)\n        self.postMessage({ file: compressedFile, id })\n      } catch (e) {\n        // console.error('[worker] error', e)\n        self.postMessage({ error: e.message + '\\n' + e.stack, id })\n      }\n    })\n  ")}function yt(t,e){return new Promise(function(i,r){function o(){try{n.name=t.name,n.lastModified=t.lastModified}catch(t){}return i(n)}var n,a,s;if(e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,a="boolean"!=typeof e.useWebWorker||e.useWebWorker,delete e.useWebWorker,void 0===e.onProgress&&(e.onProgress=function(){}),!(t instanceof Blob||t instanceof od))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(s="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!a||"function"!=typeof Worker||s)return ft(t,e).then(function(t){try{return n=t,o.call(this)}catch(t){return r(t)}}.bind(this),r);var d=function(){try{return o.call(this)}catch(t){return r(t)}}.bind(this),l=function(){try{return ft(t,e).then(function(t){try{return n=t,d()}catch(t){return r(t)}},r)}catch(t){return r(t)}};try{return function(t,i){return new Promise(function(r,n){return new Promise(function(o){var a=nd++;return ad||(ad=bt()),sd||(sd=Et()),sd.addEventListener("message",function t(o){if(o.data.id===a){if(void 0!==o.data.progress)return void i.onProgress(o.data.progress);sd.removeEventListener("message",t),o.data.error&&n(new Error(o.data.error)),r(o.data.file)}}),sd.addEventListener("error",n),sd.postMessage({file:t,id:a,imageCompressionLibUrl:ad,options:rt(rt({},i),{},{onProgress:void 0})}),o()})})}(t,e).then(function(t){try{return n=t,d()}catch(t){return l()}},l)}catch(t){l()}})}function vt(){_d=document.getElementById("uploadImageFileInput"),gd=document.getElementById("imageCollections"),gd.innerHTML=pd.a,md=document.getElementById("uploadImageButton"),_d.addEventListener("change",function(){if(0!=this.files.length){ld(this.files[0],{maxSizeMB:.5,useWebWorker:!0}).then(function(e){hd.createBlob(e,{})}).catch(function(e){console.log(e.message)})}},!1),md.onclick=function(){_d.click()}}function St(){return hd.getBlobUrls()}function Rt(e,t){if(void 0===t&&(t=!1),void 0===Md||t){var o=e.document.createElement("div");Md="transform"in o.style?"transform":"webkitTransform"}return Md}/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function It(){return zt(jt(Wd.offsetWidth-30,Wd.offsetHeight-10),3)}function xt(){var e=It();Jd=(e-2)/jd,Yd.width=e+30,Yd.height=e+10;const t=Yd.getContext("2d");t.clearRect(0,0,e+30,e+10);for(let o=1;10>o;++o)t.beginPath(),t.moveTo(.1*e*o,e),t.lineTo(.1*e*o,e+10),t.stroke(),t.fillText(Yt((.1*o-.5)*jd),.1*e*o+2,e+10),t.beginPath(),t.moveTo(e,.1*e*o),t.lineTo(e+10,.1*e*o),t.stroke(),t.fillText(Yt((.1*o-.5)*jd),e+2,.1*e*o+10);Xd.style.width=e+"px",Xd.style.height=e+"px",$d&&($d.stage.scale.x=Jd,$d.stage.scale.y=Jd),Wd.style.paddingLeft=Yd.width>=Vd.offsetWidth?"0px":.5*(Vd.offsetWidth-Yd.width)+"px"}function Ct(e){return e+.5*jd}function Ot(e){return e-.5*jd}function kt(e){return .5*jd-e}function At(e){return .5*jd-e}function Nt(e){return e<-.5*jd&&(e=-.5*jd),e>.5*jd&&(e=.5*jd),e}function Lt(e){return e*(Gt/180)}function Dt(){if(!(2e3>Kd.children.length)){console.log("Canvas contains too many children. Will try to compose.");let e=Er.create({width:5*jd,height:5*jd});$d.stage.removeChild(Kd),Kd.scale.x=5,Kd.scale.y=5,$d.renderer.render(Kd,e);let t=new $a(e);t.scale.x=.2,t.scale.y=.2,Kd.destroy(),Zd&&(Zd.destroy(),Zd=e),Kd=new Li,Kd.addChild(t),$d.stage.addChildAt(Kd,0)}}async function Mt(e){let t=$d.loader.add("turtle",Hd),o=await new Promise((e)=>t.load((t,o)=>e(o)));vt(),$d.stage.interactive=!0,$d.stage.hitArea=new pi(0,0,jd,jd),$d.stage.on("mousedown",function(t){oc.leftButton.down=!0;let e=t.currentTarget.toLocal(t.data.global);oc.x=Nt(Ot(e.x)),oc.y=Nt(At(e.y))}),$d.stage.on("rightdown",function(t){oc.rightButton.down=!0;let e=t.currentTarget.toLocal(t.data.global);oc.x=Nt(Ot(e.x)),oc.y=Nt(At(e.y))}),$d.stage.on("mousemove",function(t){let e=t.currentTarget.toLocal(t.data.global);oc.x=Nt(Ot(e.x)),oc.y=Nt(At(e.y))}),$d.stage.on("mouseup",function(t){let e=t.currentTarget.toLocal(t.data.global);oc.x=Nt(Ot(e.x)),oc.y=Nt(At(e.y)),oc.leftButton={down:!1,lastDownTime:new Date().getTime(),lastDownX:oc.x,lastDownY:oc.y}}),$d.stage.on("rightup",function(t){let e=t.currentTarget.toLocal(t.data.global);oc.x=Nt(Ot(e.x)),oc.y=Nt(At(e.y)),oc.rightButton={down:!1,lastDownTime:new Date().getTime(),lastDownX:oc.x,lastDownY:oc.y}}),$d.stage.on("mouseupoutside",function(){oc.leftButton={down:!1,lastDownTime:new Date().getTime(),lastDownX:oc.x,lastDownY:oc.y}}),$d.stage.on("rightupoutside",function(){oc.rightButton={down:!1,lastDownTime:new Date().getTime(),lastDownX:oc.x,lastDownY:oc.y}});let i=o.turtle.texture;qd=new ec(i,$d.stage),await Jt.b({toolbox:e.toolbox,fetchInitial:e.fetchInitial,fetchSolution:e.fetchSolution,codesPrefix:Zl.b+"."+Gd+".show();\n\n",stateUpdateListener:function(e){e==Zl.c.INITIAL&&($d.stage.removeChildren(),Kd=new Li,$d.stage.addChild(Kd),qd=new ec(i,$d.stage),qd.sprite.visible=!1,Qd=new tc(Kd),Zd&&(Zd.destroy(),Zd=null))},runningSpeed:Jt.a.FAST,environmentVariables:[{name:"\u4E4C\u9F9F\u7684\u6A2A\u5750\u6807",symbol:Zl.b+"."+Gd+".getCoordinateX()"},{name:"\u4E4C\u9F9F\u7684\u7EB5\u5750\u6807",symbol:Zl.b+"."+Gd+".getCoordinateY()"},{name:"\u4E4C\u9F9F\u7684\u65B9\u5411",symbol:Zl.b+"."+Gd+".getAngle()"}],layoutChangeListener:function(){xt(),$d.resize()}})}var Pt=Math.ceil,wt=Number.isInteger,Bt=Math.sign,Ft=Math.atan2,Ut=Math.cos,Ht=Math.sin,Gt=Math.PI,Vt=Math.abs,zt=Math.max,Wt=Math.sqrt,Xt=Math.floor,Yt=Math.round,jt=Math.min;o.d(t,"a",function(){return Mt});var Jt=o(18),Kt=o(36),qt=o(123),Zt=o.n(qt),Qt=o(0),$t=o.n(Qt),eo=o(124),to=o(125),oo=o.n(to);window.Promise||(window.Promise=eo.Polyfill),Object.assign||(Object.assign=oo.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(window.performance&&window.performance.now)){var io=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-io}}for(var ro=Date.now(),no=["ms","moz","webkit","o"],ao=0,so;ao<no.length&&!window.requestAnimationFrame;++ao)so=no[ao],window.requestAnimationFrame=window[so+"RequestAnimationFrame"],window.cancelAnimationFrame=window[so+"CancelAnimationFrame"]||window[so+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),o=16+ro-t;return 0>o&&(o=0),ro=t,window.setTimeout(function(){ro=Date.now(),e(performance.now())},o)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){return clearTimeout(e)}),Bt||(Bt=function(e){return e=+e,0===e||isNaN(e)?e:0<e?1:-1}),wt||(wt=function(e){return"number"==typeof e&&isFinite(e)&&Xt(e)===e}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var lo=/iPhone/i,co=/iPod/i,po=/iPad/i,uo=/\biOS-universal(?:.+)Mac\b/i,_o=/\bAndroid(?:.+)Mobile\b/i,go=/Android/i,mo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,ho=/Silk/i,To=/Windows Phone/i,fo=/\bWindows(?:.+)ARM\b/i,bo=/BlackBerry/i,Eo=/BB10/i,yo=/Opera Mini/i,vo=/\b(CriOS|Chrome)(?:.+)Mobile/i,So=/Mobile(?:.+)Firefox\b/i,Ro=function(e){return"undefined"!=typeof e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&1<e.maxTouchPoints&&"undefined"==typeof MSStream},Io=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var o=t.userAgent,r=o.split("[FBAN");"undefined"!=typeof r[1]&&(o=r[0]),r=o.split("Twitter"),"undefined"!=typeof r[1]&&(o=r[0]);var n=i(o),a={apple:{phone:n(lo)&&!n(To),ipod:n(co),tablet:!n(lo)&&(n(po)||Ro(t))&&!n(To),universal:n(uo),device:(n(lo)||n(co)||n(po)||n(uo)||Ro(t))&&!n(To)},amazon:{phone:n(mo),tablet:!n(mo)&&n(ho),device:n(mo)||n(ho)},android:{phone:!n(To)&&n(mo)||!n(To)&&n(_o),tablet:!n(To)&&!n(mo)&&!n(_o)&&(n(ho)||n(go)),device:!n(To)&&(n(mo)||n(ho)||n(_o)||n(go))||n(/\bokhttp\b/i)},windows:{phone:n(To),tablet:n(fo),device:n(To)||n(fo)},other:{blackberry:n(bo),blackberry10:n(Eo),opera:n(yo),firefox:n(So),chrome:n(vo),device:n(bo)||n(Eo)||n(yo)||n(So)||n(vo)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}(window.navigator),xo={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(Io.tablet||Io.phone){if(Io.apple.device){var o=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(o){var i=parseInt(o[1],10);11>i&&(t=!1)}}if(Io.android.device){var o=navigator.userAgent.match(/Android\s([0-9.]*)/);if(o){var i=parseInt(o[1],10);7>i&&(t=!1)}}}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:Io.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:function(){return!Io.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Co=o(121),Oo=o.n(Co),ko=o(122),Ao=o.n(ko),No=o(24),Lo=o.n(No),Do;/*!
 * @pixi/constants - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Do||(Do={}));var Mo;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Mo||(Mo={}));var Po;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Po||(Po={}));var wo;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(wo||(wo={}));var Bo;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Bo||(Bo={}));var Fo;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Fo||(Fo={}));var Uo;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Uo||(Uo={}));var Ho;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ho||(Ho={}));var Go;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Go||(Go={}));var Vo;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Vo||(Vo={}));var zo;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(zo||(zo={}));var Wo;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(Wo||(Wo={}));var Xo;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Xo||(Xo={}));var Yo;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Yo||(Yo={}));var jo;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(jo||(jo={}));var Jo;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Jo||(Jo={}));var Ko;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Ko||(Ko={})),xo.RETINA_PREFIX=/@([0-9\.]+)x/,xo.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var qo=!1,Zo="5.3.3",Qo=c(),$o={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},ei=0,ti={},oi={},ii=Object.create(null),ri=Object.create(null),ni=function(){function e(e,t,o){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=o||xo.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=e},enumerable:!1,configurable:!0}),e}(),ai=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,si=2*Gt,li,di,ci;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(ci||(ci={}));var pi=function(){function e(e,t,o,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),this.x=+e,this.y=+t,this.width=+o,this.height=+i,this.type=ci.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(0>=this.width||0>=this.height)&&!!(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=zt(this.x,e.x),o=jt(this.x+this.width,e.x+e.width),i=zt(this.y,e.y),r=jt(this.y+this.height,e.y+e.height);return this.x=t,this.width=zt(o-t,0),this.y=i,this.height=zt(r-i,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var o=Pt((this.x+this.width-t)*e)/e,i=Pt((this.y+this.height-t)*e)/e;return this.x=Xt((this.x+t)*e)/e,this.y=Xt((this.y+t)*e)/e,this.width=o-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(e){var t=jt(this.x,e.x),o=zt(this.x+this.width,e.x+e.width),i=jt(this.y,e.y),r=zt(this.y+this.height,e.y+e.height);return this.x=t,this.width=o-t,this.y=i,this.height=r-i,this},e}(),ui=function(){function e(e,t,o){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),this.x=e,this.y=t,this.radius=o,this.type=ci.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(0>=this.radius)return!1;var o=this.radius*this.radius,i=this.x-e,r=this.y-t;return i*=i,r*=r,i+r<=o},e.prototype.getBounds=function(){return new pi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}(),_i=function(){function e(e,t,o,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),this.x=e,this.y=t,this.width=o,this.height=i,this.type=ci.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;var o=(e-this.x)/this.width,i=(t-this.y)/this.height;return o*=o,i*=i,1>=o+i},e.prototype.getBounds=function(){return new pi(this.x-this.width,this.y-this.height,this.width,this.height)},e}(),gi=function(){function e(){for(var e=arguments,t=[],o=0;o<arguments.length;o++)t[o]=e[o];var r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){for(var n=[],a=0,i=r.length;a<i;a++)n.push(r[a].x,r[a].y);r=n}this.points=r,this.type=ci.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),o=new e(t);return o.closeStroke=this.closeStroke,o},e.prototype.contains=function(e,t){for(var o=!1,r=this.points.length/2,n=0,i=r-1;n<r;i=n++){var a=this.points[2*n],s=this.points[2*n+1],l=this.points[2*i],d=this.points[2*i+1];s>t!=d>t&&e<(l-a)*((t-s)/(d-s))+a&&(o=!o)}return o},e}(),mi=function(){function e(e,t,o,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=0),void 0===r&&(r=20),this.x=e,this.y=t,this.width=o,this.height=i,this.radius=r,this.type=ci.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(0>=this.width||0>=this.height)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var o=e-(this.x+this.radius),i=t-(this.y+this.radius),r=this.radius*this.radius;if(o*o+i*i<=r)return!0;if(o=e-(this.x+this.width-this.radius),o*o+i*i<=r)return!0;if(i=t-(this.y+this.height-this.radius),o*o+i*i<=r)return!0;if(o=e-(this.x+this.radius),o*o+i*i<=r)return!0}return!1},e}(),hi=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e}(),Ti=function(){function e(e,t,o,i){void 0===o&&(o=0),void 0===i&&(i=0),this._x=o,this._y=i,this.cb=e,this.scope=t}return e.prototype.clone=function(t,o){return void 0===t&&(t=this.cb),void 0===o&&(o=this.scope),new e(t,o,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),fi=function(){function e(e,t,o,i,r,n){void 0===e&&(e=1),void 0===t&&(t=0),void 0===o&&(o=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===n&&(n=0),this.array=null,this.a=e,this.b=t,this.c=o,this.d=i,this.tx=r,this.ty=n}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,o,i,r,n){return this.a=e,this.b=t,this.c=o,this.d=i,this.tx=r,this.ty=n,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var o=t||this.array;return e?(o[0]=this.a,o[1]=this.b,o[2]=0,o[3]=this.c,o[4]=this.d,o[5]=0,o[6]=this.tx,o[7]=this.ty,o[8]=1):(o[0]=this.a,o[1]=this.c,o[2]=this.tx,o[3]=this.b,o[4]=this.d,o[5]=this.ty,o[6]=0,o[7]=0,o[8]=1),o},e.prototype.apply=function(e,t){t=t||new hi;var o=e.x,i=e.y;return t.x=this.a*o+this.c*i+this.tx,t.y=this.b*o+this.d*i+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new hi;var o=1/(this.a*this.d+this.c*-this.b),i=e.x,r=e.y;return t.x=this.d*o*i+-this.c*o*r+(this.ty*this.c-this.tx*this.d)*o,t.y=this.a*o*r+-this.b*o*i+(-this.ty*this.a+this.tx*this.b)*o,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Ut(e),o=Ht(e),i=this.a,r=this.c,n=this.tx;return this.a=i*t-this.b*o,this.b=i*o+this.b*t,this.c=r*t-this.d*o,this.d=r*o+this.d*t,this.tx=n*t-this.ty*o,this.ty=n*o+this.ty*t,this},e.prototype.append=function(e){var t=this.a,o=this.b,i=this.c,r=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*o+e.b*r,this.c=e.c*t+e.d*i,this.d=e.c*o+e.d*r,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*o+e.ty*r+this.ty,this},e.prototype.setTransform=function(e,t,o,i,r,n,a,s,l){return this.a=Ut(a+l)*r,this.b=Ht(a+l)*r,this.c=-Ht(a-s)*n,this.d=Ut(a-s)*n,this.tx=e-(o*this.a+i*this.c),this.ty=t-(o*this.b+i*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var o=this.a,i=this.c;this.a=o*e.a+this.b*e.c,this.b=o*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,o=this.b,i=this.c,r=this.d,n=-Ft(-i,r),a=Ft(o,t),s=Vt(n+a);return 1e-5>s||1e-5>Vt(si-s)?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=n,e.skew.y=a),e.scale.x=Wt(t*t+o*o),e.scale.y=Wt(i*i+r*r),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var e=this.a,t=this.b,o=this.c,i=this.d,r=this.tx,a=e*i-t*o;return this.a=i/a,this.b=-t/a,this.c=-o/a,this.d=e/a,this.tx=(o*this.ty-i*r)/a,this.ty=-(e*this.ty-t*r)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ei=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],yi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vi=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Si=[],Ri=[],Ii=Bt;(function(){for(var e=0,t;16>e;e++){t=[],Si.push(t);for(var o=0;16>o;o++)for(var i=Ii(bi[e]*bi[o]+yi[e]*Ei[o]),r=Ii(Ei[e]*bi[o]+vi[e]*Ei[o]),n=Ii(bi[e]*yi[o]+yi[e]*vi[o]),a=Ii(Ei[e]*yi[o]+vi[e]*vi[o]),s=0;16>s;s++)if(bi[s]===i&&Ei[s]===r&&yi[s]===n&&vi[s]===a){t.push(s);break}}for(var e=0,l;16>e;e++)l=new fi,l.set(bi[e],Ei[e],yi[e],vi[e],0,0),Ri.push(l)})();var xi={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return bi[e]},uY:function(e){return Ei[e]},vX:function(e){return yi[e]},vY:function(e){return vi[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return Si[e][t]},sub:function(e,t){return Si[e][xi.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Vt(e)<=Vt(t)?0<=t?xi.S:xi.N:2*Vt(t)<=Vt(e)?0<e?xi.E:xi.W:0<t?0<e?xi.SE:xi.SW:0<e?xi.NE:xi.NW},matrixAppendRotationInv:function(e,t,o,i){void 0===o&&(o=0),void 0===i&&(i=0);var r=Ri[xi.inv(t)];r.tx=o,r.ty=i,e.append(r)}},Ci=function(){function e(){this.worldTransform=new fi,this.localTransform=new fi,this.position=new Ti(this.onChange,this,0,0),this.scale=new Ti(this.onChange,this,1,1),this.pivot=new Ti(this.onChange,this,0,0),this.skew=new Ti(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Ut(this._rotation+this.skew.y),this._sx=Ht(this._rotation+this.skew.y),this._cy=-Ht(this._rotation-this.skew.x),this._sy=Ut(this._rotation-this.skew.x),this._localID++},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var o=e.worldTransform,i=this.worldTransform;i.a=t.a*o.a+t.b*o.c,i.b=t.a*o.b+t.b*o.d,i.c=t.c*o.a+t.d*o.c,i.d=t.c*o.b+t.d*o.d,i.tx=t.tx*o.a+t.ty*o.c+o.tx,i.ty=t.tx*o.b+t.ty*o.d+o.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();xo.SORTABLE_CHILDREN=!1;var Oi=function(){function e(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?pi.EMPTY:(e=e||new pi(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=jt(this.minX,e.x),this.maxX=zt(this.maxX,e.x),this.minY=jt(this.minY,e.y),this.maxY=zt(this.maxY,e.y)},e.prototype.addQuad=function(e){var t=this.minX,o=this.minY,i=this.maxX,r=this.maxY,n=e[0],a=e[1];t=n<t?n:t,o=a<o?a:o,i=n>i?n:i,r=a>r?a:r,n=e[2],a=e[3],t=n<t?n:t,o=a<o?a:o,i=n>i?n:i,r=a>r?a:r,n=e[4],a=e[5],t=n<t?n:t,o=a<o?a:o,i=n>i?n:i,r=a>r?a:r,n=e[6],a=e[7],t=n<t?n:t,o=a<o?a:o,i=n>i?n:i,r=a>r?a:r,this.minX=t,this.minY=o,this.maxX=i,this.maxY=r},e.prototype.addFrame=function(e,t,o,i,r){this.addFrameMatrix(e.worldTransform,t,o,i,r)},e.prototype.addFrameMatrix=function(e,t,o,i,r){var n=e.a,a=e.b,s=e.c,l=e.d,d=e.tx,c=e.ty,p=this.minX,u=this.minY,_=this.maxX,g=this.maxY,m=n*t+s*o+d,h=a*t+l*o+c;p=m<p?m:p,u=h<u?h:u,_=m>_?m:_,g=h>g?h:g,m=n*i+s*o+d,h=a*i+l*o+c,p=m<p?m:p,u=h<u?h:u,_=m>_?m:_,g=h>g?h:g,m=n*t+s*r+d,h=a*t+l*r+c,p=m<p?m:p,u=h<u?h:u,_=m>_?m:_,g=h>g?h:g,m=n*i+s*r+d,h=a*i+l*r+c,p=m<p?m:p,u=h<u?h:u,_=m>_?m:_,g=h>g?h:g,this.minX=p,this.minY=u,this.maxX=_,this.maxY=g},e.prototype.addVertexData=function(e,t,o){for(var r=this.minX,n=this.minY,a=this.maxX,s=this.maxY,l=t;l<o;l+=2){var i=e[l],d=e[l+1];r=i<r?i:r,n=d<n?d:n,a=i>a?i:a,s=d>s?d:s}this.minX=r,this.minY=n,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(e,t,o,i){this.addVerticesMatrix(e.worldTransform,t,o,i)},e.prototype.addVerticesMatrix=function(e,t,o,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var l=e.a,a=e.b,p=e.c,c=e.d,d=e.tx,u=e.ty,_=this.minX,g=this.minY,m=this.maxX,h=this.maxY,T=o;T<r;T+=2){var i=t[T],b=t[T+1],E=l*i+p*b+d,v=c*b+a*i+u;_=jt(_,E-n),m=zt(m,E+n),g=jt(g,v-s),h=zt(h,v+s)}this.minX=_,this.minY=g,this.maxX=m,this.maxY=h},e.prototype.addBounds=function(e){var t=this.minX,o=this.minY,i=this.maxX,r=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<o?e.minY:o,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>r?e.maxY:r},e.prototype.addBoundsMask=function(e,t){var o=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,r=e.maxX<t.maxX?e.maxX:t.maxX,n=e.maxY<t.maxY?e.maxY:t.maxY;if(o<=r&&i<=n){var a=this.minX,s=this.minY,l=this.maxX,d=this.maxY;this.minX=o<a?o:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=n>d?n:d}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var o=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,r=e.maxX<t.x+t.width?e.maxX:t.x+t.width,n=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(o<=r&&i<=n){var a=this.minX,s=this.minY,l=this.maxX,d=this.maxY;this.minX=o<a?o:a,this.minY=i<s?i:s,this.maxX=r>l?r:l,this.maxY=n>d?n:d}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,o,i,r,n){e-=r,t-=n,o+=r,i+=n,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>o?this.maxX:o,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},e}(),ki=function(e,t){return ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},ki(e,t)},Ai=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Ci,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Oi,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return x(t,e),t.mixin=function(e){for(var o=Object.keys(e),r=0,i;r<o.length;++r)i=o[r],Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(!this._boundsRect&&(this._boundsRect=new pi),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(!this._localBoundsRect&&(this._localBoundsRect=new pi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Oi);var t=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,r=this._boundsID;this._bounds=this._localBounds;var n=this.getBounds(!1,e);return this.parent=o,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-r,n},t.prototype.toGlobal=function(e,t,o){return void 0===o&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,o,i){return t&&(e=t.toGlobal(e,o,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,o)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,o,i,r,n,a,s,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=1),void 0===i&&(i=1),void 0===r&&(r=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=o?o:1,this.scale.y=i?i:1,this.rotation=r,this.skew.x=n,this.skew.y=a,this.pivot.x=s,this.pivot.y=l,this},t.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ni),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*(180/Gt)},set:function(e){this.transform.rotation=e*(Gt/180)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!0,t.isMask=!1}if(this._mask=e,this._mask){var t=this._mask.maskObject||this._mask;t.renderable=!1,t.isMask=!0}},enumerable:!1,configurable:!0}),t}(Oo.a),Ni=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return x(t,e),t}(Ai);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Ai.prototype.displayObjectUpdateTransform=Ai.prototype.updateTransform;var Li=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=xo.SORTABLE_CHILDREN,t.sortDirty=!1,t}return x(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(){for(var e=arguments,t=[],o=0;o<arguments.length;o++)t[o]=e[o];if(1<t.length)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(0>t||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var o=this.getChildIndex(e),i=this.getChildIndex(t);this.children[o]=t,this.children[i]=e,this.onChildrenChange(o<i?o:i)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(0>t||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(e);E(this.children,o,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(0>e||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],o=0;o<arguments.length;o++)t[o]=e[o];if(1<t.length)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var i=t[0],n=this.children.indexOf(i);if(-1===n)return null;i.parent=null,i.transform._parentID=-1,E(this.children,n,1),this._boundsID++,this.onChildrenChange(n),i.emit("removed",this),this.emit("childRemoved",i,this,n)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,E(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var o=e,r=t,n=r-o,a;if(0<n&&n<=r){a=this.children.splice(o,n);for(var s=0;s<a.length;++s)a[s].parent=null,a[s].transform&&(a[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var s=0;s<a.length;++s)a[s].emit("removed",this),this.emit("childRemoved",a[s],this,s);return a}if(0==n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,o=this.children.length,i;t<o;++t)i=this.children[t],i._lastSortedIndex=t,e||0===i.zIndex||(e=!0);e&&1<this.children.length&&this.children.sort(O),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length,o;e<t;++e)o=this.children[e],o.visible&&o.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0,t;e<this.children.length;e++)if(t=this.children[e],t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var o=t._mask.maskObject||t._mask;o.calculateBounds(),this._bounds.addBoundsMask(t._bounds,o._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds);this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,o){void 0===o&&(o=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!o)for(var n=0,i=this.children.length,a;n<i;++n)a=this.children[n],a.visible&&a.updateTransform();return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var t=0,o=this.children.length;t<o;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){e.batch.flush();var t=this.filters,o=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}o&&e.mask.push(this,this._mask),this._render(e);for(var r=0,i=this.children.length;r<i;r++)this.children[r].render(e);e.batch.flush(),o&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var o="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(o)for(var n=0;n<r.length;++n)r[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0===t?1:e/t,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0===t?1:e/t,this._height=e},enumerable:!1,configurable:!0}),t}(Ai);Li.prototype.containerUpdateTransform=Li.prototype.updateTransform;/*!
 * @pixi/accessibility - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ai.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Di=100,Mi=2,Pi=1,wi=function(){function e(e){this._hookDiv=null,(Io.tablet||Io.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=Di+"px",t.style.height=Di+"px",t.style.position="absolute",t.style.top=0+"px",t.style.left=0+"px",t.style.zIndex=Mi.toString(),this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=Pi+"px",t.style.height=Pi+"px",t.style.position="absolute",t.style.top=-1e3+"px",t.style.left=-1e3+"px",t.style.zIndex=2 .toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessability for this content",t.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(!e._accessibleActive&&this.addChild(e),e.renderId=this.renderId);for(var t=e.children,o=0;o<t.length;o++)this.updateAccessibleObjects(t[o])}},e.prototype.update=function(){var e=performance.now();if(!(Io.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),o=this.renderer.resolution,r=t.width/this.renderer.width*o,n=t.height/this.renderer.height*o,a=this.div;a.style.left=t.left+"px",a.style.top=t.top+"px",a.style.width=this.renderer.width+"px",a.style.height=this.renderer.height+"px";for(var s=0,i;s<this.children.length;s++)if(i=this.children[s],i.renderId!==this.renderId)i._accessibleActive=!1,E(this.children,s,1),this.div.removeChild(i._accessibleDiv),this.pool.push(i._accessibleDiv),i._accessibleDiv=null,s--;else{a=i._accessibleDiv;var l=i.hitArea,d=i.worldTransform;i.hitArea?(a.style.left=(d.tx+l.x*d.a)*r+"px",a.style.top=(d.ty+l.y*d.d)*n+"px",a.style.width=l.width*d.a*r+"px",a.style.height=l.height*d.d*n+"px"):(l=i.getBounds(),this.capHitArea(l),a.style.left=l.x*r+"px",a.style.top=l.y*n+"px",a.style.width=l.width*r+"px",a.style.height=l.height*n+"px",a.title!==i.accessibleTitle&&null!==i.accessibleTitle&&(a.title=i.accessibleTitle),a.getAttribute("aria-label")!==i.accessibleHint&&null!==i.accessibleHint&&a.setAttribute("aria-label",i.accessibleHint)),(i.accessibleTitle!==a.title||i.tabIndex!==a.tabIndex)&&(a.title=i.accessibleTitle,a.tabIndex=i.tabIndex,this.debug&&this.updateDebugHTML(a))}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){0>e.x&&(e.width+=e.x,e.x=0),0>e.y&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=Di+"px",t.style.height=Di+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=Mi.toString(),t.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData),e.dispatchEvent(t.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(t.target.displayObject,"tap",e.eventData)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},e.prototype._onKeyDown=function(t){t.keyCode!==9||this.activate()},e.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();xo.TARGET_FPMS=.06;var Bi;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(Bi||(Bi={}));var Fi=function(){function e(e,t,o,i){void 0===t&&(t=null),void 0===o&&(o=0),void 0===i&&(i=!1),this.fn=e,this.context=t,this.priority=o,this.once=i,this.next=null,this.previous=null,this._destroyed=!1}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Ui=function(){function e(){var e=this;this._head=new Fi(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/xo.TARGET_FPMS,this.elapsedMS=1/xo.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,o){return void 0===o&&(o=Bi.NORMAL),this._addListener(new Fi(e,t,o))},e.prototype.addOnce=function(e,t,o){return void 0===o&&(o=Bi.NORMAL),this._addListener(new Fi(e,t,o,!0))},e.prototype._addListener=function(e){var t=this._head.next,o=this._head;if(!t)e.connect(o);else{for(;t;){if(e.priority>t.priority){e.connect(o);break}o=t,t=t.next}e.previous||e.connect(o)}return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var o=this._head.next;o;)o=o.match(e,t)?o.destroy():o.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){void 0===e&&(e=performance.now());var t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var o=0|e-this._lastFrame;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*xo.TARGET_FPMS;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=jt(this.maxFPS,e),o=jt(zt(0,t)/1e3,xo.TARGET_FPMS);this._maxElapsedMS=1/o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Yt(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=zt(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),Hi=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Bi.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ui.shared:new Ui,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),Gi=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hi,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,o){return e.worldTransform.applyInverse(o||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=wt(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),Vi=function(e,t){return Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Vi(e,t)},zi=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Wi=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){t?this._flags|=e:this._flags&=~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!=(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!=(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!=(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Xi=function(){function e(){this._tempPoint=new hi}return e.prototype.recursiveFindHit=function(e,t,o,r,n){if(!t||!t.visible)return!1;var a=e.data.global;n=t.interactive||n;var s=!1,l=n,d=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(a,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,d=!1)),l=!1):t._mask&&r&&!(t._mask.containsPoint&&t._mask.containsPoint(a))&&(r=!1),d&&t.interactiveChildren&&t.children)for(var c=t.children,p=c.length-1;0<=p;p--){var i=c[p],u=this.recursiveFindHit(e,i,o,r,l);if(u){if(!i.parent)continue;l=!1,u&&(e.target&&(r=!1),s=!0)}}return n&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(a)&&(s=!0),t.interactive&&(s&&!e.target&&(e.target=t),o&&o(e,t,!!s))),s},e.prototype.findHit=function(e,t,o,i){this.recursiveFindHit(e,t,o,i,!1)},e}(),Yi={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};/*!
 * @pixi/interaction - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Ai.mixin(Yi);var ji=1,Ji={target:null,data:{global:null}},Ki=function(e){function t(t,o){var i=e.call(this)||this;return o=o||{},i.renderer=t,i.autoPreventDefault=void 0===o.autoPreventDefault||o.autoPreventDefault,i.interactionFrequency=o.interactionFrequency||10,i.mouse=new Gi,i.mouse.identifier=ji,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[ji]=i.mouse,i.interactionDataPool=[],i.eventData=new zi,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new Xi,i._tempDisplayObject=new Ni,i._useSystemTicker=void 0===o.useSystemTicker||o.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return k(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return Ji.target=null,Ji.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(Ji,t,null,!0),Ji.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ui.system.add(this.tickerUpdate,this,Bi.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ui.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var o=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(typeof t){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t);}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,o){o.stopPropagationHint&&e!==o.stopsPropagatingAt||(o.currentTarget=e,o.type=t,e.emit(t,o),e[t]&&e[t](o))},t.prototype.delayDispatchEvent=function(e,t,o){this.delayedEvents.push({displayObject:e,eventString:t,eventData:o})},t.prototype.mapPositionToPoint=function(e,t,o){var i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=1/this.resolution;e.x=(t-i.left)*(this.interactionDOMElement.width/i.width)*r,e.y=(o-i.top)*(this.interactionDOMElement.height/i.height)*r},t.prototype.processInteractive=function(e,t,o,r){var n=this.search.findHit(e,t,o,r),a=this.delayedEvents;if(!a.length)return n;e.stopPropagationHint=!1;var s=a.length;this.delayedEvents=[];for(var l=0;l<s;l++){var i=a[l],d=i.displayObject,c=i.eventString,p=i.eventData;p.stopsPropagatingAt===d&&(p.stopPropagationHint=!0),this.dispatchEvent(d,c,p)}return n},t.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){var o=e.cancelable||!("cancelable"in e);o&&e.preventDefault()}for(var r=t.length,n=0;n<r;n++){var i=t[n],a=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,a);if(s.data.originalEvent=e,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var l=2===i.button;this.emit(l?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,o){var i=e.data,r=e.data.identifier;if(o)if(t.trackedPointers[r]||(t.trackedPointers[r]=new Wi(r)),this.dispatchEvent(t,"pointerdown",e),"touch"===i.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===i.pointerType||"pen"===i.pointerType){var n=2===i.button;n?t.trackedPointers[r].rightDown=!0:t.trackedPointers[r].leftDown=!0,this.dispatchEvent(t,n?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,o){for(var r=this.normalizeToPointerData(e),n=r.length,a=e.target===this.interactionDOMElement?"":"outside",s=0;s<n;s++){var i=r[s],l=this.getInteractionDataForPointerId(i),d=this.configureInteractionEventForDOMEvent(this.eventData,i,l);if(d.data.originalEvent=e,this.processInteractive(d,this.lastObjectRendered,o,t||!a),this.emit(t?"pointercancel":"pointerup"+a,d),"mouse"===i.pointerType||"pen"===i.pointerType){var c=2===i.button;this.emit(c?"rightup"+a:"mouseup"+a,d)}else"touch"===i.pointerType&&(this.emit(t?"touchcancel":"touchend"+a,d),this.releaseInteractionDataForPointerId(i.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var o=e.data,i=e.data.identifier;void 0!==t.trackedPointers[i]&&(delete t.trackedPointers[i],this.dispatchEvent(t,"pointercancel",e),"touch"===o.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,o){var i=e.data,r=e.data.identifier,n=t.trackedPointers[r],a="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;if(s){var d=2===i.button,c=Wi.FLAGS,p=d?c.RIGHT_DOWN:c.LEFT_DOWN,u=void 0!==n&&n.flags&p;o?(this.dispatchEvent(t,d?"rightup":"mouseup",e),u&&(this.dispatchEvent(t,d?"rightclick":"click",e),l=!0)):u&&this.dispatchEvent(t,d?"rightupoutside":"mouseupoutside",e),n&&(d?n.rightDown=!1:n.leftDown=!1)}o?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),n&&((!s||l)&&this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),n.over=!1))):n&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),n&&n.none&&delete t.trackedPointers[r]},t.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e);("mouse"===t[0].pointerType||"pen"===t[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var o=t.length,r=0;r<o;r++){var i=t[r],n=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,n);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),("mouse"===i.pointerType||"pen"===i.pointerType)&&this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,o){var i=e.data,r="touch"===i.pointerType,n="mouse"===i.pointerType||"pen"===i.pointerType;n&&this.processPointerOverOut(e,t,o),(!this.moveWhenInside||o)&&(this.dispatchEvent(t,"pointermove",e),r&&this.dispatchEvent(t,"touchmove",e),n&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&"touch"===e.pointerType)){var t=this.normalizeToPointerData(e),o=t[0];"mouse"===o.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(o),r=this.configureInteractionEventForDOMEvent(this.eventData,o,i);r.data.originalEvent=o,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===o.pointerType||"pen"===o.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},t.prototype.processPointerOverOut=function(e,t,o){var i=e.data,r=e.data.identifier,n="mouse"===i.pointerType||"pen"===i.pointerType,a=t.trackedPointers[r];o&&!a&&(a=t.trackedPointers[r]=new Wi(r)),void 0===a||(o&&this.mouseOverRenderer?(!a.over&&(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),n&&this.delayDispatchEvent(t,"mouseover",e)),n&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),n&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[r]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),o=t[0],i=this.getInteractionDataForPointerId(o),r=this.configureInteractionEventForDOMEvent(this.eventData,o,i);r.data.originalEvent=o,"mouse"===o.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),("mouse"===o.pointerType||"pen"===o.pointerType)&&this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,o;return t===ji||"mouse"===e.pointerType?o=this.mouse:this.activeInteractionData[t]?o=this.activeInteractionData[t]:(o=this.interactionDataPool.pop()||new Gi,o.identifier=t,this.activeInteractionData[t]=o),o.copyEvent(e),o},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,o){return e.data=o,this.mapPositionToPoint(o.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=o.global.x,t.globalY=o.global.y),o.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var o=0,i=e.changedTouches.length,r;o<i;o++)r=e.changedTouches[o],"undefined"==typeof r.button&&(r.button=e.touches.length?1:0),"undefined"==typeof r.buttons&&(r.buttons=e.touches.length?1:0),"undefined"==typeof r.isPrimary&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"==typeof r.width&&(r.width=r.radiusX||1),"undefined"==typeof r.height&&(r.height=r.radiusY||1),"undefined"==typeof r.tiltX&&(r.tiltX=0),"undefined"==typeof r.tiltY&&(r.tiltY=0),"undefined"==typeof r.pointerType&&(r.pointerType="touch"),"undefined"==typeof r.pointerId&&(r.pointerId=r.identifier||0),"undefined"==typeof r.pressure&&(r.pressure=r.force||.5),"undefined"==typeof r.twist&&(r.twist=0),"undefined"==typeof r.tangentialPressure&&(r.tangentialPressure=0),"undefined"==typeof r.layerX&&(r.layerX=r.offsetX=r.clientX),"undefined"==typeof r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,t.push(r);else if(e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof window.PointerEvent))){var n=e;"undefined"==typeof n.isPrimary&&(n.isPrimary=!0),"undefined"==typeof n.width&&(n.width=1),"undefined"==typeof n.height&&(n.height=1),"undefined"==typeof n.tiltX&&(n.tiltX=0),"undefined"==typeof n.tiltY&&(n.tiltY=0),"undefined"==typeof n.pointerType&&(n.pointerType="mouse"),"undefined"==typeof n.pointerId&&(n.pointerId=ji),"undefined"==typeof n.pressure&&(n.pressure=.5),"undefined"==typeof n.twist&&(n.twist=0),"undefined"==typeof n.tangentialPressure&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Oo.a),qi=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,o,r,n,a,s,l){if(8<arguments.length)throw new Error("max arguments reached");var d=this,c=d.name,p=d.items;this._aliasCount++;for(var u=0,i=p.length;u<i;u++)p[u][c](e,t,o,r,n,a,s,l);return p===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();/*!
 * @pixi/runner - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Object.defineProperties(qi.prototype,{dispatch:{value:qi.prototype.emit},run:{value:qi.prototype.emit}}),xo.PREFER_ENV=Io.any?Do.WEBGL:Do.WEBGL2,xo.STRICT_TEXTURE_CACHE=!1;var Zi=[],Qi=function(e,t){return Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Qi(e,t)},$i=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new qi("setRealSize"),this.onUpdate=new qi("update"),this.onError=new qi("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(){return!1},e}(),er=function(e){function t(t,o){var i=this,r=o||{},n=r.width,a=r.height;if(!n||!a)throw new Error("BufferResource width or height invalid");return i=e.call(this,n,a)||this,i.data=t,i}return N(t,e),t.prototype.upload=function(e,t,o){var i=e.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Wo.UNPACK),o.width===t.width&&o.height===t.height?i.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(o.width=t.width,o.height=t.height,i.texImage2D(t.target,0,o.internalFormat,t.width,t.height,0,t.format,o.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}($i),tr={scaleMode:Go.NEAREST,format:Fo.RGBA,alphaMode:Wo.NPM},or=function(e){function t(t,o){void 0===t&&(t=null),void 0===o&&(o=null);var i=e.call(this)||this;o=o||{};var r=o.alphaMode,n=o.mipmap,a=o.anisotropicLevel,s=o.scaleMode,l=o.width,d=o.height,c=o.wrapMode,p=o.format,u=o.type,_=o.target,g=o.resolution,m=o.resourceOptions;return t&&!(t instanceof $i)&&(t=A(t,m),t.internal=!0),i.width=l||0,i.height=d||0,i.resolution=g||xo.RESOLUTION,i.mipmap=void 0===n?xo.MIPMAP_TEXTURES:n,i.anisotropicLevel=void 0===a?xo.ANISOTROPIC_LEVEL:a,i.wrapMode=c||xo.WRAP_MODE,i.scaleMode=void 0===s?xo.SCALE_MODE:s,i.format=p||Fo.RGBA,i.type=u||Ho.UNSIGNED_BYTE,i.target=_||Uo.TEXTURE_2D,i.alphaMode=void 0===r?Wo.UNPACK:r,void 0!==o.premultiplyAlpha&&(i.premultiplyAlpha=o.premultiplyAlpha),i.uid=v(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=0<l&&0<d,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}return N(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Pt(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Pt(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var o;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,o=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,o=!0),o&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,o){return this.resolution=o||this.resolution,this.width=e,this.height=t,this._refreshPOT(),this.update(),this},t.prototype.setRealSize=function(e,t,o){return this.resolution=o||this.resolution,this.width=e/this.resolution,this.height=t/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=T(this.realWidth)&&T(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=this.width*t/e,this.height=this.height*t/e,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ri[this.cacheId],delete ii[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,o,i){void 0===i&&(i=xo.STRICT_TEXTURE_CACHE);var r="string"==typeof e,n=null;r?n=e:(!e._pixiId&&(e._pixiId="pixiid_"+v()),n=e._pixiId);var a=ri[n];if(r&&i&&!a)throw new Error("The cacheId \""+n+"\" does not exist in BaseTextureCache.");return a||(a=new t(e,o),a.cacheId=n,t.addToCache(a,n)),a},t.fromBuffer=function(e,o,i,r){e=e||new Float32Array(4*(o*i));var n=new er(e,{width:o,height:i}),a=e instanceof Float32Array?Ho.FLOAT:Ho.UNSIGNED_BYTE;return new t(n,Object.assign(tr,r||{width:o,height:i,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ri[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),ri[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ri[e];if(t){var o=t.textureCacheIds.indexOf(e);return-1<o&&t.textureCacheIds.splice(o,1),delete ri[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete ri[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Oo.a),ir=function(e){function t(t,o){var r=this,n=o||{},a=n.width,s=n.height;r=e.call(this,a,s)||this,r.items=[],r.itemDirtyIds=[];for(var l=0,i;l<t;l++)i=new or,r.items.push(i),r.itemDirtyIds.push(-2);return r.length=t,r._load=null,r.baseTexture=null,r}return N(t,e),t.prototype.initFromArray=function(e,t){for(var o=0;o<this.length;o++)e[o]&&(e[o].castToBaseTexture?this.addBaseTextureAt(e[o].castToBaseTexture(),o):e[o]instanceof $i?this.addResourceAt(e[o],o):this.addResourceAt(A(e[o],t),o))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var o=0;o<this.length;o++)this.items[o].parentTextureArray=t,this.items[o].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var o=0;o<this.length;o++)this.items[o].parentTextureArray=null,this.items[o].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map(function(e){return e.resource}).filter(function(e){return e}),o=t.map(function(e){return e.load()});return this._load=Promise.all(o).then(function(){var t=e.items[0],o=t.realWidth,i=t.realHeight;return e.resize(o,i),Promise.resolve(e)}),this._load},t}($i),rr=function(e){function t(t,o){var i=this,r=o||{},n=r.width,a=r.height,s,l;return Array.isArray(t)?(s=t,l=t.length):l=t,i=e.call(this,l,{width:n,height:a})||this,s&&i.initFromArray(s,o),i}return N(t,e),t.prototype.addBaseTextureAt=function(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=Uo.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,o){var r=this,n=r.length,a=r.itemDirtyIds,s=r.items,l=e.gl;0>o.dirtyId&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,t.format,this._width,this._height,n,0,t.format,t.type,null);for(var d=0,i;d<n;d++)i=s[d],a[d]<i.dirtyId&&(a[d]=i.dirtyId,i.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,d,i.resource.width,i.resource.height,1,t.format,t.type,i.resource.source));return!0},t}(ir),nr=function(e){function t(t){var o=this,i=t,r=i.naturalWidth||i.videoWidth||i.width,n=i.naturalHeight||i.videoHeight||i.height;return o=e.call(this,r,n)||this,o.source=t,o.noSubImage=!1,o}return N(t,e),t.crossOrigin=function(e,t,o){void 0===o&&0!==t.indexOf("data:")?e.crossOrigin=I(t):!1!==o&&(e.crossOrigin="string"==typeof o?o:"anonymous")},t.prototype.upload=function(e,t,o,i){var r=e.gl,n=t.realWidth,a=t.realHeight;return i=i||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Wo.UNPACK),this.noSubImage||t.target!==r.TEXTURE_2D||o.width!==n||o.height!==a?(o.width=n,o.height=a,r.texImage2D(t.target,0,t.format,t.format,t.type,i)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,t.format,t.type,i),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,o=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(o,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}($i),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.test=function(e){var t=window.OffscreenCanvas;return!!(t&&e instanceof t)||e instanceof HTMLCanvasElement},t}(nr),sr=function(e){function t(o,r){var n=this,a=r||{},s=a.width,l=a.height,d=a.autoLoad,c=a.linkBaseTexture;if(o&&o.length!==t.SIDES)throw new Error("Invalid length. Got "+o.length+", expected 6");n=e.call(this,6,{width:s,height:l})||this;for(var p=0;p<t.SIDES;p++)n.items[p].target=Uo.TEXTURE_CUBE_MAP_POSITIVE_X+p;return n.linkBaseTexture=!1!==c,o&&n.initFromArray(o,r),!1!==d&&n.load(),n}return N(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=Uo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,o){if(void 0===o&&(o=this.linkBaseTexture),!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!(!this.linkBaseTexture||e.parentTextureArray||0<Object.keys(e._glTextures).length))e.target=Uo.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;else if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,o,r){for(var n=this.itemDirtyIds,a=0,i;a<t.SIDES;a++)i=this.items[a],n[a]<i.dirtyId&&(i.valid&&i.resource?(i.resource.upload(e,i,r),n[a]=i.dirtyId):-1>n[a]&&(e.gl.texImage2D(i.target,0,r.internalFormat,o.realWidth,o.realHeight,0,o.format,r.type,null),n[a]=-1));return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(ir),lr=function(e){function t(t,o){var i=this;if(o=o||{},!(t instanceof HTMLImageElement)){var r=new Image;nr.crossOrigin(r,t,o.crossorigin),r.src=t,t=r}return i=e.call(this,t)||this,t.complete||!i._width||!i._height||(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0===o.createBitmap?xo.CREATE_IMAGE_BITMAP:o.createBitmap)&&!!window.createImageBitmap,i.alphaMode="number"==typeof o.alphaMode?o.alphaMode:null,void 0!==o.premultiplyAlpha&&(i.premultiplyAlpha=o.premultiplyAlpha),i.bitmap=null,i._load=null,!1!==o.autoLoad&&i.load(),i}return N(t,e),t.prototype.load=function(e){var t=this;return this._load?this._load:(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(e,o){var i=t.source;t.url=i.src;var r=function(){t.destroyed||(i.onload=null,i.onerror=null,t.resize(i.width,i.height),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?r():(i.onload=r,i.onerror=function(e){o(e),t.onError.emit(e)})}),this._load)},t.prototype.process=function(){var e=this,t=this.source;return null===this._process?null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(t,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===Wo.UNPACK?"premultiply":"none"}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this):this._process},t.prototype.upload=function(t,o,i){if("number"==typeof this.alphaMode&&(o.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,o,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,o,i,this.bitmap),!this.preserveBitmap){var r=!0,n=o._glTextures;for(var a in n){var s=n[a];if(s!==i&&s.dirtyId!==o.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(nr),dr=function(e){function t(t,o){var i=this;return o=o||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=t,i.scale=o.scale||1,i._overrideWidth=o.width,i._overrideHeight=o.height,i._resolve=null,i._crossorigin=o.crossorigin,i._load=null,!1!==o.autoLoad&&i.load(),i}return N(t,e),t.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var e=this,t=new Image;nr.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(o){e._resolve&&(t.onerror=null,e.onError.emit(o))},t.onload=function(){if(e._resolve){var o=t.width,i=t.height;if(!o||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=o*e.scale,n=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(r=e._overrideWidth||e._overrideHeight/i*o,n=e._overrideHeight||e._overrideWidth/o*i),r=Yt(r),n=Yt(n);var a=e.source;a.width=r,a.height=n,a._pixiId="canvas_"+v(),a.getContext("2d").drawImage(t,0,0,o,i,0,0,r,n),e._resolve(),e._resolve=null}}},t.getSize=function(e){var o=t.SVG_SIZE.exec(e),i={};return o&&(i[o[1]]=Yt(parseFloat(o[3])),i[o[5]]=Yt(parseFloat(o[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,t){return"svg"===t||"string"==typeof e&&0===e.indexOf("data:image/svg+xml;base64")||"string"==typeof e&&0===e.indexOf("<svg")},t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(nr),cr=function(e){function t(o,r){var n=this;if(r=r||{},!(o instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"==typeof o&&(o=[o]);var s=o[0].src||o[0];nr.crossOrigin(a,s,r.crossorigin);for(var l=0;l<o.length;++l){var i=document.createElement("source"),d=o[l],c=d.src,p=d.mime;c=c||o[l];var u=c.split("?").shift().toLowerCase(),_=u.substr(u.lastIndexOf(".")+1);p=p||t.MIME_TYPES[_]||"video/"+_,i.src=c,i.type=p,a.appendChild(i)}o=a}return n=e.call(this,o)||this,n.noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return N(t,e),t.prototype.update=function(t){if(void 0===t&&(t=0),!this.destroyed){var o=Ui.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Xt(this._msToNextUpdate-o),(!this._updateFPS||0>=this._msToNextUpdate)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Xt(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){e.valid?o(e):(e._resolve=o,t.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ui.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ui.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&Ui.shared.remove(this.update,this);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ui.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ui.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,o){return e instanceof HTMLVideoElement||-1<t.TYPES.indexOf(o)},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(nr),pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},t}(nr);Zi.push(lr,pr,ar,cr,dr,er,sr,rr);var ur={Resource:$i,BaseImageResource:nr,INSTALLED:Zi,autoDetectResource:A,AbstractMultiResource:ir,ArrayResource:rr,BufferResource:er,CanvasResource:ar,CubeResource:sr,ImageResource:lr,SVGResource:dr,VideoResource:cr,ImageBitmapResource:pr},_r=function(){function e(e){this.renderer=e}return e.prototype.destroy=function(){this.renderer=null},e}(),gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return N(t,e),t.prototype.upload=function(e,t,o){var i=e.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Wo.UNPACK),o.width===t.width&&o.height===t.height?i.texSubImage2D(t.target,0,0,0,t.width,t.height,t.format,t.type,this.data):(o.width=t.width,o.height=t.height,i.texImage2D(t.target,0,1===e.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,t.width,t.height,0,t.format,t.type,this.data)),!0},t}(er),mr=function(){function e(e,t){this.width=Pt(e||100),this.height=Pt(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new qi("disposeFramebuffer"),this.multisample=Ko.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new or(null,{scaleMode:Go.NEAREST,resolution:1,mipmap:zo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new or(new gr(null,{width:this.width,height:this.height}),{scaleMode:Go.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:zo.OFF,format:Fo.DEPTH_COMPONENT,type:Ho.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Pt(e),t=Pt(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var o=0;o<this.colorTextures.length;o++){var i=this.colorTextures[o],r=i.resolution;i.setSize(e/r,t/r)}if(this.depthTexture){var r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),hr=function(e){function t(t){var o=this;if("number"==typeof t){var i=arguments[0],r=arguments[1],n=arguments[2],a=arguments[3];t={width:i,height:r,scaleMode:n,resolution:a}}o=e.call(this,null,t)||this;var s=t||{},l=s.width,d=s.height;return o.mipmap=0,o.width=Pt(l)||100,o.height=Pt(d)||100,o.valid=!0,o.clearColor=[0,0,0,0],o.framebuffer=new mr(o.width*o.resolution,o.height*o.resolution).addColorTexture(0,o),o.maskStack=[],o.filterStack=[{}],o}return N(t,e),t.prototype.resize=function(e,t){e=Pt(e),t=Pt(t),this.framebuffer.resize(e*this.resolution,t*this.resolution)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(or),Tr=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,o){var i=t.width,r=t.height;if(o){var n=e.width/2/i,a=e.height/2/r,s=e.x/i+n,l=e.y/r+a;o=xi.add(o,xi.NW),this.x0=s+n*xi.uX(o),this.y0=l+a*xi.uY(o),o=xi.add(o,2),this.x1=s+n*xi.uX(o),this.y1=l+a*xi.uY(o),o=xi.add(o,2),this.x2=s+n*xi.uX(o),this.y2=l+a*xi.uY(o),o=xi.add(o,2),this.x3=s+n*xi.uX(o),this.y3=l+a*xi.uY(o)}else this.x0=e.x/i,this.y0=e.y/r,this.x1=(e.x+e.width)/i,this.y1=e.y/r,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/r,this.x3=e.x/i,this.y3=(e.y+e.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e}(),fr=new Tr,br=function(e){function t(o,i,r,n,a,s){var l=e.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new pi(0,0,1,1)),o instanceof t&&(o=o.baseTexture),l.baseTexture=o,l._frame=i,l.trim=n,l.valid=!1,l._uvs=fr,l.uvMatrix=null,l.orig=r||i,l._rotate=+(a||0),!0===a)l._rotate=2;else if(0!=l._rotate%2)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new hi(s.x,s.y):new hi(0,0),l._updateID=0,l.textureCacheIds=[],o.valid?l.noFrame?o.valid&&l.onBaseTextureUpdated(o):l.frame=i:o.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&o.on("update",l.onBaseTextureUpdated,l),l}return N(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var o=this.baseTexture;o&&o.url&&ii[o.url]&&t.removeFromCache(o.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){return new t(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},t.prototype.updateUvs=function(){this._uvs===fr&&(this._uvs=new Tr),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,o,i){void 0===o&&(o={}),void 0===i&&(i=xo.STRICT_TEXTURE_CACHE);var r="string"==typeof e,n=null;r?n=e:(!e._pixiId&&(e._pixiId="pixiid_"+v()),n=e._pixiId);var a=ii[n];if(r&&i&&!a)throw new Error("The cacheId \""+n+"\" does not exist in TextureCache.");return a||(!o.resolution&&(o.resolution=C(e)),a=new t(new or(e,o)),a.baseTexture.cacheId=n,or.addToCache(a.baseTexture,n),t.addToCache(a,n)),a},t.fromURL=function(e,o){var i=Object.assign({autoLoad:!1},null===o||void 0===o?void 0:o.resourceOptions),r=t.from(e,Object.assign({resourceOptions:i},o),!1),n=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):n.load().then(function(){return Promise.resolve(r)})},t.fromBuffer=function(e,o,i,r){return new t(or.fromBuffer(e,o,i,r))},t.fromLoader=function(e,o,i){var r=new lr(e);r.url=o;var n=new or(r,{scaleMode:xo.SCALE_MODE,resolution:C(o)}),a=new t(n);return i||(i=o),or.addToCache(a.baseTexture,i),t.addToCache(a,i),i!==o&&(or.addToCache(a.baseTexture,o),t.addToCache(a,o)),a},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ii[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),ii[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ii[e];if(t){var o=t.textureCacheIds.indexOf(e);return-1<o&&t.textureCacheIds.splice(o,1),delete ii[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)ii[e.textureCacheIds[r]]===e&&delete ii[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,o=e.y,i=e.width,r=e.height,n=t+i>this.baseTexture.width,a=o+r>this.baseTexture.height;if(n||a){var s=n&&a?"and":"or",l="X: "+t+" + "+i+" = "+(t+i)+" > "+this.baseTexture.width,d="Y: "+o+" + "+r+" = "+(o+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(l+" "+s+" "+d))}this.valid=i&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Oo.a);br.EMPTY=new br(new or()),L(br.EMPTY),L(br.EMPTY.baseTexture),br.WHITE=function(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new br(new or(new ar(e)))}(),L(br.WHITE),L(br.WHITE.baseTexture);var Er=function(e){function t(t,o){var i=this,r=null;if(!(t instanceof hr)){var n=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+a+") instead of the ctor directly."),r=arguments[0],o=null,t=new hr({width:n,height:a,scaleMode:s,resolution:l})}return i=e.call(this,t,o)||this,i.legacyRenderer=r,i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return N(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,o){void 0===o&&(o=!0),e=Pt(e),t=Pt(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,o&&this.baseTexture.resize(e,t),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution===e||(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new t(new hr(e))},t}(br),yr=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t){var o=new hr(Object.assign({width:e,height:t,resolution:1},this.textureOptions));return new Er(o)},e.prototype.getOptimalTexture=function(t,o,i){void 0===i&&(i=1);var r=e.SCREEN_KEY;t*=i,o*=i,this.enableFullScreen&&t===this._pixelsWidth&&o===this._pixelsHeight||(t=h(t),o=h(o),r=(65535&t)<<16|65535&o),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=this.createTexture(t,o)),n.filterPoolKey=r,n.setResolution(i),n},e.prototype.getFilterTexture=function(e,t){var o=this.getOptimalTexture(e.width,e.height,t||e.resolution);return o.filterFrame=e.filterFrame,o},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e,e)for(var t in this.texturePool){var o=this.texturePool[t];if(o)for(var i=0;i<o.length;i++)o[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){var o=e.SCREEN_KEY,i=this.texturePool[o];if(this.enableFullScreen=0<t.width&&0<t.height,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[o]=[],this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY="screen",e}(),vr=function(){function e(e,t,o,i,r,n,a){void 0===t&&(t=0),void 0===o&&(o=!1),void 0===i&&(i=5126),this.buffer=e,this.size=t,this.normalized=o,this.type=i,this.stride=r,this.start=n,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,o,i,r,n){return new e(t,o,i,r,n)},e}(),Sr=0,Rr=function(){function e(e,t,o){void 0===t&&(t=!0),void 0===o&&(o=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=o,this.static=t,this.id=Sr++,this.disposeRunner=new qi("disposeBuffer")}return e.prototype.update=function(e){this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),Ir={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array},xr={5126:4,5123:2,5121:1},Cr=0,Or={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},kr=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Cr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new qi("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,o,r,n,a,s,l){if(void 0===o&&(o=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Rr||(t instanceof Array&&(t=new Float32Array(t)),t=new Rr(t));var d=e.split("|");if(1<d.length){for(var c=0;c<d.length;c++)this.addAttribute(d[c],t,o,r,n);return this}var i=this.buffers.indexOf(t);return-1===i&&(this.buffers.push(t),i=this.buffers.length-1),this.attributes[e]=new vr(i,o,r,n,a,s,l),this.instanced=this.instanced||l,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Rr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Rr(e)),e.index=!0,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e=[],t=[],o=new Rr,r;for(r in this.attributes){var i=this.attributes[r],n=this.buffers[i.buffer];e.push(n.data),t.push(i.size*xr[i.type]/4),i.buffer=0}for(o.data=M(e,t),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[o],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e],o=this.buffers[t.buffer];return o.data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,o=0;o<this.buffers.length;o++)t.buffers[o]=new Rr(this.buffers[o].data.slice(0));for(var o in this.attributes){var i=this.attributes[o];t.attributes[o]=new vr(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},e.merge=function(t){for(var o=new e,r=[],n=[],a=[],s=0,i;s<t.length;s++){i=t[s];for(var l=0;l<i.buffers.length;l++)n[l]=n[l]||0,n[l]+=i.buffers[l].data.length,a[l]=0}for(var s=0;s<i.buffers.length;s++)r[s]=new Or[D(i.buffers[s].data)](n[s]),o.buffers[s]=new Rr(r[s]);for(var s=0;s<t.length;s++){i=t[s];for(var l=0;l<i.buffers.length;l++)r[l].set(i.buffers[l].data,a[l]),a[l]+=i.buffers[l].data.length}if(o.attributes=i.attributes,i.indexBuffer){o.indexBuffer=o.buffers[i.buffers.indexOf(i.indexBuffer)],o.indexBuffer.index=!0;for(var d=0,c=0,p=0,u=0,s=0;s<i.buffers.length;s++)if(i.buffers[s]!==i.indexBuffer){u=s;break}for(var s in i.attributes){var _=i.attributes[s];(0|_.buffer)===u&&(c+=_.size*xr[_.type]/4)}for(var s=0,g;s<t.length;s++){g=t[s].indexBuffer.data;for(var l=0;l<g.length;l++)o.indexBuffer.data[l+p]+=d;d+=i.buffers[u].data.length/c,p+=g.length}}return o},e}(),Ar=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return N(t,e),t}(kr),Nr=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Rr(t.vertices),t.uvBuffer=new Rr(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return N(t,e),t.prototype.map=function(e,t){var o=0,i=0;return this.uvs[0]=o,this.uvs[1]=i,this.uvs[2]=o+t.width/e.width,this.uvs[3]=i,this.uvs[4]=o+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=o,this.uvs[7]=i+t.height/e.height,o=t.x,i=t.y,this.vertices[0]=o,this.vertices[1]=i,this.vertices[2]=o+t.width,this.vertices[3]=i,this.vertices[4]=o+t.width,this.vertices[5]=i+t.height,this.vertices[6]=o,this.vertices[7]=i+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(kr),Lr=0,Dr=function(){function e(e,t){this.uniforms=e,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Lr++,this.static=!!t}return e.prototype.update=function(){this.dirtyId++},e.prototype.add=function(t,o,i){this.uniforms[t]=new e(o,i)},e.from=function(t,o){return new e(t,o)},e}(),Mr=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new pi,this.destinationFrame=new pi,this.filters=[]}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Pr=function(e){function t(t){var o=e.call(this,t)||this;return o.defaultFilterStack=[{}],o.texturePool=new yr,o.texturePool.setScreenSize(t.view),o.statePool=[],o.quad=new Ar,o.quadUv=new Nr,o.tempRect=new pi,o.activeState={},o.globalUniforms=new Dr({outputFrame:o.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),o.forceClear=!1,o.useMaxPadding=!1,o}return N(t,e),t.prototype.push=function(e,t){for(var o=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Mr,a=t[0].resolution,s=t[0].padding,l=t[0].autoFit,d=t[0].legacy,c=1,i;c<t.length;c++)i=t[c],a=jt(a,i.resolution),s=this.useMaxPadding?zt(s,i.padding):s+i.padding,l=l||i.autoFit,d=d||i.legacy;1===r.length&&(this.defaultFilterStack[0].renderTexture=o.renderTexture.current),r.push(n),n.resolution=a,n.legacy=d,n.target=e,n.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),n.sourceFrame.pad(s),l&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(a),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,a),n.filters=t,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var p=this.tempRect;p.width=n.sourceFrame.width,p.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,o.renderTexture.bind(n.renderTexture,n.sourceFrame,p),o.renderTexture.clear()},t.prototype.pop=function(){var e=this.defaultFilterStack,o=e.pop(),r=o.filters;this.activeState=o;var n=this.globalUniforms.uniforms;n.outputFrame=o.sourceFrame,n.resolution=o.resolution;var a=n.inputSize,s=n.inputPixel,l=n.inputClamp;if(a[0]=o.destinationFrame.width,a[1]=o.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],s[0]=a[0]*o.resolution,s[1]=a[1]*o.resolution,s[2]=1/s[0],s[3]=1/s[1],l[0]=.5*s[2],l[1]=.5*s[3],l[2]=o.sourceFrame.width*a[2]-.5*s[2],l[3]=o.sourceFrame.height*a[3]-.5*s[3],o.legacy){var d=n.filterArea;d[0]=o.destinationFrame.width,d[1]=o.destinationFrame.height,d[2]=o.sourceFrame.x,d[3]=o.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var c=e[e.length-1];if(1<o.renderTexture.framebuffer.multisample&&this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,o.renderTexture,c.renderTexture,Xo.BLEND,o),this.returnFilterTexture(o.renderTexture);else{var p=o.renderTexture,u=this.getOptimalFilterTexture(p.width,p.height,o.resolution);u.filterFrame=p.filterFrame;var _=0;for(_=0;_<r.length-1;++_){r[_].apply(this,p,u,Xo.CLEAR,o);var i=p;p=u,u=i}r[_].apply(this,p,c.renderTexture,Xo.BLEND,o),this.returnFilterTexture(p),this.returnFilterTexture(u)}o.clear(),this.statePool.push(o)},t.prototype.bindAndClear=function(e,t){if(void 0===t&&(t=Xo.CLEAR),e&&e.filterFrame){var o=this.tempRect;o.width=e.filterFrame.width,o.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,o)}else this.renderer.renderTexture.bind(e);"boolean"==typeof t&&(t=t?Xo.CLEAR:Xo.BLEND,S("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(t===Xo.CLEAR||t===Xo.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},t.prototype.applyFilter=function(e,t,o,i){var r=this.renderer;this.bindAndClear(o,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,r.state.set(e.state),r.shader.bind(e),e.legacy?(this.quadUv.map(t._frame,t.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(Bo.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(Bo.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,t){var o=this.activeState,i=o.sourceFrame,r=o.destinationFrame,n=t._texture.orig,a=e.set(r.width,0,0,r.height,i.x,i.y),s=t.worldTransform.copyTo(fi.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/n.width,1/n.height),a.translate(t.anchor.x,t.anchor.y),a},t.prototype.destroy=function(){this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,t,o){return void 0===o&&(o=1),this.texturePool.getOptimalTexture(e,t,o)},t.prototype.getFilterTexture=function(e,t){if("number"==typeof e){var o=e;e=t,t=o}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution);return i.filterFrame=e.filterFrame,i},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t}(_r),wr=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(){},e}(),Br=function(e){function t(t){var o=e.call(this,t)||this;return o.emptyRenderer=new wr(t),o.currentRenderer=o.emptyRenderer,o}return N(t,e),t.prototype.setObjectRenderer=function(e){this.currentRenderer===e||(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,t){for(var o=this.renderer.texture.boundTextures,r=t-1;0<=r;--r)e[r]=o[r]||null,e[r]&&(e[r]._batchLocation=r)},t.prototype.boundArray=function(e,t,o,r){for(var n=e.elements,a=e.ids,s=e.count,l=0,d=0;d<s;d++){var i=n[d],c=i._batchLocation;if(0<=c&&c<r&&t[c]===i){a[d]=c;continue}for(;l<r;){var p=t[l];if(p&&p._batchEnabled===o&&p._batchLocation===l){l++;continue}a[d]=l,i._batchLocation=l,t[l]=i;break}}},t}(_r),Fr=0,Ur=function(e){function t(t){var o=e.call(this,t)||this;return o.webGLVersion=1,o.extensions={},o.supports={uint32Indices:!1},o.handleContextLost=o.handleContextLost.bind(o),o.handleContextRestored=o.handleContextRestored.bind(o),t.view.addEventListener("webglcontextlost",o.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",o.handleContextRestored,!1),o}return N(t,e),Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Fr++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Fr++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},t.prototype.createContext=function(e,t){var o;if(xo.PREFER_ENV>=Do.WEBGL2&&(o=e.getContext("webgl2",t)),o)this.webGLVersion=2;else if(this.webGLVersion=1,o=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!o)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=o,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var o="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=o,o||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(_r),Hr=function(){function e(e){this.framebuffer=e,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=Ko.NONE,this.msaaBuffer=null,this.blitFramebuffer=null}return e}(),Gr=new pi,Vr=function(e){function t(t){var o=e.call(this,t)||this;return o.managedFramebuffers=[],o.unknownFramebuffer=new mr(10,10),o.msaaSamples=null,o}return N(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new pi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,o=this.renderer.context.extensions.depthTexture;xo.PREFER_ENV===Do.WEBGL_LEGACY&&(t=null,o=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),o||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,t){var o=this.gl;if(e){var r=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,o.bindFramebuffer(o.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==e.dirtyId&&(r.dirtyId=e.dirtyId,r.dirtyFormat===e.dirtyFormat?r.dirtySize!==e.dirtySize&&(r.dirtySize=e.dirtySize,this.resizeFramebuffer(e)):(r.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)));for(var n=0,i;n<e.colorTextures.length;n++)i=e.colorTextures[n],this.renderer.texture.unbind(i.parentTextureArray||i);e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,t,o,i){var r=this.viewport;(r.width!==o||r.height!==i||r.x!==e||r.y!==t)&&(r.x=e,r.y=t,r.width=o,r.height=i,this.gl.viewport(e,t,o,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,t,o,i,r){void 0===r&&(r=Po.COLOR|Po.DEPTH);var n=this.gl;n.clearColor(e,t,o,i),n.clear(r)},t.prototype.initFramebuffer=function(e){var t=this.gl,o=new Hr(t.createFramebuffer());return o.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=o,this.managedFramebuffers.push(e),e.disposeRunner.add(this),o},t.prototype.resizeFramebuffer=function(e){var t=this.gl,o=e.glFramebuffers[this.CONTEXT_UID];o.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,o.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));for(var r=e.colorTextures,n=0;n<r.length;n++)this.renderer.texture.bind(r[n],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e){var t=this.gl,o=e.glFramebuffers[this.CONTEXT_UID],r=e.colorTextures,n=r.length;t.drawBuffers||(n=jt(n,1)),1<o.multisample&&(o.msaaBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,o.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,o.multisample,t.RGBA8,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,o.msaaBuffer));for(var a=[],s=0;s<n;s++)if(!(0===s&&1<o.multisample)){var i=e.colorTextures[s],l=i.parentTextureArray||i;this.renderer.texture.bind(l,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+s,i.target,l._glTextures[this.CONTEXT_UID].texture,0),a.push(t.COLOR_ATTACHMENT0+s)}if(1<a.length&&t.drawBuffers(a),e.depthTexture){var d=this.writeDepthTexture;if(d){var c=e.depthTexture;this.renderer.texture.bind(c,0),t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,0)}}!o.stencil&&(e.stencil||e.depth)&&(o.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,o.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height),!e.depthTexture&&t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,o.stencil))},t.prototype.detectSamples=function(e){var t=this.msaaSamples,o=Ko.NONE;if(1>=e||null===t)return o;for(var r=0;r<t.length;r++)if(t[r]<=e){o=t[r];break}return 1===o&&(o=Ko.NONE),o},t.prototype.blit=function(e,t,o){var i=this,r=i.current,n=i.renderer,a=i.gl,s=i.CONTEXT_UID;if(2===n.context.webGLVersion&&r){var l=r.glFramebuffers[s];if(l){if(!e){if(1>=l.multisample)return;l.blitFramebuffer||(l.blitFramebuffer=new mr(r.width,r.height),l.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),e=l.blitFramebuffer,e.width=r.width,e.height=r.height}t||(t=Gr,t.width=r.width,t.height=r.height),o||(o=t);var d=t.width===o.width&&t.height===o.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.x,t.y,t.width,t.height,o.x,o.y,o.width,o.height,a.COLOR_BUFFER_BIT,d?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,t){var o=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(o){delete e.glFramebuffers[this.CONTEXT_UID];var r=this.managedFramebuffers.indexOf(e);0<=r&&this.managedFramebuffers.splice(r,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(o.framebuffer),o.stencil&&i.deleteRenderbuffer(o.stencil))}},t.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var o=0;o<t.length;o++)this.disposeFramebuffer(t[o],e)},t.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.enableStencil();var o=e.width,i=e.height,r=this.gl,n=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,n),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,o,i),t.stencil=n,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new pi},t}(_r),zr=function(){return function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}(),Wr={5126:4,5123:2,5121:1},Xr=function(e){function t(t){var o=e.call(this,t)||this;return o._activeGeometry=null,o._activeVao=null,o.hasVao=!0,o.hasInstance=!0,o.canUseUInt32ElementIndex=!1,o.managedGeometries={},o.managedBuffers={},o}return N(t,e),t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!e.createVertexArray){var o=this.renderer.context.extensions.vertexArrayObject;xo.PREFER_ENV===Do.WEBGL_LEGACY&&(o=null),o?(e.createVertexArray=function(){return o.createVertexArrayOES()},e.bindVertexArray=function(e){return o.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return o.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(!e.vertexAttribDivisor){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(e,t){return i.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(t,o,r,n,a){return i.drawElementsInstancedANGLE(t,o,r,n,a)},e.drawArraysInstanced=function(e,t,o,r){return i.drawArraysInstancedANGLE(e,t,o,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},t.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var o=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={});var r=i[t.program.id]||this.initGeometryVao(e,t.program);this._activeGeometry=e,this._activeVao!==r&&(this._activeVao=r,this.hasVao?o.bindVertexArray(r):this.activateVao(e,t.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.gl,o=0;o<e.buffers.length;o++){var i=e.buffers[o],r=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==r.updateID){r.updateID=i._updateID;var n=i.index?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;if(t.bindBuffer(n,r.buffer),this._boundBuffer=r,r.byteLength>=i.data.byteLength)t.bufferSubData(n,0,i.data);else{var a=i.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=i.data.byteLength,t.bufferData(n,i.data,a)}}}},t.prototype.checkCompatibility=function(e,t){var o=e.attributes,i=t.attributeData;for(var r in i)if(!o[r])throw new Error("shader and geometry incompatible, geometry missing the \""+r+"\" attribute")},t.prototype.getSignature=function(e,t){var o=e.attributes,r=t.attributeData,n=["g",e.id];for(var a in o)r[a]&&n.push(a);return n.join("-")},t.prototype.initGeometryVao=function(e,t){this.checkCompatibility(e,t);var o=this.gl,r=this.CONTEXT_UID,n=this.getSignature(e,t),a=e.glVertexArrayObjects[this.CONTEXT_UID],s=a[n];if(s)return a[t.id]=s,s;var l=e.buffers,d=e.attributes,c={},p={};for(var u in l)c[u]=0,p[u]=0;for(var u in d)!d[u].size&&t.attributeData[u]?d[u].size=t.attributeData[u].size:!d[u].size&&console.warn("PIXI Geometry attribute '"+u+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[d[u].buffer]+=d[u].size*Wr[d[u].type];for(var u in d){var _=d[u],g=_.size;void 0===_.stride&&(c[_.buffer]===g*Wr[_.type]?_.stride=0:_.stride=c[_.buffer]),void 0===_.start&&(_.start=p[_.buffer],p[_.buffer]+=g*Wr[_.type])}s=o.createVertexArray(),o.bindVertexArray(s);for(var m=0,i;m<l.length;m++)i=l[m],i._glBuffers[r]||(i._glBuffers[r]=new zr(o.createBuffer()),this.managedBuffers[i.id]=i,i.disposeRunner.add(this)),i._glBuffers[r].refCount++;return this.activateVao(e,t),this._activeVao=s,a[t.id]=s,a[n]=s,s},t.prototype.disposeBuffer=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var o=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),o&&(!t&&i.deleteBuffer(o.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeGeometry=function(e,t){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var o=e.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,n=e.buffers;if(e.disposeRunner.remove(this),!!o){for(var a=0,i;a<n.length;a++)i=n[a]._glBuffers[this.CONTEXT_UID],i.refCount--,0!==i.refCount||t||this.disposeBuffer(n[a],t);if(!t)for(var s in o)if("g"===s[0]){var l=o[s];this._activeVao===l&&this.unbind(),r.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),o=0;o<t.length;o++)this.disposeGeometry(this.managedGeometries[t[o]],e);t=Object.keys(this.managedBuffers);for(var o=0;o<t.length;o++)this.disposeBuffer(this.managedBuffers[t[o]],e)},t.prototype.activateVao=function(e,t){var o=this.gl,i=this.CONTEXT_UID,r=e.buffers,n=e.attributes;e.indexBuffer&&o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[i].buffer);var a=null;for(var s in n){var l=n[s],d=r[l.buffer],c=d._glBuffers[i];if(t.attributeData[s]){a!==c&&(o.bindBuffer(o.ARRAY_BUFFER,c.buffer),a=c);var p=t.attributeData[s].location;if(o.enableVertexAttribArray(p),o.vertexAttribPointer(p,l.size,l.type||o.FLOAT,l.normalized,l.stride,l.start),l.instance)if(this.hasInstance)o.vertexAttribDivisor(p,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,t,o,i){var r=this.gl,n=this._activeGeometry;if(n.indexBuffer){var a=n.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?r.UNSIGNED_SHORT:r.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?n.instanced?r.drawElementsInstanced(e,t||n.indexBuffer.data.length,s,(o||0)*a,i||1):r.drawElements(e,t||n.indexBuffer.data.length,s,(o||0)*a):console.warn("unsupported index buffer type: uint32")}else n.instanced?r.drawArraysInstanced(e,o,t||n.getSize(),i||1):r.drawArrays(e,o,t||n.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t}(_r),Yr=function(){function e(e){void 0===e&&(e=null),this.type=Jo.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Jo.NONE,this.autoDetect=!0),this._target=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}(),jr={},Jr=jr,Kr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},qr=null,Zr={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},Qr=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return"\n            if(uv[\""+e+"\"] !== ud[\""+e+"\"].value)\n            {\n                ud[\""+e+"\"].value = uv[\""+e+"\"]\n                gl.uniform1f(ud[\""+e+"\"].location, uv[\""+e+"\"])\n            }\n            "}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return"t = syncData.textureCount++;\n\n            renderer.texture.bind(uv[\""+e+"\"], t);\n\n            if(ud[\""+e+"\"].value !== t)\n            {\n                ud[\""+e+"\"].value = t;\n                gl.uniform1i(ud[\""+e+"\"].location, t);\n; // eslint-disable-line max-len\n            }"}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return"\n            gl.uniformMatrix3fv(ud[\""+e+"\"].location, false, uv[\""+e+"\"].toArray(true));\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud[\""+e+"\"].location, v.x, v.y);\n                }"}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud[\""+e+"\"].location, v[0], v[1]);\n                }\n            "}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud[\""+e+"\"].location, v.x, v.y, v.width, v.height)\n                }"}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return"\n                cv = ud[\""+e+"\"].value;\n                v = uv[\""+e+"\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud[\""+e+"\"].location, v[0], v[1], v[2], v[3])\n                }"}}],$r={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},en={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},tn="precision mediump float;\nvoid main(void){\nfloat test = 0.1;\n%forloop%\ngl_FragColor = vec4(0.0);\n}",on=0,rn={},nn=function(){function e(t,o,i){void 0===i&&(i="pixi-shader"),this.id=on++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=o||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),rn[i]?(rn[i]++,i+="-"+rn[i]):rn[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=G(this.vertexSrc,xo.PRECISION_VERTEX,jo.HIGH),this.fragmentSrc=G(this.fragmentSrc,xo.PRECISION_FRAGMENT,H())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return e.prototype.extractData=function(e,t){var o=U();if(o){var i=w(o,e,t);this.attributeData=this.getAttributeData(i,o),this.uniformData=this.getUniformData(i,o),o.deleteProgram(i)}else this.uniformData={},this.attributeData={}},e.prototype.getAttributeData=function(e,t){for(var o={},r=[],n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<n;a++){var i=t.getActiveAttrib(e,a),s=z(t,i.type),l={type:s,name:i.name,size:V(s),location:0};o[i.name]=l,r.push(l)}r.sort(function(e,t){return e.name>t.name?1:-1});for(var a=0;a<r.length;a++)r[a].location=a;return o},e.prototype.getUniformData=function(e,t){for(var o={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;n++){var i=t.getActiveUniform(e,n),a=i.name.replace(/\[.*?\]$/,""),s=i.name.match(/\[.*?\]$/),l=z(t,i.type);o[a]={type:l,size:i.size,isArray:s,value:F(l,i.size)}}return o},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,o,i){var r=t+o,n=oi[r];return n||(oi[r]=n=new e(t,o,i)),n},e}(),an=function(){function e(e,t){for(var o in this.program=e,this.uniformGroup=t?t instanceof Dr?t:new Dr(t):new Dr({}),e.uniformData)this.uniformGroup.uniforms[o]instanceof Array&&(this.uniformGroup.uniforms[o]=new Float32Array(this.uniformGroup.uniforms[o]))}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var o in t.uniforms){var i=t.uniforms[o];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,o,i){var r=nn.from(t,o);return new e(r,i)},e}(),sn=0,ln=1,dn=2,cn=3,pn=4,un=function(){function e(){this.data=0,this.blendMode=wo.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<sn)},set:function(e){!!(this.data&1<<sn)!==e&&(this.data^=1<<sn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<ln)},set:function(e){!!(this.data&1<<ln)!==e&&(this.data^=1<<ln)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<dn)},set:function(e){!!(this.data&1<<dn)!==e&&(this.data^=1<<dn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<cn)},set:function(e){!!(this.data&1<<cn)!==e&&(this.data^=1<<cn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<pn)},set:function(e){!!(this.data&1<<pn)!==e&&(this.data^=1<<pn)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==wo.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),_n=function(e){function t(o,i,r){var n=this,a=nn.from(o||t.defaultVertexSrc,i||t.defaultFragmentSrc);return n=e.call(this,a,r)||this,n.padding=0,n.resolution=xo.FILTER_RESOLUTION,n.enabled=!0,n.autoFit=!0,n.legacy=!!n.program.attributeData.aTextureCoord,n.state=new un,n}return N(t,e),t.prototype.apply=function(e,t,o,i){e.applyFilter(this,t,o,i)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(an),gn=new fi,mn=function(){function e(e,t){this._texture=e,this.mapCoord=new fi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"==typeof t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var o=this.mapCoord,r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];t[r]=i*o.a+n*o.c+o.tx,t[r+1]=i*o.b+n*o.d+o.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var o=t._uvs;this.mapCoord.set(o.x1-o.x0,o.y1-o.y0,o.x3-o.x0,o.y3-o.y0,o.x0,o.y0);var i=t.orig,r=t.trim;r&&(gn.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(gn));var n=t.baseTexture,a=this.uClampFrame,s=this.clampMargin/n.resolution,l=this.clampOffset;return a[0]=(t._frame.x+s+l)/n.width,a[1]=(t._frame.y+s+l)/n.height,a[2]=(t._frame.x+t._frame.width-s+l)/n.width,a[3]=(t._frame.y+t._frame.height-s+l)/n.height,this.uClampOffset[0]=l/n.realWidth,this.uClampOffset[1]=l/n.realHeight,this.isSimple=t._frame.width===n.width&&t._frame.height===n.height&&0===t.rotate,!0},e}(),hn=function(e){function t(t){var o=this,i=new fi;return o=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,t.renderable=!1,o.maskSprite=t,o.maskMatrix=i,o}return N(t,e),t.prototype.apply=function(e,t,o,i){var r=this.maskSprite,n=r._texture;n.valid&&(!n.uvMatrix&&(n.uvMatrix=new mn(n,0)),n.uvMatrix.update(),this.uniforms.npmAlpha=n.baseTexture.alphaMode?0:1,this.uniforms.mask=n,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(n.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=n.uvMatrix.uClampFrame,e.applyFilter(this,t,o,i))},t}(_n),Tn=function(e){function t(t){var o=e.call(this,t)||this;return o.enableScissor=!1,o.alphaMaskPool=[],o.maskDataPool=[],o.maskStack=[],o.alphaMaskIndex=0,o}return N(t,e),t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,t){var o=t;if(!o.isMaskData){var i=this.maskDataPool.pop()||new Yr;i.pooled=!0,i.maskObject=t,o=i}switch(o.autoDetect&&this.detect(o),o.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),o._target=e,o.type){case Jo.SCISSOR:this.maskStack.push(o),this.renderer.scissor.push(o);break;case Jo.STENCIL:this.maskStack.push(o),this.renderer.stencil.push(o);break;case Jo.SPRITE:o.copyCountersOrReset(null),this.pushSpriteMask(o),this.maskStack.push(o);break;default:}},t.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){switch(t.type){case Jo.SCISSOR:this.renderer.scissor.pop();break;case Jo.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Jo.SPRITE:this.popSpriteMask();break;default:}t.reset(),t.pooled&&this.maskDataPool.push(t)}},t.prototype.detect=function(e){var t=e.maskObject;if(t.isSprite)return void(e.type=Jo.SPRITE);if(e.type=Jo.STENCIL,this.enableScissor&&t.isFastRect&&t.isFastRect()){var o=t.worldTransform,i=Ft(o.b,o.a),r=Ft(o.d,o.c);i=Yt(100*(i*(180/Gt))),r=Yt(100*(r*(180/Gt)))-i,i=(i%9e3+9e3)%9e3,r=(r%18e3+18e3)%18e3,0===i&&9e3===r&&(e.type=Jo.SCISSOR)}},t.prototype.pushSpriteMask=function(e){var t=e.maskObject,o=e._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new hn(t)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=t;var r=o.filterArea;o.filterArea=t.getBounds(!0),this.renderer.filter.push(o,i),o.filterArea=r,this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},t}(_r),fn=function(e){function t(t){var o=e.call(this,t)||this;return o.maskStack=[],o.glConst=0,o}return N(t,e),t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var t=this.renderer.gl,o=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==o&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.maskStack=null},t}(_r),bn=function(e){function t(t){var o=e.call(this,t)||this;return o.glConst=WebGLRenderingContext.SCISSOR_TEST,o}return N(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.push=function(e){var t=e.maskObject;t.renderable=!0;var o=e._scissorRect,i=t.getBounds(!0),r=this.renderer.gl;t.renderable=!1,o?i.fit(o):r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=i,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;0<this.getStackLength()?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,t=this.renderer.renderTexture.current,o=this.renderer.projection,i=o.transform,r=o.sourceFrame,n=o.destinationFrame,a=t?t.resolution:this.renderer.resolution,s=(e.x-r.x)*a+n.x,l=(e.y-r.y)*a+n.y,d=e.width*a,c=e.height*a;i&&(s+=i.tx*a,l+=i.ty*a),t||(l=this.renderer.height-c-l),this.renderer.gl.scissor(s,l,d,c)},t}(fn),En=function(e){function t(t){var o=e.call(this,t)||this;return o.glConst=WebGLRenderingContext.STENCIL_TEST,o}return N(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,o=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),o.enable(o.STENCIL_TEST)),e._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,i,this._getBitwiseMask()),o.stencilOp(o.KEEP,o.KEEP,o.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},t}(fn),yn=function(e){function t(t){var o=e.call(this,t)||this;return o.destinationFrame=null,o.sourceFrame=null,o.defaultFrame=null,o.projectionMatrix=new fi,o.transform=null,o}return N(t,e),t.prototype.update=function(e,t,o,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,o,i),this.transform&&this.projectionMatrix.append(this.transform);var r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,t,o,i){var r=this.projectionMatrix,n=i?-1:1;r.identity(),r.a=2*(1/t.width),r.d=n*(2*(1/t.height)),r.tx=-1-t.x*r.a,r.ty=-n-t.y*r.d},t.prototype.setTransform=function(){},t}(_r),vn=new pi,Sn=new pi,Rn=new pi,In=function(e){function t(t){var o=e.call(this,t)||this;return o.clearColor=t._backgroundColorRgba,o.defaultMaskStack=[],o.current=null,o.sourceFrame=new pi,o.destinationFrame=new pi,o}return N(t,e),t.prototype.bind=function(e,t,o){void 0===e&&(e=null);var i=this.renderer;this.current=e;var r,n,a;e?(r=e.baseTexture,a=r.resolution,!t&&(vn.width=e.frame.width,vn.height=e.frame.height,t=vn),!o&&(Sn.x=e.frame.x,Sn.y=e.frame.y,Sn.width=t.width,Sn.height=t.height,o=Sn),n=r.framebuffer):(a=i.resolution,!t&&(vn.width=i.screen.width,vn.height=i.screen.height,t=vn),!o&&(o=vn,o.width=t.width,o.height=t.height)),Rn.x=o.x*a,Rn.y=o.y*a,Rn.width=o.width*a,Rn.height=o.height*a,this.renderer.framebuffer.bind(n,Rn),this.renderer.projection.update(o,t,a,!n),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(o)},t.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor,this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t)},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t}(_r),xn=function(){return function(){}}(),Cn=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},e}(),On=0,kn={textureCount:0},An=function(e){function t(t){var o=e.call(this,t)||this;return o.destroyed=!1,o.systemCheck(),o.gl=null,o.shader=null,o.program=null,o.cache={},o.id=On++,o}return N(t,e),t.prototype.systemCheck=function(){if(!j())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var o=e.program,i=o.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==o&&(this.program=o,this.gl.useProgram(i.program)),t||(kn.textureCount=0,this.syncUniformGroup(e.uniformGroup,kn)),i},t.prototype.setUniforms=function(e){var t=this.shader.program,o=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(o.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,t){var o=this.getglProgram();e.static&&e.dirtyId===o.uniformGroups[e.id]||(o.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,o,t))},t.prototype.syncUniforms=function(e,t,o){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(t.uniformData,e.uniforms,this.renderer,o)},t.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData);return this.cache[t]||(this.cache[t]=W(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},t.prototype.getSignature=function(e,t){var o=e.uniforms,r=[];for(var n in o)r.push(n),t[n]&&r.push(t[n].type);return r.join("-")},t.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateShader=function(e){var t=this.gl,o=e.program,r={};for(var n in o.attributeData)r[n]=o.attributeData[n].location;var i=w(t,o.vertexSrc,o.fragmentSrc,r),a={};for(var n in o.uniformData){var s=o.uniformData[n];a[n]={location:t.getUniformLocation(i,n),value:F(s.type,s.size)}}var l=new Cn(i,a);return o.glPrograms[this.renderer.CONTEXT_UID]=l,l},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.destroyed=!0},t}(_r),Nn=function(e){function t(t){var o=e.call(this,t)||this;return o.gl=null,o.stateId=0,o.polygonOffset=0,o.blendMode=wo.NONE,o._blendEq=!1,o.map=[],o.map[0]=o.setBlend,o.map[1]=o.setOffset,o.map[2]=o.setCullFace,o.map[3]=o.setDepthTest,o.map[4]=o.setFrontFace,o.checks=[],o.defaultState=new un,o.defaultState.blend=!0,o}return N(t,e),t.prototype.contextChange=function(e){this.gl=e,this.blendModes=J(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,o=0;t;)1&t&&this.map[o].call(this,!!(e.data&1<<o)),t>>=1,o++;this.stateId=e.data}for(var o=0;o<this.checks.length;o++)this.checks[o](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(var t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],o=this.gl;2===t.length?o.blendFunc(t[0],t[1]):o.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,o.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,o.blendEquationSeparate(o.FUNC_ADD,o.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,t){var o=this.checks.indexOf(e);t&&-1===o?this.checks.push(e):!t&&-1!==o&&this.checks.splice(o,1)},t.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},t.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},t}(_r),Ln=function(e){function t(t){var o=e.call(this,t)||this;return o.count=0,o.checkCount=0,o.maxIdle=xo.GC_MAX_IDLE,o.checkCountMax=xo.GC_MAX_CHECK_COUNT,o.mode=xo.GC_MODE,o}return N(t,e),t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode===Yo.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,o=!1,r=0,i;r<t.length;r++)i=t[r],!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[r]=null,o=!0);if(o){for(var n=0,r=0;r<t.length;r++)null!==t[r]&&(t[n++]=t[r]);t.length=n}},t.prototype.unload=function(e){var t=this.renderer.texture,o;(null===(o=e._texture)||void 0===o?void 0:o.framebuffer)&&t.destroyTexture(e._texture);for(var r=e.children.length-1;0<=r;r--)this.unload(e.children[r])},t}(_r),Dn=function(){return function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121}}(),Mn=function(e){function t(t){var o=e.call(this,t)||this;return o.boundTextures=[],o.currentLocation=-1,o.managedTextures=[],o._unknownBoundTextures=!1,o.unknownTexture=new or,o}return N(t,e),t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var o=0;o<t;o++)this.boundTextures[o]=null;this.emptyTextures={};var i=new Dn(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Dn(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var o=0;6>o;o++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},t.prototype.bind=function(e,t){void 0===t&&(t=0);var o=this.gl;if(e){if(e=e.castToBaseTexture(),e.parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,o.activeTexture(o.TEXTURE0+t)),o.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,o.activeTexture(o.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}}else this.currentLocation!==t&&(this.currentLocation=t,o.activeTexture(o.TEXTURE0+t)),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[o.TEXTURE_2D].texture),this.boundTextures[t]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var t=this,o=t.gl,r=t.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(var n=0;n<r.length;n++)r[n]===e&&(this.currentLocation!==n&&(o.activeTexture(o.TEXTURE0+n),this.currentLocation=n),o.bindTexture(o.TEXTURE_2D,this.emptyTextures[e.target].texture),r[n]=null)},t.prototype.initTexture=function(e){var t=new Dn(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},t.prototype.initTextureType=function(e,t){if(t.internalFormat=e.format,t.type=e.type,2===this.webGLVersion){var o=this.renderer.gl;e.type===o.FLOAT&&e.format===o.RGBA&&(t.internalFormat=o.RGBA32F),e.type===Ho.HALF_FLOAT&&(t.type=o.HALF_FLOAT),t.type===o.HALF_FLOAT&&e.format===o.RGBA&&(t.internalFormat=o.RGBA16F)}},t.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var o=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(o,e,t));else{var i=e.realWidth,r=e.realHeight,n=o.gl;(t.width!==i||t.height!==r||0>t.dirtyId)&&(t.width=i,t.height=r,n.texImage2D(e.target,0,t.internalFormat,i,r,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,t){var o=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),o.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&E(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){if(t.mipmap=!!(e.mipmap!==zo.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&1<=e.mipmap,t.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:Vo.CLAMP,e.resource&&e.resource.style(this.renderer,e,t));else this.setStyle(e,t);t.dirtyStyleId=e.dirtyStyleId}},t.prototype.setStyle=function(e,t){var o=this.gl;if(t.mipmap&&o.generateMipmap(e.target),o.texParameteri(e.target,o.TEXTURE_WRAP_S,t.wrapMode),o.texParameteri(e.target,o.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Go.LINEAR?o.LINEAR_MIPMAP_LINEAR:o.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&0<e.anisotropicLevel&&e.scaleMode===Go.LINEAR){var r=jt(e.anisotropicLevel,o.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));o.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,r)}}else o.texParameteri(e.target,o.TEXTURE_MIN_FILTER,e.scaleMode===Go.LINEAR?o.LINEAR:o.NEAREST);o.texParameteri(e.target,o.TEXTURE_MAG_FILTER,e.scaleMode===Go.LINEAR?o.LINEAR:o.NEAREST)},t}(_r),Pn=new fi,wn=function(e){function t(t,o){void 0===t&&(t=Mo.UNKNOWN);var i=e.call(this)||this;return o=Object.assign({},xo.RENDER_OPTIONS,o),o.roundPixels&&(xo.ROUND_PIXELS=o.roundPixels,S("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),i.options=o,i.type=t,i.screen=new pi(0,0,o.width,o.height),i.view=o.view||document.createElement("canvas"),i.resolution=o.resolution||xo.RESOLUTION,i.transparent=o.transparent,i.autoDensity=o.autoDensity||o.autoResize||!1,i.preserveDrawingBuffer=o.preserveDrawingBuffer,i.clearBeforeRender=o.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,0],i._backgroundColorString="#000000",i.backgroundColor=o.backgroundColor||i._backgroundColor,i._lastObjectRendered=null,i.plugins={},i}return N(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=t+"px"),this.emit("resize",e,t)},t.prototype.generateTexture=function(e,t,o,i){i=i||e.getLocalBounds(null,!0),0===i.width&&(i.width=1),0===i.height&&(i.height=1);var r=Er.create({width:0|i.width,height:0|i.height,scaleMode:t,resolution:o});return Pn.tx=-i.x,Pn.ty=-i.y,this.render(e,r,!1,Pn,!!e.parent),r},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=Mo.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=s(e),a(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),t}(Oo.a),Bn=function(e){function t(o){var i=e.call(this,Mo.WEBGL,o)||this;return o=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new qi("destroy"),contextChange:new qi("contextChange"),reset:new qi("reset"),update:new qi("update"),postrender:new qi("postrender"),prerender:new qi("prerender"),resize:new qi("resize")},i.globalUniforms=new Dr({projectionMatrix:new fi},!0),i.addSystem(Tn,"mask").addSystem(Ur,"context").addSystem(Nn,"state").addSystem(An,"shader").addSystem(Mn,"texture").addSystem(Xr,"geometry").addSystem(Vr,"framebuffer").addSystem(bn,"scissor").addSystem(En,"stencil").addSystem(yn,"projection").addSystem(Ln,"textureGC").addSystem(Pr,"filter").addSystem(In,"renderTexture").addSystem(Br,"batch"),i.initPlugins(t.__plugins),o.context?i.context.initFromContext(o.context):i.context.initFromOptions({alpha:!!i.transparent,antialias:o.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:o.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,r(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return N(t,e),t.create=function(e){if(n())return new t(e);throw new Error("WebGL unsupported in this browser, use \"pixi.js-legacy\" for fallback canvas2d support.")},t.prototype.addSystem=function(e,t){t||(t=e.name);var o=new e(this);if(this[t])throw new Error("Whoops! The name \""+t+"\" is already in use");for(var r in this[t]=o,this.runners)this.runners[r].add(o);return this},t.prototype.render=function(e,t,o,i,r){if(this.renderingToScreen=!t,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(t||(this._lastObjectRendered=e),!r){var n=e.enableTempParent();e.updateTransform(),e.disableTempParent(n)}this.renderTexture.bind(t),this.batch.currentRenderer.start(),(void 0===o?this.clearBeforeRender:o)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),t&&t.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.resize=function(t,o){e.prototype.resize.call(this,t,o),this.runners.resize.emit(t,o)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var o in this.runners.destroy.emit(),this.runners)this.runners[o].destroy();e.prototype.destroy.call(this,t),this.gl=null},t.registerPlugin=function(e,o){t.__plugins=t.__plugins||{},t.__plugins[e]=o},t}(wn),Fn="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Un=function(){function e(){this.texArray=null,this.blend=0,this.type=Bo.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),Hn=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),Gn=function(){function e(e){this.rawBinaryData=new ArrayBuffer(e),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type");}},e}(),Vn=function(e){function t(t){var o=e.call(this,t)||this;return o.shaderGenerator=null,o.geometryClass=null,o.vertexSize=null,o.state=un.for2d(),o.size=4*xo.SPRITE_BATCH_SIZE,o._vertexCount=0,o._indexCount=0,o._bufferedElements=[],o._bufferedTextures=[],o._bufferSize=0,o._shader=null,o._packedGeometries=[],o._packedGeometryPoolSize=2,o._flushId=0,o._aBuffers={},o._iBuffers={},o.MAX_TEXTURES=1,o.renderer.on("prerender",o.onPrerender,o),t.runners.contextChange.add(o),o._dcIndex=0,o._aIndex=0,o._iIndex=0,o._attributeBuffer=null,o._indexBuffer=null,o._tempBoundTextures=[],o}return N(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;xo.PREFER_ENV===Do.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=jt(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),xo.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Y(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,o=t._textureArrayPool,r=this.size/4,n=Xt(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new Un);for(;o.length<n;)o.push(new Hn);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this,o=e._bufferedTextures,r=e.MAX_TEXTURES,n=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,l=this.renderer.textureGC.count,d=++or._globalBatch,c=0,p=n[0],u=0;a.copyBoundTextures(s,r);for(var _=0,i;_<this._bufferSize;++_)(i=o[_],o[_]=null,i._batchEnabled!==d)&&(p.count>=r&&(a.boundArray(p,s,d,r),this.buildDrawCalls(p,u,_),u=_,p=n[++c],++d),i._batchEnabled=d,i.touched=l,p.elements[p.count++]=i);0<p.count&&(a.boundArray(p,s,d,r),this.buildDrawCalls(p,u,this._bufferSize),++c,++d);for(var _=0;_<s.length;_++)s[_]=null;or._globalBatch=d},t.prototype.buildDrawCalls=function(e,o,r){var n=this,a=n._bufferedElements,s=n._attributeBuffer,l=n._indexBuffer,d=n.vertexSize,c=t._drawCallPool,p=this._dcIndex,u=this._aIndex,_=this._iIndex,g=c[p];g.start=this._iIndex,g.texArray=e;for(var m=o;m<r;++m){var i=a[m],h=i._texture.baseTexture,T=Qo[h.alphaMode?1:0][i.blendMode];a[m]=null,o<m&&g.blend!==T&&(g.size=_-g.start,o=m,g=c[++p],g.texArray=e,g.start=_),this.packInterleavedGeometry(i,s,l,u,_),u+=i.vertexData.length/2*d,_+=i.indices.length,g.blend=T}o<r&&(g.size=_-g.start,++p),this._dcIndex=p,this._aIndex=u,this._iIndex=_},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,o=0;o<e.count;o++)t.bind(e.elements[o],e.ids[o]),e.elements[o]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,o=e._attributeBuffer,i=e._indexBuffer;xo.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(o.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(o.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,o=this.renderer,r=o.gl,n=o.state,a=t._drawCallPool,s=null,l=0;l<e;l++){var i=a[l],d=i.texArray,c=i.type,p=i.size,u=i.start,_=i.blend;s!==d&&(s=d,this.bindAndClearTexArray(d)),this.state.blendMode=_,n.set(this.state),r.drawElements(c,p,r.UNSIGNED_SHORT,2*u)}},t.prototype.flush=function(){0===this._vertexCount||(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),xo.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=h(Pt(e/8)),o=b(t),i=8*t;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var r=this._aBuffers[i];return r||(this._aBuffers[i]=r=new Gn(4*(i*this.vertexSize))),r},t.prototype.getIndexBuffer=function(e){var t=h(Pt(e/12)),o=b(t);this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var i=this._iBuffers[o];return i||(this._iBuffers[o]=i=new Uint16Array(12*t)),i},t.prototype.packInterleavedGeometry=function(e,t,o,r,n){for(var a=t.uint32View,s=t.float32View,l=r/this.vertexSize,d=e.uvs,c=e.indices,p=e.vertexData,u=e._texture.baseTexture._batchLocation,g=jt(e.worldAlpha,1),m=1>g&&e._texture.baseTexture.alphaMode?_(e._tintRGB,g):e._tintRGB+(255*g<<24),h=0;h<p.length;h+=2)s[r++]=p[h],s[r++]=p[h+1],s[r++]=d[h],s[r++]=d[h+1],a[r++]=m,s[r++]=u;for(var h=0;h<c.length;h++)o[n++]=l+c[h]},t._drawCallPool=[],t._textureArrayPool=[],t}(wr),zn=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},0>t.indexOf("%count%"))throw new Error("Fragment template must contain \"%count%\".");if(0>t.indexOf("%forloop%"))throw new Error("Fragment template must contain \"%forloop%\".")}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),o=0;o<e;o++)t[o]=o;this.defaultGroupCache[e]=Dr.from({uSamplers:t},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new nn(this.vertexSrc,i)}var r={tint:new Float32Array([1,1,1,1]),translationMatrix:new fi,default:this.defaultGroupCache[e]};return new an(this.programCache[e],r)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var o=0;o<e;o++)0<o&&(t+="\nelse "),o<e-1&&(t+="if(vTextureId < "+o+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+o+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n",t},e}(),Wn=function(e){function t(t){void 0===t&&(t=!1);var o=e.call(this)||this;return o._buffer=new Rr(null,t,!1),o._indexBuffer=new Rr(null,t,!0),o.addAttribute("aVertexPosition",o._buffer,2,!1,Ho.FLOAT).addAttribute("aTextureCoord",o._buffer,2,!1,Ho.FLOAT).addAttribute("aColor",o._buffer,4,!0,Ho.UNSIGNED_BYTE).addAttribute("aTextureId",o._buffer,1,!0,Ho.FLOAT).addIndex(o._indexBuffer),o}return N(t,e),t}(kr),Xn="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Yn="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",jn=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Xn,fragment:Yn,geometryClass:Wn,vertexSize:6},e),o=t.vertex,i=t.fragment,r=t.vertexSize,n=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new zn(o,i),a.geometryClass=n,a.vertexSize=r,a}return N(t,e),t}(Vn)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Xn},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Yn},enumerable:!1,configurable:!0}),e}(),Jn=jn.create(),Kn=function(){function e(t){var o=this;t=Object.assign({forceCanvas:!1},t),this.renderer=K(t),this.stage=new Li,e._plugins.forEach(function(e){e.init.call(o,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,o){var i=this,r=e._plugins.slice(0);r.reverse(),r.forEach(function(e){e.destroy.call(i)}),this.stage.destroy(o),this.stage=null,this.renderer.destroy(t),this.renderer=null},e}(),qn,Zn;/*!
 * @pixi/app - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Kn._plugins=[];var Qn=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){window.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame(function(){return t.resize()}))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){t.cancelResize();var e,o;if(t._resizeTo===window)e=window.innerWidth,o=window.innerHeight;else{var i=t._resizeTo,r=i.clientWidth,n=i.clientHeight;e=r,o=n}t.renderer.resize(e,o)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Kn.registerPlugin(Qn);/*!
 * @pixi/extract - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $n=new pi,ea=4,ta=function(){function e(e){this.renderer=e,e.extract=this}return e.prototype.image=function(e,t,o){var i=new Image;return i.src=this.base64(e,t,o),i},e.prototype.base64=function(e,t,o){return this.canvas(e).toDataURL(t,o)},e.prototype.canvas=function(t){var o=this.renderer,i=!1,r=!1,n,a,s;t&&(t instanceof Er?s=t:(s=this.renderer.generateTexture(t),r=!0)),s?(n=s.baseTexture.resolution,a=s.frame,i=!1,o.renderTexture.bind(s)):(n=this.renderer.resolution,i=!0,a=$n,a.width=this.renderer.width,a.height=this.renderer.height,o.renderTexture.bind(null));var l=Xt(a.width*n+1e-4),d=Xt(a.height*n+1e-4),c=new ni(l,d,1),p=new Uint8Array(ea*l*d),u=o.gl;u.readPixels(a.x*n,a.y*n,l,d,u.RGBA,u.UNSIGNED_BYTE,p);var _=c.context.getImageData(0,0,l,d);if(e.arrayPostDivide(p,_.data),c.context.putImageData(_,0,0),i){var g=new ni(c.width,c.height,1);g.context.scale(1,-1),g.context.drawImage(c.canvas,0,-d),c.destroy(),c=g}return r&&s.destroy(!0),c.canvas},e.prototype.pixels=function(t){var o=this.renderer,i=!1,r,n,a;t&&(t instanceof Er?a=t:(a=this.renderer.generateTexture(t),i=!0)),a?(r=a.baseTexture.resolution,n=a.frame,o.renderTexture.bind(a)):(r=o.resolution,n=$n,n.width=o.width,n.height=o.height,o.renderTexture.bind(null));var s=n.width*r,l=n.height*r,d=new Uint8Array(ea*s*l),c=o.gl;return c.readPixels(n.x*r,n.y*r,s,l,c.RGBA,c.UNSIGNED_BYTE,d),i&&a.destroy(!0),e.arrayPostDivide(d,d),d},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e.arrayPostDivide=function(e,t){for(var o=0,i;o<e.length;o+=4)i=t[o+3]=e[o+3],0===i?(t[o]=e[o],t[o+1]=e[o+1],t[o+2]=e[o+2]):(t[o]=Yt(jt(255*e[o]/i,255)),t[o+1]=Yt(jt(255*e[o+1]/i,255)),t[o+2]=Yt(jt(255*e[o+2]/i,255)))},e}(),oa=o(34),ia=o.n(oa),ra=o(12),na=o.n(ra),aa={},sa=window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest),la=null,da=200,ca=function(){function e(t,o,i){if("string"!=typeof t||"string"!=typeof o)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===o.indexOf("data:")),this.name=t,this.url=o,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=oe,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new na.a,this.onProgress=new na.a,this.onComplete=new na.a,this.onAfterMiddleware=new na.a}e.setExtensionLoadType=function(t,o){ie(e._loadTypeMap,t,o)},e.setExtensionXhrType=function(t,o){ie(e._xhrTypeMap,t,o)};var t=e.prototype;return t.complete=function(){this._clearEvents(),this._finish()},t.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.load=function(t){var o=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(o)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:sa&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},t._hasFlag=function(e){return 0!=(this._flags&e)},t._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},t._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t._loadElement=function(e){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?new Image:document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadSourceElement=function(e){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?new Audio:document.createElement(e),null===this.data)return void this.abort("Unsupported element: "+e);if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,o=0;o<this.url.length;++o)this.data.appendChild(this._createSource(e,this.url[o],Array.isArray(t)?t[o]:t));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?e.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},t._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t._createSource=function(e,t,o){o||(o=e+"/"+this._getExtension(t));var i=document.createElement("source");return i.src=t,i.type=o,i},t._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t._onTimeout=function(){this.abort("Load timed out.")},t._xhrOnError=function(){var e=this.xhr;this.abort(re(e)+" Request failed. Status: "+e.status+", text: \""+e.statusText+"\"")},t._xhrOnTimeout=function(){var e=this.xhr;this.abort(re(e)+" Request timed out.")},t._xhrOnAbort=function(){var e=this.xhr;this.abort(re(e)+" Request was aborted by the user.")},t._xhrOnLoad=function(){var t=this.xhr,o="",i="undefined"==typeof t.status?da:t.status;(""===t.responseType||"text"===t.responseType||"undefined"==typeof t.responseType)&&(o=t.responseText),i===0&&(0<o.length||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=da:i===1223&&(i=204);var r=0|i/100;if(r!==2)return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=o,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(o),this.type=e.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(o,"text/xml")}else{var a=document.createElement("div");a.innerHTML=o,this.data=a}this.type=e.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||o;this.complete()},t._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,la||(la=document.createElement("a")),la.href=e,e=ia()(la.href,{strictMode:!0});var o=!e.port&&""===t.port||e.port===t.port,i=e.protocol?e.protocol+":":"";return e.host===t.hostname&&o&&i===t.protocol?"":"anonymous"},t._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},t._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},t._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var o=e.indexOf("/");t=e.substring(o+1,e.indexOf(";",o))}else{var i=e.indexOf("?"),r=e.indexOf("#"),n=jt(-1<i?i:e.length,-1<r?r:e.length);e=e.substring(0,n),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},t._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain";}},te(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();ca.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ca.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ca.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ca.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ca._loadTypeMap={gif:ca.LOAD_TYPE.IMAGE,png:ca.LOAD_TYPE.IMAGE,bmp:ca.LOAD_TYPE.IMAGE,jpg:ca.LOAD_TYPE.IMAGE,jpeg:ca.LOAD_TYPE.IMAGE,tif:ca.LOAD_TYPE.IMAGE,tiff:ca.LOAD_TYPE.IMAGE,webp:ca.LOAD_TYPE.IMAGE,tga:ca.LOAD_TYPE.IMAGE,svg:ca.LOAD_TYPE.IMAGE,"svg+xml":ca.LOAD_TYPE.IMAGE,mp3:ca.LOAD_TYPE.AUDIO,ogg:ca.LOAD_TYPE.AUDIO,wav:ca.LOAD_TYPE.AUDIO,mp4:ca.LOAD_TYPE.VIDEO,webm:ca.LOAD_TYPE.VIDEO},ca._xhrTypeMap={xhtml:ca.XHR_RESPONSE_TYPE.DOCUMENT,html:ca.XHR_RESPONSE_TYPE.DOCUMENT,htm:ca.XHR_RESPONSE_TYPE.DOCUMENT,xml:ca.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ca.XHR_RESPONSE_TYPE.DOCUMENT,svg:ca.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ca.XHR_RESPONSE_TYPE.DOCUMENT,gif:ca.XHR_RESPONSE_TYPE.BLOB,png:ca.XHR_RESPONSE_TYPE.BLOB,bmp:ca.XHR_RESPONSE_TYPE.BLOB,jpg:ca.XHR_RESPONSE_TYPE.BLOB,jpeg:ca.XHR_RESPONSE_TYPE.BLOB,tif:ca.XHR_RESPONSE_TYPE.BLOB,tiff:ca.XHR_RESPONSE_TYPE.BLOB,webp:ca.XHR_RESPONSE_TYPE.BLOB,tga:ca.XHR_RESPONSE_TYPE.BLOB,json:ca.XHR_RESPONSE_TYPE.JSON,text:ca.XHR_RESPONSE_TYPE.TEXT,txt:ca.XHR_RESPONSE_TYPE.TEXT,ttf:ca.XHR_RESPONSE_TYPE.BUFFER,otf:ca.XHR_RESPONSE_TYPE.BUFFER},ca.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ua=window.URL||window.webkitURL,_a=100,ga=/(#[\w-]+)?$/,ma=function(){function e(t,o){var n=this;void 0===t&&(t=""),void 0===o&&(o=10),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=$(this._boundLoadResource,o),this._queue.pause(),this.resources={},this.onProgress=new na.a,this.onError=new na.a,this.onLoad=new na.a,this.onStart=new na.a,this.onComplete=new na.a;for(var r=0;r<e._defaultBeforeMiddleware.length;++r)this.pre(e._defaultBeforeMiddleware[r]);for(var i=0;i<e._defaultAfterMiddleware.length;++i)this.use(e._defaultAfterMiddleware[i])}var t=e.prototype;return t.add=function(e,t,o,r){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(r=t||e.callback||e.onComplete,o=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(r=o,o=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof o&&(r=o,o=null),this.loading&&(!o||!o.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error("Resource named \""+e+"\" already exists.");if(t=this._prepareUrl(t),this.resources[e]=new ca(e,t,o),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var i=o.parentResource,a=[],s=0;s<i.children.length;++s)i.children[s].isComplete||a.push(i.children[s]);var l=i.progressChunk*(a.length+1),d=l/(a.length+2);i.children.push(this.resources[e]),i.progressChunk=d;for(var c=0;c<a.length;++c)a[c].progressChunk=d;this.resources[e].progressChunk=d}return this._queue.push(this.resources[e]),this},t.pre=function(e){return this._beforeMiddleware.push(e),this},t.use=function(e){return this._afterMiddleware.push(e),this},t.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},t.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=_a/t;this._onStart(),this._queue.resume()}return this},t._prepareUrl=function(e){var t=ia()(e,{strictMode:!0}),o;if(o=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=ga.exec(o)[0];o=o.substr(0,o.length-i.length),o+=-1===o.indexOf("?")?"?"+this.defaultQueryString:"&"+this.defaultQueryString,o+=i}return o},t._loadResource=function(e,t){var o=this;e._dequeue=t,q(this._beforeMiddleware,function(t,i){t.call(o,e,function(){i(e.isComplete?{}:null)})},function(){e.isComplete?o._onLoad(e):(e._onLoadBinding=e.onComplete.once(o._onLoad,o),e.load())},!0)},t._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t._onComplete=function(){this.progress=_a,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),q(this._afterMiddleware,function(o,i){o.call(t,e,i)},function(){e.onAfterMiddleware.dispatch(e),t.progress=jt(_a,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()},!0)},te(e,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),e}();ma._defaultBeforeMiddleware=[],ma._defaultAfterMiddleware=[],ma.pre=function(e){return ma._defaultBeforeMiddleware.push(e),ma},ma.use=function(e){return ma._defaultAfterMiddleware.push(e),ma};/*!
 * @pixi/loaders - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ha=ca,Ta=function(e,t){return Ta=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Ta(e,t)},fa=function(){function e(){}return e.use=function(e,t){e.data&&e.type===ca.TYPE.IMAGE&&(e.texture=br.fromLoader(e.data,e.url,e.name)),t()},e}(),ba=function(e){function t(o,r){for(var n=e.call(this,o,r)||this,a=0;a<t._plugins.length;++a){var i=t._plugins[a],s=i.pre,l=i.use;s&&n.pre(s),l&&n.use(l)}return n._protected=!1,n}return ae(t,e),t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}(ma);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ba.registerPlugin({use:{caching:function(e,t){var o=this;aa[e.url]?(e.data=aa[e.url],e.complete()):e.onComplete.once(function(){return aa[o.url]=o.data}),t()},parsing:function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===ca.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||"string"==typeof e.data){var o=e.xhr.getResponseHeader("content-type");if(o&&0===o.indexOf("image"))return e.data=new Image,e.data.src="data:"+o+";base64,"+ne(e.xhr.responseText),e.type=ca.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}else if(0===e.data.type.indexOf("image")){var i=ua.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=i,e.type=ca.TYPE.IMAGE,void(e.data.onload=function(){ua.revokeObjectURL(i),e.data.onload=null,t()})}t()}}.parsing}),ba.registerPlugin(fa);var Ea=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?ba.shared:new ba},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),ya=function(e,t){return ya=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},ya(e,t)},va=function(e){function t(t,o,i,r){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===r&&(r=!1);var n=e.call(this)||this,a=16384;return i>a&&(i=a),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=wo.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(o),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return se(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,a(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.valid&&this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Xt(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Li),Sa=function(){function e(e,t,o){this.geometry=new kr,this.indexBuffer=null,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var r=0,i;r<e.length;++r)i=e[r],i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||Ho.FLOAT,offset:i.offset},t[r]?this.dynamicProperties.push(i):this.staticProperties.push(i);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Rr(m(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var o=0,i;o<this.dynamicProperties.length;++o)i=this.dynamicProperties[o],i.offset=t,t+=i.size,this.dynamicStride+=i.size;var r=new ArrayBuffer(4*(4*(this.size*this.dynamicStride)));this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new Rr(this.dynamicData,!1,!1);var n=0;this.staticStride=0;for(var o=0,i;o<this.staticProperties.length;++o)i=this.staticProperties[o],i.offset=n,n+=i.size,this.staticStride+=i.size;var a=new ArrayBuffer(4*(4*(this.size*this.staticStride)));this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Rr(this.staticData,!0,!1);for(var o=0,i;o<this.dynamicProperties.length;++o)i=this.dynamicProperties[o],e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ho.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset);for(var o=0,i;o<this.staticProperties.length;++o)i=this.staticProperties[o],e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ho.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)},e.prototype.uploadDynamic=function(e,t,o){for(var r=0,i;r<this.dynamicProperties.length;r++)i=this.dynamicProperties[r],i.uploadFunction(e,t,o,i.type===Ho.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset);this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,o){for(var r=0,i;r<this.staticProperties.length;r++)i=this.staticProperties[r],i.uploadFunction(e,t,o,i.type===Ho.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset);this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),Ra=function(e){function t(t){var o=e.call(this,t)||this;return o.shader=null,o.properties=null,o.tempMatrix=new fi,o.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:o.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:o.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:o.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:o.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ho.UNSIGNED_BYTE,uploadFunction:o.uploadTint,offset:0}],o.shader=an.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),o.state=un.for2d(),o}return se(t,e),t.prototype.render=function(e){var t=e.children,o=e._maxSize,r=e._batchSize,n=this.renderer,a=t.length;if(0!==a){a>o&&!e.autoResize&&(a=o);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var l=t[0]._texture.baseTexture;this.state.blendMode=p(e.blendMode,l.alphaMode),n.state.set(this.state);var d=n.gl,c=e.worldTransform.copyTo(this.tempMatrix);c.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=u(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,l.alphaMode),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);for(var _=!1,g=0,i=0,m;g<a;g+=r,i+=1){m=a-g,m>r&&(m=r),i>=s.length&&s.push(this._generateOneMoreBuffer(e));var h=s[i];h.uploadDynamic(t,g,m);var T=e._bufferUpdateIDs[i]||0;_=_||h._updateID<T,_&&(h._updateID=e._updateID,h.uploadStatic(t,g,m)),n.geometry.bind(h.geometry),d.drawElements(d.TRIANGLES,6*m,d.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],o=e._maxSize,r=e._batchSize,n=e._properties,a=0;a<o;a+=r)t.push(new Sa(this.properties,n,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,o=e._properties;return new Sa(this.properties,o,t)},t.prototype.uploadVertices=function(e,t,o,r,n,a){for(var s=0,l=0,d=0,c=0,p=0;p<o;++p){var i=e[t+p],u=i._texture,_=i.scale.x,g=i.scale.y,m=u.trim,h=u.orig;m?(l=m.x-i.anchor.x*h.width,s=l+m.width,c=m.y-i.anchor.y*h.height,d=c+m.height):(s=h.width*(1-i.anchor.x),l=h.width*-i.anchor.x,d=h.height*(1-i.anchor.y),c=h.height*-i.anchor.y),r[a]=l*_,r[a+1]=c*g,r[a+n]=s*_,r[a+n+1]=c*g,r[a+2*n]=s*_,r[a+2*n+1]=d*g,r[a+3*n]=l*_,r[a+3*n+1]=d*g,a+=4*n}},t.prototype.uploadPosition=function(e,t,o,r,n,a){for(var s=0,i;s<o;s++)i=e[t+s].position,r[a]=i.x,r[a+1]=i.y,r[a+n]=i.x,r[a+n+1]=i.y,r[a+2*n]=i.x,r[a+2*n+1]=i.y,r[a+3*n]=i.x,r[a+3*n+1]=i.y,a+=4*n},t.prototype.uploadRotation=function(e,t,o,r,n,a){for(var s=0,i;s<o;s++)i=e[t+s].rotation,r[a]=i,r[a+n]=i,r[a+2*n]=i,r[a+3*n]=i,a+=4*n},t.prototype.uploadUvs=function(e,t,o,r,n,a){for(var s=0,i;s<o;++s)i=e[t+s]._texture._uvs,i?(r[a]=i.x0,r[a+1]=i.y0,r[a+n]=i.x1,r[a+n+1]=i.y1,r[a+2*n]=i.x2,r[a+2*n+1]=i.y2,r[a+3*n]=i.x3,r[a+3*n+1]=i.y3,a+=4*n):(r[a]=0,r[a+1]=0,r[a+n]=0,r[a+n+1]=0,r[a+2*n]=0,r[a+2*n+1]=0,r[a+3*n]=0,r[a+3*n+1]=0,a+=4*n)},t.prototype.uploadTint=function(e,t,o,r,n,a){for(var s=0;s<o;++s){var i=e[t+s],l=0<i._texture.baseTexture.alphaMode,d=i.alpha,c=1>d&&l?_(i._tintRGB,d):i._tintRGB+(255*d<<24);r[a]=c,r[a+n]=c,r[a+2*n]=c,r[a+3*n]=c,a+=4*n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(wr),Ia;/*!
 * @pixi/particles - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/graphics - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(Ia||(Ia={}));var xa;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(xa||(xa={}));var Ca={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var o=Pt(e/this.maxLength);return o<this.minSegments?o=this.minSegments:o>this.maxSegments&&(o=this.maxSegments),o}},Oa=function(){function e(){this.color=16777215,this.alpha=1,this.texture=br.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=br.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),ka=function(e,t){return ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},ka(e,t)},Aa={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var o=e.points,r=e.holes,n=t.points,a=t.indices;if(6<=o.length){for(var s=[],l=0,i;l<r.length;l++)i=r[l],s.push(o.length/2),o=o.concat(i.points);var d=Ao()(o,s,2);if(!d)return;for(var c=n.length/2,l=0;l<d.length;l+=3)a.push(d[l]+c),a.push(d[l+1]+c),a.push(d[l+2]+c);for(var l=0;l<o.length;l++)n.push(o[l])}}},Na={build:function(e){var t=e.shape,o=e.points,r=t.x,n=t.y,a,s;if(o.length=0,e.type===ci.CIRC)a=t.radius,s=t.radius;else{var l=e.shape;a=l.width,s=l.height}if(0!==a&&0!==s){var d=Xt(30*Wt(t.radius))||Xt(15*Wt(a+s));d/=2.3;for(var c=2*Gt/d,p=0;p<d-.5;p++)o.push(r+Ht(-c*p)*a,n+Ut(-c*p)*s);o.push(o[0],o[1])}},triangulate:function(e,t){var o=e.points,r=t.points,n=t.indices,a=r.length/2,s=a,l=e.shape,d=e.matrix,c=l.x,p=l.y;r.push(e.matrix?d.a*c+d.c*p+d.tx:c,e.matrix?d.b*c+d.d*p+d.ty:p);for(var u=0;u<o.length;u+=2)r.push(o[u],o[u+1]),n.push(a++,s,a)}},La={build:function(e){var t=e.shape,o=t.x,i=t.y,r=t.width,n=t.height,a=e.points;a.length=0,a.push(o,i,o+r,i,o+r,i+n,o,i+n)},triangulate:function(e,t){var o=e.points,i=t.points,r=i.length/2;i.push(o[0],o[1],o[2],o[3],o[6],o[7],o[4],o[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}},Da={build:function(e){var t=e.shape,o=e.points,i=t.x,r=t.y,n=t.width,a=t.height,s=zt(0,jt(t.radius,jt(n,a)/2));o.length=0,s?(ce(i,r+s,i,r,i+s,r,o),ce(i+n-s,r,i+n,r,i+n,r+s,o),ce(i+n,r+a-s,i+n,r+a,i+n-s,r+a,o),ce(i+s,r+a,i,r+a,i,r+a-s,o)):o.push(i,r,i+n,r,i+n,r+a,i,r+a)},triangulate:function(e,t){for(var o=e.points,r=t.points,n=t.indices,a=r.length/2,s=Ao()(o,null,2),l=0,i=s.length;l<i;l+=3)n.push(s[l]+a),n.push(s[l+1]+a),n.push(s[l+2]+a);for(var l=0,i=o.length;l<i;l++)r.push(o[l],o[++l])}},Ma=function(e){function t(t,o,n,a,s,l){void 0===l&&(l=0);var d=this;s=s||a/2;for(var c=-1*Gt/2+l,p=2*n,u=[],_=0;_<p;_++){var i=_%2?s:a,r=_*(si/p)+c;u.push(t+i*Ut(r),o+i*Ht(r))}return d=e.call(this,u)||this,d}return le(t,e),t}(gi),Pa=function(){function e(){}return e.curveTo=function(e,t,o,i,r,n){var a=n[n.length-2],s=n[n.length-1],l=s-t,d=a-e,c=i-t,p=o-e,u=Vt(l*p-d*c);if(1e-8>u||0===r)return(n[n.length-2]!==e||n[n.length-1]!==t)&&n.push(e,t),null;var _=l*l+d*d,g=c*c+p*p,m=l*c+d*p,h=r*Wt(_)/u,T=r*Wt(g)/u,b=h*m/_,E=T*m/g,y=h*p+T*d,v=h*c+T*l,S=Ft(l*(T+b)-v,d*(T+b)-y),R=Ft(c*(h+E)-v,p*(h+E)-y);return{cx:y+e,cy:v+t,radius:r,startAngle:S,endAngle:R,anticlockwise:d*c>p*l}},e.arc=function(e,t,o,r,a,l,d,p,u){for(var _=d-l,g=Ca._segmentsCount(Vt(_)*a,40*Pt(Vt(_)/si)),n=_/(2*g),m=Ut(n),h=Ht(n),T=g-1,b=0;b<=T;++b){var i=b+T%1/T*b,E=n+l+2*n*i,y=Ut(E),c=-Ht(E);u.push((m*y+h*c)*a+o,(m*-c+h*y)*a+r)}},e}(),wa=function(){function e(){}return e.curveLength=function(e,o,r,a,s,l,d,c){for(var p=10,n=0,u=0,t=0,_=0,g=0,m=0,h=0,T=0,b=0,E=0,y=0,v=e,S=o,R=1;R<=p;++R)u=R/p,t=u*u,_=t*u,g=1-u,m=g*g,h=m*g,T=h*e+3*m*u*r+3*g*t*s+_*d,b=h*o+3*m*u*a+3*g*t*l+_*c,E=v-T,y=S-b,v=T,S=b,n+=Wt(E*E+y*y);return n},e.curveTo=function(t,o,r,a,s,l,d){var c=d[d.length-2],p=d[d.length-1];d.length-=2;var u=Ca._segmentsCount(e.curveLength(c,p,t,o,r,a,s,l)),n=0,_=0,g=0,m=0,h=0;d.push(c,p);for(var T=1,i=0;T<=u;++T)i=T/u,n=1-i,_=n*n,g=_*n,m=i*i,h=m*i,d.push(g*c+3*_*i*t+3*n*m*r+h*s,g*p+3*_*i*o+3*n*m*a+h*l)},e}(),Ba=function(){function e(){}return e.curveLength=function(e,t,o,i,r,n){var l=e-2*o+r,d=t-2*i+n,p=2*o-2*e,u=2*i-2*t,_=4*(l*l+d*d),a=4*(l*p+d*u),g=p*p+u*u,c=2*Wt(_+a+g),s=Wt(_),m=2*_*s,h=2*Wt(g),T=a/s;return(m*c+s*a*(c-h)+(4*g*_-a*a)*Math.log((2*s+T+c)/(T+h)))/(4*m)},e.curveTo=function(t,o,r,a,s){for(var l=s[s.length-2],d=s[s.length-1],c=Ca._segmentsCount(e.curveLength(l,d,t,o,r,a)),n=0,p=0,u=1,i;u<=c;++u)i=u/c,n=l+(t-l)*i,p=d+(o-d)*i,s.push(n+(t+(r-t)*i-n)*i,p+(o+(a-o)*i-p)*i)},e}(),Fa=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,o){this.reset(),this.style=e,this.start=t,this.attribStart=o},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Ua=(ts={},ts[ci.POLY]=Aa,ts[ci.CIRC]=Na,ts[ci.ELIP]=Na,ts[ci.RECT]=La,ts[ci.RREC]=Da,ts),Ha=[],Ga=[],Va=function(){function e(e,t,o,i){void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null),this.shape=e,this.lineStyle=o,this.fillStyle=t,this.matrix=i,this.type=e.type,this.points=[],this.holes=[]}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),za=new hi,Wa=new Oi,Xa=function(e){function t(){var t=e.call(this)||this;return t.uvsFloat32=null,t.indicesUint16=null,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.dirty=0,t.batchDirty=-1,t.cacheDirty=-1,t.clearDirty=0,t.drawCalls=[],t.batches=[],t.shapeIndex=0,t._bounds=new Oi,t.boundsDirty=-1,t.boundsPadding=0,t.batchable=!1,t.indicesUint16=null,t.uvsFloat32=null,t.closePointEps=1e-4,t}return le(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ga.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0,t;e<this.batches.length;e++)t=this.batches[e],t.reset(),Ha.push(t);this.batches.length=0},t.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,o,i){void 0===t&&(t=null),void 0===o&&(o=null),void 0===i&&(i=null);var r=new Va(e,t,o,i);return this.graphicsData.push(r),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var o=new Va(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=i.lineStyle,i.holes.push(o),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,o=0,i;o<t.length;++o)if((i=t[o],!!i.fillStyle.visible)&&i.shape&&(i.matrix?i.matrix.applyInverse(e,za):za.copyFrom(e),i.shape.contains(za.x,za.y))){var r=!1;if(i.holes)for(var n=0,a;n<i.holes.length;n++)if(a=i.holes[n],a.shape.contains(za.x,za.y)){r=!0;break}if(!r)return!0}return!1},t.prototype.updateBatches=function(e){if(!this.graphicsData.length)return void(this.batchable=!0);if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,o=this.graphicsData,r=null,n=null;0<this.batches.length&&(r=this.batches[this.batches.length-1],n=r.style);for(var a=this.shapeIndex;a<o.length;a++){this.shapeIndex++;var i=o[a],s=i.fillStyle,l=i.lineStyle,d=Ua[i.type];d.build(i),i.matrix&&this.transformPoints(i.points,i.matrix);for(var c=0,p;2>c;c++)if(p=0===c?s:l,!!p.visible){var u=p.texture.baseTexture,_=this.indices.length,g=this.points.length/2;u.wrapMode=Vo.REPEAT,0===c?this.processFill(i):this.processLine(i);var m=this.points.length/2-g;0!=m&&(r&&!this._compareStyles(n,p)&&(r.end(_,g),r=null),r||(r=Ha.pop()||new Fa,r.begin(p,_,g),this.batches.push(r),n=p),this.addUvs(this.points,t,p.texture,g,m,p.matrix))}}var h=this.indices.length,T=this.points.length/2;if(r&&r.end(h,T),0===this.batches.length)return void(this.batchable=!0);if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{this.indicesUint16=65535<T&&e?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(e,t){return!!(e&&t)&&e.texture.baseTexture===t.texture.baseTexture&&e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var o=this.graphicsData[e],i=o.fillStyle,r=o.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,o=e.length,i;t<o;t++){i=e[t];for(var r=0,n;r<i.size;r++)n=i.start+r,this.indicesUint16[n]-=i.attribStart}},t.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var e=this.batches,o=0;o<e.length;o++)if(e[o].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++or._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ga.push(this.drawCalls[t]);this.drawCalls.length=0;var o=this.colors,i=this.textureIds,r=Ga.pop();r||(r=new Un,r.texArray=new Hn),r.texArray.count=0,r.start=0,r.size=0,r.type=Bo.TRIANGLES;var n=0,a=null,s=0,l=!1,d=Bo.TRIANGLES,c=0;this.drawCalls.push(r);for(var t=0;t<this.batches.length;t++){var p=this.batches[t],u=8,_=p.style,g=_.texture.baseTexture;l!=!!_.native&&(l=!!_.native,d=l?Bo.LINES:Bo.TRIANGLES,a=null,n=u,e++),a!==g&&(a=g,g._batchEnabled!==e&&(n===u&&(e++,n=0,0<r.size&&(r=Ga.pop(),!r&&(r=new Un,r.texArray=new Hn),this.drawCalls.push(r)),r.start=c,r.size=0,r.texArray.count=0,r.type=d),g.touched=1,g._batchEnabled=e,g._batchLocation=n,g.wrapMode=10497,r.texArray.elements[r.texArray.count++]=g,n++)),r.size+=p.size,c+=p.size,s=g._batchLocation,this.addColors(o,_.color,_.alpha,p.attribSize),this.addTextureIds(i,s,p.attribSize)}or._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,o=this.colors,r=this.textureIds,n=new ArrayBuffer(4*(3*e.length)),a=new Float32Array(n),s=new Uint32Array(n),l=0,d=0;d<e.length/2;d++)a[l++]=e[2*d],a[l++]=e[2*d+1],a[l++]=t[2*d],a[l++]=t[2*d+1],s[l++]=o[d],a[l++]=r[d];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){if(e.holes.length)this.processHoles(e.holes),Aa.triangulate(e,this);else{var t=Ua[e.type];t.triangulate(e,this)}},t.prototype.processLine=function(e){me(e,this);for(var t=0;t<e.holes.length;t++)me(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var o=e[t],i=Ua[o.type];i.build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Wa,o=fi.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],n=i.shape,a=i.type,s=i.lineStyle,l=i.matrix||fi.IDENTITY,d=0;if(s&&s.visible){var c=s.alignment;d=s.width,d*=a===ci.POLY?.5+Vt(.5-c):zt(0,c)}if(o!==l&&(!t.isEmpty()&&(e.addBoundsMatrix(t,o),t.clear()),o=l),a===ci.RECT||a===ci.RREC){var p=n;t.addFramePad(p.x,p.y,p.x+p.width,p.y+p.height,d,d)}else if(a===ci.CIRC){var u=n;t.addFramePad(u.x,u.y,u.x,u.y,u.radius+d,u.radius+d)}else if(a===ci.ELIP){var _=n;t.addFramePad(_.x,_.y,_.x,_.y,_.width+d,_.height+d)}else{var g=n;e.addVerticesMatrix(o,g.points,0,g.points.length,d,d)}}t.isEmpty()||e.addBoundsMatrix(t,o),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var o=0;o<e.length/2;o++){var i=e[2*o],r=e[2*o+1];e[2*o]=t.a*i+t.c*r+t.tx,e[2*o+1]=t.b*i+t.d*r+t.ty}},t.prototype.addColors=function(e,t,o,i){for(var r=_((t>>16)+(65280&t)+((255&t)<<16),o);0<i--;)e.push(r)},t.prototype.addTextureIds=function(e,t,o){for(;0<o--;)e.push(t)},t.prototype.addUvs=function(e,t,o,i,r,n){void 0===n&&(n=null);for(var a=0,s=t.length,l=o.frame;a<r;){var d=e[2*(i+a)],c=e[2*(i+a)+1];if(n){var p=n.a*d+n.c*c+n.tx;c=n.b*d+n.d*c+n.ty,d=p}a++,t.push(d/l.width,c/l.height)}var u=o.baseTexture;(l.width<u.width||l.height<u.height)&&this.adjustUvs(t,o,s,r)},t.prototype.adjustUvs=function(e,t,o,r){for(var n=t.baseTexture,a=1e-6,s=o+2*r,l=t.frame,d=l.width/n.width,c=l.height/n.height,p=l.x/l.width,u=l.y/l.height,_=Xt(e[o]+a),g=Xt(e[o+1]+a),m=o+2;m<s;m+=2)_=jt(_,Xt(e[m]+a)),g=jt(g,Xt(e[m+1]+a));p-=_,u-=g;for(var m=o;m<s;m+=2)e[m]=(e[m]+p)*d,e[m+1]=(e[m+1]+u)*c},t.BATCHABLE_SIZE=100,t}(Wn),Ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=xa.BUTT,t.join=Ia.MITER,t.miterLimit=10,t}return le(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(Oa),ja=new Float32Array(3),Ja={},Ka=function(e){function t(t){void 0===t&&(t=null);var o=e.call(this)||this;return o._geometry=t||new Xa,o._geometry.refCount++,o.shader=null,o.state=un.for2d(),o._fillStyle=new Oa,o._lineStyle=new Ya,o._matrix=null,o._holeMode=!1,o.currentPath=null,o.batches=[],o.batchTint=-1,o.batchDirty=-1,o.vertexData=null,o.pluginName="batch",o._transformID=-1,o.tint=16777215,o.blendMode=wo.NORMAL,o}return le(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var t=arguments;e={width:t[0]||0,color:t[1]||0,alpha:void 0===t[2]?1:t[2],alignment:void 0===t[3]?.5:t[3],native:!!t[4]}}return this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){if("number"==typeof e){S("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var t=arguments,o=t[0],i=t[1],r=t[2],n=t[3],a=t[4],s=t[5],l=t[6];e={width:o,texture:i,color:r,alpha:n,matrix:a,alignment:s,native:l},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({width:0,texture:br.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:xa.BUTT,join:Ia.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var d=0<e.width&&0<e.alpha;return d?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:d},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;2<t&&(this.drawShape(this.currentPath),this.currentPath=new gi,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new gi,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points,i=o[o.length-2],r=o[o.length-1];return(i!==e||r!==t)&&o.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,o,i){this._initCurve();var r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),Ba.curveTo(e,t,o,i,r),this},t.prototype.bezierCurveTo=function(e,t,o,i,r,n){return this._initCurve(),wa.curveTo(e,t,o,i,r,n,this.currentPath.points),this},t.prototype.arcTo=function(e,t,o,i,r){this._initCurve(e,t);var n=this.currentPath.points,a=Pa.curveTo(e,t,o,i,r,n);if(a){var s=a.cx,l=a.cy,d=a.radius,c=a.startAngle,p=a.endAngle,u=a.anticlockwise;this.arc(s,l,d,c,p,u)}return this},t.prototype.arc=function(e,t,o,i,r,n){if(void 0===n&&(n=!1),i===r)return this;!n&&r<=i?r+=si:n&&i<=r&&(i+=si);var a=r-i;if(0==a)return this;var s=e+Ut(i)*o,l=t+Ht(i)*o,d=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var p=Vt(c[c.length-2]-s),u=Vt(c[c.length-1]-l);if(p<d&&u<d);else c.push(s,l)}else this.moveTo(s,l),c=this.currentPath.points;return Pa.arc(s,l,e,t,o,i,r,n,c),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:br.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){if(e instanceof br){S("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var t=arguments,o=t[0],i=t[1],r=t[2],n=t[3];e={texture:o,color:i,alpha:r,matrix:n},Object.keys(e).forEach(function(t){return void 0===e[t]&&delete e[t]})}e=Object.assign({texture:br.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var a=0<e.alpha;return a?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:a},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,o,i){return this.drawShape(new pi(e,t,o,i))},t.prototype.drawRoundedRect=function(e,t,o,i,r){return this.drawShape(new mi(e,t,o,i,r))},t.prototype.drawCircle=function(e,t,o){return this.drawShape(new ui(e,t,o))},t.prototype.drawEllipse=function(e,t,o,i){return this.drawShape(new _i(e,t,o,i))},t.prototype.drawPolygon=function(){for(var e=arguments,t=[],o=0;o<arguments.length;o++)t[o]=e[o];var i=!0,r=t[0],n;r.points?(i=r.closeStroke,n=r.points):Array.isArray(t[0])?n=t[0]:n=t;var a=new gi(n);return a.closeStroke=i,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.drawStar=function(e,t,o,i,r,n){return void 0===n&&(n=0),this.drawPolygon(new Ma(e,t,o,i,r,n))},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===ci.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,o=e.context.supports.uint32Indices;t.updateBatches(o),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,o=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=o,this.vertexData=new Float32Array(e.points);for(var r=0;r<o;r++){var i=e.batches[r],n=i.style.color,s=new Float32Array(this.vertexData.buffer,2*(4*i.attribStart),2*i.attribSize),l=new Float32Array(e.uvsFloat32.buffer,2*(4*i.attribStart),2*i.attribSize),d=new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),c={vertexData:s,blendMode:t,indices:d,uvs:l,_batchRGB:a(n),_tintRGB:n,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=c}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,o=this.batches.length,i;t<o;t++)i=this.batches[t],i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),o=this._geometry,r=this.tint,n=this.worldAlpha,a=t.uniforms,s=o.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(255&r>>16)/255*n,a.tint[1]=(255&r>>8)/255*n,a.tint[2]=(255&r)/255*n,a.tint[3]=n,e.shader.bind(t),e.geometry.bind(o,t),e.state.set(this.state);for(var d=0,i=s.length;d<i;d++)this._renderDrawCallDirect(e,o.drawCalls[d])},t.prototype._renderDrawCallDirect=function(e,t){for(var o=t.texArray,i=t.type,r=t.size,n=t.start,a=o.count,s=0;s<a;s++)e.texture.bind(o.elements[s],s);e.geometry.draw(i,r,n)},t.prototype._resolveDirectShader=function(e){var t=this.shader,o=this.pluginName;if(!t){if(!Ja[o]){for(var r=new Int32Array(16),n=0;16>n;n++)r[n]=n;var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new fi,default:Dr.from({uSamplers:r},!0)},a=e.plugins[o]._shader.program;Ja[o]=new an(a,i)}t=Ja[o]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,o=t.minX,i=t.minY,r=t.maxX,n=t.maxY;this._bounds.addFrame(this.transform,o,i,r,n)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=a(this.tint,ja),t=0;t<this.batches.length;t++){var o=this.batches[t],i=o._batchRGB,n=255*(e[0]*i[0]),r=255*(e[1]*i[1]),s=255*(e[2]*i[2]),l=(n<<16)+(r<<8)+(0|s);o._tintRGB=(l>>16)+(65280&l)+((255&l)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,o=t.a,r=t.b,n=t.c,a=t.d,s=t.tx,l=t.ty,d=this._geometry.points,c=this.vertexData,p=0,u=0;u<d.length;u+=2){var i=d[u],_=d[u+1];c[p++]=o*i+n*_+s,c[p++]=a*_+r*i+l}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t._TEMP_POINT=new hi,t}(Li),qa=function(e,t){return qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},qa(e,t)},Za=new hi,Qa=new Uint16Array([0,1,2,0,2,3]),$a=function(e){function t(t){var o=e.call(this)||this;return o._anchor=new Ti(o._onAnchorUpdate,o,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),o._texture=null,o._width=0,o._height=0,o._tint=null,o._tintRGB=null,o.tint=16777215,o.blendMode=wo.NORMAL,o._cachedTint=16777215,o.uvs=null,o.texture=t||br.EMPTY,o.vertexData=new Float32Array(8),o.vertexTrimmedData=null,o._transformID=-1,o._textureID=-1,o._transformTrimmedID=-1,o._textureTrimmedID=-1,o.indices=Qa,o.pluginName="batch",o.isSprite=!0,o._roundPixels=xo.ROUND_PIXELS,o}return he(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=y(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=y(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,o=t.a,r=t.b,n=t.c,a=t.d,s=t.tx,l=t.ty,d=this.vertexData,c=e.trim,p=e.orig,u=this._anchor,_=0,g=0,m=0,h=0;if(c?(g=c.x-u._x*p.width,_=g+c.width,h=c.y-u._y*p.height,m=h+c.height):(g=-u._x*p.width,_=g+p.width,h=-u._y*p.height,m=h+p.height),d[0]=o*g+n*h+s,d[1]=a*h+r*g+l,d[2]=o*_+n*h+s,d[3]=a*h+r*_+l,d[4]=o*_+n*m+s,d[5]=a*m+r*_+l,d[6]=o*g+n*m+s,d[7]=a*m+r*g+l,this._roundPixels)for(var T=xo.RESOLUTION,b=0;b<d.length;++b)d[b]=Yt((0|d[b]*T)/T)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,o=e.orig,i=this._anchor,r=this.transform.worldTransform,n=r.a,a=r.b,s=r.c,l=r.d,d=r.tx,c=r.ty,p=-i._x*o.width,u=p+o.width,_=-i._y*o.height,g=_+o.height;t[0]=n*p+s*_+d,t[1]=l*_+a*p+c,t[2]=n*u+s*_+d,t[3]=l*_+a*u+c,t[4]=n*u+s*g+d,t[5]=l*g+a*u+c,t[6]=n*p+s*g+d,t[7]=l*g+a*p+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;e&&(e.width!==t.width||e.height!==t.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new pi),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Za);var t=this._texture.orig.width,o=this._texture.orig.height,i=-t*this.anchor.x,r=0;return!!(Za.x>=i&&Za.x<i+t&&(r=-o*this.anchor.y,Za.y>=r&&Za.y<r+o))},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var o="boolean"==typeof t?t:t&&t.texture;if(o){var i="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(e,o){var i=e instanceof br?e:br.from(e,o);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Vt(this.scale.x)*this._texture.orig.width},set:function(e){var t=y(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Vt(this.scale.y)*this._texture.orig.height},set:function(e){var t=y(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture===e||(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||br.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Li),es=function(e,t){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},es(e,t)},ts,os;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/sprite - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/text - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(os||(os={}));var is={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Gt/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:os.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},rs=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ns=function(){function e(e){this.styleID=0,this.reset(),ye(this,e,e)}return e.prototype.clone=function(){var t={};return ye(t,this,is),new e(t)},e.prototype.reset=function(){ye(this,is,is)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=be(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=be(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Ee(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=be(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var o=t.length-1,i;0<=o;o--)i=t[o].trim(),!/([\"\'])[^\'\"]+\1/.test(i)&&0>rs.indexOf(i)&&(i="\""+i+"\""),t[o]=i;return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}(),as=function(){function e(e,t,o,i,r,n,a,s,l){this.text=e,this.style=t,this.width=o,this.height=i,this.lines=r,this.lineWidths=n,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=l}return e.measureText=function(t,o,r,n){void 0===n&&(n=e._canvas),r=void 0===r||null===r?o.wordWrap:r;var a=o.toFontString(),s=e.measureFont(a);0===s.fontSize&&(s.fontSize=o.fontSize,s.ascent=o.fontSize);var l=n.getContext("2d");l.font=a;for(var d=r?e.wordWrap(t,o,n):t,c=d.split(/(?:\r\n|\r|\n)/),p=Array(c.length),u=0,_=0,i;_<c.length;_++)i=l.measureText(c[_]).width+(c[_].length-1)*o.letterSpacing,p[_]=i,u=zt(u,i);var g=u+o.strokeThickness;o.dropShadow&&(g+=o.dropShadowDistance);var m=o.lineHeight||s.fontSize+o.strokeThickness,h=zt(m,s.fontSize+o.strokeThickness)+(c.length-1)*(m+o.leading);return o.dropShadow&&(h+=o.dropShadowDistance),new e(t,o,g,h,c,p,m+o.leading,u,s)},e.wordWrap=function(t,o,r){void 0===r&&(r=e._canvas);for(var n=r.getContext("2d"),a=0,s="",l="",d={},c=o.letterSpacing,p=o.whiteSpace,u=e.collapseSpaces(p),_=e.collapseNewlines(p),g=!u,m=o.wordWrapWidth+c,h=e.tokenize(t),T=0,i;T<h.length;T++){if(i=h[T],e.isNewline(i)){if(!_){l+=e.addLine(s),g=!u,s="",a=0;continue}i=" "}if(u){var b=e.isBreakingSpace(i),E=e.isBreakingSpace(s[s.length-1]);if(b&&E)continue}var y=e.getFromCache(i,c,d,n);if(!(y>m))y+a>m&&(g=!1,l+=e.addLine(s),s="",a=0),(0<s.length||!e.isBreakingSpace(i)||g)&&(s+=i,a+=y);else if(""!==s&&(l+=e.addLine(s),s="",a=0),e.canBreakWords(i,o.breakWords))for(var v=e.wordWrapSplit(i),S=0;S<v.length;S++){for(var R=v[S],I=1;v[S+I];){var x=v[S+I],C=R[R.length-1];if(!e.canBreakChars(C,x,i,S,o.breakWords))R+=x;else break;I++}S+=R.length-1;var O=e.getFromCache(R,c,d,n);O+a>m&&(l+=e.addLine(s),g=!1,s="",a=0),s+=R,a+=O}else{0<s.length&&(l+=e.addLine(s),s="",a=0);var k=T===h.length-1;l+=e.addLine(i,!k),g=!1,s="",a=0}}return l+=e.addLine(s,!1),l},e.addLine=function(t,o){return void 0===o&&(o=!0),t=e.trimRight(t),t=o?t+"\n":t,t},e.getFromCache=function(e,t,o,i){var r=o[e];if(void 0===r){var n=e.length*t;r=i.measureText(e).width+n,o[e]=r}return r},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var o=t.length-1,i;0<=o&&(i=t[o],!!e.isBreakingSpace(i));o--)t=t.slice(0,-1);return t},e.isNewline=function(t){return"string"==typeof t&&0<=e._newlines.indexOf(t.charCodeAt(0))},e.isBreakingSpace=function(t){return"string"==typeof t&&0<=e._breakingSpaces.indexOf(t.charCodeAt(0))},e.tokenize=function(t){var o=[],r="";if("string"!=typeof t)return o;for(var n=0,i;n<t.length;n++){if(i=t[n],e.isBreakingSpace(i)||e.isNewline(i)){""!==r&&(o.push(r),r=""),o.push(i);continue}r+=i}return""!==r&&o.push(r),o},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var o={ascent:0,descent:0,fontSize:0},r=e._canvas,n=e._context;n.font=t;var a=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Pt(n.measureText(a).width),l=Pt(n.measureText(e.BASELINE_SYMBOL).width),d=2*l;l=0|l*e.BASELINE_MULTIPLIER,r.width=s,r.height=d,n.fillStyle="#f00",n.fillRect(0,0,s,d),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(a,0,l);var c=n.getImageData(0,0,s,d).data,p=c.length,u=4*s,_=0,i=0,g=!1;for(_=0;_<l;++_){for(var m=0;m<u;m+=4)if(255!==c[i+m]){g=!0;break}if(!g)i+=u;else break}for(o.ascent=l-_,i=p-u,g=!1,_=d;_>l;--_){for(var m=0;m<u;m+=4)if(255!==c[i+m]){g=!0;break}if(!g)i-=u;else break}return o.descent=_-l,o.fontSize=o.ascent+o.descent,e._fonts[t]=o,o},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),ss=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();ss.width=ss.height=10,as._canvas=ss,as._context=ss.getContext("2d"),as._fonts={},as.METRICS_STRING="|\xC9q\xC5",as.BASELINE_SYMBOL="M",as.BASELINE_MULTIPLIER=1.4,as._newlines=[10,13],as._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var ls={texture:!0,children:!1,baseTexture:!0},ds=function(e){function t(t,o,i){var r=this,n=!1;i||(i=document.createElement("canvas"),n=!0),i.width=3,i.height=3;var a=br.from(i);return a.orig=new pi,a.trim=new pi,r=e.call(this,a)||this,r._ownCanvas=n,r.canvas=i,r.context=r.canvas.getContext("2d"),r._resolution=xo.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=t,r.style=o,r.localStyleID=-1,r}return Te(t,e),t.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var o=this.context,r=as.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=r.width,s=r.height,d=r.lines,c=r.lineHeight,p=r.lineWidths,u=r.maxLineWidth,_=r.fontProperties;this.canvas.width=Pt((zt(1,n)+2*t.padding)*this._resolution),this.canvas.height=Pt((zt(1,s)+2*t.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=t.strokeThickness,o.textBaseline=t.textBaseline,o.lineJoin=t.lineJoin,o.miterLimit=t.miterLimit;for(var g=t.dropShadow?2:1,m=0,i,h;m<g;++m){var T=t.dropShadow&&0===m,b=T?2*s:0,E=b*this.resolution;if(T){o.fillStyle="black",o.strokeStyle="black";var y=t.dropShadowColor,v=a("number"==typeof y?y:l(y));o.shadowColor="rgba("+255*v[0]+","+255*v[1]+","+255*v[2]+","+t.dropShadowAlpha+")",o.shadowBlur=t.dropShadowBlur,o.shadowOffsetX=Ut(t.dropShadowAngle)*t.dropShadowDistance,o.shadowOffsetY=Ht(t.dropShadowAngle)*t.dropShadowDistance+E}else o.fillStyle=this._generateFillStyle(t,d,r),o.strokeStyle=t.stroke,o.shadowColor="0",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;for(var S=0;S<d.length;S++)i=t.strokeThickness/2,h=t.strokeThickness/2+S*c+_.ascent,"right"===t.align?i+=u-p[S]:"center"===t.align&&(i+=(u-p[S])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[S],i+t.padding,h+t.padding-b,!0),t.fill&&this.drawLetterSpacing(d[S],i+t.padding,h+t.padding-b)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,o,r){void 0===r&&(r=!1);var n=this._style,a=n.letterSpacing;if(0===a)return void(r?this.context.strokeText(e,t,o):this.context.fillText(e,t,o));for(var s=t,l=Array.from?Array.from(e):e.split(""),d=this.context.measureText(e).width,c=0,p=0,i;p<l.length;++p)i=l[p],r?this.context.strokeText(i,s,o):this.context.fillText(i,s,o),c=this.context.measureText(e.substring(p+1)).width,s+=d-c+a,d=c},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=R(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var o=this._texture,i=this._style,r=i.trim?0:i.padding,n=o.baseTexture;o.trim.width=o._frame.width=Pt(e.width/this._resolution),o.trim.height=o._frame.height=Pt(e.height/this._resolution),o.trim.x=-r,o.trim.y=-r,o.orig.width=o._frame.width-2*r,o.orig.height=o._frame.height-2*r,this._onTextureUpdate(),n.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,o){var r=e.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var n=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,s=Pt(this.canvas.width/this._resolution)-n-2*a,l=Pt(this.canvas.height/this._resolution)-n-2*a,d=r.slice(),c=e.fillGradientStops.slice(),p;if(!c.length)for(var u=d.length+1,_=1;_<u;++_)c.push(_/u);if(d.unshift(r[0]),c.unshift(0),d.push(r[r.length-1]),c.push(1),e.fillGradientType===os.LINEAR_VERTICAL){p=this.context.createLinearGradient(s/2,a,s/2,l+a);for(var i=0,g=o.fontProperties.fontSize+e.strokeThickness,_=0,m;_<t.length;_++){m=o.lineHeight*_;for(var h=0,T;h<d.length;h++){T=0,T="number"==typeof c[h]?c[h]:h/d.length;var b=m/l+T*(g/l),E=zt(i,b);E=jt(E,1),p.addColorStop(E,d[h]),i=E}}}else{p=this.context.createLinearGradient(a,l/2,s+a,l/2);for(var y=d.length+1,v=1,_=0,S;_<d.length;_++)S=void 0,S="number"==typeof c[_]?c[_]:v/y,p.addColorStop(S,d[_]),v++}return p},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},ls,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Vt(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=y(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Vt(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=y(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof ns?e:new ns(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=(null===e||void 0===e?"":e)+"",this._text===e||(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution===e||(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t}($a);xo.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cs=function(e,t){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},cs(e,t)},ps=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}(),us=function(){function e(e){var t=this;this.limiter=new ps(xo.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(Oe),this.registerFindHook(ke),this.registerFindHook(Se),this.registerFindHook(Re),this.registerFindHook(Ie),this.registerUploadHook(xe),this.registerUploadHook(Ce)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),!this.ticking&&(this.ticking=!0,Ui.system.addOnce(this.tick,this,Bi.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var o=0,i=this.uploadHooks.length;o<i;o++)if(this.uploadHooks[o](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var o=0,i=r.length;o<i;o++)r[o]()}else Ui.system.addOnce(this.tick,this,Bi.UTILITY)},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,o=this.addHooks.length;t<o&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Li)for(var t=e.children.length-1;0<=t;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Ui.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}(),_s=function(e){function t(t){var o=e.call(this,t)||this;return o.uploadHookHelper=o.renderer,o.registerFindHook(Le),o.registerUploadHook(Ae),o.registerUploadHook(Ne),o}return ve(t,e),t}(us),gs=function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}(),ms=function(){function e(e,t,o){void 0===o&&(o=null),this._texture=e instanceof br?e:null,this.baseTexture=e instanceof or?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var i=this.baseTexture.resource;this.resolution=this._updateResolution(o||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,o=C(e,null);return null===o&&(o=void 0===t?1:parseFloat(t)),1!==o&&this.baseTexture.setResolution(o),o},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var o=t,r=e.BATCH_SIZE;o-t<r&&o<this._frameKeys.length;){var n=this._frameKeys[o],i=this._frames[n],a=i.frame;if(a){var s=null,l=null,d=!1!==i.trimmed&&i.sourceSize?i.sourceSize:i.frame,c=new pi(0,0,Xt(d.w)/this.resolution,Xt(d.h)/this.resolution);s=i.rotated?new pi(Xt(a.x)/this.resolution,Xt(a.y)/this.resolution,Xt(a.h)/this.resolution,Xt(a.w)/this.resolution):new pi(Xt(a.x)/this.resolution,Xt(a.y)/this.resolution,Xt(a.w)/this.resolution,Xt(a.h)/this.resolution),!1!==i.trimmed&&i.spriteSourceSize&&(l=new pi(Xt(i.spriteSourceSize.x)/this.resolution,Xt(i.spriteSourceSize.y)/this.resolution,Xt(a.w)/this.resolution,Xt(a.h)/this.resolution)),this.textures[n]=new br(this.baseTexture,s,c,l,i.rotated?2:0,i.anchor),br.addToCache(this.textures[n],n)}o++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var o=0,i;o<e[t].length;o++)i=e[t][o],this.animations[t].push(this.textures[i])}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(e){var t;for(var o in void 0===e&&(e=!1),this.textures)this.textures[o].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t?void 0:t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),hs=function(){function e(){}return e.use=function(t,o){var i=this,r=t.name+"_image";if(!t.data||t.type!==ha.TYPE.JSON||!t.data.frames||i.resources[r])return void o();var n={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},a=e.getResourcePath(t,i.baseUrl);i.add(r,a,n,function(e){if(e.error)return void o(e.error);var i=new ms(e.texture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,o()})})},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:Lo.a.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),Ts=function(e,t){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Ts(e,t)},fs=new hi,bs=function(e){function t(t,o,i){void 0===o&&(o=100),void 0===i&&(i=100);var r=e.call(this,t)||this;return r.tileTransform=new Ci,r._width=o,r._height=i,r.uvMatrix=t.uvMatrix||new mn(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return De(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,o=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,o,i)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(!this._localBoundsRect&&(this._localBoundsRect=new pi),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,fs);var t=this._width,o=this._height,i=-t*this.anchor._x;if(fs.x>=i&&fs.x<i+t){var r=-o*this.anchor._y;if(fs.y>=r&&fs.y<r+o)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,o){return"number"==typeof o&&(S("5.3.0","TilingSprite.from use options instead of width and height args"),o={width:o,height:arguments[2]}),new t(br.from(e,o),o.width,o.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}($a),Es="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ys=new fi,vs=function(e){function t(t){var o=e.call(this,t)||this,i={globals:o.renderer.globalUniforms};return o.shader=an.from(Es,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord - floor(vTextureCoord - uClampOffset);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),o.simpleShader=an.from(Es,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),o.quad=new Nr,o.state=un.for2d(),o}return De(t,e),t.prototype.render=function(e){var t=this.renderer,o=this.quad,i=o.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(i=o.uvs,i[0]=i[6]=-e.anchor.x,i[1]=i[3]=-e.anchor.y,i[2]=i[4]=1-e.anchor.x,i[5]=i[7]=1-e.anchor.y),o.invalidate();var r=e._texture,n=r.baseTexture,a=e.tileTransform.localTransform,s=e.uvMatrix,l=n.isPowerOfTwo&&r.frame.width===n.width&&r.frame.height===n.height;l&&(n._glTextures[t.CONTEXT_UID]?l=n.wrapMode!==Vo.CLAMP:n.wrapMode===Vo.CLAMP&&(n.wrapMode=Vo.REPEAT));var d=l?this.simpleShader:this.shader,c=r.width,u=r.height,_=e._width,m=e._height;ys.set(a.a*c/_,a.b*c/m,a.c*u/_,a.d*u/m,a.tx/_,a.ty/m),ys.invert(),l?ys.prepend(s.mapCoord):(d.uniforms.uMapCoord=s.mapCoord.toArray(!0),d.uniforms.uClampFrame=s.uClampFrame,d.uniforms.uClampOffset=s.uClampOffset),d.uniforms.uTransform=ys.toArray(!0),d.uniforms.uColor=g(e.tint,e.worldAlpha,d.uniforms.uColor,n.alphaMode),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=r,t.shader.bind(d),t.geometry.bind(o),this.state.blendMode=p(e.blendMode,n.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(wr),Ss=function(e,t){return Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Ss(e,t)},Rs=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),Is=new hi,xs=new gi,Cs=function(e){function t(t,o,i,r){void 0===r&&(r=Bo.TRIANGLES);var n=e.call(this)||this;return n.geometry=t,t.refCount++,n.shader=o,n.state=i||un.for2d(),n.drawMode=r,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=0,n._transformID=-1,n.tint=16777215,n.blendMode=wo.NORMAL,n._roundPixels=xo.ROUND_PIXELS,n.batchUvs=null,n}return Me(t,e),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var o=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Bo.TRIANGLES&&o.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.program.uniformData.translationMatrix&&(t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry,t=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var o=this.transform.worldTransform,r=o.a,n=o.b,a=o.c,s=o.d,l=o.tx,d=o.ty,c=this.vertexData,p=0;p<c.length/2;p++){var i=t[2*p],u=t[2*p+1];c[2*p]=r*i+a*u+l,c[2*p+1]=n*i+s*u+d}if(this._roundPixels)for(var _=xo.RESOLUTION,p=0;p<c.length;++p)c[p]=Yt((0|c[p]*_)/_);this.vertexDirty=e.vertexDirtyId}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(!this.batchUvs&&(this.batchUvs=new Rs(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Is);for(var t=this.geometry.getBuffer("aVertexPosition").data,o=xs.points,r=this.geometry.getIndex().data,n=r.length,a=4===this.drawMode?3:1,s=0;s+2<n;s+=a){var i=2*r[s],l=2*r[s+1],d=2*r[s+2];if(o[0]=t[i],o[1]=t[i+1],o[2]=t[l],o[3]=t[l+1],o[4]=t[d],o[5]=t[d+1],xs.contains(Is.x,Is.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Li),Os=function(e){function t(t,o){var i=this,r={uSampler:t,alpha:1,uTextureMatrix:fi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return o=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},o),o.uniforms&&Object.assign(r,o.uniforms),i=e.call(this,o.program||nn.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r)||this,i._colorDirty=!1,i.uvMatrix=new mn(t),i.batchable=void 0===o.program,i.pluginName=o.pluginName,i.tint=o.tint,i.alpha=o.alpha,i}return Me(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e===this._alpha||(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e===this._tint||(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;g(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(an),ks=function(e){function t(t,o,i){var r=e.call(this)||this,n=new Rr(t),a=new Rr(o,!0),s=new Rr(i,!0,!0);return r.addAttribute("aVertexPosition",n,2,!1,Ho.FLOAT).addAttribute("aTextureCoord",a,2,!1,Ho.FLOAT).addIndex(s),r._updateId=-1,r}return Me(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(kr),As=function(e,t){return As=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},As(e,t)},Ns=function(){return function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]}}(),Ls=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),o={info:[],common:[],page:[],char:[],chars:[],kerning:[]};for(var r in t){var i=t[r].match(/^[a-z]+/gm)[0],n=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in n){var l=n[s].split("="),d=l[0],c=l[1].replace(/"/gm,""),p=parseFloat(c),u=isNaN(p)?c:p;a[d]=u}o[i].push(a)}var _=new Ns;return o.info.forEach(function(e){return _.info.push({face:e.face,size:parseInt(e.size,10)})}),o.common.forEach(function(e){return _.common.push({lineHeight:parseInt(e.lineHeight,10)})}),o.page.forEach(function(e){return _.page.push({id:parseInt(e.id,10),file:e.file})}),o.char.forEach(function(e){return _.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})}),o.kerning.forEach(function(e){return _.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})}),_},e}(),Ds=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new Ns,o=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),l=0;l<o.length;l++)t.info.push({face:o[l].getAttribute("face"),size:parseInt(o[l].getAttribute("size"),10)});for(var l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(var l=0;l<n.length;l++)t.page.push({id:parseInt(n[l].getAttribute("id"),10)||0,file:n[l].getAttribute("file")});for(var l=0,i;l<a.length;l++)i=a[l],t.char.push({id:parseInt(i.getAttribute("id"),10),page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xoffset:parseInt(i.getAttribute("xoffset"),10),yoffset:parseInt(i.getAttribute("yoffset"),10),xadvance:parseInt(i.getAttribute("xadvance"),10)});for(var l=0;l<s.length;l++)t.kerning.push({first:parseInt(s[l].getAttribute("first"),10),second:parseInt(s[l].getAttribute("second"),10),amount:parseInt(s[l].getAttribute("amount"),10)});return t},e}(),Ms=[Ls,Ds],Ps=function(){function e(e,t){var o=e.info[0],r=e.common[0],n=e.page[0],a=C(n.file),s={};this.font=o.face,this.size=o.size,this.lineHeight=r.lineHeight/a,this.chars={},this.pageTextures=s;for(var l=0;l<e.page.length;l++){var i=e.page[l],d=i.id,c=i.file;s[d]=t instanceof Array?t[l]:t[c]}for(var l=0;l<e.char.length;l++){var p=e.char[l],d=p.id,u=p.page,_=e.char[l],g=_.x,m=_.y,h=_.width,T=_.height,b=_.xoffset,E=_.yoffset,y=_.xadvance;g/=a,m/=a,h/=a,T/=a,b/=a,E/=a,y/=a;var v=new pi(g+s[u].frame.x/a,m+s[u].frame.y/a,h,T);this.chars[d]={xOffset:b,yOffset:E,xAdvance:y,kerning:{},texture:new br(s[u].baseTexture,v),page:u}}for(var l=0;l<e.kerning.length;l++){var S=e.kerning[l],R=S.first,I=S.second,x=S.amount;R/=a,I/=a,x/=a,this.chars[I]&&(this.chars[I].kerning[R]=x)}}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,o){var i;if(t instanceof Ns)i=t;else{var r=we(t);if(!r)throw new Error("Unrecognized data format for font.");i=r.parse(t)}o instanceof br&&(o=[o]);var n=new e(i,o);return e.available[n.font]=n,n},e.uninstall=function(t){var o=e.available[t];if(!o)throw new Error("No font found named '"+t+"'");o.destroy(),delete e.available[t]},e.from=function(t,o,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,r),a=n.chars,s=n.padding,l=n.resolution,d=n.textureWidth,c=n.textureHeight,p=Ue(a),u=o instanceof ns?o:new ns(o),_=new Ns;_.info[0]={face:u.fontFamily,size:u.fontSize},_.common[0]={lineHeight:u.fontSize};for(var g=0,m=0,h=0,T=[],b=0,i,E,y;b<p.length;b++){i||(i=document.createElement("canvas"),i.width=d,i.height=c,E=i.getContext("2d"),y=new or(i,{resolution:l}),T.push(new br(y)),_.page.push({id:T.length-1,file:""}));var v=as.measureText(p[b],u,!1,i),S=v.width,R=Pt(v.height),I=Pt(("italic"===u.fontStyle?2:1)*S);if(m>=c-R*l){if(0===m)throw new Error("[BitmapFont] textureHeight "+c+"px is "+("too small for "+u.fontSize+"px fonts"));--b,i=null,E=null,y=null,m=0,g=0,h=0;continue}if(h=zt(R+v.fontProperties.descent,h),I*l+g>=d){--b,m+=h*l,m=Pt(m),g=0,h=0;continue}Fe(i,E,v,g,m,l,u);var x=v.text.charCodeAt(0);_.char.push({id:x,page:T.length-1,x:g/l,y:m/l,width:I,height:R,xoffset:0,yoffset:0,xadvance:Pt(S-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0))}),g+=(I+2*s)*l,g=Pt(g)}var C=new e(_,T);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=C,C},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),ws=[],Bs=[],Fs=function(e){function t(o,i){void 0===i&&(i={});var r=e.call(this)||this;r._tint=16777215,i.font&&(S("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),r._upgradeStyle(i));var n=Object.assign({},t.styleDefaults,i),a=n.align,s=n.tint,l=n.maxWidth,d=n.letterSpacing,c=n.fontName,p=n.fontSize;if(!Ps.available[c])throw new Error("Missing BitmapFont \""+c+"\"");return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=a,r._tint=s,r._fontName=c,r._fontSize=p||Ps.available[c].size,r._text=o,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=d,r._anchor=new Ti(function(){r.dirty=!0},r,0,0),r.roundPixels=xo.ROUND_PIXELS,r.dirty=!0,r}return Pe(t,e),t.prototype.updateText=function(){for(var e=Ps.available[this._fontName],t=this._fontSize/e.size,o=new hi,r=[],n=[],a=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",s=a.length,l=this._maxWidth*e.size/this._fontSize,d=null,c=0,p=0,u=0,_=-1,g=0,m=0,h=0,T=0,i;T<s;T++){var b=a.charCodeAt(T),y=a.charAt(T);if(/(?:\s)/.test(y)&&(_=T,g=c),"\r"===y||"\n"===y){n.push(c),p=zt(p,c),++u,++m,o.x=0,o.y+=e.lineHeight,d=null;continue}var v=e.chars[b];if(v){d&&v.kerning[d]&&(o.x+=v.kerning[d]);var S=Bs.pop()||{texture:br.EMPTY,line:0,charCode:0,position:new hi};S.texture=v.texture,S.line=u,S.charCode=b,S.position.x=o.x+v.xOffset+this._letterSpacing/2,S.position.y=o.y+v.yOffset,r.push(S),o.x+=v.xAdvance+this._letterSpacing,c=o.x,h=zt(h,v.yOffset+v.texture.height),d=b,-1!==_&&0<l&&o.x>l&&(++m,E(r,1+_-m,1+T-_),T=_,_=-1,n.push(g),p=zt(p,g),u++,o.x=0,o.y+=e.lineHeight,d=null)}}var R=a.charAt(a.length-1);"\r"!==R&&"\n"!==R&&(/(?:\s)/.test(R)&&(c=g),n.push(c),p=zt(p,c));for(var I=[],T=0,x;T<=u;T++)x=0,"right"===this._align?x=p-n[T]:"center"===this._align&&(x=(p-n[T])/2),I.push(x);for(var C=r.length,O={},k=[],A=this._activePagesMeshData,T=0;T<A.length;T++)ws.push(A[T]);for(var T=0;T<C;T++){var N=r[T].texture,L=N.baseTexture.uid;if(!O[L]){var D=ws.pop();if(!D){var M=new ks,P=new Os(br.EMPTY),w=new Cs(M,P);D={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:w,vertices:null,uvs:null,indices:null}}D.index=0,D.indexCount=0,D.vertexCount=0,D.uvsCount=0,D.total=0,D.mesh.texture=new br(N.baseTexture),D.mesh.tint=this._tint,k.push(D),O[L]=D}O[L].total++}for(var T=0;T<A.length;T++)-1===k.indexOf(A[T])&&this.removeChild(A[T].mesh);for(var T=0;T<k.length;T++)k[T].mesh.parent!==this&&this.addChild(k[T].mesh);for(var T in this._activePagesMeshData=k,O){var D=O[T],B=D.total;(!((null===(i=D.indices)||void 0===i?void 0:i.length)>6*B)||D.vertices.length<2*Cs.BATCHABLE_SIZE)&&(D.vertices=new Float32Array(8*B),D.uvs=new Float32Array(8*B),D.indices=new Uint16Array(6*B)),D.mesh.size=6*B}for(var T=0;T<C;T++){var y=r[T],F=(y.position.x+I[y.line])*t,U=y.position.y*t,N=y.texture,H=O[N.baseTexture.uid],G=N.frame,V=N._uvs,z=H.index++;H.indices[6*z+0]=0+4*z,H.indices[6*z+1]=1+4*z,H.indices[6*z+2]=2+4*z,H.indices[6*z+3]=0+4*z,H.indices[6*z+4]=2+4*z,H.indices[6*z+5]=3+4*z,H.vertices[8*z+0]=F,H.vertices[8*z+1]=U,H.vertices[8*z+2]=F+G.width*t,H.vertices[8*z+3]=U,H.vertices[8*z+4]=F+G.width*t,H.vertices[8*z+5]=U+G.height*t,H.vertices[8*z+6]=F,H.vertices[8*z+7]=U+G.height*t,H.uvs[8*z+0]=V.x0,H.uvs[8*z+1]=V.y0,H.uvs[8*z+2]=V.x1,H.uvs[8*z+3]=V.y1,H.uvs[8*z+4]=V.x2,H.uvs[8*z+5]=V.y2,H.uvs[8*z+6]=V.x3,H.uvs[8*z+7]=V.y3}for(var T in this._textWidth=p*t,this._textHeight=(o.y+e.lineHeight)*t,O){var D=O[T];if(0!==this.anchor.x||0!==this.anchor.y)for(var W=0,X=this._textWidth*this.anchor.x,Y=this._textHeight*this.anchor.y,j=0;j<D.total;j++)D.vertices[W++]-=X,D.vertices[W++]-=Y,D.vertices[W++]-=X,D.vertices[W++]-=Y,D.vertices[W++]-=X,D.vertices[W++]-=Y,D.vertices[W++]-=X,D.vertices[W++]-=Y;this._maxLineHeight=h*t;var J=D.mesh.geometry.getBuffer("aVertexPosition"),K=D.mesh.geometry.getBuffer("aTextureCoord"),q=D.mesh.geometry.getIndex();J.data=D.vertices,K.data=D.uvs,q.data=D.indices,J.update(),K.update(),q.update()}for(var T=0;T<r.length;T++)Bs.push(r[T])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Ps.available[e])throw new Error("Missing BitmapFont \""+e+"\"");this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=(null===e||void 0===e?"":e)+"",this._text===e||(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth===e||(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var t=e.font.split(" ");e.fontName=1===t.length?t[0]:t.slice(1).join(" "),2<=t.length&&(e.fontSize=parseInt(t[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},t.registerFont=function(e,t){return S("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),Ps.install(e,t)},Object.defineProperty(t,"fonts",{get:function(){return S("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),Ps.available},enumerable:!1,configurable:!0}),t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Li),Us=function(){function e(){}return e.add=function(){ha.setExtensionXhrType("fnt",ha.XHR_RESPONSE_TYPE.DOCUMENT)},e.use=function(t,o){var r=we(t.data);if(!r)return void o();for(var n=e.getBaseUrl(this,t),a=r.parse(t.data),s={},l=function(e){s[e.metadata.pageFile]=e.texture,Object.keys(s).length===a.page.length&&(t.bitmapFont=Ps.install(a,s),o())},d=0;d<a.page.length;++d){var i=a.page[d].file,c=n+i,p=!1;for(var u in this.resources){var _=this.resources[u];if(_.url===c){_.metadata.pageFile=i,_.texture?l(_):_.onAfterMiddleware.add(l),p=!0;break}}if(!p){var g={crossOrigin:t.crossOrigin,loadType:ha.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:i},t.metadata.imageMetadata),parentResource:t};this.add(c,g,l)}}},e.getBaseUrl=function(t,o){var i=o.isDataUrl?"":e.dirname(o.url);return o.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),i=i.replace(t.baseUrl,""),i&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),Hs=function(e,t){return Hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Hs(e,t)},Gs=function(e){function t(t){void 0===t&&(t=1);var o=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return o.alpha=t,o}return He(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(_n),Vs=function(e,t){return Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Vs(e,t)},zs="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",Ws={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Xs="varying vec2 vBlurTexCoords[%size%];\nuniform sampler2D uSampler;\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n    %blur%\n}",Ys;/*!
 * @pixi/spritesheet - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/sprite-tiling - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/mesh - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/text-bitmap - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-alpha - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-blur - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Ys||(Ys={}));var js;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(js||(js={}));var Js;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Js||(Js={}));var Ks;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Ks||(Ks={}));var qs;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(qs||(qs={}));var Zs;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Zs||(Zs={}));var Qs;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Qs||(Qs={}));var $s;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.FLOAT=5126]="FLOAT",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})($s||($s={}));var el;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(el||(el={}));var tl;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(tl||(tl={}));var ol;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON"})(ol||(ol={}));var il;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"})(il||(il={}));var rl;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(rl||(rl={}));var nl;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(nl||(nl={}));var al;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(al||(al={}));var sl;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(sl||(sl={}));var ll;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(ll||(ll={}));var dl=function(e){function t(t,o,i,r,n){void 0===o&&(o=8),void 0===i&&(i=4),void 0===r&&(r=xo.RESOLUTION),void 0===n&&(n=5);var a=this,s=Ve(n,t),l=ze(n);return a=e.call(this,s,l)||this,a.horizontal=t,a.resolution=r,a._quality=0,a.quality=i,a.blur=o,a}return Ge(t,e),t.prototype.apply=function(e,t,o,r){if(this.uniforms.strength=o?this.horizontal?1/o.width*(o.width/t.width):1/o.height*(o.height/t.height):this.horizontal?1/e.renderer.width*(e.renderer.width/t.width):1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,o,r);else{var n=e.getFilterTexture(),a=e.renderer,s=t,l=n;this.state.blend=!1,e.applyFilter(this,s,l,rl.CLEAR);for(var d=1;d<this.passes-1;d++){e.bindAndClear(s,rl.BLIT),this.uniforms.uSampler=l;var i=l;l=s,s=i,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,o,r),e.returnFilterTexture(n)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Vt(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(_n),cl=function(e){function t(t,o,i,r){void 0===t&&(t=8),void 0===o&&(o=4),void 0===i&&(i=xo.RESOLUTION),void 0===r&&(r=5);var n=e.call(this)||this;return n.blurXFilter=new dl(!0,t,o,i,r),n.blurYFilter=new dl(!1,t,o,i,r),n.resolution=i,n.quality=o,n.blur=t,n.repeatEdgePixels=!1,n}return Ge(t,e),t.prototype.apply=function(e,t,o,i){var r=Vt(this.blurXFilter.strength),n=Vt(this.blurYFilter.strength);if(r&&n){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,rl.CLEAR),this.blurYFilter.apply(e,a,o,i),e.returnFilterTexture(a)}else n?this.blurYFilter.apply(e,t,o,i):this.blurXFilter.apply(e,t,o,i)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*zt(Vt(this.blurXFilter.strength),Vt(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(_n),pl=function(e,t){return pl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},pl(e,t)},ul=function(e){function t(){var t=this,o={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return t=e.call(this,Fn,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",o)||this,t.alpha=1,t}return We(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var o=e;t&&(this._multiply(o,this.uniforms.m,e),o=this._colorMatrix(o)),this.uniforms.m=o},t.prototype._multiply=function(e,t,o){return e[0]=t[0]*o[0]+t[1]*o[5]+t[2]*o[10]+t[3]*o[15],e[1]=t[0]*o[1]+t[1]*o[6]+t[2]*o[11]+t[3]*o[16],e[2]=t[0]*o[2]+t[1]*o[7]+t[2]*o[12]+t[3]*o[17],e[3]=t[0]*o[3]+t[1]*o[8]+t[2]*o[13]+t[3]*o[18],e[4]=t[0]*o[4]+t[1]*o[9]+t[2]*o[14]+t[3]*o[19]+t[4],e[5]=t[5]*o[0]+t[6]*o[5]+t[7]*o[10]+t[8]*o[15],e[6]=t[5]*o[1]+t[6]*o[6]+t[7]*o[11]+t[8]*o[16],e[7]=t[5]*o[2]+t[6]*o[7]+t[7]*o[12]+t[8]*o[17],e[8]=t[5]*o[3]+t[6]*o[8]+t[7]*o[13]+t[8]*o[18],e[9]=t[5]*o[4]+t[6]*o[9]+t[7]*o[14]+t[8]*o[19]+t[9],e[10]=t[10]*o[0]+t[11]*o[5]+t[12]*o[10]+t[13]*o[15],e[11]=t[10]*o[1]+t[11]*o[6]+t[12]*o[11]+t[13]*o[16],e[12]=t[10]*o[2]+t[11]*o[7]+t[12]*o[12]+t[13]*o[17],e[13]=t[10]*o[3]+t[11]*o[8]+t[12]*o[13]+t[13]*o[18],e[14]=t[10]*o[4]+t[11]*o[9]+t[12]*o[14]+t[13]*o[19]+t[14],e[15]=t[15]*o[0]+t[16]*o[5]+t[17]*o[10]+t[18]*o[15],e[16]=t[15]*o[1]+t[16]*o[6]+t[17]*o[11]+t[18]*o[16],e[17]=t[15]*o[2]+t[16]*o[7]+t[17]*o[12]+t[18]*o[17],e[18]=t[15]*o[3]+t[16]*o[8]+t[17]*o[13]+t[18]*o[18],e[19]=t[15]*o[4]+t[16]*o[9]+t[17]*o[14]+t[18]*o[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],t)},t.prototype.greyscale=function(e,t){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Gt;var o=Ut(e),i=Ht(e),r=1/3,n=Wt(r);this._loadMatrix([o+(1-o)*r,r*(1-o)-n*i,r*(1-o)+n*i,0,0,r*(1-o)+n*i,o+r*(1-o),r*(1-o)-n*i,0,0,r*(1-o)-n*i,r*(1-o)+n*i,o+r*(1-o),0,0,0,0,0,1,0],t)},t.prototype.contrast=function(e,t){var i=(e||0)+1,r=-.5*(i-1);this._loadMatrix([i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0],t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var o=2*e/3+1,i=-.5*(o-1);this._loadMatrix([o,i,i,0,0,i,o,i,0,0,i,i,o,0,0,0,0,0,1,0],t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,o,i,r){e=e||.2,t=t||.15,o=o||16770432,i=i||3375104;var n=(255&o>>16)/255,a=(255&o>>8)/255,s=(255&o)/255,l=(255&i>>16)/255,d=(255&i>>8)/255,c=(255&i)/255,p=[.3,.59,.11,0,0,n,a,s,e,0,l,d,c,t,0,n-l,a-d,s-c,0,0];this._loadMatrix(p,r)},t.prototype.night=function(e,t){e=e||.1;var o=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(o,t)},t.prototype.predator=function(e,t){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(_n);/*!
 * @pixi/filter-color-matrix - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ul.prototype.grayscale=ul.prototype.greyscale;/*!
 * @pixi/filter-displacement - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _l=function(e,t){return _l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},_l(e,t)},gl=function(e){function t(t,o){var i=this,r=new fi;return t.renderable=!1,i=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=t,i.maskMatrix=r,(null===o||void 0===o)&&(o=20),i.scale=new hi(o,o),i}return Xe(t,e),t.prototype.apply=function(e,t,o,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var r=this.maskSprite.worldTransform,n=Wt(r.a*r.a+r.b*r.b),a=Wt(r.c*r.c+r.d*r.d);0!==n&&0!==a&&(this.uniforms.rotation[0]=r.a/n,this.uniforms.rotation[1]=r.b/n,this.uniforms.rotation[2]=r.c/a,this.uniforms.rotation[3]=r.d/a),e.applyFilter(this,t,o,i)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(_n),ml=function(e,t){return ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},ml(e,t)},hl=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n","varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it's\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n")||this}return Ye(t,e),t}(_n),Tl=function(e,t){return Tl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Tl(e,t)},fl=function(e){function t(t,o){void 0===t&&(t=.5),void 0===o&&(o=Math.random());var i=e.call(this,Fn,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=o,i}return je(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(_n),bl=new fi;/*!
 * @pixi/filter-fxaa - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/filter-noise - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * @pixi/mixin-cache-as-bitmap - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ai.prototype._cacheAsBitmap=!1,Ai.prototype._cacheData=null;var El=function(){return function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}();Object.defineProperties(Ai.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(!this._cacheData&&(this._cacheData=new El),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),Ai.prototype._renderCached=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},Ai.prototype._initCachedDisplayObject=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.alpha;this.alpha=1,e.batch.flush();var o=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;o.pad(i)}o.ceil(xo.RESOLUTION);var r=e.renderTexture.current,n=e.renderTexture.sourceFrame.clone(),a=e.projection.transform,s=Er.create({width:o.width,height:o.height}),l="cacheAsBitmap_"+v();this._cacheData.textureCacheId=l,or.addToCache(s.baseTexture,l),br.addToCache(s,l);var d=this.transform.localTransform.copyTo(bl).invert().translate(-o.x,-o.y);this.render=this._cacheData.originalRender,e.render(this,s,!0,d,!1),e.projection.transform=a,e.renderTexture.bind(r,n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var c=new $a(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(o.x/o.width),c.anchor.y=-(o.y/o.height),c.alpha=t,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},Ai.prototype._renderCachedCanvas=function(e){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},Ai.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var t=this.getLocalBounds(null,!0),o=this.alpha;this.alpha=1;var i=e.context,r=e._projTransform;t.ceil(xo.RESOLUTION);var n=Er.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+v();this._cacheData.textureCacheId=a,or.addToCache(n.baseTexture,a),br.addToCache(n,a);var s=bl;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,n,!0,s,!1),e.context=i,e._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new $a(n);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(t.x/t.width),l.anchor.y=-(t.y/t.height),l.alpha=o,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},Ai.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Ai.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Ai.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,or.removeFromCache(this._cacheData.textureCacheId),br.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Ai.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},Ai.prototype.name=null,Li.prototype.getChildByName=function(e,t){for(var o=0,i=this.children.length;o<i;o++)if(this.children[o].name===e)return this.children[o];if(t)for(var o=0,i=this.children.length,r;o<i;o++)if(r=this.children[o],!!r.getChildByName){var n=this.children[o].getChildByName(e,!0);if(n)return n}return null},Ai.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new hi),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/mesh-extras - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yl=function(e,t){return yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},yl(e,t)},vl=function(e){function t(t,o,i,r){void 0===t&&(t=100),void 0===o&&(o=100),void 0===i&&(i=10),void 0===r&&(r=10);var n=e.call(this)||this;return n.segWidth=i,n.segHeight=r,n.width=t,n.height=o,n.build(),n}return Je(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],o=[],r=[],n=this.segWidth-1,a=this.segHeight-1,s=this.width/n,l=this.height/a,d=0;d<e;d++){var i=d%this.segWidth,c=0|d/this.segWidth;t.push(i*s,c*l),o.push(i/n,c/a)}for(var d=0;d<n*a;d++){var p=d%n,u=0|d/n,_=u*this.segWidth+p,g=u*this.segWidth+p+1,m=(u+1)*this.segWidth+p,h=(u+1)*this.segWidth+p+1;r.push(_,g,m,g,h,m)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(ks),Sl=function(e){function t(t,o,i){void 0===t&&(t=200),void 0===i&&(i=0);var r=e.call(this,new Float32Array(4*o.length),new Float32Array(4*o.length),new Uint16Array(6*(o.length-1)))||this;return r.points=o,r._width=t,r.textureScale=i,r.build(),r}return Je(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(1>e.length)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),o.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var n=o.data,a=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=0,l=e[0],d=this._width*this.textureScale,c=e.length,p=0,i;p<c;p++){if(i=4*p,0<this.textureScale){var u=l.x-e[p].x,_=l.y-e[p].y,g=Wt(u*u+_*_);l=e[p],s+=g/d}else s=p/(c-1);n[i]=s,n[i+1]=0,n[i+2]=s,n[i+3]=1}for(var m=0,p=0,i;p<c-1;p++)i=2*p,a[m++]=i,a[m++]=i+1,a[m++]=i+2,a[m++]=i+2,a[m++]=i+1,a[m++]=i+3;o.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(1>e.length)){for(var t=e[0],o=0,r=0,n=this.buffers[0].data,a=e.length,s=0,i;s<a;s++){var l=e[s],d=4*s;i=s<e.length-1?e[s+1]:l,r=-(i.x-t.x),o=i.y-t.y;var c=Wt(o*o+r*r),p=0<this.textureScale?this.textureScale*this._width/2:this._width/2;o/=c,r/=c,o*=p,r*=p,n[d]=l.x+o,n[d+1]=l.y+r,n[d+2]=l.x-o,n[d+3]=l.y-r,t=l}this.buffers[0].update()}},t.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},t}(ks),Rl=function(e){function t(t,o,i){void 0===i&&(i=0);var r=this,n=new Sl(t.height,o,i),a=new Os(t);return 0<i&&(t.baseTexture.wrapMode=Vo.REPEAT),r=e.call(this,n,a)||this,r.autoUpdate=!0,r}return Je(t,e),t.prototype._render=function(t){var o=this.geometry;(this.autoUpdate||o._width!==this.shader.texture.height)&&(o._width=this.shader.texture.height,o.update()),e.prototype._render.call(this,t)},t}(Cs),Il=function(e){function t(t,o,i){var r=this,n=new vl(t.width,t.height,o,i),a=new Os(br.WHITE);return r=e.call(this,n,a)||this,r.texture=t,r}return Je(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture===e||(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t}(Cs),xl=function(e){function t(t,o,i,r,n){void 0===t&&(t=br.EMPTY);var a=this,s=new ks(o,i,r);s.getBuffer("aVertexPosition").static=!1;var l=new Os(t);return a=e.call(this,s,l,null,n)||this,a.autoUpdate=!0,a}return Je(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)},t}(Cs),Cl=10,Ol=function(e){function t(t,o,i,r,n){void 0===o&&(o=Cl),void 0===i&&(i=Cl),void 0===r&&(r=Cl),void 0===n&&(n=Cl);var a=e.call(this,br.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=o,a._rightWidth=r,a._topHeight=i,a._bottomHeight=n,a.texture=t,a}return Je(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,o=this._topHeight+this._bottomHeight,i=this._height>o?1:this._height/o,r=jt(t,i);return r},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var o=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=o*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-o*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(Il),kl=function(e,t){return kl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},kl(e,t)},Al=function(e){function t(t,o){void 0===o&&(o=!0);var i=e.call(this,t[0]instanceof br?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=o,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}return Ke(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ui.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ui.shared.add(this.update,this,Bi.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=1e3*(t/60);0>i;)this._currentTime--,i+=this._durations[this.currentFrame];var r=Bt(this.animationSpeed*e);for(this._currentTime=Xt(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<o?this.onLoop():0>this.animationSpeed&&this.currentFrame>o&&this.onLoop()),this.updateTexture())},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame===e||(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var o=[],r=0;r<e.length;++r)o.push(br.from(e[r]));return new t(o)},t.fromImages=function(e){for(var o=[],r=0;r<e.length;++r)o.push(br.from(e[r]));return new t(o)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof br)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Xt(this._currentTime)%this._textures.length;return 0>e&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ui.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ui.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}($a),Nl=function(e,t){return Nl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Nl(e,t)},Ll="5.0.0";/*!
 * @pixi/sprite-animated - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** *//*!
 * pixi.js - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Bn.registerPlugin("accessibility",wi),Bn.registerPlugin("extract",ta),Bn.registerPlugin("interaction",Ki),Bn.registerPlugin("particle",Ra),Bn.registerPlugin("prepare",_s),Bn.registerPlugin("batch",Jn),Bn.registerPlugin("tilingSprite",vs),ba.registerPlugin(Us),ba.registerPlugin(hs),Kn.registerPlugin(Hi),Kn.registerPlugin(Ea);var Dl=function(e,t){return Dl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Dl(e,t)},Ml=function(){function e(e){this.renderer=e,this._foundShapes=[]}return e.prototype.pushMask=function(e){var t=this.renderer,o=e.maskObject||e;t.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(o,r),0<r.length){var n=t.context;n.beginPath();for(var a=0;a<r.length;a++){var i=r[a],s=i.transform.worldTransform;this.renderer.setContextTransform(s),this.renderGraphicsShape(i)}r.length=0,n.clip()}},e.prototype.recursiveFindShapes=function(e,t){e.geometry&&e.geometry.graphicsData&&t.push(e);var o=e.children;if(o)for(var r=0;r<o.length;r++)this.recursiveFindShapes(o[r],t)},e.prototype.renderGraphicsShape=function(e){e.finishPoly();var t=this.renderer.context,o=e.geometry.graphicsData,r=o.length;if(0!==r)for(var n=0;n<r;n++){var i=o[n],a=i.shape;if(a.type===ci.POLY){var s=a.points;t.moveTo(s[0],s[1]);for(var l=1;l<s.length/2;l++)t.lineTo(s[2*l],s[2*l+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&t.closePath()}else if(a.type===ci.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(a.type===ci.CIRC)t.arc(a.x,a.y,a.radius,0,2*Gt),t.closePath();else if(a.type===ci.ELIP){var d=2*a.width,c=2*a.height,p=a.x-d/2,u=a.y-c/2,_=.5522848,g=d/2*_,m=c/2*_,h=p+d,T=u+c,b=p+d/2,E=u+c/2;t.moveTo(p,E),t.bezierCurveTo(p,E-m,b-g,u,b,u),t.bezierCurveTo(b+g,u,h,E-m,h,E),t.bezierCurveTo(h,E+m,b+g,T,b,T),t.bezierCurveTo(b-g,T,p,E+m,p,E),t.closePath()}else if(a.type===ci.RREC){var y=a.x,v=a.y,S=a.width,R=a.height,I=a.radius,x=0|jt(S,R)/2;I=I>x?x:I,t.moveTo(y,v+I),t.lineTo(y,v+R-I),t.quadraticCurveTo(y,v+R,y+I,v+R),t.lineTo(y+S-I,v+R),t.quadraticCurveTo(y+S,v+R,y+S,v+R-I),t.lineTo(y+S,v+I),t.quadraticCurveTo(y+S,v,y+S-I,v),t.lineTo(y+I,v),t.quadraticCurveTo(y,v,y,v+I),t.closePath()}}},e.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},e.prototype.destroy=function(){},e}(),Pl=new fi,wl=function(e){function t(o){var i=e.call(this,Mo.CANVAS,o)||this;if(i.rootContext=i.view.getContext("2d",{alpha:i.transparent}),i.context=i.rootContext,i.refresh=!0,i.maskManager=new Ml(i),i.smoothProperty="imageSmoothingEnabled",!i.rootContext.imageSmoothingEnabled){var n=i.rootContext;n.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":n.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":n.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":n.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),i.blendModes=$e(),i._activeBlendMode=null,i._outerBlend=!1,i._projTransform=null,i.renderingToScreen=!1,r("Canvas"),i.resize(i.options.width,i.options.height),i}return qe(t,e),t.prototype.render=function(e,t,o,i,r){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var n=this.resolution;t?(t=t.castToBaseTexture(),!t._canvasRenderTarget&&(t._canvasRenderTarget=new ni(t.width,t.height,t.resolution),t.resource=new ur.CanvasResource(t._canvasRenderTarget.canvas),t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(this._projTransform=i||null,t||(this._lastObjectRendered=e),!r){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}if(a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=wo.NORMAL,this._outerBlend=!1,a.globalCompositeOperation=this.blendModes[wo.NORMAL],void 0===o?this.clearBeforeRender:o)if(this.renderingToScreen)this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height));else{t=t,t._canvasRenderTarget.clear();var c=t.clearColor;0<c[3]&&(a.fillStyle=s(d(c)),a.fillRect(0,0,t.realWidth,t.realHeight))}var p=this.context;this.context=a,e.renderCanvas(this),this.context=p,a.restore(),this.resolution=n,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,t,o){var i=e,r=this._projTransform,n=this.resolution;o=o||n,r&&(i=Pl,i.copyFrom(e),i.prepend(r)),t?this.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,0|i.tx*n,0|i.ty*n):this.context.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*n,i.ty*n)},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e,t){var o=e===wo.SRC_IN||e===wo.SRC_OUT||e===wo.DST_IN||e===wo.DST_ATOP;!t&&o&&(e=wo.NORMAL),this._activeBlendMode===e||(this._activeBlendMode=e,this._outerBlend=o,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,o){e.prototype.resize.call(this,t,o),this.smoothProperty&&(this.rootContext[this.smoothProperty]=xo.SCALE_MODE===Go.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,o){t.__plugins=t.__plugins||{},t.__plugins[e]=o},t}(wn),Bl={canvas:null,getTintedCanvas:function(e,t){var o=e.texture;t=Bl.roundColor(t);var i="#"+("00000"+(0|t).toString(16)).substr(-6);o.tintCache=o.tintCache||{};var r=o.tintCache[i],n;if(r){if(r.tintId===o._updateID)return o.tintCache[i];n=o.tintCache[i]}else n=document.createElement("canvas");if(Bl.tintMethod(o,t,n),n.tintId=o._updateID,Bl.convertTintToImage){var a=new Image;a.src=n.toDataURL(),o.tintCache[i]=a}else o.tintCache[i]=n;return n},getTintedPattern:function(e,t){t=Bl.roundColor(t);var o="#"+("00000"+(0|t).toString(16)).substr(-6);e.patternCache=e.patternCache||{};var i=e.patternCache[o];return i&&i.tintId===e._updateID?i:(Bl.canvas||(Bl.canvas=document.createElement("canvas")),Bl.tintMethod(e,t,Bl.canvas),i=Bl.canvas.getContext("2d").createPattern(Bl.canvas,"repeat"),i.tintId=e._updateID,e.patternCache[o]=i,i)},tintWithMultiply:function(e,t,o){var i=o.getContext("2d"),r=e._frame.clone(),n=e.baseTexture.resolution;r.x*=n,r.y*=n,r.width*=n,r.height*=n,o.width=Pt(r.width),o.height=Pt(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var a=e.baseTexture.getDrawableSource();i.drawImage(a,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(a,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(e,t,o){var i=o.getContext("2d"),r=e._frame.clone(),n=e.baseTexture.resolution;r.x*=n,r.y*=n,r.width*=n,r.height*=n,o.width=Pt(r.width),o.height=Pt(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(e.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(e,t,o){var n=o.getContext("2d"),s=e._frame.clone(),l=e.baseTexture.resolution;s.x*=l,s.y*=l,s.width*=l,s.height*=l,o.width=Pt(s.width),o.height=Pt(s.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.getDrawableSource(),s.x,s.y,s.width,s.height,0,0,s.width,s.height),n.restore();for(var d=a(t),c=d[0],r=d[1],p=d[2],u=n.getImageData(0,0,s.width,s.height),_=u.data,g=0;g<_.length;g+=4)_[g+0]*=c,_[g+1]*=r,_[g+2]*=p;n.putImageData(u,0,0)},roundColor:function(e){var t=Bl.cacheStepsPerColorChannel,o=a(e);return o[0]=jt(255,o[0]/t*t),o[1]=jt(255,o[1]/t*t),o[2]=jt(255,o[2]/t*t),d(o)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:Qe(),tintMethod:null};/*!
 * @pixi/canvas-renderer - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-renderer is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */Bl.tintMethod=Bl.canUseMultiply?Bl.tintWithMultiply:Bl.tintWithPerPixel;var Fl=Bn.create;Bn.create=function(e){var t=e&&e.forceCanvas;if(!t)try{return Fl(e)}catch(e){}return new wl(e)},or.prototype.getDrawableSource=function(){var e=this.resource;return e?e.bitmap||e.source:null},hr.prototype._canvasRenderTarget=null,br.prototype.patternCache=null,br.prototype.tintCache=null;/*!
 * @pixi/canvas-mesh - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ul=function(){function e(e){this.renderer=e}return e.prototype.render=function(e){var t=this.renderer,o=e.worldTransform;t.context.globalAlpha=e.worldAlpha,t.setBlendMode(e.blendMode),t.setContextTransform(o,e.roundPixels),e.drawMode===Bo.TRIANGLES?this._renderTriangles(e):this._renderTriangleMesh(e)},e.prototype._renderTriangleMesh=function(e){for(var t=e.geometry.buffers[0].data.length,o=0,i;o<t-2;o++)i=2*o,this._renderDrawTriangle(e,i,i+2,i+4)},e.prototype._renderTriangles=function(e){for(var t=e.geometry.getIndex().data,o=t.length,r=0;r<o;r+=3){var i=2*t[r],n=2*t[r+1],a=2*t[r+2];this._renderDrawTriangle(e,i,n,a)}},e.prototype._renderDrawTriangle=function(e,t,o,i){var r=this.renderer.context,n=e.geometry.buffers[0].data,a=e.uvs,s=e.texture;if(s.valid){var l=16777215!==e.tint,d=s.baseTexture,c=d.width,p=d.height;l&&e._cachedTint!==e.tint&&(e._cachedTint=e.tint,e._tintedCanvas=Bl.getTintedCanvas(e,e.tint));var u=l?e._tintedCanvas:d.getDrawableSource(),_=a[t]*d.width,g=a[o]*d.width,m=a[i]*d.width,h=a[t+1]*d.height,T=a[o+1]*d.height,b=a[i+1]*d.height,E=n[t],y=n[o],v=n[i],S=n[t+1],R=n[o+1],I=n[i+1],x=e.canvasPadding/this.renderer.resolution;if(0<x){var C=x/Vt(e.worldTransform.a),O=x/Vt(e.worldTransform.d),k=(E+y+v)/3,A=(S+R+I)/3,N=E-k,L=S-A,D=Wt(N*N+L*L);E=k+N/D*(D+C),S=A+L/D*(D+O),N=y-k,L=R-A,D=Wt(N*N+L*L),y=k+N/D*(D+C),R=A+L/D*(D+O),N=v-k,L=I-A,D=Wt(N*N+L*L),v=k+N/D*(D+C),I=A+L/D*(D+O)}r.save(),r.beginPath(),r.moveTo(E,S),r.lineTo(y,R),r.lineTo(v,I),r.closePath(),r.clip();var M=_*T+h*m+g*b-T*m-h*g-_*b,P=E*T+h*v+y*b-T*v-h*y-E*b,w=_*y+E*m+g*v-y*m-E*g-_*v,B=_*T*v+h*y*m+E*g*b-E*T*m-h*g*v-_*y*b,F=S*T+h*I+R*b-T*I-h*R-S*b,U=_*R+S*m+g*I-R*m-S*g-_*I,H=_*T*I+h*R*m+S*g*b-S*T*m-h*g*I-_*R*b;r.transform(P/M,F/M,w/M,U/M,B/M,H/M),r.drawImage(u,0,0,c*d.resolution,p*d.resolution,0,0,c,p),r.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,o=e.geometry.getBuffer("aVertexPosition").data,r=o.length/2;t.beginPath();for(var n=1;n<r-2;++n){var i=2*n,a=o[i],s=o[i+1],l=o[i+2],d=o[i+3],c=o[i+4],p=o[i+5];t.moveTo(a,s),t.lineTo(l,d),t.lineTo(c,p)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();xo.MESH_CANVAS_PADDING=0,Os.prototype._renderCanvas=function(e,t){e.plugins.mesh.render(t)},Ol.prototype._cachedTint=16777215,Ol.prototype._tintedCanvas=null,Ol.prototype._canvasUvs=null,Ol.prototype._renderCanvas=function(e){var t=e.context,o=this.worldTransform,r=16777215!==this.tint,n=this.texture;if(n.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Bl.getTintedCanvas(this,this.tint));var a=r?this._tintedCanvas:n.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var s=this.vertices,l=this._canvasUvs,d=r?0:n.frame.x,c=r?0:n.frame.y,p=d+n.frame.width,u=c+n.frame.height;l[0]=d,l[1]=d+this._leftWidth,l[2]=p-this._rightWidth,l[3]=p,l[4]=c,l[5]=c+this._topHeight,l[6]=u-this._bottomHeight,l[7]=u;for(var _=0;8>_;_++)l[_]*=n.baseTexture.resolution;t.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.setContextTransform(o,this.roundPixels);for(var i=0;3>i;i++)for(var g=0;3>g;g++){var m=2*g+8*i,h=zt(1,l[g+1]-l[g]),T=zt(1,l[i+5]-l[i+4]),b=zt(1,s[m+10]-s[m]),E=zt(1,s[m+11]-s[m+1]);t.drawImage(a,l[g],l[i+4],h,T,s[m],s[m+1],b,E)}}};var Hl=!1;Cs.prototype._cachedTint=16777215,Cs.prototype._tintedCanvas=null,Cs.prototype._renderCanvas=function(e){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(e,this):!Hl&&(Hl=!0,window.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Cs.prototype._canvasPadding=null,Object.defineProperty(Cs.prototype,"canvasPadding",{get:function(){return null===this._canvasPadding?xo.MESH_CANVAS_PADDING:this._canvasPadding},set:function(e){this._canvasPadding=e}}),xl.prototype._renderCanvas=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)},Rl.prototype._renderCanvas=function(e){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(e,this)};/*!
 * @pixi/canvas-graphics - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Gl=function(){function e(e){this.renderer=e,this._svgMatrix=null,this._tempMatrix=new fi}return e.prototype._calcCanvasStyle=function(e,t){var o;return e.texture?e.texture.valid?(o=Bl.getTintedPattern(e.texture,t),this.setPatternTransform(o,e.matrix||fi.IDENTITY)):o="#808080":o="#"+("00000"+(0|t).toString(16)).substr(-6),o},e.prototype.render=function(e){var t=this.renderer,o=t.context,r=e.worldAlpha,n=e.transform.worldTransform;t.setContextTransform(n),t.setBlendMode(e.blendMode);for(var a=e.geometry.graphicsData,s=(255&e.tint>>16)/255,l=(255&e.tint>>8)/255,d=(255&e.tint)/255,c=0,i,p;c<a.length;c++){var u=a[c],_=u.shape,g=u.fillStyle,m=u.lineStyle,T=0|u.fillStyle.color,b=0|u.lineStyle.color;if(u.matrix&&t.setContextTransform(n.copyTo(this._tempMatrix).append(u.matrix)),g.visible){i=this._calcCanvasStyle(g,(255*((255&T>>16)/255*s)<<16)+(255*((255&T>>8)/255*l)<<8)+255*((255&T)/255*d))}if(m.visible){p=this._calcCanvasStyle(m,(255*((255&b>>16)/255*s)<<16)+(255*((255&b>>8)/255*l)<<8)+255*((255&b)/255*d))}if(o.lineWidth=m.width,o.lineCap=m.cap,o.lineJoin=m.join,o.miterLimit=m.miterLimit,u.type===ci.POLY){o.beginPath();var E=_,v=E.points,S=u.holes,R=void 0,I=void 0,C=void 0,O=void 0;o.moveTo(v[0],v[1]);for(var A=2;A<v.length;A+=2)o.lineTo(v[A],v[A+1]);if(E.closeStroke&&o.closePath(),0<S.length){R=0,C=v[0],O=v[1];for(var A=2;A+2<v.length;A+=2)R+=(v[A]-C)*(v[A+3]-O)-(v[A+2]-C)*(v[A+1]-O);for(var N=0;N<S.length;N++)if(v=S[N].shape.points,!!v){I=0,C=v[0],O=v[1];for(var A=2;A+2<v.length;A+=2)I+=(v[A]-C)*(v[A+3]-O)-(v[A+2]-C)*(v[A+1]-O);if(0>I*R){o.moveTo(v[0],v[1]);for(var A=2;A<v.length;A+=2)o.lineTo(v[A],v[A+1])}else{o.moveTo(v[v.length-2],v[v.length-1]);for(var A=v.length-4;0<=A;A-=2)o.lineTo(v[A],v[A+1])}S[N].shape.closeStroke&&o.closePath()}}g.visible&&(o.globalAlpha=g.alpha*r,o.fillStyle=i,o.fill()),m.visible&&(o.globalAlpha=m.alpha*r,o.strokeStyle=p,o.stroke())}else if(u.type===ci.RECT){var E=_;g.visible&&(o.globalAlpha=g.alpha*r,o.fillStyle=i,o.fillRect(E.x,E.y,E.width,E.height)),m.visible&&(o.globalAlpha=m.alpha*r,o.strokeStyle=p,o.strokeRect(E.x,E.y,E.width,E.height))}else if(u.type===ci.CIRC){var E=_;o.beginPath(),o.arc(E.x,E.y,E.radius,0,2*Gt),o.closePath(),g.visible&&(o.globalAlpha=g.alpha*r,o.fillStyle=i,o.fill()),m.visible&&(o.globalAlpha=m.alpha*r,o.strokeStyle=p,o.stroke())}else if(u.type===ci.ELIP){var E=_,k=2*E.width,L=2*E.height,h=E.x-k/2,x=E.y-L/2;o.beginPath();var y=.5522848,D=k/2*y,M=L/2*y,P=h+k,w=x+L,B=h+k/2,F=x+L/2;o.moveTo(h,F),o.bezierCurveTo(h,F-M,B-D,x,B,x),o.bezierCurveTo(B+D,x,P,F-M,P,F),o.bezierCurveTo(P,F+M,B+D,w,B,w),o.bezierCurveTo(B-D,w,h,F+M,h,F),o.closePath(),g.visible&&(o.globalAlpha=g.alpha*r,o.fillStyle=i,o.fill()),m.visible&&(o.globalAlpha=m.alpha*r,o.strokeStyle=p,o.stroke())}else if(u.type===ci.RREC){var E=_,U=E.x,H=E.y,G=E.width,V=E.height,z=E.radius,W=0|jt(G,V)/2;z=z>W?W:z,o.beginPath(),o.moveTo(U,H+z),o.lineTo(U,H+V-z),o.quadraticCurveTo(U,H+V,U+z,H+V),o.lineTo(U+G-z,H+V),o.quadraticCurveTo(U+G,H+V,U+G,H+V-z),o.lineTo(U+G,H+z),o.quadraticCurveTo(U+G,H,U+G-z,H),o.lineTo(U+z,H),o.quadraticCurveTo(U,H,U,H+z),o.closePath(),g.visible&&(o.globalAlpha=g.alpha*r,o.fillStyle=i,o.fill()),m.visible&&(o.globalAlpha=m.alpha*r,o.strokeStyle=p,o.stroke())}}},e.prototype.setPatternTransform=function(e,t){if(!1!==this._svgMatrix){if(!this._svgMatrix){var o=document.createElementNS("http://www.w3.org/2000/svg","svg");if(o&&o.createSVGMatrix&&(this._svgMatrix=o.createSVGMatrix()),!this._svgMatrix||!e.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=t.a,this._svgMatrix.b=t.b,this._svgMatrix.c=t.c,this._svgMatrix.d=t.d,this._svgMatrix.e=t.tx,this._svgMatrix.f=t.ty,e.setTransform(this._svgMatrix.inverse())}},e.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},e}(),Vl=new fi,zl;Ka.prototype.generateCanvasTexture=function(e,t){void 0===t&&(t=1);var o=this.getLocalBounds(),i=Er.create({width:o.width,height:o.height,scaleMode:e,resolution:t});zl||(zl=new wl),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(Vl),Vl.invert(),Vl.tx-=o.x,Vl.ty-=o.y,zl.render(this,i,!0,Vl);var r=br.from(i.baseTexture._canvasRenderTarget.canvas,{scaleMode:e});return r.baseTexture.setResolution(t),r},Ka.prototype.cachedGraphicsData=[],Ka.prototype._renderCanvas=function(e){!0===this.isMask||(this.finishPoly(),e.plugins.graphics.render(this))};/*!
 * @pixi/canvas-sprite - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wl=new fi,Xl=function(){function e(e){this.renderer=e}return e.prototype.render=function(e){var t=e._texture,o=this.renderer,i=o.context,r=t._frame.width,n=t._frame.height,a=e.transform.worldTransform,s=0,l=0,d=t.baseTexture.getDrawableSource();if(!(0>=t.orig.width)&&!(0>=t.orig.height)&&t.valid&&d&&t.valid){o.setBlendMode(e.blendMode,!0),o.context.globalAlpha=e.worldAlpha;var c=t.baseTexture.scaleMode===Go.LINEAR;o.smoothProperty&&o.context[o.smoothProperty]!==c&&(i[o.smoothProperty]=c),t.trim?(s=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,l=t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(s=(.5-e.anchor.x)*t.orig.width,l=(.5-e.anchor.y)*t.orig.height),t.rotate&&(a.copyTo(Wl),a=Wl,xi.matrixAppendRotationInv(a,t.rotate,s,l),s=0,l=0),s-=r/2,l-=n/2,o.setContextTransform(a,e.roundPixels,1),e.roundPixels&&(s|=0,l|=0);var p=t.baseTexture.resolution,u=o._outerBlend;u&&(i.save(),i.beginPath(),i.rect(s*o.resolution,l*o.resolution,r*o.resolution,n*o.resolution),i.clip()),16777215===e.tint?i.drawImage(d,t._frame.x*p,t._frame.y*p,Xt(r*p),Xt(n*p),Xt(s*o.resolution),Xt(l*o.resolution),Xt(r*o.resolution),Xt(n*o.resolution)):((e._cachedTint!==e.tint||e._tintedCanvas.tintId!==e._texture._updateID)&&(e._cachedTint=e.tint,e._tintedCanvas=Bl.getTintedCanvas(e,e.tint)),i.drawImage(e._tintedCanvas,0,0,Xt(r*p),Xt(n*p),Xt(s*o.resolution),Xt(l*o.resolution),Xt(r*o.resolution),Xt(n*o.resolution))),u&&i.restore(),o.setBlendMode(wo.NORMAL)}},e.prototype.destroy=function(){this.renderer=null},e}();$a.prototype._tintedCanvas=null,$a.prototype._renderCanvas=function(e){e.plugins.sprite.render(this)};/*!
 * @pixi/canvas-extract - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yl=new pi,jl=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,o){var i=new Image;return i.src=this.base64(e,t,o),i},e.prototype.base64=function(e,t,o){return this.canvas(e).toDataURL(t,o)},e.prototype.canvas=function(e){var t=this.renderer,o,i,r,n;e&&(e instanceof Er?n=e:n=t.generateTexture(e)),n?(o=n.baseTexture._canvasRenderTarget.context,i=n.baseTexture._canvasRenderTarget.resolution,r=n.frame):(o=t.rootContext,i=t.resolution,r=Yl,r.width=this.renderer.width,r.height=this.renderer.height);var a=Xt(r.width*i+1e-4),s=Xt(r.height*i+1e-4),l=new ni(a,s,1),d=o.getImageData(r.x*i,r.y*i,a,s);return l.context.putImageData(d,0,0),l.canvas},e.prototype.pixels=function(e){var t=this.renderer,o,i,r,n;return e&&(e instanceof Er?n=e:n=t.generateTexture(e)),n?(o=n.baseTexture._canvasRenderTarget.context,i=n.baseTexture._canvasRenderTarget.resolution,r=n.frame):(o=t.rootContext,r=Yl,r.width=t.width,r.height=t.height),o.getImageData(0,0,r.width*i,r.height*i).data},e.prototype.destroy=function(){this.renderer=null},e}();Object.defineProperty(wl.prototype,"extract",{get:function(){return S("v5.3.0","CanvasRenderer#extract is deprecated, use CanvasRenderer#plugins.extract"),this.plugins.extract}});/*!
 * @pixi/canvas-prepare - v5.3.3
 * Compiled Tue, 04 Aug 2020 16:23:09 UTC
 *
 * @pixi/canvas-prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Jl=function(e,t){return Jl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Jl(e,t)},Kl=16,ql=function(e){function t(t){var o=e.call(this,t)||this;return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=Kl,o.canvas.height=Kl,o.ctx=o.canvas.getContext("2d"),o.registerUploadHook(tt),o}return et(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(us);bs.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.valid){var o=e.context,i=this.worldTransform,r=t.baseTexture,n=r.getDrawableSource(),a=r.resolution,s=this.tilePosition.x/this.tileScale.x%t._frame.width*a,l=this.tilePosition.y/this.tileScale.y%t._frame.height*a;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var d=new ni(t._frame.width,t._frame.height,a);16777215===this.tint?d.context.drawImage(n,-t._frame.x*a,-t._frame.y*a):(this._tintedCanvas=Bl.getTintedCanvas(this,this.tint),d.context.drawImage(this._tintedCanvas,0,0)),this._cachedTint=this.tint,this._canvasPattern=d.context.createPattern(d.canvas,"repeat")}o.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.setContextTransform(i),o.fillStyle=this._canvasPattern,o.scale(this.tileScale.x/a,this.tileScale.y/a);var c=this.anchor.x*-this._width,p=this.anchor.y*-this._height;this.uvRespectAnchor?(o.translate(s,l),o.fillRect(-s+c,-l+p,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(o.translate(s+c,l+p),o.fillRect(-s,-l,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},va.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var t=e.context,o=this.worldTransform,r=!0,n=0,a=0,s=0,l=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var d=0,i;d<this.children.length;++d)if((i=this.children[d],!!i.visible)&&i._texture.valid){var c=i._texture.frame;if(t.globalAlpha=this.worldAlpha*i.alpha,0==i.rotation%(2*Gt))r&&(e.setContextTransform(o,!1,1),r=!1),n=i.anchor.x*(-c.width*i.scale.x)+i.position.x+.5,a=i.anchor.y*(-c.height*i.scale.y)+i.position.y+.5,s=c.width*i.scale.x,l=c.height*i.scale.y;else{r||(r=!0),i.displayObjectUpdateTransform();var p=i.worldTransform;e.setContextTransform(p,this.roundPixels,1),n=i.anchor.x*-c.width+.5,a=i.anchor.y*-c.height+.5,s=c.width,l=c.height}var u=i._texture.baseTexture.resolution;t.drawImage(i._texture.baseTexture.getDrawableSource(),c.x*u,c.y*u,c.width*u,c.height*u,n*e.resolution,a*e.resolution,s*e.resolution,l*e.resolution)}}},Li.prototype._renderCanvas=function(){},Li.prototype.renderCanvas=function(e){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,o=this.children.length;t<o;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},Ai.prototype.renderCanvas=function(){},ds.prototype._renderCanvas=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),$a.prototype._renderCanvas.call(this,e)},wl.registerPlugin("accessibility",wi),wl.registerPlugin("extract",jl),wl.registerPlugin("graphics",Gl),wl.registerPlugin("interaction",Ki),wl.registerPlugin("mesh",Ul),wl.registerPlugin("prepare",ql),wl.registerPlugin("sprite",Xl);var Zl=o(3),Ql=function(e){function t(t,o,i){void 0===t&&(t=16711680),void 0===o&&(o=0),void 0===i&&(i=.4),e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n"),this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=t,this.newColor=o,this.epsilon=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={originalColor:{configurable:!0},newColor:{configurable:!0},epsilon:{configurable:!0}};return o.originalColor.set=function(e){var t=this.uniforms.originalColor;"number"==typeof e?(a(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=d(t))},o.originalColor.get=function(){return this._originalColor},o.newColor.set=function(e){var t=this.uniforms.newColor;"number"==typeof e?(a(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=d(t))},o.newColor.get=function(){return this._newColor},o.epsilon.set=function(e){this.uniforms.epsilon=e},o.epsilon.get=function(){return this.uniforms.epsilon},Object.defineProperties(t.prototype,o),t}(_n),$l=o(4),ed="undefined"!=typeof window,td=ed&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),od=ed&&(td&&td.getOriginalSymbol(window,"File")||File),id=ed&&(td&&td.getOriginalSymbol(window,"FileReader")||FileReader),rd=ed&&new Promise(function(o,s){var e,r,t,a;return lt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(i){try{return pt(e=i).then(function(i){try{return ut(r=i[1],e.type,e.name,e.lastModified).then(function(e){try{return t=e,Tt(r),st(t).then(function(e){try{return dt(e).then(function(e){try{return o(1===(a=e).width&&2===a.height)}catch(t){return s(t)}},s)}catch(t){return s(t)}},s)}catch(t){return s(t)}},s)}catch(t){return s(t)}},s)}catch(t){return s(t)}},s)});/*!
 * @pixi/filter-color-replace - v3.1.0
 * Compiled Wed, 11 Mar 2020 20:38:18 UTC
 *
 * @pixi/filter-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ed&&(wt=wt||function(t){return"number"==typeof t&&isFinite(t)&&Xt(t)===t});var nd=0,ad,sd;yt.getDataUrlFromFile=st,yt.getFilefromDataUrl=lt,yt.loadImage=dt,yt.drawImageInCanvas=ct,yt.drawFileInCanvas=pt,yt.canvasToFile=ut,yt.getExifOrientation=_t,yt.handleMaxWidthOrHeight=gt,yt.followExifOrientation=mt,yt.cleanupMemory=Tt,yt.version="1.0.12";var ld=yt,dd=o(138),cd=o(126),pd=o.n(cd),ud=o(5),_d,gd,md;const hd=new ud.a("image",{blobAddListener:function(e,t){let o=document.createElement("div"),i=document.createElement("div");i.classList.add("container");let r=document.createElement("img");i.appendChild(r),o.appendChild(i);let n=document.createElement("div");if(n.classList.add("sizeInfo"),o.appendChild(n),!t.unremovable){let t=document.createElement("div");t.classList.add("removeButton"),t.innerHTML="<i class=\"material-icons\">delete</i>",t.onclick=function(){this.removeBlob(e)}.bind(this),o.appendChild(t)}r.onload=function(e,t){t.innerText=e.naturalWidth+"\u2715"+e.naturalHeight}.bind(void 0,r,n),r.src=e,gd.insertBefore(o,md)},blobRemoveListener:function(e){let t=gd.children;if(t)for(let o of t)if("uploadImageButton"!=o.id&&o.children[0].children[0].src==e)return void gd.removeChild(o)}});var Td=o(11),fd=o(2),bd=o(9),Ed=o(6),yd=o(37),vd=o(17),Sd={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},Rd={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:"button:not(:disabled), [href]:not([aria-disabled=\"true\"]), input:not(:disabled), select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])"},Id={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67},xd;/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e){e[e.BOTTOM=1]="BOTTOM",e[e.CENTER=2]="CENTER",e[e.RIGHT=4]="RIGHT",e[e.FLIP_RTL=8]="FLIP_RTL"})(xd||(xd={}));var Cd;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=4]="TOP_RIGHT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",e[e.TOP_START=8]="TOP_START",e[e.TOP_END=12]="TOP_END",e[e.BOTTOM_START=9]="BOTTOM_START",e[e.BOTTOM_END=13]="BOTTOM_END"})(Cd||(Cd={}));var Od=o(8),kd=function(e){function t(o){var i=e.call(this,Object(fd.a)(Object(fd.a)({},t.defaultAdapter),o))||this;return i.isSurfaceOpen=!1,i.isQuickOpen=!1,i.isHoistedElement=!1,i.isFixedPosition=!1,i.openAnimationEndTimerId=0,i.closeAnimationEndTimerId=0,i.animationRequestId=0,i.anchorCorner=Cd.TOP_START,i.originCorner=Cd.TOP_START,i.anchorMargin={top:0,right:0,bottom:0,left:0},i.position={x:0,y:0},i}return Object(fd.b)(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Sd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Rd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Id},enumerable:!0,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return Cd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,o=e.ROOT,i=e.OPEN;if(!this.adapter.hasClass(o))throw new Error(o+" class required in root element.");this.adapter.hasClass(i)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner^=xd.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame(function(){e.adapter.addClass(t.cssClasses.OPEN),e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.openAnimationEndTimerId=setTimeout(function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()},Id.TRANSITION_OPEN_DURATION)}),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var o=this;void 0===e&&(e=!1),this.isSurfaceOpen&&(this.isQuickOpen?(this.isSurfaceOpen=!1,!e&&this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),this.adapter.notifyClose()):(this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame(function(){o.adapter.removeClass(t.cssClasses.OPEN),o.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),o.closeAnimationEndTimerId=setTimeout(function(){o.closeAnimationEndTimerId=0,o.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),o.adapter.notifyClose()},Id.TRANSITION_CLOSE_DURATION)}),this.isSurfaceOpen=!1,!e&&this.maybeRestoreFocus()))},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode,o=e.key;("Escape"===o||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var o=this.getoriginCorner(),i=this.getMenuSurfaceMaxHeight(o),r=this.hasBit(o,xd.BOTTOM)?"bottom":"top",n=this.hasBit(o,xd.RIGHT)?"right":"left",a=this.getHorizontalOriginOffset(o),s=this.getVerticalOriginOffset(o),l=this.measurements,d=l.anchorSize,c=l.surfaceSize,p=(e={},e[n]=a,e[r]=s,e);d.width/c.width>Id.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(n="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(p),this.adapter.setTransformOrigin(n+" "+r),this.adapter.setPosition(p),this.adapter.setMaxHeight(i?i+"px":""),this.hasBit(o,xd.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),o=this.adapter.getWindowDimensions(),i=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:o.width-e.right,bottom:o.height-e.bottom,left:e.left},viewportSize:o,windowScroll:i}},t.prototype.getoriginCorner=function(){var e=this.originCorner,o=this.measurements,i=o.viewportDistance,r=o.anchorSize,n=o.surfaceSize,a=t.numbers.MARGIN_TO_EDGE,s=this.hasBit(this.anchorCorner,xd.BOTTOM),l,d;s?(l=i.top-a+r.height+this.anchorMargin.bottom,d=i.bottom-a-this.anchorMargin.bottom):(l=i.top-a+this.anchorMargin.top,d=i.bottom-a+r.height-this.anchorMargin.top);var c=0<d-n.height;!c&&l>=d&&(e=this.setBit(e,xd.BOTTOM));var p=this.adapter.isRtl(),u=this.hasBit(this.anchorCorner,xd.FLIP_RTL),_=this.hasBit(this.anchorCorner,xd.RIGHT),g=!1;g=p&&u?!_:_;var m,h;g?(m=i.left+r.width+this.anchorMargin.right,h=i.right-this.anchorMargin.right):(m=i.left+this.anchorMargin.left,h=i.right+r.width-this.anchorMargin.left);var T=0<m-n.width,b=0<h-n.width,E=this.hasBit(e,xd.FLIP_RTL)&&this.hasBit(e,xd.RIGHT);return b&&E&&p||!T&&E?e=this.unsetBit(e,xd.RIGHT):(T&&g&&p||T&&!g&&_||!b&&m>=h)&&(e=this.setBit(e,xd.RIGHT)),e},t.prototype.getMenuSurfaceMaxHeight=function(e){var o=this.measurements.viewportDistance,i=0,r=this.hasBit(e,xd.BOTTOM),n=this.hasBit(this.anchorCorner,xd.BOTTOM),a=t.numbers.MARGIN_TO_EDGE;return r?(i=o.top+this.anchorMargin.top-a,!n&&(i+=this.measurements.anchorSize.height)):(i=o.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-a,n&&(i-=this.measurements.anchorSize.height)),i},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,o=this.hasBit(e,xd.RIGHT),i=this.hasBit(this.anchorCorner,xd.RIGHT);if(o){var r=i?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?r-(this.measurements.viewportSize.width-this.measurements.bodySize.width):r}return i?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,o=this.hasBit(e,xd.BOTTOM),i=this.hasBit(this.anchorCorner,xd.BOTTOM),r=0;return r=o?i?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:i?t.height+this.anchorMargin.bottom:this.anchorMargin.top,r},t.prototype.adjustPositionForHoistedElement=function(e){var t=this.measurements,o=t.windowScroll,i=t.viewportDistance,r=Object.keys(e),n,a;try{for(var s=Object(fd.e)(r),l=s.next();!l.done;l=s.next()){var d=l.value,c=e[d]||0;c+=i[d],this.isFixedPosition||("top"===d?c+=o.y:"bottom"===d?c-=o.y:"left"===d?c+=o.x:c-=o.x),e[d]=c}}catch(e){n={error:e}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t.prototype.maybeRestoreFocus=function(){var e=this.adapter.isFocused(),t=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(e||t)&&this.adapter.restoreFocus()},t.prototype.hasBit=function(e,t){return!!(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(Od.a),Ad=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(fd.b)(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialSyncWithDOM=function(){var e=this,t=this.root.parentElement;this.anchorElement=t&&t.classList.contains(Sd.ANCHOR)?t:null,this.root.classList.contains(Sd.FIXED)&&this.setFixedPosition(!0),this.handleKeydown=function(t){e.foundation.handleKeydown(t)},this.handleBodyClick=function(t){e.foundation.handleBodyClick(t)},this.registerBodyClickListener=function(){document.body.addEventListener("click",e.handleBodyClick,{capture:!0})},this.deregisterBodyClickListener=function(){document.body.removeEventListener("click",e.handleBodyClick)},this.listen("keydown",this.handleKeydown),this.listen(Rd.OPENED_EVENT,this.registerBodyClickListener),this.listen(Rd.CLOSED_EVENT,this.deregisterBodyClickListener)},t.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown),this.unlisten(Rd.OPENED_EVENT,this.registerBodyClickListener),this.unlisten(Rd.CLOSED_EVENT,this.deregisterBodyClickListener),e.prototype.destroy.call(this)},t.prototype.isOpen=function(){return this.foundation.isOpen()},t.prototype.open=function(){this.foundation.open()},t.prototype.close=function(e){void 0===e&&(e=!1),this.foundation.close(e)},Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.foundation.setQuickOpen(e)},enumerable:!0,configurable:!0}),t.prototype.setIsHoisted=function(e){this.foundation.setIsHoisted(e)},t.prototype.setMenuSurfaceAnchorElement=function(e){this.anchorElement=e},t.prototype.setFixedPosition=function(e){e?this.root.classList.add(Sd.FIXED):this.root.classList.remove(Sd.FIXED),this.foundation.setFixedPosition(e)},t.prototype.setAbsolutePosition=function(e,t){this.foundation.setAbsolutePosition(e,t),this.setIsHoisted(!0)},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.foundation.setAnchorMargin(e)},t.prototype.getDefaultFoundation=function(){var e=this;return new kd({addClass:function(t){return e.root.classList.add(t)},removeClass:function(t){return e.root.classList.remove(t)},hasClass:function(t){return e.root.classList.contains(t)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){return e.emit(kd.strings.CLOSED_EVENT,{})},notifyOpen:function(){return e.emit(kd.strings.OPENED_EVENT,{})},isElementInContainer:function(t){return e.root.contains(t)},isRtl:function(){return"rtl"===getComputedStyle(e.root).getPropertyValue("direction")},setTransformOrigin:function(t){var o=Rt(window)+"-origin";e.root.style.setProperty(o,t)},isFocused:function(){return document.activeElement===e.root},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},getInnerDimensions:function(){return{width:e.root.offsetWidth,height:e.root.offsetHeight}},getAnchorDimensions:function(){return e.anchorElement?e.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(t){var o=e.root;o.style.left="left"in t?t.left+"px":"",o.style.right="right"in t?t.right+"px":"",o.style.top="top"in t?t.top+"px":"",o.style.bottom="bottom"in t?t.bottom+"px":""},setMaxHeight:function(t){e.root.style.maxHeight=t}})},t}(bd.a),Nd={MENU_SELECTED_LIST_ITEM:"mdc-menu-item--selected",MENU_SELECTION_GROUP:"mdc-menu__selection-group",ROOT:"mdc-menu"},Ld={ARIA_CHECKED_ATTR:"aria-checked",ARIA_DISABLED_ATTR:"aria-disabled",CHECKBOX_SELECTOR:"input[type=\"checkbox\"]",LIST_SELECTOR:".mdc-list",SELECTED_EVENT:"MDCMenu:selected"},Dd={FOCUS_ROOT_INDEX:-1},Md,Pd;/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(e){e[e.NONE=0]="NONE",e[e.LIST_ROOT=1]="LIST_ROOT",e[e.FIRST_ITEM=2]="FIRST_ITEM",e[e.LAST_ITEM=3]="LAST_ITEM"})(Pd||(Pd={}));var wd=o(1),Bd=function(e){function t(o){var i=e.call(this,Object(fd.a)(Object(fd.a)({},t.defaultAdapter),o))||this;return i.closeAnimationEndTimerId_=0,i.defaultFocusState_=Pd.LIST_ROOT,i}return Object(fd.b)(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return Nd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ld},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return Dd},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){},getSelectedSiblingOfItemAtIndex:function(){return-1},isSelectableItemAtIndex:function(){return!1}}},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_),this.adapter.closeSurface()},t.prototype.handleKeydown=function(e){var t=e.key,o=e.keyCode;("Tab"===t||9===o)&&this.adapter.closeSurface(!0)},t.prototype.handleItemAction=function(e){var t=this,o=this.adapter.getElementIndex(e);0>o||(this.adapter.notifySelected({index:o}),this.adapter.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var o=t.adapter.getElementIndex(e);0<=o&&t.adapter.isSelectableItemAtIndex(o)&&t.setSelectedIndex(o)},kd.numbers.TRANSITION_CLOSE_DURATION))},t.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case Pd.FIRST_ITEM:this.adapter.focusItemAtIndex(0);break;case Pd.LAST_ITEM:this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount()-1);break;case Pd.NONE:break;default:this.adapter.focusListRoot();}},t.prototype.setDefaultFocusState=function(e){this.defaultFocusState_=e},t.prototype.setSelectedIndex=function(e){if(this.validatedIndex_(e),!this.adapter.isSelectableItemAtIndex(e))throw new Error("MDCMenuFoundation: No selection group at specified index.");var t=this.adapter.getSelectedSiblingOfItemAtIndex(e);0<=t&&(this.adapter.removeAttributeFromElementAtIndex(t,Ld.ARIA_CHECKED_ATTR),this.adapter.removeClassFromElementAtIndex(t,Nd.MENU_SELECTED_LIST_ITEM)),this.adapter.addClassToElementAtIndex(e,Nd.MENU_SELECTED_LIST_ITEM),this.adapter.addAttributeToElementAtIndex(e,Ld.ARIA_CHECKED_ATTR,"true")},t.prototype.setEnabled=function(e,t){this.validatedIndex_(e),t?(this.adapter.removeClassFromElementAtIndex(e,wd.a.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,Ld.ARIA_DISABLED_ATTR,"false")):(this.adapter.addClassToElementAtIndex(e,wd.a.LIST_ITEM_DISABLED_CLASS),this.adapter.addAttributeToElementAtIndex(e,Ld.ARIA_DISABLED_ATTR,"true"))},t.prototype.validatedIndex_=function(e){var t=this.adapter.getMenuItemCount();if(!(0<=e&&e<t))throw new Error("MDCMenuFoundation: No list item at specified index.")},t}(Od.a),Fd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(fd.b)(t,e),t.attachTo=function(e){return new t(e)},t.prototype.initialize=function(e,t){void 0===e&&(e=function(e){return new Ad(e)}),void 0===t&&(t=function(e){return new yd.a(e)}),this.menuSurfaceFactory_=e,this.listFactory_=t},t.prototype.initialSyncWithDOM=function(){var e=this;this.menuSurface_=this.menuSurfaceFactory_(this.root);var t=this.root.querySelector(Ld.LIST_SELECTOR);t?(this.list_=this.listFactory_(t),this.list_.wrapFocus=!0):this.list_=null,this.handleKeydown_=function(t){return e.foundation.handleKeydown(t)},this.handleItemAction_=function(t){return e.foundation.handleItemAction(e.items[t.detail.index])},this.handleMenuSurfaceOpened_=function(){return e.foundation.handleMenuSurfaceOpened()},this.menuSurface_.listen(kd.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.listen("keydown",this.handleKeydown_),this.listen(vd.a.strings.ACTION_EVENT,this.handleItemAction_)},t.prototype.destroy=function(){this.list_&&this.list_.destroy(),this.menuSurface_.destroy(),this.menuSurface_.unlisten(kd.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_),this.unlisten("keydown",this.handleKeydown_),this.unlisten(vd.a.strings.ACTION_EVENT,this.handleItemAction_),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.menuSurface_.isOpen()},set:function(e){e?this.menuSurface_.open():this.menuSurface_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(e){this.list_&&(this.list_.wrapFocus=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasTypeahead",{set:function(e){this.list_&&(this.list_.hasTypeahead=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeaheadInProgress",{get:function(){return!!this.list_&&this.list_.typeaheadInProgress},enumerable:!0,configurable:!0}),t.prototype.typeaheadMatchItem=function(e,t){return this.list_?this.list_.typeaheadMatchItem(e,t):-1},t.prototype.layout=function(){this.list_&&this.list_.layout()},Object.defineProperty(t.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickOpen",{set:function(e){this.menuSurface_.quickOpen=e},enumerable:!0,configurable:!0}),t.prototype.setDefaultFocusState=function(e){this.foundation.setDefaultFocusState(e)},t.prototype.setAnchorCorner=function(e){this.menuSurface_.setAnchorCorner(e)},t.prototype.setAnchorMargin=function(e){this.menuSurface_.setAnchorMargin(e)},t.prototype.setSelectedIndex=function(e){this.foundation.setSelectedIndex(e)},t.prototype.setEnabled=function(e,t){this.foundation.setEnabled(e,t)},t.prototype.getOptionByIndex=function(e){var t=this.items;return e<t.length?this.items[e]:null},t.prototype.getPrimaryTextAtIndex=function(e){var t=this.getOptionByIndex(e);return t&&this.list_?this.list_.getPrimaryText(t)||"":""},t.prototype.setFixedPosition=function(e){this.menuSurface_.setFixedPosition(e)},t.prototype.setIsHoisted=function(e){this.menuSurface_.setIsHoisted(e)},t.prototype.setAbsolutePosition=function(e,t){this.menuSurface_.setAbsolutePosition(e,t)},t.prototype.setAnchorElement=function(e){this.menuSurface_.anchorElement=e},t.prototype.getDefaultFoundation=function(){var e=this;return new Bd({addClassToElementAtIndex:function(t,o){var i=e.items;i[t].classList.add(o)},removeClassFromElementAtIndex:function(t,o){var i=e.items;i[t].classList.remove(o)},addAttributeToElementAtIndex:function(t,o,i){var r=e.items;r[t].setAttribute(o,i)},removeAttributeFromElementAtIndex:function(t,o){var i=e.items;i[t].removeAttribute(o)},elementContainsClass:function(e,t){return e.classList.contains(t)},closeSurface:function(t){return e.menuSurface_.close(t)},getElementIndex:function(t){return e.items.indexOf(t)},notifySelected:function(t){return e.emit(Ld.SELECTED_EVENT,{index:t.index,item:e.items[t.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(t){return e.items[t].focus()},focusListRoot:function(){return e.root.querySelector(Ld.LIST_SELECTOR).focus()},isSelectableItemAtIndex:function(t){return!!Object(Ed.a)(e.items[t],"."+Nd.MENU_SELECTION_GROUP)},getSelectedSiblingOfItemAtIndex:function(t){var o=Object(Ed.a)(e.items[t],"."+Nd.MENU_SELECTION_GROUP),i=o.querySelector("."+Nd.MENU_SELECTED_LIST_ITEM);return i?e.items.indexOf(i):-1}})},t}(bd.a),Ud=o(140),Hd=o.p+"images/file-loader-151a2942a96389e87987dcae0279af29.png";/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */const Gd="turtleEnvironment";$t.a.Msg.CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE=235,$t.a.Msg.CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE=185,$t.a.Msg.CUSTOM_TURTLE_ENVIRONMENT_DRAW_HUE=70,$t.a.defineBlocksWithJsonArray([{type:"custom_turtle_environment_move",message0:"%1 %2",args0:[{type:"field_dropdown",name:"DIRECTION",options:[["\u524D\u8FDB\u6307\u5B9A\u8DDD\u79BB","moveForward"],["\u540E\u9000\u6307\u5B9A\u8DDD\u79BB","moveBackward"]]},{type:"input_value",name:"DISTANCE",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_move_to_coordinate",message0:"\u5E73\u79FB\u5230\u5750\u6807( %1 , %2 )",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_get_coordinate",message0:"\u83B7\u53D6\u5F53\u524D\u4F4D\u7F6E\u7684 %1",args0:[{type:"field_dropdown",name:"AXIS",options:[["\u6A2A\u5750\u6807","getCoordinateX"],["\u7EB5\u5750\u6807","getCoordinateY"]]}],output:"Number",colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_turn",message0:"%1 %2",args0:[{type:"field_dropdown",name:"DIRECTION",options:[["\u5DE6\u8F6C\u21BA","turnLeft"],["\u53F3\u8F6C\u21BB","turnRight"]]},{type:"input_value",name:"ANGLE",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_turn_to_angle",message0:"\u6539\u53D8\u5F53\u524D\u65B9\u5411 %1",args0:[{type:"input_value",name:"ANGLE",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_get_angle",message0:"\u83B7\u53D6\u5F53\u524D\u65B9\u5411",output:"Number",colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_MOVE_HUE}"},{type:"custom_turtle_environment_set_pen",message0:"%1",args0:[{type:"field_dropdown",name:"PEN",options:[["\u63D0\u8D77\u7B14","penUp"],["\u843D\u4E0B\u7B14","penDown"]]}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}"},{type:"custom_turtle_environment_set_visibility",message0:"%1",args0:[{type:"field_dropdown",name:"VISIBILITY",options:[["\u663E\u793A\u4E4C\u9F9F","show"],["\u9690\u85CF\u4E4C\u9F9F","hide"]]}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}"},{type:"custom_turtle_environment_set_pen_color",message0:"\u5C06\u7B14\u7684\u989C\u8272\u8BBE\u7F6E\u4E3A %1",args0:[{type:"input_value",name:"COLOUR",check:"Colour"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}"},{type:"custom_turtle_environment_set_pen_width",message0:"\u5C06\u7B14\u7684\u7C97\u7EC6\u8BBE\u7F6E\u4E3A %1",args0:[{type:"input_value",name:"WIDTH",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}"},{type:"custom_turtle_environment_fill",message0:"\u5C06\u56F4\u4F4F\u7684\u533A\u57DF\u586B\u5145\u4E3A %1",args0:[{type:"input_value",name:"COLOUR",check:"Colour"}],message1:"%1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_PEN_HUE}"},{type:"custom_turtle_environment_draw_shape",message0:"\u753B %1",args0:[{type:"field_dropdown",name:"SHAPE",options:[["\u692D\u5706","drawEllipse"],["\u77E9\u5F62","drawRectangle"]]}],message1:"\u989C\u8272 %1",args1:[{type:"input_value",name:"COLOUR",check:"Colour",align:"RIGHT"}],message2:"\u5BBD\u5EA6 %1",args2:[{type:"input_value",name:"WIDTH",check:"Number",align:"RIGHT"}],message3:"\u9AD8\u5EA6 %1",args3:[{type:"input_value",name:"HEIGHT",check:"Number",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_DRAW_HUE}"},{type:"custom_turtle_environment_draw_text",message0:"\u753B\u6587\u672C %1",args0:[{type:"input_value",name:"TEXT",align:"RIGHT"}],message1:"\u989C\u8272 %1",args1:[{type:"input_value",name:"COLOUR",check:"Colour",align:"RIGHT"}],previousStatement:null,nextStatement:null,mutator:"custom_turtle_environment_draw_text_mutator",colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_DRAW_HUE}"},{type:"custom_turtle_environment_draw_image",message0:"\u753B\u56FE\u7247 %1",args0:[{type:"input_dummy",name:"INPUT",align:"RIGHT"}],previousStatement:null,nextStatement:null,mutator:"custom_turtle_environment_draw_image_mutator",colour:"%{BKY_CUSTOM_TURTLE_ENVIRONMENT_DRAW_HUE}",extensions:["custom_turtle_environment_draw_image_extension"]},{type:"custom_turtle_environment_get_mouse_coordinate",message0:"\u83B7\u53D6\u9F20\u6807 %1 \u7684 %2",args0:[{type:"field_dropdown",name:"SITUATION",options:[["\u5F53\u524D\u4F4D\u7F6E","CURRENT"],["\u4E0A\u4E00\u6B21\u6309\u4E0B\u5DE6\u952E\u65F6","LAST_LEFT_DOWN"],["\u4E0A\u4E00\u6B21\u6309\u4E0B\u53F3\u952E\u65F6","LAST_RIGHT_DOWN"]]},{type:"field_dropdown",name:"AXIS",options:[["\u6A2A\u5750\u6807","X"],["\u7EB5\u5750\u6807","Y"]]}],output:"Number",colour:"%{BKY_CUSTOM_INPUT_HUE}"},{type:"custom_turtle_environment_is_mouse_key_down",inputsInline:!0,message0:"%1",args0:[{type:"field_dropdown",name:"BUTTON",options:[["\u9F20\u6807\u5DE6\u952E","LEFT"],["\u9F20\u6807\u53F3\u952E","RIGHT"]]}],message1:"\u662F\u5426\u88AB\u6309\u4E0B %1",args1:[{type:"input_dummy",name:"INPUT_TAIL"}],output:"Boolean",mutator:"custom_turtle_environment_is_mouse_key_down_mutator",colour:"%{BKY_CUSTOM_INPUT_HUE}"},{type:"custom_turtle_environment_clear_canvas",message0:"\u6E05\u7A7A\u753B\u5E03",previousStatement:null,nextStatement:null,colour:"%{BKY_CUSTOM_HUE}"}]),Zl.e({name:"custom_turtle_environment_draw_text_mutator",optionalFields:[{name:"FONT_SIZE",description:"\u5B57\u4F53\u5927\u5C0F",type:"Number",defaultValue:"20"},{name:"STROKE_THICKNESS",description:"\u63CF\u8FB9\u7C97\u7EC6",type:"Number",defaultValue:0},{name:"STROKE_COLOUR",description:"\u63CF\u8FB9\u989C\u8272",type:"Colour",defaultValue:"#ffffff"},{name:"SCALE_X",description:"\u6C34\u5E73\u7F29\u653E",type:"Number",defaultValue:"1"},{name:"SCALE_Y",description:"\u5782\u76F4\u7F29\u653E",type:"Number",defaultValue:"1"}]}),Zl.e({name:"custom_turtle_environment_draw_image_mutator",optionalFields:[{name:"SCALE_X",description:"\u6C34\u5E73\u7F29\u653E",type:"Number",defaultValue:"1"},{name:"SCALE_Y",description:"\u5782\u76F4\u7F29\u653E",type:"Number",defaultValue:"1"},{name:"OPACITY",description:"\u900F\u660E\u5EA6",type:"Number",defaultValue:"1"}]}),$t.a.Extensions.register("custom_turtle_environment_draw_image_extension",function(){this.getInput("INPUT").appendField(new $t.a.FieldDropdown(function(){let e=St(),t=[];for(let o of e)t.push([{src:o,width:50,height:50},o]);return t.length||t.push(["",""]),t}),"BLOB_URL")}),Zl.e({name:"custom_turtle_environment_is_mouse_key_down_mutator",optionalFields:[{name:"SECONDS",description:"\u67E5\u770B\u6700\u8FD1\u7684\u4E00\u6BB5\u65F6\u95F4\u5185",message:"\u5728\u6700\u8FD1\u7684 %1 \u79D2\u5185",type:"Number",defaultValue:"1"}],insertBefore:"INPUT_TAIL"}),$t.a.JavaScript.custom_turtle_environment_move=function(e){let t=$t.a.JavaScript.valueToCode(e,"DISTANCE",$t.a.JavaScript.ORDER_NONE)||"0";return Zl.b+"."+Gd+"."+e.getFieldValue("DIRECTION")+"("+t+");\n"},$t.a.JavaScript.custom_turtle_environment_move_to_coordinate=function(e){let t=$t.a.JavaScript.valueToCode(e,"X",$t.a.JavaScript.ORDER_COMMA)||"0",o=$t.a.JavaScript.valueToCode(e,"Y",$t.a.JavaScript.ORDER_COMMA)||"0";return Zl.b+"."+Gd+".moveToCoordinate("+t+", "+o+");\n"},$t.a.JavaScript.custom_turtle_environment_get_coordinate=function(e){return[Zl.b+"."+Gd+"."+e.getFieldValue("AXIS")+"()",$t.a.JavaScript.ORDER_MEMBER]},$t.a.JavaScript.custom_turtle_environment_turn=function(e){let t=$t.a.JavaScript.valueToCode(e,"ANGLE",$t.a.JavaScript.ORDER_NONE)||"0";return Zl.b+"."+Gd+"."+e.getFieldValue("DIRECTION")+"("+t+");\n"},$t.a.JavaScript.custom_turtle_environment_turn_to_angle=function(e){let t=$t.a.JavaScript.valueToCode(e,"ANGLE",$t.a.JavaScript.ORDER_NONE)||"90";return Zl.b+"."+Gd+".turnToAngle("+t+");\n"},$t.a.JavaScript.custom_turtle_environment_get_angle=function(){return[Zl.b+"."+Gd+".getAngle()",$t.a.JavaScript.ORDER_MEMBER]},$t.a.JavaScript.custom_turtle_environment_set_pen=function(e){return Zl.b+"."+Gd+"."+e.getFieldValue("PEN")+"();\n"},$t.a.JavaScript.custom_turtle_environment_set_visibility=function(e){return Zl.b+"."+Gd+"."+e.getFieldValue("VISIBILITY")+"();\n"},$t.a.JavaScript.custom_turtle_environment_set_pen_color=function(e){let t=$t.a.JavaScript.valueToCode(e,"COLOUR",$t.a.JavaScript.ORDER_NONE)||"\"#000000\"";return Zl.b+"."+Gd+".setPenColor("+t+");\n"},$t.a.JavaScript.custom_turtle_environment_set_pen_width=function(e){let t=$t.a.JavaScript.valueToCode(e,"WIDTH",$t.a.JavaScript.ORDER_NONE)||"0";return Zl.b+"."+Gd+".setPenWidth("+t+");\n"},$t.a.JavaScript.custom_turtle_environment_fill=function(e){let t=$t.a.JavaScript.valueToCode(e,"COLOUR",$t.a.JavaScript.ORDER_NONE)||"\"#000000\"",o=$t.a.JavaScript.statementToCode(e,"DO"),i=Zl.b+"."+Gd+".prepareFill("+t+");\n{\n"+o+"}\n";return $t.a.JavaScript.STATEMENT_PREFIX&&(i+=$t.a.JavaScript.injectId($t.a.JavaScript.STATEMENT_PREFIX,e)),i+Zl.b+"."+Gd+".finishFill();\n"},$t.a.JavaScript.custom_turtle_environment_draw_shape=function(e){let t=$t.a.JavaScript.valueToCode(e,"COLOUR",$t.a.JavaScript.ORDER_COMMA)||"\"#000000\"",o=$t.a.JavaScript.valueToCode(e,"WIDTH",$t.a.JavaScript.ORDER_COMMA)||"0",i=$t.a.JavaScript.valueToCode(e,"HEIGHT",$t.a.JavaScript.ORDER_COMMA)||"0";return Zl.b+"."+Gd+"."+e.getFieldValue("SHAPE")+"("+t+", "+o+", "+i+");\n"},$t.a.JavaScript.custom_turtle_environment_draw_text=function(e){let t=$t.a.JavaScript.valueToCode(e,"TEXT",$t.a.JavaScript.ORDER_COMMA)||"",o=$t.a.JavaScript.valueToCode(e,"COLOUR",$t.a.JavaScript.ORDER_COMMA)||"\"#000000\"",i=$t.a.JavaScript.valueToCode(e,"FONT_SIZE",$t.a.JavaScript.ORDER_COMMA)||"20",r=$t.a.JavaScript.valueToCode(e,"STROKE_THICKNESS",$t.a.JavaScript.ORDER_COMMA)||"0",n=$t.a.JavaScript.valueToCode(e,"STROKE_COLOUR",$t.a.JavaScript.ORDER_COMMA)||"\"#ffffff\"",a=$t.a.JavaScript.valueToCode(e,"SCALE_X",$t.a.JavaScript.ORDER_COMMA)||"1",s=$t.a.JavaScript.valueToCode(e,"SCALE_Y",$t.a.JavaScript.ORDER_COMMA)||"1";return Zl.b+"."+Gd+".drawText("+t+", "+o+", "+i+", "+r+", "+n+", "+a+", "+s+");\n"},$t.a.JavaScript.custom_turtle_environment_draw_image=function(e){let t=$t.a.JavaScript.quote_(e.getFieldValue("BLOB_URL")),o=$t.a.JavaScript.valueToCode(e,"SCALE_X",$t.a.JavaScript.ORDER_COMMA)||"1",i=$t.a.JavaScript.valueToCode(e,"SCALE_Y",$t.a.JavaScript.ORDER_COMMA)||"1",r=$t.a.JavaScript.valueToCode(e,"OPACITY",$t.a.JavaScript.ORDER_COMMA)||"1";return Zl.b+"."+Gd+".drawImage("+t+", "+o+", "+i+", "+r+");\n"},$t.a.JavaScript.custom_turtle_environment_get_mouse_coordinate=function(e){return[Zl.b+"."+Gd+".getMouseCoordinate(\""+e.getFieldValue("AXIS")+"\", \""+e.getFieldValue("SITUATION")+"\")",$t.a.JavaScript.ORDER_MEMBER]},$t.a.JavaScript.custom_turtle_environment_is_mouse_key_down=function(e){let t=$t.a.JavaScript.valueToCode(e,"SECONDS",$t.a.JavaScript.ORDER_COMMA)||"0";return[Zl.b+"."+Gd+".isMouseKeyDown(\""+e.getFieldValue("BUTTON")+"\", "+t+")",$t.a.JavaScript.ORDER_MEMBER]},$t.a.JavaScript.custom_turtle_environment_clear_canvas=function(){return Zl.b+"."+Gd+".clearCanvas();\n"},Zl.d(Gd,function(e,t){let o=e.createNativeFunction(function(e){if(qd.draw){var t=new Ka;t.lineStyle(qd.width,qd.color).moveTo(Ct(qd.x),kt(qd.y))}qd.x+=Ut(Lt(qd.angle))*e,qd.y+=Ht(Lt(qd.angle))*e,Qd.recordNewPosition(qd.x,qd.y),qd.annimate(),qd.draw&&(t.lineTo(Ct(qd.x),kt(qd.y)),Kd.addChild(t),Dt())});e.setProperty(t,"moveForward",o),o=e.createNativeFunction(function(e){if(qd.draw){var t=new Ka;t.lineStyle(qd.width,qd.color).moveTo(Ct(qd.x),kt(qd.y))}qd.x-=Ut(Lt(qd.angle))*e,qd.y-=Ht(Lt(qd.angle))*e,Qd.recordNewPosition(qd.x,qd.y),qd.annimate(),qd.draw&&(t.lineTo(Ct(qd.x),kt(qd.y)),Kd.addChild(t),Dt())}),e.setProperty(t,"moveBackward",o),o=e.createNativeFunction(function(e,t){if(qd.draw){var o=new Ka;o.lineStyle(qd.width,qd.color).moveTo(Ct(qd.x),kt(qd.y))}qd.x=e,qd.y=t,Qd.recordNewPosition(qd.x,qd.y),qd.annimate(),qd.draw&&(o.lineTo(Ct(qd.x),kt(qd.y)),Kd.addChild(o),Dt())}),e.setProperty(t,"moveToCoordinate",o),o=e.createNativeFunction(function(){return qd.x}),e.setProperty(t,"getCoordinateX",o),o=e.createNativeFunction(function(){return qd.y}),e.setProperty(t,"getCoordinateY",o),o=e.createNativeFunction(function(e){qd.angle+=e,qd.annimate()}),e.setProperty(t,"turnLeft",o),o=e.createNativeFunction(function(e){qd.angle-=e,qd.annimate()}),e.setProperty(t,"turnRight",o),o=e.createNativeFunction(function(e){qd.angle=e,qd.annimate()}),e.setProperty(t,"turnToAngle",o),o=e.createNativeFunction(function(){return $l.b(qd.angle)}),e.setProperty(t,"getAngle",o),o=e.createNativeFunction(function(){qd.draw=!1}),e.setProperty(t,"penUp",o),o=e.createNativeFunction(function(){qd.draw=!0}),e.setProperty(t,"penDown",o),o=e.createNativeFunction(function(){qd.sprite.visible=!0}),e.setProperty(t,"show",o),o=e.createNativeFunction(function(){qd.sprite.visible=!1}),e.setProperty(t,"hide",o),o=e.createNativeFunction(function(e){$l.d(e),qd.color=$l.a(e),qd.annimate()}),e.setProperty(t,"setPenColor",o),o=e.createNativeFunction(function(e){qd.width=e,qd.annimate()}),e.setProperty(t,"setPenWidth",o),o=e.createNativeFunction(function(e){$l.d(e),Qd.prepareFill(qd.x,qd.y,$l.a(e))}),e.setProperty(t,"prepareFill",o),o=e.createNativeFunction(function(){Qd.finishFill(),Dt()}),e.setProperty(t,"finishFill",o),o=e.createNativeFunction(function(e,t,o){$l.d(e);let i=new Ka;i.beginFill($l.a(e)),i.drawEllipse(0,0,.5*t,.5*o),i.endFill(),i.x=qd.sprite.x,i.y=qd.sprite.y,i.angle=qd.sprite.angle,Kd.addChild(i),Dt()}),e.setProperty(t,"drawEllipse",o),o=e.createNativeFunction(function(e,t,o){$l.d(e);let i=new Ka;i.beginFill($l.a(e)),i.drawRect(.5*-t,.5*-o,t,o),i.endFill(),i.x=qd.sprite.x,i.y=qd.sprite.y,i.angle=qd.sprite.angle,Kd.addChild(i),Dt()}),e.setProperty(t,"drawRectangle",o),o=e.createNativeFunction(function(e,t,o,i,r,n,a){$l.d(t),$l.d(r);let s=new ds(e,{fill:$l.a(t),fontSize:o,lineJoin:"round",stroke:r,strokeThickness:i});s.x=qd.sprite.x,s.y=qd.sprite.y,s.angle=qd.sprite.angle,s.anchor.set(.5),s.scale.x=n,s.scale.y=a,Kd.addChild(s),Dt()}),e.setProperty(t,"drawText",o),o=e.createNativeFunction(function(e,t,o,i){if(e){let r=or.from(e),n=new br(r),a=new $a(n);a.x=qd.sprite.x,a.y=qd.sprite.y,a.angle=qd.sprite.angle,a.anchor.set(.5),a.scale.x=t,a.scale.y=o,a.alpha=i,Kd.addChild(a),Dt()}}),e.setProperty(t,"drawImage",o),o=e.createNativeFunction(function(e,t){if("CURRENT"==t||"LAST_LEFT_DOWN"==t&&oc.leftButton.down||"LAST_RIGHT_DOWN"==t&&oc.rightButton.down){if("X"==e)return oc.x;if("Y"==e)return oc.y}else if("LAST_LEFT_DOWN"==t){if("X"==e)return oc.leftButton.lastDownX;if("Y"==e)return oc.leftButton.lastDownY}else if("LAST_RIGHT_DOWN"==t){if("X"==e)return oc.rightButton.lastDownX;if("Y"==e)return oc.rightButton.lastDownY}throw"Invalid argument for getMouseCoordinate()"}),e.setProperty(t,"getMouseCoordinate",o),o=e.createNativeFunction(function(e,t){let o;if("LEFT"==e)o=oc.leftButton;else if(e="RIGHT")o=oc.rightButton;else throw"Invalid argument for isMouseKeyDown()";return!!o.down||o.lastDownTime+1e3*t>new Date().getTime()}),e.setProperty(t,"isMouseKeyDown",o),o=e.createNativeFunction(function(){Kd.removeChildren()}),e.setProperty(t,"clearCanvas",o)});var Vd=document.getElementById("blocklyOutput");Vd.innerHTML=Zt.a;var zd=new Fd(document.getElementById("contextMenu"));zd.setFixedPosition(!0),zd.listen("MDCMenu:selected",async function(t){if(Kd)try{let e=t.detail.index,o=0==e?1:5,i=Er.create({width:jd*o,height:jd*o});Kd.scale.x=o,Kd.scale.y=o,$d.renderer.render(Kd,i),Kd.scale.x=1,Kd.scale.y=1;let r=$d.renderer.plugins.extract.base64(i),n=await(await fetch(r)).blob();Td.saveAs(n,Jt.d+"[\u622A\u56FE].png")}catch(t){console.log(t),alert("\u622A\u56FE\u5931\u8D25\uFF01")}}),Vd.addEventListener("contextmenu",(t)=>{t.preventDefault(),Jt.c||(zd.open&&(zd.open=!1),zd.setAbsolutePosition(t.clientX,t.clientY),zd.open=!0)});var Wd=document.getElementById("pixiOutput"),Xd=document.getElementById("pixiContainer"),Yd=document.getElementById("pixiCanvas"),jd=400,Jd,Kd,qd,Zd,Qd;xt();var $d=new Kn({width:It()-2,height:It()-2,transparent:!1,resizeTo:Xd,backgroundColor:16777215,resolution:1,antialias:!0});Xd.appendChild($d.view),$d.stage.interactive=!0,$d.stage.hitArea=new pi(0,0,jd,jd),$d.stage.scale.x=Jd,$d.stage.scale.y=Jd;class ec{constructor(e,t){this.sprite=new $a(e),this.originalScale=1e-4*jd,this.sprite.scale.x=this.originalScale,this.sprite.scale.y=this.originalScale,this.color=0,this.draw=!0,this.width=1,this.sprite.anchor.set(.5),this.x=0,this.y=0,this.angle=90,this.annimate(),t.addChild(this.sprite)}annimate(){var e=Math.exp;this.sprite.filters=[new Ql(0,this.color)],this.sprite.scale.x=this.originalScale*(2-e(-.2*this.width)),this.sprite.scale.y=this.originalScale*(2-e(-.2*this.width)),this.sprite.x=Ct(this.x),this.sprite.y=kt(this.y),this.sprite.angle=90-this.angle}}class tc{constructor(){}recordNewPosition(e,t){this.container&&this.coordinates.push({x:e,y:t})}prepareFill(e,t,o){if(this.container)throw"\u5B8C\u6210\u4E0A\u4E00\u6B21\u586B\u5145\u540E\uFF0C\u624D\u53EF\u8FDB\u884C\u65B0\u7684\u586B\u5145\uFF01";this.container=new Li,Kd.addChild(this.container),this.coordinates=[{x:e,y:t}],this.color=o}finishFill(){if(!this.container)throw"\u5148\u51C6\u5907\u586B\u5145\uFF01";let e=new Ka;e.beginFill(this.color),e.moveTo(Ct(this.coordinates[0].x),kt(this.coordinates[0].y));for(let t=1;t<this.coordinates.length;++t)e.lineTo(Ct(this.coordinates[t].x),kt(this.coordinates[t].y));e.endFill(),this.container.addChild(e),this.container=null}}var oc={x:0,y:0,leftButton:{down:!1,lastDownTime:0,lastDownX:0,lastDownY:0},rightButton:{down:!1,lastDownTime:0,lastDownX:0,lastDownY:0}}},,,function(e,t,o){(function(e){function i(e,t){this._id=e,this._clearFn=t}var r="undefined"!=typeof e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;t.setTimeout=function(){return new i(n.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(131),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(13))},function(e,t,o){(function(e,t){(function(e){"use strict";function o(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var i={callback:e,args:t};return _[u]=i,T(u),u++}function i(e){delete _[e]}function r(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(void 0,o);}}function n(e){if(g)setTimeout(n,0,e);else{var t=_[e];if(t){g=!0;try{r(t)}finally{i(e),g=!1}}}}function a(){T=function(e){t.nextTick(function(){n(e)})}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}function l(){var t="setImmediate$"+Math.random()+"$",o=function(o){o.source===e&&"string"==typeof o.data&&0===o.data.indexOf(t)&&n(+o.data.slice(t.length))};e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),T=function(o){e.postMessage(t+o,"*")}}function d(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;n(t)},T=function(t){e.port2.postMessage(t)}}function c(){var e=m.documentElement;T=function(t){var o=m.createElement("script");o.onreadystatechange=function(){n(t),o.onreadystatechange=null,e.removeChild(o),o=null},e.appendChild(o)}}function p(){T=function(e){setTimeout(n,0,e)}}if(!e.setImmediate){var u=1,_={},g=!1,m=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e),T;h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?a():s()?l():e.MessageChannel?d():m&&"onreadystatechange"in m.createElement("script")?c():p(),h.setImmediate=o,h.clearImmediate=i}})("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(this,o(13),o(22))},function(e,t,o){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(n){function a(e){throw new RangeError(L[e])}function s(e,t){for(var o=e.length,i=[];o--;)i[o]=t(e[o]);return i}function l(e,t){var o=e.split("@"),i="";1<o.length&&(i=o[0]+"@",e=o[1]),e=e.replace(N,".");var r=e.split("."),n=s(r,t).join(".");return i+n}function d(e){for(var t=[],o=0,i=e.length,r,n;o<i;)r=e.charCodeAt(o++),55296<=r&&56319>=r&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?t.push(((1023&r)<<10)+(1023&n)+65536):(t.push(r),o--)):t.push(r);return t}function c(e){return s(e,function(e){var t="";return 65535<e&&(e-=65536,t+=P(55296|1023&e>>>10),e=56320|1023&e),t+=P(e),t}).join("")}function p(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:y}function u(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function _(e,t,o){var i=0;for(e=o?M(e/I):e>>1,e+=M(e/t);e>D*S>>1;i+=y)e=M(e/D);return M(i+(D+1)*e/(e+R))}function g(e){var o=[],r=e.length,s=0,i=C,n=x,l,d,u,g,m,h,T,b,R,t;for(d=e.lastIndexOf(O),0>d&&(d=0),u=0;u<d;++u)128<=e.charCodeAt(u)&&a("not-basic"),o.push(e.charCodeAt(u));for(g=0<d?d+1:0;g<r;){for(m=s,h=1,T=y;;T+=y){if(g>=r&&a("invalid-input"),b=p(e.charCodeAt(g++)),(b>=y||b>M((E-s)/h))&&a("overflow"),s+=b*h,R=T<=n?v:T>=n+S?S:T-n,b<R)break;t=y-R,h>M(E/t)&&a("overflow"),h*=t}l=o.length+1,n=_(s-m,l,0==m),M(s/l)>E-i&&a("overflow"),i+=M(s/l),s%=l,o.splice(s++,0,i)}return c(o)}function m(e){var o=[],i,r,n,s,l,c,p,g,m,h,t,T,b,R,I;for(e=d(e),T=e.length,i=C,r=0,l=x,c=0;c<T;++c)t=e[c],128>t&&o.push(P(t));for(n=s=o.length,s&&o.push(O);n<T;){for(p=E,c=0;c<T;++c)t=e[c],t>=i&&t<p&&(p=t);for(b=n+1,p-i>M((E-r)/b)&&a("overflow"),r+=(p-i)*b,i=p,c=0;c<T;++c)if(t=e[c],t<i&&++r>E&&a("overflow"),t==i){for(g=r,m=y;;m+=y){if(h=m<=l?v:m>=l+S?S:m-l,g<h)break;I=g-h,R=y-h,o.push(P(u(h+I%R,0))),g=M(I/R)}o.push(P(u(g,0))),l=_(r,b,n==s),r=0,++n}++r,++i}return o.join("")}var h=t&&!t.nodeType&&t,T=e&&!e.nodeType&&e,b="object"==typeof i&&i;(b.global===b||b.window===b||b.self===b)&&(n=b);var E=2147483647,y=36,v=1,S=26,R=38,I=700,x=72,C=128,O="-",k=/^xn--/,A=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=y-v,M=Math.floor,P=String.fromCharCode,w;w={version:"1.4.1",ucs2:{decode:d,encode:c},decode:g,encode:m,toASCII:function(e){return l(e,function(e){return A.test(e)?"xn--"+m(e):e})},toUnicode:function(e){return l(e,function(e){return k.test(e)?g(e.slice(4).toLowerCase()):e})}},r=function(){return w}.call(t,o,t,e),!(r!==void 0&&(e.exports=r))})(this)}).call(this,o(133)(e),o(13))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,o){"use strict";t.decode=t.parse=o(136),t.encode=t.stringify=o(137)},function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var l=/\+/g;e=e.split(r);var d=1e3;a&&"number"==typeof a.maxKeys&&(d=a.maxKeys);var c=e.length;0<d&&c>d&&(c=d);for(var p=0;p<c;++p){var i=e[p].replace(l,"%20"),u=i.indexOf(n),_,g,m,h;0<=u?(_=i.substr(0,u),g=i.substr(u+1)):(_=i,g=""),m=decodeURIComponent(_),h=decodeURIComponent(g),t(s,m)?o(s[m])?s[m].push(h):s[m]=[s[m],h]:s[m]=h}return s};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var o=[],r=0;r<e.length;r++)o.push(t(e[r],r));return o}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return"";}};e.exports=function(e,n,a,s){return n=n||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?t(r(e),function(r){var s=encodeURIComponent(o(r))+a;return i(e[r])?t(e[r],function(e){return s+encodeURIComponent(o(e))}).join(n):s+encodeURIComponent(o(e[r]))}).join(n):s?encodeURIComponent(o(s))+a+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},function(e,t,o){var i=o(19),r=o(139);r=r.__esModule?r.default:r,"string"==typeof r&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1});e.exports=r.locals||{}},function(e,t,o){var i=o(20);t=i(!1),t.push([e.i,"#imageCollections {\n  display: inline-flex;\n  flex-wrap: wrap;\n}\n\n#imageCollections .container {\n  width: 82px;\n  height: 82px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  vertical-align: middle;\n  margin: 4px;\n  border: 1px solid;\n}\n\n#imageCollections .container img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n#imageCollections .removeButton {\n  background: grey;\n  margin-top: -84px;\n  margin-left: 60px;\n  margin-bottom: 57px;\n  display: block;\n  width: 24px;\n  cursor: pointer;\n  opacity: 0.8;\n}\n\n#imageCollections .sizeInfo {\n  margin-left: 6px;\n  margin-right: 6px;\n  margin-top: -24px;\n  margin-bottom: 6px;\n  min-width: 18px;\n  height: 18px;\n  text-align: center;\n  color: white;\n  background-color: grey;\n  opacity: 0.8;\n}\n\n#uploadImageButton {\n  cursor: pointer;\n}\n",""]),e.exports=t},function(e,t,o){var i=o(19),r=o(141);r=r.__esModule?r.default:r,"string"==typeof r&&(r=[[e.i,r,""]]);i(r,{insert:"head",singleton:!1});e.exports=r.locals||{}},function(e,t,o){var i=o(20);t=i(!1),t.push([e.i,"#pixiOutput{width:100%;height:100%}#pixiContainer{border:1px solid}#pixiCanvas{position:absolute;z-index:-1}#contextMenu .mdc-list-item{height:auto;font-size:14px}",""]),e.exports=t},,,,,,,,,,,,,,,,,,,,,,function(e,t,o){var i=o(129),r=o(184),n=i(r);e.exports="<h2 id=\u4EFB\u52A1\u76EE\u6807>\u4EFB\u52A1\u76EE\u6807</h2> <p>\u753B\u51FA\u4E0B\u9762\u7684\u623F\u5B50\u3002</p> <p><img src="+n+" alt=\"\"></p> <h2 id=\u6269\u5C55\u76EE\u6807>\u6269\u5C55\u76EE\u6807</h2> <p>\u53D1\u6325\u4F60\u7684\u60F3\u8C61\u529B\uFF0C\u8BA9\u623F\u5B50\u53D8\u5F97\u66F4\u597D\u770B\u4E00\u70B9\u5427\u3002</p> "},,,,,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.r(t),t["default"]=o.p+"images/file-loader-0c20135b2538045c5ef73655dbe531c6.png"},,,,,,,,,,,,,,,,,,function(e,t,o){"use strict";o.r(t);var i=o(127),r=o(163),n=o.n(r),a=document.getElementById("helpDialogContents");a.innerHTML=n.a,i.a({toolbox:"<xml xmlns=\"https://developers.google.com/blockly/xml\">\n  <block type=\"custom_turtle_environment_move\">\n    <value name=\"DISTANCE\">\n      <shadow type=\"math_number\">\n        <field name=\"NUM\">100</field>\n      </shadow>\n    </value>\n  </block>\n  <block type=\"custom_turtle_environment_turn\">\n    <value name=\"ANGLE\">\n      <shadow type=\"custom_angle\">\n        <field name=\"ANGLE\">90</field>\n      </shadow>\n    </value>\n  </block>\n  <block type=\"custom_turtle_environment_set_pen\">\n  </block>\n  <block type=\"controls_repeat_ext\">\n    <value name=\"TIMES\">\n      <shadow type=\"math_number\">\n        <field name=\"NUM\">10</field>\n      </shadow>\n    </value>\n  </block>\n</xml>\n",fetchSolution:async function(){return await o.e(21).then(o.t.bind(null,220,3))}})}]);